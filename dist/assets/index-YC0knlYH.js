const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-CWCG8ibw.js","assets/Dashboard-CuZN024b.css","assets/NotFound-D3WN9fIi.js","assets/NotFound-ByNZH_Dg.css","assets/JTH_form-BWsqKyDe.js","assets/JTH_form-UxBm5mUt.css","assets/JCD_creation_form-zrfztWxv.js","assets/JCD_creation_form-D68H92eM.css","assets/Component_meter_reinitializ-C-9UjBOz.js","assets/Component_meter_reinitializ-CzkhZk28.css","assets/DepartmentDesignation-dQrAU76v.js","assets/DepartmentDesignation-z1vpzlRj.css"])))=>i.map(i=>d[i]);
function _x(i,r){for(var d=0;d<r.length;d++){const o=r[d];if(typeof o!="string"&&!Array.isArray(o)){for(const f in o)if(f!=="default"&&!(f in i)){const h=Object.getOwnPropertyDescriptor(o,f);h&&Object.defineProperty(i,f,h.get?h:{enumerable:!0,get:()=>o[f]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))o(f);new MutationObserver(f=>{for(const h of f)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function d(f){const h={};return f.integrity&&(h.integrity=f.integrity),f.referrerPolicy&&(h.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?h.credentials="include":f.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(f){if(f.ep)return;f.ep=!0;const h=d(f);fetch(f.href,h)}})();function Gp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ju={exports:{}},mr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp;function xx(){if(fp)return mr;fp=1;var i=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function d(o,f,h){var p=null;if(h!==void 0&&(p=""+h),f.key!==void 0&&(p=""+f.key),"key"in f){h={};for(var y in f)y!=="key"&&(h[y]=f[y])}else h=f;return f=h.ref,{$$typeof:i,type:o,key:p,ref:f!==void 0?f:null,props:h}}return mr.Fragment=r,mr.jsx=d,mr.jsxs=d,mr}var hp;function yx(){return hp||(hp=1,ju.exports=xx()),ju.exports}var t=yx(),Su={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function vx(){if(mp)return vt;mp=1;var i=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),p=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.iterator;function k(j){return j===null||typeof j!="object"?null:(j=C&&j[C]||j["@@iterator"],typeof j=="function"?j:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,M={};function H(j,B,ae){this.props=j,this.context=B,this.refs=M,this.updater=ae||I}H.prototype.isReactComponent={},H.prototype.setState=function(j,B){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,B,"setState")},H.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function L(){}L.prototype=H.prototype;function $(j,B,ae){this.props=j,this.context=B,this.refs=M,this.updater=ae||I}var J=$.prototype=new L;J.constructor=$,w(J,H.prototype),J.isPureReactComponent=!0;var ne=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},Ce=Object.prototype.hasOwnProperty;function me(j,B,ae,U,ie,De){return ae=De.ref,{$$typeof:i,type:j,key:B,ref:ae!==void 0?ae:null,props:De}}function ue(j,B){return me(j.type,B,void 0,void 0,void 0,j.props)}function be(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function P(j){var B={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ae){return B[ae]})}var fe=/\/+/g;function He(j,B){return typeof j=="object"&&j!==null&&j.key!=null?P(""+j.key):B.toString(36)}function Le(){}function ye(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Le,Le):(j.status="pending",j.then(function(B){j.status==="pending"&&(j.status="fulfilled",j.value=B)},function(B){j.status==="pending"&&(j.status="rejected",j.reason=B)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function X(j,B,ae,U,ie){var De=typeof j;(De==="undefined"||De==="boolean")&&(j=null);var ee=!1;if(j===null)ee=!0;else switch(De){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(j.$$typeof){case i:case r:ee=!0;break;case b:return ee=j._init,X(ee(j._payload),B,ae,U,ie)}}if(ee)return ie=ie(j),ee=U===""?"."+He(j,0):U,ne(ie)?(ae="",ee!=null&&(ae=ee.replace(fe,"$&/")+"/"),X(ie,B,ae,"",function(Be){return Be})):ie!=null&&(be(ie)&&(ie=ue(ie,ae+(ie.key==null||j&&j.key===ie.key?"":(""+ie.key).replace(fe,"$&/")+"/")+ee)),B.push(ie)),1;ee=0;var oe=U===""?".":U+":";if(ne(j))for(var je=0;je<j.length;je++)U=j[je],De=oe+He(U,je),ee+=X(U,B,ae,De,ie);else if(je=k(j),typeof je=="function")for(j=je.call(j),je=0;!(U=j.next()).done;)U=U.value,De=oe+He(U,je++),ee+=X(U,B,ae,De,ie);else if(De==="object"){if(typeof j.then=="function")return X(ye(j),B,ae,U,ie);throw B=String(j),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ee}function T(j,B,ae){if(j==null)return j;var U=[],ie=0;return X(j,U,"","",function(De){return B.call(ae,De,ie++)}),U}function A(j){if(j._status===-1){var B=j._result;B=B(),B.then(function(ae){(j._status===0||j._status===-1)&&(j._status=1,j._result=ae)},function(ae){(j._status===0||j._status===-1)&&(j._status=2,j._result=ae)}),j._status===-1&&(j._status=0,j._result=B)}if(j._status===1)return j._result.default;throw j._result}var V=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function K(){}return vt.Children={map:T,forEach:function(j,B,ae){T(j,function(){B.apply(this,arguments)},ae)},count:function(j){var B=0;return T(j,function(){B++}),B},toArray:function(j){return T(j,function(B){return B})||[]},only:function(j){if(!be(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},vt.Component=H,vt.Fragment=d,vt.Profiler=f,vt.PureComponent=$,vt.StrictMode=o,vt.Suspense=x,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,vt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return te.H.useMemoCache(j)}},vt.cache=function(j){return function(){return j.apply(null,arguments)}},vt.cloneElement=function(j,B,ae){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var U=w({},j.props),ie=j.key,De=void 0;if(B!=null)for(ee in B.ref!==void 0&&(De=void 0),B.key!==void 0&&(ie=""+B.key),B)!Ce.call(B,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&B.ref===void 0||(U[ee]=B[ee]);var ee=arguments.length-2;if(ee===1)U.children=ae;else if(1<ee){for(var oe=Array(ee),je=0;je<ee;je++)oe[je]=arguments[je+2];U.children=oe}return me(j.type,ie,void 0,void 0,De,U)},vt.createContext=function(j){return j={$$typeof:p,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:h,_context:j},j},vt.createElement=function(j,B,ae){var U,ie={},De=null;if(B!=null)for(U in B.key!==void 0&&(De=""+B.key),B)Ce.call(B,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(ie[U]=B[U]);var ee=arguments.length-2;if(ee===1)ie.children=ae;else if(1<ee){for(var oe=Array(ee),je=0;je<ee;je++)oe[je]=arguments[je+2];ie.children=oe}if(j&&j.defaultProps)for(U in ee=j.defaultProps,ee)ie[U]===void 0&&(ie[U]=ee[U]);return me(j,De,void 0,void 0,null,ie)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(j){return{$$typeof:y,render:j}},vt.isValidElement=be,vt.lazy=function(j){return{$$typeof:b,_payload:{_status:-1,_result:j},_init:A}},vt.memo=function(j,B){return{$$typeof:_,type:j,compare:B===void 0?null:B}},vt.startTransition=function(j){var B=te.T,ae={};te.T=ae;try{var U=j(),ie=te.S;ie!==null&&ie(ae,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(K,V)}catch(De){V(De)}finally{te.T=B}},vt.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},vt.use=function(j){return te.H.use(j)},vt.useActionState=function(j,B,ae){return te.H.useActionState(j,B,ae)},vt.useCallback=function(j,B){return te.H.useCallback(j,B)},vt.useContext=function(j){return te.H.useContext(j)},vt.useDebugValue=function(){},vt.useDeferredValue=function(j,B){return te.H.useDeferredValue(j,B)},vt.useEffect=function(j,B,ae){var U=te.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return U.useEffect(j,B)},vt.useId=function(){return te.H.useId()},vt.useImperativeHandle=function(j,B,ae){return te.H.useImperativeHandle(j,B,ae)},vt.useInsertionEffect=function(j,B){return te.H.useInsertionEffect(j,B)},vt.useLayoutEffect=function(j,B){return te.H.useLayoutEffect(j,B)},vt.useMemo=function(j,B){return te.H.useMemo(j,B)},vt.useOptimistic=function(j,B){return te.H.useOptimistic(j,B)},vt.useReducer=function(j,B,ae){return te.H.useReducer(j,B,ae)},vt.useRef=function(j){return te.H.useRef(j)},vt.useState=function(j){return te.H.useState(j)},vt.useSyncExternalStore=function(j,B,ae){return te.H.useSyncExternalStore(j,B,ae)},vt.useTransition=function(){return te.H.useTransition()},vt.version="19.1.0",vt}var pp;function Fu(){return pp||(pp=1,Su.exports=vx()),Su.exports}var u=Fu();const Lt=Gp(u),Ej=_x({__proto__:null,default:Lt},[u]);var Nu={exports:{}},pr={},Cu={exports:{}},Du={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function bx(){return gp||(gp=1,function(i){function r(T,A){var V=T.length;T.push(A);e:for(;0<V;){var K=V-1>>>1,j=T[K];if(0<f(j,A))T[K]=A,T[V]=j,V=K;else break e}}function d(T){return T.length===0?null:T[0]}function o(T){if(T.length===0)return null;var A=T[0],V=T.pop();if(V!==A){T[0]=V;e:for(var K=0,j=T.length,B=j>>>1;K<B;){var ae=2*(K+1)-1,U=T[ae],ie=ae+1,De=T[ie];if(0>f(U,V))ie<j&&0>f(De,U)?(T[K]=De,T[ie]=V,K=ie):(T[K]=U,T[ae]=V,K=ae);else if(ie<j&&0>f(De,V))T[K]=De,T[ie]=V,K=ie;else break e}}return A}function f(T,A){var V=T.sortIndex-A.sortIndex;return V!==0?V:T.id-A.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var p=Date,y=p.now();i.unstable_now=function(){return p.now()-y}}var x=[],_=[],b=1,C=null,k=3,I=!1,w=!1,M=!1,H=!1,L=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ne(T){for(var A=d(_);A!==null;){if(A.callback===null)o(_);else if(A.startTime<=T)o(_),A.sortIndex=A.expirationTime,r(x,A);else break;A=d(_)}}function te(T){if(M=!1,ne(T),!w)if(d(x)!==null)w=!0,Ce||(Ce=!0,He());else{var A=d(_);A!==null&&X(te,A.startTime-T)}}var Ce=!1,me=-1,ue=5,be=-1;function P(){return H?!0:!(i.unstable_now()-be<ue)}function fe(){if(H=!1,Ce){var T=i.unstable_now();be=T;var A=!0;try{e:{w=!1,M&&(M=!1,$(me),me=-1),I=!0;var V=k;try{t:{for(ne(T),C=d(x);C!==null&&!(C.expirationTime>T&&P());){var K=C.callback;if(typeof K=="function"){C.callback=null,k=C.priorityLevel;var j=K(C.expirationTime<=T);if(T=i.unstable_now(),typeof j=="function"){C.callback=j,ne(T),A=!0;break t}C===d(x)&&o(x),ne(T)}else o(x);C=d(x)}if(C!==null)A=!0;else{var B=d(_);B!==null&&X(te,B.startTime-T),A=!1}}break e}finally{C=null,k=V,I=!1}A=void 0}}finally{A?He():Ce=!1}}}var He;if(typeof J=="function")He=function(){J(fe)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,ye=Le.port2;Le.port1.onmessage=fe,He=function(){ye.postMessage(null)}}else He=function(){L(fe,0)};function X(T,A){me=L(function(){T(i.unstable_now())},A)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(T){T.callback=null},i.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<T?Math.floor(1e3/T):5},i.unstable_getCurrentPriorityLevel=function(){return k},i.unstable_next=function(T){switch(k){case 1:case 2:case 3:var A=3;break;default:A=k}var V=k;k=A;try{return T()}finally{k=V}},i.unstable_requestPaint=function(){H=!0},i.unstable_runWithPriority=function(T,A){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var V=k;k=T;try{return A()}finally{k=V}},i.unstable_scheduleCallback=function(T,A,V){var K=i.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?K+V:K):V=K,T){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=V+j,T={id:b++,callback:A,priorityLevel:T,startTime:V,expirationTime:j,sortIndex:-1},V>K?(T.sortIndex=V,r(_,T),d(x)===null&&T===d(_)&&(M?($(me),me=-1):M=!0,X(te,V-K))):(T.sortIndex=j,r(x,T),w||I||(w=!0,Ce||(Ce=!0,He()))),T},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(T){var A=k;return function(){var V=k;k=A;try{return T.apply(this,arguments)}finally{k=V}}}}(Du)),Du}var _p;function jx(){return _p||(_p=1,Cu.exports=bx()),Cu.exports}var Au={exports:{}},$a={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function Sx(){if(xp)return $a;xp=1;var i=Fu();function r(x){var _="https://react.dev/errors/"+x;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+x+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var o={d:{f:d,r:function(){throw Error(r(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},f=Symbol.for("react.portal");function h(x,_,b){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:C==null?null:""+C,children:x,containerInfo:_,implementation:b}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(x,_){if(x==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return $a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,$a.createPortal=function(x,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(r(299));return h(x,_,null,b)},$a.flushSync=function(x){var _=p.T,b=o.p;try{if(p.T=null,o.p=2,x)return x()}finally{p.T=_,o.p=b,o.d.f()}},$a.preconnect=function(x,_){typeof x=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,o.d.C(x,_))},$a.prefetchDNS=function(x){typeof x=="string"&&o.d.D(x)},$a.preinit=function(x,_){if(typeof x=="string"&&_&&typeof _.as=="string"){var b=_.as,C=y(b,_.crossOrigin),k=typeof _.integrity=="string"?_.integrity:void 0,I=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?o.d.S(x,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:C,integrity:k,fetchPriority:I}):b==="script"&&o.d.X(x,{crossOrigin:C,integrity:k,fetchPriority:I,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},$a.preinitModule=function(x,_){if(typeof x=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=y(_.as,_.crossOrigin);o.d.M(x,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&o.d.M(x)},$a.preload=function(x,_){if(typeof x=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,C=y(b,_.crossOrigin);o.d.L(x,b,{crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},$a.preloadModule=function(x,_){if(typeof x=="string")if(_){var b=y(_.as,_.crossOrigin);o.d.m(x,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else o.d.m(x)},$a.requestFormReset=function(x){o.d.r(x)},$a.unstable_batchedUpdates=function(x,_){return x(_)},$a.useFormState=function(x,_,b){return p.H.useFormState(x,_,b)},$a.useFormStatus=function(){return p.H.useHostTransitionStatus()},$a.version="19.1.0",$a}var yp;function Nx(){if(yp)return Au.exports;yp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),Au.exports=Sx(),Au.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function Cx(){if(vp)return pr;vp=1;var i=jx(),r=Fu(),d=Nx();function o(e){var a="https://react.dev/errors/"+e;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)a+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var a=e,n=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(n=a.return),e=a.return;while(e)}return a.tag===3?n:null}function p(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(o(188))}function x(e){var a=e.alternate;if(!a){if(a=h(e),a===null)throw Error(o(188));return a!==e?null:e}for(var n=e,s=a;;){var l=n.return;if(l===null)break;var c=l.alternate;if(c===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===n)return y(l),e;if(c===s)return y(l),a;c=c.sibling}throw Error(o(188))}if(n.return!==s.return)n=l,s=c;else{for(var g=!1,v=l.child;v;){if(v===n){g=!0,n=l,s=c;break}if(v===s){g=!0,s=l,n=c;break}v=v.sibling}if(!g){for(v=c.child;v;){if(v===n){g=!0,n=c,s=l;break}if(v===s){g=!0,s=c,n=l;break}v=v.sibling}if(!g)throw Error(o(189))}}if(n.alternate!==s)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:a}function _(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e;for(e=e.child;e!==null;){if(a=_(e),a!==null)return a;e=e.sibling}return null}var b=Object.assign,C=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),be=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function He(e){return e===null||typeof e!="object"?null:(e=fe&&e[fe]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Symbol.for("react.client.reference");function ye(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Le?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case H:return"Profiler";case M:return"StrictMode";case te:return"Suspense";case Ce:return"SuspenseList";case be:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case I:return"Portal";case J:return(e.displayName||"Context")+".Provider";case $:return(e._context.displayName||"Context")+".Consumer";case ne:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case me:return a=e.displayName||null,a!==null?a:ye(e.type)||"Memo";case ue:a=e._payload,e=e._init;try{return ye(e(a))}catch{}}return null}var X=Array.isArray,T=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},K=[],j=-1;function B(e){return{current:e}}function ae(e){0>j||(e.current=K[j],K[j]=null,j--)}function U(e,a){j++,K[j]=e.current,e.current=a}var ie=B(null),De=B(null),ee=B(null),oe=B(null);function je(e,a){switch(U(ee,a),U(De,e),U(ie,null),a.nodeType){case 9:case 11:e=(e=a.documentElement)&&(e=e.namespaceURI)?Bm(e):0;break;default:if(e=a.tagName,a=a.namespaceURI)a=Bm(a),e=zm(a,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ae(ie),U(ie,e)}function Be(){ae(ie),ae(De),ae(ee)}function ct(e){e.memoizedState!==null&&U(oe,e);var a=ie.current,n=zm(a,e.type);a!==n&&(U(De,e),U(ie,n))}function We(e){De.current===e&&(ae(ie),ae(De)),oe.current===e&&(ae(oe),cr._currentValue=V)}var ke=Object.prototype.hasOwnProperty,Q=i.unstable_scheduleCallback,we=i.unstable_cancelCallback,Ze=i.unstable_shouldYield,it=i.unstable_requestPaint,kt=i.unstable_now,tt=i.unstable_getCurrentPriorityLevel,St=i.unstable_ImmediatePriority,Qt=i.unstable_UserBlockingPriority,oa=i.unstable_NormalPriority,cn=i.unstable_LowPriority,_t=i.unstable_IdlePriority,Me=i.log,Ga=i.unstable_setDisableYieldValue,$e=null,Mt=null;function pa(e){if(typeof Me=="function"&&Ga(e),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode($e,e)}catch{}}var Jt=Math.clz32?Math.clz32:qe,vn=Math.log,ga=Math.LN2;function qe(e){return e>>>=0,e===0?32:31-(vn(e)/ga|0)|0}var ve=256,nt=4194304;function he(e){var a=e&42;if(a!==0)return a;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Nt(e,a,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,c=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var v=s&134217727;return v!==0?(s=v&~c,s!==0?l=he(s):(g&=v,g!==0?l=he(g):n||(n=v&~e,n!==0&&(l=he(n))))):(v=s&~c,v!==0?l=he(v):g!==0?l=he(g):n||(n=s&~e,n!==0&&(l=he(n)))),l===0?0:a!==0&&a!==l&&(a&c)===0&&(c=l&-l,n=a&-a,c>=n||c===32&&(n&4194048)!==0)?a:l}function Na(e,a){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&a)===0}function Ot(e,a){switch(e){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _a(){var e=ve;return ve<<=1,(ve&4194048)===0&&(ve=256),e}function Ca(){var e=nt;return nt<<=1,(nt&62914560)===0&&(nt=4194304),e}function va(e){for(var a=[],n=0;31>n;n++)a.push(e);return a}function ca(e,a){e.pendingLanes|=a,a!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vn(e,a,n,s,l,c){var g=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,E=e.expirationTimes,G=e.hiddenUpdates;for(n=g&~n;0<n;){var de=31-Jt(n),xe=1<<de;v[de]=0,E[de]=-1;var Z=G[de];if(Z!==null)for(G[de]=null,de=0;de<Z.length;de++){var W=Z[de];W!==null&&(W.lane&=-536870913)}n&=~xe}s!==0&&Ya(e,s,0),c!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=c&~(g&~a))}function Ya(e,a,n){e.pendingLanes|=a,e.suspendedLanes&=~a;var s=31-Jt(a);e.entangledLanes|=a,e.entanglements[s]=e.entanglements[s]|1073741824|n&4194090}function dn(e,a){var n=e.entangledLanes|=a;for(e=e.entanglements;n;){var s=31-Jt(n),l=1<<s;l&a|e[s]&a&&(e[s]|=a),n&=~l}}function Ka(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Wa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function un(){var e=A.p;return e!==0?e:(e=window.event,e===void 0?32:lp(e.type))}function en(e,a){var n=A.p;try{return A.p=e,a()}finally{A.p=n}}var Da=Math.random().toString(36).slice(2),ia="__reactFiber$"+Da,la="__reactProps$"+Da,Rn="__reactContainer$"+Da,bn="__reactEvents$"+Da,ki="__reactListeners$"+Da,ni="__reactHandles$"+Da,Ln="__reactResources$"+Da,fn="__reactMarker$"+Da;function ht(e){delete e[ia],delete e[la],delete e[bn],delete e[ki],delete e[ni]}function Ra(e){var a=e[ia];if(a)return a;for(var n=e.parentNode;n;){if(a=n[Rn]||n[ia]){if(n=a.alternate,a.child!==null||n!==null&&n.child!==null)for(e=Fm(e);e!==null;){if(n=e[ia])return n;e=Fm(e)}return a}e=n,n=e.parentNode}return null}function Kt(e){if(e=e[ia]||e[Rn]){var a=e.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return e}return null}function da(e){var a=e.tag;if(a===5||a===26||a===27||a===6)return e.stateNode;throw Error(o(33))}function tn(e){var a=e[Ln];return a||(a=e[Ln]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Bt(e){e[fn]=!0}var Hn=new Set,is={};function ua(e,a){ba(e,a),ba(e+"Capture",a)}function ba(e,a){for(is[e]=a,e=0;e<a.length;e++)Hn.add(a[e])}var Gn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jn={},Et={};function si(e){return ke.call(Et,e)?!0:ke.call(jn,e)?!1:Gn.test(e)?Et[e]=!0:(jn[e]=!0,!1)}function On(e,a,n){if(si(a))if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(a);return;case"boolean":var s=a.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(a);return}}e.setAttribute(a,""+n)}}function hn(e,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttribute(a,""+n)}}function Aa(e,a,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(a,n,""+s)}}var Sn,In;function Ja(e){if(Sn===void 0)try{throw Error()}catch(n){var a=n.stack.trim().match(/\n( *(at )?)/);Sn=a&&a[1]||"",In=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sn+e+In}var ls=!1;function Ds(e,a){if(!e||ls)return"";ls=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(a){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(W){var Z=W}Reflect.construct(e,[],xe)}else{try{xe.call()}catch(W){Z=W}e.call(xe.prototype)}}else{try{throw Error()}catch(W){Z=W}(xe=e())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(W){if(W&&Z&&typeof W.stack=="string")return[W.stack,Z.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),g=c[0],v=c[1];if(g&&v){var E=g.split(`
`),G=v.split(`
`);for(l=s=0;s<E.length&&!E[s].includes("DetermineComponentFrameRoot");)s++;for(;l<G.length&&!G[l].includes("DetermineComponentFrameRoot");)l++;if(s===E.length||l===G.length)for(s=E.length-1,l=G.length-1;1<=s&&0<=l&&E[s]!==G[l];)l--;for(;1<=s&&0<=l;s--,l--)if(E[s]!==G[l]){if(s!==1||l!==1)do if(s--,l--,0>l||E[s]!==G[l]){var de=`
`+E[s].replace(" at new "," at ");return e.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",e.displayName)),de}while(1<=s&&0<=l);break}}}finally{ls=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ja(n):""}function Mi(e){switch(e.tag){case 26:case 27:case 5:return Ja(e.type);case 16:return Ja("Lazy");case 13:return Ja("Suspense");case 19:return Ja("SuspenseList");case 0:case 15:return Ds(e.type,!1);case 11:return Ds(e.type.render,!1);case 1:return Ds(e.type,!0);case 31:return Ja("Activity");default:return""}}function Yn(e){try{var a="";do a+=Mi(e),e=e.return;while(e);return a}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function N(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function re(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ne(e){var a=re(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,a),s=""+e[a];if(!e.hasOwnProperty(a)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,c=n.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return l.call(this)},set:function(g){s=""+g,c.call(this,g)}}),Object.defineProperty(e,a,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function Te(e){e._valueTracker||(e._valueTracker=Ne(e))}function Re(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var n=a.getValue(),s="";return e&&(s=re(e)?e.checked?"true":"false":e.value),e=s,e!==n?(a.setValue(e),!0):!1}function le(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Se=/[\n"\\]/g;function Oe(e){return e.replace(Se,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function pe(e,a,n,s,l,c,g,v){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),a!=null?g==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+N(a)):e.value!==""+N(a)&&(e.value=""+N(a)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),a!=null?rt(e,g,N(a)):n!=null?rt(e,g,N(n)):s!=null&&e.removeAttribute("value"),l==null&&c!=null&&(e.defaultChecked=!!c),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+N(v):e.removeAttribute("name")}function lt(e,a,n,s,l,c,g,v){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),a!=null||n!=null){if(!(c!=="submit"&&c!=="reset"||a!=null))return;n=n!=null?""+N(n):"",a=a!=null?""+N(a):n,v||a===e.value||(e.value=a),e.defaultValue=a}s=s??l,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=v?e.checked:!!s,e.defaultChecked=!!s,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function rt(e,a,n){a==="number"&&le(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,a,n,s){if(e=e.options,a){a={};for(var l=0;l<n.length;l++)a["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=a.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+N(n),a=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}a!==null||e[l].disabled||(a=e[l])}a!==null&&(a.selected=!0)}}function It(e,a,n){if(a!=null&&(a=""+N(a),a!==e.value&&(e.value=a),n==null)){e.defaultValue!==a&&(e.defaultValue=a);return}e.defaultValue=n!=null?""+N(n):""}function Ba(e,a,n,s){if(a==null){if(s!=null){if(n!=null)throw Error(o(92));if(X(s)){if(1<s.length)throw Error(o(93));s=s[0]}n=s}n==null&&(n=""),a=n}n=N(a),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s)}function Gt(e,a){if(a){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=a;return}}e.textContent=a}var aa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function st(e,a,n){var s=a.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="":s?e.setProperty(a,n):typeof n!="number"||n===0||aa.has(a)?a==="float"?e.cssFloat=n:e[a]=(""+n).trim():e[a]=n+"px"}function Xa(e,a,n){if(a!=null&&typeof a!="object")throw Error(o(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||a!=null&&a.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var l in a)s=a[l],a.hasOwnProperty(l)&&n[l]!==s&&st(e,l,s)}else for(var c in a)a.hasOwnProperty(c)&&st(e,c,a[c])}function Wt(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var La=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zn(e){return Xn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var S=null;function Y(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ae=null,z=null;function _e(e){var a=Kt(e);if(a&&(e=a.stateNode)){var n=e[la]||null;e:switch(e=a.stateNode,a.type){case"input":if(pe(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),a=n.name,n.type==="radio"&&a!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Oe(""+a)+'"][type="radio"]'),a=0;a<n.length;a++){var s=n[a];if(s!==e&&s.form===e.form){var l=s[la]||null;if(!l)throw Error(o(90));pe(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(a=0;a<n.length;a++)s=n[a],s.form===e.form&&Re(s)}break e;case"textarea":It(e,n.value,n.defaultValue);break e;case"select":a=n.value,a!=null&&xt(e,!!n.multiple,a,!1)}}}var Ee=!1;function Xe(e,a,n){if(Ee)return e(a,n);Ee=!0;try{var s=e(a);return s}finally{if(Ee=!1,(Ae!==null||z!==null)&&(So(),Ae&&(a=Ae,e=z,z=Ae=null,_e(a),e)))for(a=0;a<e.length;a++)_e(e[a])}}function Fe(e,a){var n=e.stateNode;if(n===null)return null;var s=n[la]||null;if(s===null)return null;n=s[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,a,typeof n));return n}var ze=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mt=!1;if(ze)try{var pt={};Object.defineProperty(pt,"passive",{get:function(){mt=!0}}),window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch{mt=!1}var Qe=null,Tt=null,za=null;function rs(){if(za)return za;var e,a=Tt,n=a.length,s,l="value"in Qe?Qe.value:Qe.textContent,c=l.length;for(e=0;e<n&&a[e]===l[e];e++);var g=n-e;for(s=1;s<=g&&a[n-s]===l[c-s];s++);return za=l.slice(e,1<s?1-s:void 0)}function Ge(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function Yt(){return!0}function Nn(){return!1}function fa(e){function a(n,s,l,c,g){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=c,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Yt:Nn,this.isPropagationStopped=Nn,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),a}var qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},As=fa(qa),os=b({},qa,{view:0,detail:0}),bc=fa(os),bl,Tr,ii,jl=b({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ii&&(ii&&e.type==="mousemove"?(bl=e.screenX-ii.screenX,Tr=e.screenY-ii.screenY):Tr=bl=0,ii=e),bl)},movementY:function(e){return"movementY"in e?e.movementY:Tr}}),kr=fa(jl),cf=b({},jl,{dataTransfer:0}),df=fa(cf),uf=b({},os,{relatedTarget:0}),Mr=fa(uf),jc=b({},qa,{animationName:0,elapsedTime:0,pseudoElement:0}),et=fa(jc),Ri=b({},qa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bt=fa(Ri),Ha=b({},qa,{data:0}),Rr=fa(Ha),Sc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dc(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=Cc[e])?!!a[e]:!1}function Sl(){return Dc}var Ac=b({},os,{key:function(e){if(e.key){var a=Sc[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=Ge(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sl,charCode:function(e){return e.type==="keypress"?Ge(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ge(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ws=fa(Ac),wc=b({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lr=fa(wc),Ec=b({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sl}),Tc=fa(Ec),Li=b({},qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hr=fa(Li),kc=b({},jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mc=fa(kc),Hi=b({},qa,{newState:0,oldState:0}),Oi=fa(Hi),Nl=[9,13,27,32],Ii=ze&&"CompositionEvent"in window,li=null;ze&&"documentMode"in document&&(li=document.documentMode);var Or=ze&&"TextEvent"in window&&!li,Ir=ze&&(!Ii||li&&8<li&&11>=li),Ur=" ",Cl=!1;function Dl(e,a){switch(e){case"keyup":return Nl.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Al(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Es=!1;function Ui(e,a){switch(e){case"compositionend":return Al(a);case"keypress":return a.which!==32?null:(Cl=!0,Ur);case"textInput":return e=a.data,e===Ur&&Cl?null:e;default:return null}}function Rc(e,a){if(Es)return e==="compositionend"||!Ii&&Dl(e,a)?(e=rs(),za=Tt=Qe=null,Es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ir&&a.locale!=="ko"?null:a.data;default:return null}}var Lc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wl(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!Lc[e.type]:a==="textarea"}function Jr(e,a,n,s){Ae?z?z.push(s):z=[s]:Ae=s,a=Eo(a,"onChange"),0<a.length&&(n=new As("onChange","change",null,n,s),e.push({event:n,listeners:a}))}var Ts=null,an=null;function Br(e){Hm(e,0)}function ri(e){var a=da(e);if(Re(a))return e}function El(e,a){if(e==="change")return a}var Ji=!1;if(ze){var Bi;if(ze){var Tl="oninput"in document;if(!Tl){var oi=document.createElement("div");oi.setAttribute("oninput","return;"),Tl=typeof oi.oninput=="function"}Bi=Tl}else Bi=!1;Ji=Bi&&(!document.documentMode||9<document.documentMode)}function ci(){Ts&&(Ts.detachEvent("onpropertychange",zr),an=Ts=null)}function zr(e){if(e.propertyName==="value"&&ri(an)){var a=[];Jr(a,an,e,Y(e)),Xe(Br,a)}}function Hc(e,a,n){e==="focusin"?(ci(),Ts=a,an=n,Ts.attachEvent("onpropertychange",zr)):e==="focusout"&&ci()}function qr(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ri(an)}function Oc(e,a){if(e==="click")return ri(a)}function m(e,a){if(e==="input"||e==="change")return ri(a)}function R(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var D=typeof Object.is=="function"?Object.is:R;function ce(e,a){if(D(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var n=Object.keys(e),s=Object.keys(a);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!ke.call(a,l)||!D(e[l],a[l]))return!1}return!0}function Ie(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ve(e,a){var n=Ie(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=a&&s>=a)return{node:n,offset:a-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ie(n)}}function Ue(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?Ue(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function ft(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var a=le(e.document);a instanceof e.HTMLIFrameElement;){try{var n=typeof a.contentWindow.location.href=="string"}catch{n=!1}if(n)e=a.contentWindow;else break;a=le(e.document)}return a}function Pe(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}var zt=ze&&"documentMode"in document&&11>=document.documentMode,yt=null,Xt=null,Cn=null,jt=!1;function Pr(e,a,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jt||yt==null||yt!==le(s)||(s=yt,"selectionStart"in s&&Pe(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Cn&&ce(Cn,s)||(Cn=s,s=Eo(Xt,"onSelect"),0<s.length&&(a=new As("onSelect","select",null,a,n),e.push({event:a,listeners:s}),a.target=yt)))}function ks(e,a){var n={};return n[e.toLowerCase()]=a.toLowerCase(),n["Webkit"+e]="webkit"+a,n["Moz"+e]="moz"+a,n}var Ms={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Ic={},ff={};ze&&(ff=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function di(e){if(Ic[e])return Ic[e];if(!Ms[e])return e;var a=Ms[e],n;for(n in a)if(a.hasOwnProperty(n)&&n in ff)return Ic[e]=a[n];return e}var hf=di("animationend"),mf=di("animationiteration"),pf=di("animationstart"),Wg=di("transitionrun"),e_=di("transitionstart"),t_=di("transitioncancel"),gf=di("transitionend"),_f=new Map,Uc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uc.push("scrollEnd");function Un(e,a){_f.set(e,a),ua(a,[e])}var xf=new WeakMap;function Dn(e,a){if(typeof e=="object"&&e!==null){var n=xf.get(e);return n!==void 0?n:(a={value:e,source:a,stack:Yn(a)},xf.set(e,a),a)}return{value:e,source:a,stack:Yn(a)}}var An=[],zi=0,Jc=0;function $r(){for(var e=zi,a=Jc=zi=0;a<e;){var n=An[a];An[a++]=null;var s=An[a];An[a++]=null;var l=An[a];An[a++]=null;var c=An[a];if(An[a++]=null,s!==null&&l!==null){var g=s.pending;g===null?l.next=l:(l.next=g.next,g.next=l),s.pending=l}c!==0&&yf(n,l,c)}}function Fr(e,a,n,s){An[zi++]=e,An[zi++]=a,An[zi++]=n,An[zi++]=s,Jc|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Bc(e,a,n,s){return Fr(e,a,n,s),Vr(e)}function qi(e,a){return Fr(e,null,null,a),Vr(e)}function yf(e,a,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var l=!1,c=e.return;c!==null;)c.childLanes|=n,s=c.alternate,s!==null&&(s.childLanes|=n),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(l=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,l&&a!==null&&(l=31-Jt(n),e=c.hiddenUpdates,s=e[l],s===null?e[l]=[a]:s.push(a),a.lane=n|536870912),c):null}function Vr(e){if(50<tr)throw tr=0,Vd=null,Error(o(185));for(var a=e.return;a!==null;)e=a,a=e.return;return e.tag===3?e.stateNode:null}var Pi={};function a_(e,a,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,a,n,s){return new a_(e,a,n,s)}function zc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cs(e,a){var n=e.alternate;return n===null?(n=mn(e.tag,a,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=a,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,a=e.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function vf(e,a){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=a,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,a=n.dependencies,e.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),e}function Gr(e,a,n,s,l,c){var g=0;if(s=e,typeof e=="function")zc(e)&&(g=1);else if(typeof e=="string")g=sx(e,n,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case be:return e=mn(31,n,a,l),e.elementType=be,e.lanes=c,e;case w:return ui(n.children,l,c,a);case M:g=8,l|=24;break;case H:return e=mn(12,n,a,l|2),e.elementType=H,e.lanes=c,e;case te:return e=mn(13,n,a,l),e.elementType=te,e.lanes=c,e;case Ce:return e=mn(19,n,a,l),e.elementType=Ce,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:case J:g=10;break e;case $:g=9;break e;case ne:g=11;break e;case me:g=14;break e;case ue:g=16,s=null;break e}g=29,n=Error(o(130,e===null?"null":typeof e,"")),s=null}return a=mn(g,n,a,l),a.elementType=e,a.type=s,a.lanes=c,a}function ui(e,a,n,s){return e=mn(7,e,s,a),e.lanes=n,e}function qc(e,a,n){return e=mn(6,e,null,a),e.lanes=n,e}function Pc(e,a,n){return a=mn(4,e.children!==null?e.children:[],e.key,a),a.lanes=n,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}var $i=[],Fi=0,Yr=null,Xr=0,wn=[],En=0,fi=null,ds=1,us="";function hi(e,a){$i[Fi++]=Xr,$i[Fi++]=Yr,Yr=e,Xr=a}function bf(e,a,n){wn[En++]=ds,wn[En++]=us,wn[En++]=fi,fi=e;var s=ds;e=us;var l=32-Jt(s)-1;s&=~(1<<l),n+=1;var c=32-Jt(a)+l;if(30<c){var g=l-l%5;c=(s&(1<<g)-1).toString(32),s>>=g,l-=g,ds=1<<32-Jt(a)+l|n<<l|s,us=c+e}else ds=1<<c|n<<l|s,us=e}function $c(e){e.return!==null&&(hi(e,1),bf(e,1,0))}function Fc(e){for(;e===Yr;)Yr=$i[--Fi],$i[Fi]=null,Xr=$i[--Fi],$i[Fi]=null;for(;e===fi;)fi=wn[--En],wn[En]=null,us=wn[--En],wn[En]=null,ds=wn[--En],wn[En]=null}var Za=null,ha=null,Ut=!1,mi=null,Qn=!1,Vc=Error(o(519));function pi(e){var a=Error(o(418,""));throw Rl(Dn(a,e)),Vc}function jf(e){var a=e.stateNode,n=e.type,s=e.memoizedProps;switch(a[ia]=e,a[la]=s,n){case"dialog":wt("cancel",a),wt("close",a);break;case"iframe":case"object":case"embed":wt("load",a);break;case"video":case"audio":for(n=0;n<nr.length;n++)wt(nr[n],a);break;case"source":wt("error",a);break;case"img":case"image":case"link":wt("error",a),wt("load",a);break;case"details":wt("toggle",a);break;case"input":wt("invalid",a),lt(a,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Te(a);break;case"select":wt("invalid",a);break;case"textarea":wt("invalid",a),Ba(a,s.value,s.defaultValue,s.children),Te(a)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||a.textContent===""+n||s.suppressHydrationWarning===!0||Jm(a.textContent,n)?(s.popover!=null&&(wt("beforetoggle",a),wt("toggle",a)),s.onScroll!=null&&wt("scroll",a),s.onScrollEnd!=null&&wt("scrollend",a),s.onClick!=null&&(a.onclick=To),a=!0):a=!1,a||pi(e)}function Sf(e){for(Za=e.return;Za;)switch(Za.tag){case 5:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Za=Za.return}}function kl(e){if(e!==Za)return!1;if(!Ut)return Sf(e),Ut=!0,!1;var a=e.tag,n;if((n=a!==3&&a!==27)&&((n=a===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||ou(e.type,e.memoizedProps)),n=!n),n&&ha&&pi(e),Sf(e),a===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,a=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(a===0){ha=Bn(e.nextSibling);break e}a--}else n!=="$"&&n!=="$!"&&n!=="$?"||a++;e=e.nextSibling}ha=null}}else a===27?(a=ha,Ys(e.type)?(e=fu,fu=null,ha=e):ha=a):ha=Za?Bn(e.stateNode.nextSibling):null;return!0}function Ml(){ha=Za=null,Ut=!1}function Nf(){var e=mi;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),mi=null),e}function Rl(e){mi===null?mi=[e]:mi.push(e)}var Gc=B(null),gi=null,fs=null;function Rs(e,a,n){U(Gc,a._currentValue),a._currentValue=n}function hs(e){e._currentValue=Gc.current,ae(Gc)}function Yc(e,a,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,s!==null&&(s.childLanes|=a)):s!==null&&(s.childLanes&a)!==a&&(s.childLanes|=a),e===n)break;e=e.return}}function Xc(e,a,n,s){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var c=l.dependencies;if(c!==null){var g=l.child;c=c.firstContext;e:for(;c!==null;){var v=c;c=l;for(var E=0;E<a.length;E++)if(v.context===a[E]){c.lanes|=n,v=c.alternate,v!==null&&(v.lanes|=n),Yc(c.return,n,e),s||(g=null);break e}c=v.next}}else if(l.tag===18){if(g=l.return,g===null)throw Error(o(341));g.lanes|=n,c=g.alternate,c!==null&&(c.lanes|=n),Yc(g,n,e),g=null}else g=l.child;if(g!==null)g.return=l;else for(g=l;g!==null;){if(g===e){g=null;break}if(l=g.sibling,l!==null){l.return=g.return,g=l;break}g=g.return}l=g}}function Ll(e,a,n,s){e=null;for(var l=a,c=!1;l!==null;){if(!c){if((l.flags&524288)!==0)c=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var g=l.alternate;if(g===null)throw Error(o(387));if(g=g.memoizedProps,g!==null){var v=l.type;D(l.pendingProps.value,g.value)||(e!==null?e.push(v):e=[v])}}else if(l===oe.current){if(g=l.alternate,g===null)throw Error(o(387));g.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(cr):e=[cr])}l=l.return}e!==null&&Xc(a,e,n,s),a.flags|=262144}function Zr(e){for(e=e.firstContext;e!==null;){if(!D(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _i(e){gi=e,fs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pa(e){return Cf(gi,e)}function Qr(e,a){return gi===null&&_i(e),Cf(e,a)}function Cf(e,a){var n=a._currentValue;if(a={context:a,memoizedValue:n,next:null},fs===null){if(e===null)throw Error(o(308));fs=a,e.dependencies={lanes:0,firstContext:a},e.flags|=524288}else fs=fs.next=a;return n}var n_=typeof AbortController<"u"?AbortController:function(){var e=[],a=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){a.aborted=!0,e.forEach(function(n){return n()})}},s_=i.unstable_scheduleCallback,i_=i.unstable_NormalPriority,wa={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zc(){return{controller:new n_,data:new Map,refCount:0}}function Hl(e){e.refCount--,e.refCount===0&&s_(i_,function(){e.controller.abort()})}var Ol=null,Qc=0,Vi=0,Gi=null;function l_(e,a){if(Ol===null){var n=Ol=[];Qc=0,Vi=Wd(),Gi={status:"pending",value:void 0,then:function(s){n.push(s)}}}return Qc++,a.then(Df,Df),a}function Df(){if(--Qc===0&&Ol!==null){Gi!==null&&(Gi.status="fulfilled");var e=Ol;Ol=null,Vi=0,Gi=null;for(var a=0;a<e.length;a++)(0,e[a])()}}function r_(e,a){var n=[],s={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return e.then(function(){s.status="fulfilled",s.value=a;for(var l=0;l<n.length;l++)(0,n[l])(a)},function(l){for(s.status="rejected",s.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),s}var Af=T.S;T.S=function(e,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&l_(e,a),Af!==null&&Af(e,a)};var xi=B(null);function Kc(){var e=xi.current;return e!==null?e:ea.pooledCache}function Kr(e,a){a===null?U(xi,xi.current):U(xi,a.pool)}function wf(){var e=Kc();return e===null?null:{parent:wa._currentValue,pool:e}}var Il=Error(o(460)),Ef=Error(o(474)),Wr=Error(o(542)),Wc={then:function(){}};function Tf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function eo(){}function kf(e,a,n){switch(n=e[n],n===void 0?e.push(a):n!==a&&(a.then(eo,eo),a=n),a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Rf(e),e;default:if(typeof a.status=="string")a.then(eo,eo);else{if(e=ea,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=a,e.status="pending",e.then(function(s){if(a.status==="pending"){var l=a;l.status="fulfilled",l.value=s}},function(s){if(a.status==="pending"){var l=a;l.status="rejected",l.reason=s}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw e=a.reason,Rf(e),e}throw Ul=a,Il}}var Ul=null;function Mf(){if(Ul===null)throw Error(o(459));var e=Ul;return Ul=null,e}function Rf(e){if(e===Il||e===Wr)throw Error(o(483))}var Ls=!1;function ed(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function td(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Os(e,a,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(qt&2)!==0){var l=s.pending;return l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a,a=Vr(e),yf(e,null,n),a}return Fr(e,s,a,n),Vr(e)}function Jl(e,a,n){if(a=a.updateQueue,a!==null&&(a=a.shared,(n&4194048)!==0)){var s=a.lanes;s&=e.pendingLanes,n|=s,a.lanes=n,dn(e,n)}}function ad(e,a){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var g={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};c===null?l=c=g:c=c.next=g,n=n.next}while(n!==null);c===null?l=c=a:c=c.next=a}else l=c=a;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=a:e.next=a,n.lastBaseUpdate=a}var nd=!1;function Bl(){if(nd){var e=Gi;if(e!==null)throw e}}function zl(e,a,n,s){nd=!1;var l=e.updateQueue;Ls=!1;var c=l.firstBaseUpdate,g=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var E=v,G=E.next;E.next=null,g===null?c=G:g.next=G,g=E;var de=e.alternate;de!==null&&(de=de.updateQueue,v=de.lastBaseUpdate,v!==g&&(v===null?de.firstBaseUpdate=G:v.next=G,de.lastBaseUpdate=E))}if(c!==null){var xe=l.baseState;g=0,de=G=E=null,v=c;do{var Z=v.lane&-536870913,W=Z!==v.lane;if(W?(Rt&Z)===Z:(s&Z)===Z){Z!==0&&Z===Vi&&(nd=!0),de!==null&&(de=de.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ut=e,ot=v;Z=a;var Vt=n;switch(ot.tag){case 1:if(ut=ot.payload,typeof ut=="function"){xe=ut.call(Vt,xe,Z);break e}xe=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=ot.payload,Z=typeof ut=="function"?ut.call(Vt,xe,Z):ut,Z==null)break e;xe=b({},xe,Z);break e;case 2:Ls=!0}}Z=v.callback,Z!==null&&(e.flags|=64,W&&(e.flags|=8192),W=l.callbacks,W===null?l.callbacks=[Z]:W.push(Z))}else W={lane:Z,tag:v.tag,payload:v.payload,callback:v.callback,next:null},de===null?(G=de=W,E=xe):de=de.next=W,g|=Z;if(v=v.next,v===null){if(v=l.shared.pending,v===null)break;W=v,v=W.next,W.next=null,l.lastBaseUpdate=W,l.shared.pending=null}}while(!0);de===null&&(E=xe),l.baseState=E,l.firstBaseUpdate=G,l.lastBaseUpdate=de,c===null&&(l.shared.lanes=0),$s|=g,e.lanes=g,e.memoizedState=xe}}function Lf(e,a){if(typeof e!="function")throw Error(o(191,e));e.call(a)}function Hf(e,a){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Lf(n[e],a)}var Yi=B(null),to=B(0);function Of(e,a){e=vs,U(to,e),U(Yi,a),vs=e|a.baseLanes}function sd(){U(to,vs),U(Yi,Yi.current)}function id(){vs=to.current,ae(Yi),ae(to)}var Is=0,Ct=null,$t=null,ja=null,ao=!1,Xi=!1,yi=!1,no=0,ql=0,Zi=null,o_=0;function xa(){throw Error(o(321))}function ld(e,a){if(a===null)return!1;for(var n=0;n<a.length&&n<e.length;n++)if(!D(e[n],a[n]))return!1;return!0}function rd(e,a,n,s,l,c){return Is=c,Ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,T.H=e===null||e.memoizedState===null?yh:vh,yi=!1,c=n(s,l),yi=!1,Xi&&(c=Uf(a,n,s,l)),If(e),c}function If(e){T.H=co;var a=$t!==null&&$t.next!==null;if(Is=0,ja=$t=Ct=null,ao=!1,ql=0,Zi=null,a)throw Error(o(300));e===null||Ta||(e=e.dependencies,e!==null&&Zr(e)&&(Ta=!0))}function Uf(e,a,n,s){Ct=e;var l=0;do{if(Xi&&(Zi=null),ql=0,Xi=!1,25<=l)throw Error(o(301));if(l+=1,ja=$t=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}T.H=p_,c=a(n,s)}while(Xi);return c}function c_(){var e=T.H,a=e.useState()[0];return a=typeof a.then=="function"?Pl(a):a,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(Ct.flags|=1024),a}function od(){var e=no!==0;return no=0,e}function cd(e,a,n){a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~n}function dd(e){if(ao){for(e=e.memoizedState;e!==null;){var a=e.queue;a!==null&&(a.pending=null),e=e.next}ao=!1}Is=0,ja=$t=Ct=null,Xi=!1,ql=no=0,Zi=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ja===null?Ct.memoizedState=ja=e:ja=ja.next=e,ja}function Sa(){if($t===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var a=ja===null?Ct.memoizedState:ja.next;if(a!==null)ja=a,$t=e;else{if(e===null)throw Ct.alternate===null?Error(o(467)):Error(o(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},ja===null?Ct.memoizedState=ja=e:ja=ja.next=e}return ja}function ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(e){var a=ql;return ql+=1,Zi===null&&(Zi=[]),e=kf(Zi,e,a),a=Ct,(ja===null?a.memoizedState:ja.next)===null&&(a=a.alternate,T.H=a===null||a.memoizedState===null?yh:vh),e}function so(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pl(e);if(e.$$typeof===J)return Pa(e)}throw Error(o(438,String(e)))}function fd(e){var a=null,n=Ct.updateQueue;if(n!==null&&(a=n.memoCache),a==null){var s=Ct.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(a={data:s.data.map(function(l){return l.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),n===null&&(n=ud(),Ct.updateQueue=n),n.memoCache=a,n=a.data[a.index],n===void 0)for(n=a.data[a.index]=Array(e),s=0;s<e;s++)n[s]=P;return a.index++,n}function ms(e,a){return typeof a=="function"?a(e):a}function io(e){var a=Sa();return hd(a,$t,e)}function hd(e,a,n){var s=e.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=n;var l=e.baseQueue,c=s.pending;if(c!==null){if(l!==null){var g=l.next;l.next=c.next,c.next=g}a.baseQueue=l=c,s.pending=null}if(c=e.baseState,l===null)e.memoizedState=c;else{a=l.next;var v=g=null,E=null,G=a,de=!1;do{var xe=G.lane&-536870913;if(xe!==G.lane?(Rt&xe)===xe:(Is&xe)===xe){var Z=G.revertLane;if(Z===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),xe===Vi&&(de=!0);else if((Is&Z)===Z){G=G.next,Z===Vi&&(de=!0);continue}else xe={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},E===null?(v=E=xe,g=c):E=E.next=xe,Ct.lanes|=Z,$s|=Z;xe=G.action,yi&&n(c,xe),c=G.hasEagerState?G.eagerState:n(c,xe)}else Z={lane:xe,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},E===null?(v=E=Z,g=c):E=E.next=Z,Ct.lanes|=xe,$s|=xe;G=G.next}while(G!==null&&G!==a);if(E===null?g=c:E.next=v,!D(c,e.memoizedState)&&(Ta=!0,de&&(n=Gi,n!==null)))throw n;e.memoizedState=c,e.baseState=g,e.baseQueue=E,s.lastRenderedState=c}return l===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function md(e){var a=Sa(),n=a.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,c=a.memoizedState;if(l!==null){n.pending=null;var g=l=l.next;do c=e(c,g.action),g=g.next;while(g!==l);D(c,a.memoizedState)||(Ta=!0),a.memoizedState=c,a.baseQueue===null&&(a.baseState=c),n.lastRenderedState=c}return[c,s]}function Jf(e,a,n){var s=Ct,l=Sa(),c=Ut;if(c){if(n===void 0)throw Error(o(407));n=n()}else n=a();var g=!D(($t||l).memoizedState,n);g&&(l.memoizedState=n,Ta=!0),l=l.queue;var v=qf.bind(null,s,l,e);if($l(2048,8,v,[e]),l.getSnapshot!==a||g||ja!==null&&ja.memoizedState.tag&1){if(s.flags|=2048,Qi(9,lo(),zf.bind(null,s,l,n,a),null),ea===null)throw Error(o(349));c||(Is&124)!==0||Bf(s,a,n)}return n}function Bf(e,a,n){e.flags|=16384,e={getSnapshot:a,value:n},a=Ct.updateQueue,a===null?(a=ud(),Ct.updateQueue=a,a.stores=[e]):(n=a.stores,n===null?a.stores=[e]:n.push(e))}function zf(e,a,n,s){a.value=n,a.getSnapshot=s,Pf(a)&&$f(e)}function qf(e,a,n){return n(function(){Pf(a)&&$f(e)})}function Pf(e){var a=e.getSnapshot;e=e.value;try{var n=a();return!D(e,n)}catch{return!0}}function $f(e){var a=qi(e,2);a!==null&&yn(a,e,2)}function pd(e){var a=nn();if(typeof e=="function"){var n=e;if(e=n(),yi){pa(!0);try{n()}finally{pa(!1)}}}return a.memoizedState=a.baseState=e,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e},a}function Ff(e,a,n,s){return e.baseState=n,hd(e,$t,typeof s=="function"?s:ms)}function d_(e,a,n,s,l){if(oo(e))throw Error(o(485));if(e=a.action,e!==null){var c={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){c.listeners.push(g)}};T.T!==null?n(!0):c.isTransition=!1,s(c),n=a.pending,n===null?(c.next=a.pending=c,Vf(a,c)):(c.next=n.next,a.pending=n.next=c)}}function Vf(e,a){var n=a.action,s=a.payload,l=e.state;if(a.isTransition){var c=T.T,g={};T.T=g;try{var v=n(l,s),E=T.S;E!==null&&E(g,v),Gf(e,a,v)}catch(G){gd(e,a,G)}finally{T.T=c}}else try{c=n(l,s),Gf(e,a,c)}catch(G){gd(e,a,G)}}function Gf(e,a,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){Yf(e,a,s)},function(s){return gd(e,a,s)}):Yf(e,a,n)}function Yf(e,a,n){a.status="fulfilled",a.value=n,Xf(a),e.state=n,a=e.pending,a!==null&&(n=a.next,n===a?e.pending=null:(n=n.next,a.next=n,Vf(e,n)))}function gd(e,a,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do a.status="rejected",a.reason=n,Xf(a),a=a.next;while(a!==s)}e.action=null}function Xf(e){e=e.listeners;for(var a=0;a<e.length;a++)(0,e[a])()}function Zf(e,a){return a}function Qf(e,a){if(Ut){var n=ea.formState;if(n!==null){e:{var s=Ct;if(Ut){if(ha){t:{for(var l=ha,c=Qn;l.nodeType!==8;){if(!c){l=null;break t}if(l=Bn(l.nextSibling),l===null){l=null;break t}}c=l.data,l=c==="F!"||c==="F"?l:null}if(l){ha=Bn(l.nextSibling),s=l.data==="F!";break e}}pi(s)}s=!1}s&&(a=n[0])}}return n=nn(),n.memoizedState=n.baseState=a,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zf,lastRenderedState:a},n.queue=s,n=gh.bind(null,Ct,s),s.dispatch=n,s=pd(!1),c=bd.bind(null,Ct,!1,s.queue),s=nn(),l={state:a,dispatch:null,action:e,pending:null},s.queue=l,n=d_.bind(null,Ct,l,c,n),l.dispatch=n,s.memoizedState=e,[a,n,!1]}function Kf(e){var a=Sa();return Wf(a,$t,e)}function Wf(e,a,n){if(a=hd(e,a,Zf)[0],e=io(ms)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var s=Pl(a)}catch(g){throw g===Il?Wr:g}else s=a;a=Sa();var l=a.queue,c=l.dispatch;return n!==a.memoizedState&&(Ct.flags|=2048,Qi(9,lo(),u_.bind(null,l,n),null)),[s,c,e]}function u_(e,a){e.action=a}function eh(e){var a=Sa(),n=$t;if(n!==null)return Wf(a,n,e);Sa(),a=a.memoizedState,n=Sa();var s=n.queue.dispatch;return n.memoizedState=e,[a,s,!1]}function Qi(e,a,n,s){return e={tag:e,create:n,deps:s,inst:a,next:null},a=Ct.updateQueue,a===null&&(a=ud(),Ct.updateQueue=a),n=a.lastEffect,n===null?a.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,a.lastEffect=e),e}function lo(){return{destroy:void 0,resource:void 0}}function th(){return Sa().memoizedState}function ro(e,a,n,s){var l=nn();s=s===void 0?null:s,Ct.flags|=e,l.memoizedState=Qi(1|a,lo(),n,s)}function $l(e,a,n,s){var l=Sa();s=s===void 0?null:s;var c=l.memoizedState.inst;$t!==null&&s!==null&&ld(s,$t.memoizedState.deps)?l.memoizedState=Qi(a,c,n,s):(Ct.flags|=e,l.memoizedState=Qi(1|a,c,n,s))}function ah(e,a){ro(8390656,8,e,a)}function nh(e,a){$l(2048,8,e,a)}function sh(e,a){return $l(4,2,e,a)}function ih(e,a){return $l(4,4,e,a)}function lh(e,a){if(typeof a=="function"){e=e();var n=a(e);return function(){typeof n=="function"?n():a(null)}}if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function rh(e,a,n){n=n!=null?n.concat([e]):null,$l(4,4,lh.bind(null,a,e),n)}function _d(){}function oh(e,a){var n=Sa();a=a===void 0?null:a;var s=n.memoizedState;return a!==null&&ld(a,s[1])?s[0]:(n.memoizedState=[e,a],e)}function ch(e,a){var n=Sa();a=a===void 0?null:a;var s=n.memoizedState;if(a!==null&&ld(a,s[1]))return s[0];if(s=e(),yi){pa(!0);try{e()}finally{pa(!1)}}return n.memoizedState=[s,a],s}function xd(e,a,n){return n===void 0||(Is&1073741824)!==0?e.memoizedState=a:(e.memoizedState=n,e=fm(),Ct.lanes|=e,$s|=e,n)}function dh(e,a,n,s){return D(n,a)?n:Yi.current!==null?(e=xd(e,n,s),D(e,a)||(Ta=!0),e):(Is&42)===0?(Ta=!0,e.memoizedState=n):(e=fm(),Ct.lanes|=e,$s|=e,a)}function uh(e,a,n,s,l){var c=A.p;A.p=c!==0&&8>c?c:8;var g=T.T,v={};T.T=v,bd(e,!1,a,n);try{var E=l(),G=T.S;if(G!==null&&G(v,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var de=r_(E,s);Fl(e,a,de,xn(e))}else Fl(e,a,s,xn(e))}catch(xe){Fl(e,a,{then:function(){},status:"rejected",reason:xe},xn())}finally{A.p=c,T.T=g}}function f_(){}function yd(e,a,n,s){if(e.tag!==5)throw Error(o(476));var l=fh(e).queue;uh(e,l,a,V,n===null?f_:function(){return hh(e),n(s)})}function fh(e){var a=e.memoizedState;if(a!==null)return a;a={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:V},next:null};var n={};return a.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:n},next:null},e.memoizedState=a,e=e.alternate,e!==null&&(e.memoizedState=a),a}function hh(e){var a=fh(e).next.queue;Fl(e,a,{},xn())}function vd(){return Pa(cr)}function mh(){return Sa().memoizedState}function ph(){return Sa().memoizedState}function h_(e){for(var a=e.return;a!==null;){switch(a.tag){case 24:case 3:var n=xn();e=Hs(n);var s=Os(a,e,n);s!==null&&(yn(s,a,n),Jl(s,a,n)),a={cache:Zc()},e.payload=a;return}a=a.return}}function m_(e,a,n){var s=xn();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},oo(e)?_h(a,n):(n=Bc(e,a,n,s),n!==null&&(yn(n,e,s),xh(n,a,s)))}function gh(e,a,n){var s=xn();Fl(e,a,n,s)}function Fl(e,a,n,s){var l={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(oo(e))_h(a,l);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=a.lastRenderedReducer,c!==null))try{var g=a.lastRenderedState,v=c(g,n);if(l.hasEagerState=!0,l.eagerState=v,D(v,g))return Fr(e,a,l,0),ea===null&&$r(),!1}catch{}finally{}if(n=Bc(e,a,l,s),n!==null)return yn(n,e,s),xh(n,a,s),!0}return!1}function bd(e,a,n,s){if(s={lane:2,revertLane:Wd(),action:s,hasEagerState:!1,eagerState:null,next:null},oo(e)){if(a)throw Error(o(479))}else a=Bc(e,n,s,2),a!==null&&yn(a,e,2)}function oo(e){var a=e.alternate;return e===Ct||a!==null&&a===Ct}function _h(e,a){Xi=ao=!0;var n=e.pending;n===null?a.next=a:(a.next=n.next,n.next=a),e.pending=a}function xh(e,a,n){if((n&4194048)!==0){var s=a.lanes;s&=e.pendingLanes,n|=s,a.lanes=n,dn(e,n)}}var co={readContext:Pa,use:so,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useLayoutEffect:xa,useInsertionEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useSyncExternalStore:xa,useId:xa,useHostTransitionStatus:xa,useFormState:xa,useActionState:xa,useOptimistic:xa,useMemoCache:xa,useCacheRefresh:xa},yh={readContext:Pa,use:so,useCallback:function(e,a){return nn().memoizedState=[e,a===void 0?null:a],e},useContext:Pa,useEffect:ah,useImperativeHandle:function(e,a,n){n=n!=null?n.concat([e]):null,ro(4194308,4,lh.bind(null,a,e),n)},useLayoutEffect:function(e,a){return ro(4194308,4,e,a)},useInsertionEffect:function(e,a){ro(4,2,e,a)},useMemo:function(e,a){var n=nn();a=a===void 0?null:a;var s=e();if(yi){pa(!0);try{e()}finally{pa(!1)}}return n.memoizedState=[s,a],s},useReducer:function(e,a,n){var s=nn();if(n!==void 0){var l=n(a);if(yi){pa(!0);try{n(a)}finally{pa(!1)}}}else l=a;return s.memoizedState=s.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},s.queue=e,e=e.dispatch=m_.bind(null,Ct,e),[s.memoizedState,e]},useRef:function(e){var a=nn();return e={current:e},a.memoizedState=e},useState:function(e){e=pd(e);var a=e.queue,n=gh.bind(null,Ct,a);return a.dispatch=n,[e.memoizedState,n]},useDebugValue:_d,useDeferredValue:function(e,a){var n=nn();return xd(n,e,a)},useTransition:function(){var e=pd(!1);return e=uh.bind(null,Ct,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,a,n){var s=Ct,l=nn();if(Ut){if(n===void 0)throw Error(o(407));n=n()}else{if(n=a(),ea===null)throw Error(o(349));(Rt&124)!==0||Bf(s,a,n)}l.memoizedState=n;var c={value:n,getSnapshot:a};return l.queue=c,ah(qf.bind(null,s,c,e),[e]),s.flags|=2048,Qi(9,lo(),zf.bind(null,s,c,n,a),null),n},useId:function(){var e=nn(),a=ea.identifierPrefix;if(Ut){var n=us,s=ds;n=(s&~(1<<32-Jt(s)-1)).toString(32)+n,a=""+a+"R"+n,n=no++,0<n&&(a+="H"+n.toString(32)),a+=""}else n=o_++,a=""+a+"r"+n.toString(32)+"";return e.memoizedState=a},useHostTransitionStatus:vd,useFormState:Qf,useActionState:Qf,useOptimistic:function(e){var a=nn();a.memoizedState=a.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=n,a=bd.bind(null,Ct,!0,n),n.dispatch=a,[e,a]},useMemoCache:fd,useCacheRefresh:function(){return nn().memoizedState=h_.bind(null,Ct)}},vh={readContext:Pa,use:so,useCallback:oh,useContext:Pa,useEffect:nh,useImperativeHandle:rh,useInsertionEffect:sh,useLayoutEffect:ih,useMemo:ch,useReducer:io,useRef:th,useState:function(){return io(ms)},useDebugValue:_d,useDeferredValue:function(e,a){var n=Sa();return dh(n,$t.memoizedState,e,a)},useTransition:function(){var e=io(ms)[0],a=Sa().memoizedState;return[typeof e=="boolean"?e:Pl(e),a]},useSyncExternalStore:Jf,useId:mh,useHostTransitionStatus:vd,useFormState:Kf,useActionState:Kf,useOptimistic:function(e,a){var n=Sa();return Ff(n,$t,e,a)},useMemoCache:fd,useCacheRefresh:ph},p_={readContext:Pa,use:so,useCallback:oh,useContext:Pa,useEffect:nh,useImperativeHandle:rh,useInsertionEffect:sh,useLayoutEffect:ih,useMemo:ch,useReducer:md,useRef:th,useState:function(){return md(ms)},useDebugValue:_d,useDeferredValue:function(e,a){var n=Sa();return $t===null?xd(n,e,a):dh(n,$t.memoizedState,e,a)},useTransition:function(){var e=md(ms)[0],a=Sa().memoizedState;return[typeof e=="boolean"?e:Pl(e),a]},useSyncExternalStore:Jf,useId:mh,useHostTransitionStatus:vd,useFormState:eh,useActionState:eh,useOptimistic:function(e,a){var n=Sa();return $t!==null?Ff(n,$t,e,a):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:fd,useCacheRefresh:ph},Ki=null,Vl=0;function uo(e){var a=Vl;return Vl+=1,Ki===null&&(Ki=[]),kf(Ki,e,a)}function Gl(e,a){a=a.props.ref,e.ref=a!==void 0?a:null}function fo(e,a){throw a.$$typeof===C?Error(o(525)):(e=Object.prototype.toString.call(a),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)))}function bh(e){var a=e._init;return a(e._payload)}function jh(e){function a(q,O){if(e){var F=q.deletions;F===null?(q.deletions=[O],q.flags|=16):F.push(O)}}function n(q,O){if(!e)return null;for(;O!==null;)a(q,O),O=O.sibling;return null}function s(q){for(var O=new Map;q!==null;)q.key!==null?O.set(q.key,q):O.set(q.index,q),q=q.sibling;return O}function l(q,O){return q=cs(q,O),q.index=0,q.sibling=null,q}function c(q,O,F){return q.index=F,e?(F=q.alternate,F!==null?(F=F.index,F<O?(q.flags|=67108866,O):F):(q.flags|=67108866,O)):(q.flags|=1048576,O)}function g(q){return e&&q.alternate===null&&(q.flags|=67108866),q}function v(q,O,F,ge){return O===null||O.tag!==6?(O=qc(F,q.mode,ge),O.return=q,O):(O=l(O,F),O.return=q,O)}function E(q,O,F,ge){var Ke=F.type;return Ke===w?de(q,O,F.props.children,ge,F.key):O!==null&&(O.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===ue&&bh(Ke)===O.type)?(O=l(O,F.props),Gl(O,F),O.return=q,O):(O=Gr(F.type,F.key,F.props,null,q.mode,ge),Gl(O,F),O.return=q,O)}function G(q,O,F,ge){return O===null||O.tag!==4||O.stateNode.containerInfo!==F.containerInfo||O.stateNode.implementation!==F.implementation?(O=Pc(F,q.mode,ge),O.return=q,O):(O=l(O,F.children||[]),O.return=q,O)}function de(q,O,F,ge,Ke){return O===null||O.tag!==7?(O=ui(F,q.mode,ge,Ke),O.return=q,O):(O=l(O,F),O.return=q,O)}function xe(q,O,F){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=qc(""+O,q.mode,F),O.return=q,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case k:return F=Gr(O.type,O.key,O.props,null,q.mode,F),Gl(F,O),F.return=q,F;case I:return O=Pc(O,q.mode,F),O.return=q,O;case ue:var ge=O._init;return O=ge(O._payload),xe(q,O,F)}if(X(O)||He(O))return O=ui(O,q.mode,F,null),O.return=q,O;if(typeof O.then=="function")return xe(q,uo(O),F);if(O.$$typeof===J)return xe(q,Qr(q,O),F);fo(q,O)}return null}function Z(q,O,F,ge){var Ke=O!==null?O.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Ke!==null?null:v(q,O,""+F,ge);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case k:return F.key===Ke?E(q,O,F,ge):null;case I:return F.key===Ke?G(q,O,F,ge):null;case ue:return Ke=F._init,F=Ke(F._payload),Z(q,O,F,ge)}if(X(F)||He(F))return Ke!==null?null:de(q,O,F,ge,null);if(typeof F.then=="function")return Z(q,O,uo(F),ge);if(F.$$typeof===J)return Z(q,O,Qr(q,F),ge);fo(q,F)}return null}function W(q,O,F,ge,Ke){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return q=q.get(F)||null,v(O,q,""+ge,Ke);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case k:return q=q.get(ge.key===null?F:ge.key)||null,E(O,q,ge,Ke);case I:return q=q.get(ge.key===null?F:ge.key)||null,G(O,q,ge,Ke);case ue:var Dt=ge._init;return ge=Dt(ge._payload),W(q,O,F,ge,Ke)}if(X(ge)||He(ge))return q=q.get(F)||null,de(O,q,ge,Ke,null);if(typeof ge.then=="function")return W(q,O,F,uo(ge),Ke);if(ge.$$typeof===J)return W(q,O,F,Qr(O,ge),Ke);fo(O,ge)}return null}function ut(q,O,F,ge){for(var Ke=null,Dt=null,at=O,dt=O=0,Ma=null;at!==null&&dt<F.length;dt++){at.index>dt?(Ma=at,at=null):Ma=at.sibling;var Ht=Z(q,at,F[dt],ge);if(Ht===null){at===null&&(at=Ma);break}e&&at&&Ht.alternate===null&&a(q,at),O=c(Ht,O,dt),Dt===null?Ke=Ht:Dt.sibling=Ht,Dt=Ht,at=Ma}if(dt===F.length)return n(q,at),Ut&&hi(q,dt),Ke;if(at===null){for(;dt<F.length;dt++)at=xe(q,F[dt],ge),at!==null&&(O=c(at,O,dt),Dt===null?Ke=at:Dt.sibling=at,Dt=at);return Ut&&hi(q,dt),Ke}for(at=s(at);dt<F.length;dt++)Ma=W(at,q,dt,F[dt],ge),Ma!==null&&(e&&Ma.alternate!==null&&at.delete(Ma.key===null?dt:Ma.key),O=c(Ma,O,dt),Dt===null?Ke=Ma:Dt.sibling=Ma,Dt=Ma);return e&&at.forEach(function(Ws){return a(q,Ws)}),Ut&&hi(q,dt),Ke}function ot(q,O,F,ge){if(F==null)throw Error(o(151));for(var Ke=null,Dt=null,at=O,dt=O=0,Ma=null,Ht=F.next();at!==null&&!Ht.done;dt++,Ht=F.next()){at.index>dt?(Ma=at,at=null):Ma=at.sibling;var Ws=Z(q,at,Ht.value,ge);if(Ws===null){at===null&&(at=Ma);break}e&&at&&Ws.alternate===null&&a(q,at),O=c(Ws,O,dt),Dt===null?Ke=Ws:Dt.sibling=Ws,Dt=Ws,at=Ma}if(Ht.done)return n(q,at),Ut&&hi(q,dt),Ke;if(at===null){for(;!Ht.done;dt++,Ht=F.next())Ht=xe(q,Ht.value,ge),Ht!==null&&(O=c(Ht,O,dt),Dt===null?Ke=Ht:Dt.sibling=Ht,Dt=Ht);return Ut&&hi(q,dt),Ke}for(at=s(at);!Ht.done;dt++,Ht=F.next())Ht=W(at,q,dt,Ht.value,ge),Ht!==null&&(e&&Ht.alternate!==null&&at.delete(Ht.key===null?dt:Ht.key),O=c(Ht,O,dt),Dt===null?Ke=Ht:Dt.sibling=Ht,Dt=Ht);return e&&at.forEach(function(gx){return a(q,gx)}),Ut&&hi(q,dt),Ke}function Vt(q,O,F,ge){if(typeof F=="object"&&F!==null&&F.type===w&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case k:e:{for(var Ke=F.key;O!==null;){if(O.key===Ke){if(Ke=F.type,Ke===w){if(O.tag===7){n(q,O.sibling),ge=l(O,F.props.children),ge.return=q,q=ge;break e}}else if(O.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===ue&&bh(Ke)===O.type){n(q,O.sibling),ge=l(O,F.props),Gl(ge,F),ge.return=q,q=ge;break e}n(q,O);break}else a(q,O);O=O.sibling}F.type===w?(ge=ui(F.props.children,q.mode,ge,F.key),ge.return=q,q=ge):(ge=Gr(F.type,F.key,F.props,null,q.mode,ge),Gl(ge,F),ge.return=q,q=ge)}return g(q);case I:e:{for(Ke=F.key;O!==null;){if(O.key===Ke)if(O.tag===4&&O.stateNode.containerInfo===F.containerInfo&&O.stateNode.implementation===F.implementation){n(q,O.sibling),ge=l(O,F.children||[]),ge.return=q,q=ge;break e}else{n(q,O);break}else a(q,O);O=O.sibling}ge=Pc(F,q.mode,ge),ge.return=q,q=ge}return g(q);case ue:return Ke=F._init,F=Ke(F._payload),Vt(q,O,F,ge)}if(X(F))return ut(q,O,F,ge);if(He(F)){if(Ke=He(F),typeof Ke!="function")throw Error(o(150));return F=Ke.call(F),ot(q,O,F,ge)}if(typeof F.then=="function")return Vt(q,O,uo(F),ge);if(F.$$typeof===J)return Vt(q,O,Qr(q,F),ge);fo(q,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,O!==null&&O.tag===6?(n(q,O.sibling),ge=l(O,F),ge.return=q,q=ge):(n(q,O),ge=qc(F,q.mode,ge),ge.return=q,q=ge),g(q)):n(q,O)}return function(q,O,F,ge){try{Vl=0;var Ke=Vt(q,O,F,ge);return Ki=null,Ke}catch(at){if(at===Il||at===Wr)throw at;var Dt=mn(29,at,null,q.mode);return Dt.lanes=ge,Dt.return=q,Dt}finally{}}}var Wi=jh(!0),Sh=jh(!1),Tn=B(null),Kn=null;function Us(e){var a=e.alternate;U(Ea,Ea.current&1),U(Tn,e),Kn===null&&(a===null||Yi.current!==null||a.memoizedState!==null)&&(Kn=e)}function Nh(e){if(e.tag===22){if(U(Ea,Ea.current),U(Tn,e),Kn===null){var a=e.alternate;a!==null&&a.memoizedState!==null&&(Kn=e)}}else Js()}function Js(){U(Ea,Ea.current),U(Tn,Tn.current)}function ps(e){ae(Tn),Kn===e&&(Kn=null),ae(Ea)}var Ea=B(0);function ho(e){for(var a=e;a!==null;){if(a.tag===13){var n=a.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||uu(n)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function jd(e,a,n,s){a=e.memoizedState,n=n(s,a),n=n==null?a:b({},a,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Sd={enqueueSetState:function(e,a,n){e=e._reactInternals;var s=xn(),l=Hs(s);l.payload=a,n!=null&&(l.callback=n),a=Os(e,l,s),a!==null&&(yn(a,e,s),Jl(a,e,s))},enqueueReplaceState:function(e,a,n){e=e._reactInternals;var s=xn(),l=Hs(s);l.tag=1,l.payload=a,n!=null&&(l.callback=n),a=Os(e,l,s),a!==null&&(yn(a,e,s),Jl(a,e,s))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var n=xn(),s=Hs(n);s.tag=2,a!=null&&(s.callback=a),a=Os(e,s,n),a!==null&&(yn(a,e,n),Jl(a,e,n))}};function Ch(e,a,n,s,l,c,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,g):a.prototype&&a.prototype.isPureReactComponent?!ce(n,s)||!ce(l,c):!0}function Dh(e,a,n,s){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(n,s),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(n,s),a.state!==e&&Sd.enqueueReplaceState(a,a.state,null)}function vi(e,a){var n=a;if("ref"in a){n={};for(var s in a)s!=="ref"&&(n[s]=a[s])}if(e=e.defaultProps){n===a&&(n=b({},n));for(var l in e)n[l]===void 0&&(n[l]=e[l])}return n}var mo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ah(e){mo(e)}function wh(e){console.error(e)}function Eh(e){mo(e)}function po(e,a){try{var n=e.onUncaughtError;n(a.value,{componentStack:a.stack})}catch(s){setTimeout(function(){throw s})}}function Th(e,a,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Nd(e,a,n){return n=Hs(n),n.tag=3,n.payload={element:null},n.callback=function(){po(e,a)},n}function kh(e){return e=Hs(e),e.tag=3,e}function Mh(e,a,n,s){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var c=s.value;e.payload=function(){return l(c)},e.callback=function(){Th(a,n,s)}}var g=n.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Th(a,n,s),typeof l!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})})}function g_(e,a,n,s,l){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(a=n.alternate,a!==null&&Ll(a,n,l,!0),n=Tn.current,n!==null){switch(n.tag){case 13:return Kn===null?Yd():n.alternate===null&&ma===0&&(ma=3),n.flags&=-257,n.flags|=65536,n.lanes=l,s===Wc?n.flags|=16384:(a=n.updateQueue,a===null?n.updateQueue=new Set([s]):a.add(s),Zd(e,s,l)),!1;case 22:return n.flags|=65536,s===Wc?n.flags|=16384:(a=n.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=a):(n=a.retryQueue,n===null?a.retryQueue=new Set([s]):n.add(s)),Zd(e,s,l)),!1}throw Error(o(435,n.tag))}return Zd(e,s,l),Yd(),!1}if(Ut)return a=Tn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=l,s!==Vc&&(e=Error(o(422),{cause:s}),Rl(Dn(e,n)))):(s!==Vc&&(a=Error(o(423),{cause:s}),Rl(Dn(a,n))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,s=Dn(s,n),l=Nd(e.stateNode,s,l),ad(e,l),ma!==4&&(ma=2)),!1;var c=Error(o(520),{cause:s});if(c=Dn(c,n),er===null?er=[c]:er.push(c),ma!==4&&(ma=2),a===null)return!0;s=Dn(s,n),n=a;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,e=Nd(n.stateNode,s,e),ad(n,e),!1;case 1:if(a=n.type,c=n.stateNode,(n.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Fs===null||!Fs.has(c))))return n.flags|=65536,l&=-l,n.lanes|=l,l=kh(l),Mh(l,e,n,s),ad(n,l),!1}n=n.return}while(n!==null);return!1}var Rh=Error(o(461)),Ta=!1;function Oa(e,a,n,s){a.child=e===null?Sh(a,null,n,s):Wi(a,e.child,n,s)}function Lh(e,a,n,s,l){n=n.render;var c=a.ref;if("ref"in s){var g={};for(var v in s)v!=="ref"&&(g[v]=s[v])}else g=s;return _i(a),s=rd(e,a,n,g,c,l),v=od(),e!==null&&!Ta?(cd(e,a,l),gs(e,a,l)):(Ut&&v&&$c(a),a.flags|=1,Oa(e,a,s,l),a.child)}function Hh(e,a,n,s,l){if(e===null){var c=n.type;return typeof c=="function"&&!zc(c)&&c.defaultProps===void 0&&n.compare===null?(a.tag=15,a.type=c,Oh(e,a,c,s,l)):(e=Gr(n.type,null,s,a,a.mode,l),e.ref=a.ref,e.return=a,a.child=e)}if(c=e.child,!Md(e,l)){var g=c.memoizedProps;if(n=n.compare,n=n!==null?n:ce,n(g,s)&&e.ref===a.ref)return gs(e,a,l)}return a.flags|=1,e=cs(c,s),e.ref=a.ref,e.return=a,a.child=e}function Oh(e,a,n,s,l){if(e!==null){var c=e.memoizedProps;if(ce(c,s)&&e.ref===a.ref)if(Ta=!1,a.pendingProps=s=c,Md(e,l))(e.flags&131072)!==0&&(Ta=!0);else return a.lanes=e.lanes,gs(e,a,l)}return Cd(e,a,n,s,l)}function Ih(e,a,n){var s=a.pendingProps,l=s.children,c=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((a.flags&128)!==0){if(s=c!==null?c.baseLanes|n:n,e!==null){for(l=a.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;a.childLanes=c&~s}else a.childLanes=0,a.child=null;return Uh(e,a,s,n)}if((n&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},e!==null&&Kr(a,c!==null?c.cachePool:null),c!==null?Of(a,c):sd(),Nh(a);else return a.lanes=a.childLanes=536870912,Uh(e,a,c!==null?c.baseLanes|n:n,n)}else c!==null?(Kr(a,c.cachePool),Of(a,c),Js(),a.memoizedState=null):(e!==null&&Kr(a,null),sd(),Js());return Oa(e,a,l,n),a.child}function Uh(e,a,n,s){var l=Kc();return l=l===null?null:{parent:wa._currentValue,pool:l},a.memoizedState={baseLanes:n,cachePool:l},e!==null&&Kr(a,null),sd(),Nh(a),e!==null&&Ll(e,a,s,!0),null}function go(e,a){var n=a.ref;if(n===null)e!==null&&e.ref!==null&&(a.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(a.flags|=4194816)}}function Cd(e,a,n,s,l){return _i(a),n=rd(e,a,n,s,void 0,l),s=od(),e!==null&&!Ta?(cd(e,a,l),gs(e,a,l)):(Ut&&s&&$c(a),a.flags|=1,Oa(e,a,n,l),a.child)}function Jh(e,a,n,s,l,c){return _i(a),a.updateQueue=null,n=Uf(a,s,n,l),If(e),s=od(),e!==null&&!Ta?(cd(e,a,c),gs(e,a,c)):(Ut&&s&&$c(a),a.flags|=1,Oa(e,a,n,c),a.child)}function Bh(e,a,n,s,l){if(_i(a),a.stateNode===null){var c=Pi,g=n.contextType;typeof g=="object"&&g!==null&&(c=Pa(g)),c=new n(s,c),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Sd,a.stateNode=c,c._reactInternals=a,c=a.stateNode,c.props=s,c.state=a.memoizedState,c.refs={},ed(a),g=n.contextType,c.context=typeof g=="object"&&g!==null?Pa(g):Pi,c.state=a.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(jd(a,n,g,s),c.state=a.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(g=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),g!==c.state&&Sd.enqueueReplaceState(c,c.state,null),zl(a,s,c,l),Bl(),c.state=a.memoizedState),typeof c.componentDidMount=="function"&&(a.flags|=4194308),s=!0}else if(e===null){c=a.stateNode;var v=a.memoizedProps,E=vi(n,v);c.props=E;var G=c.context,de=n.contextType;g=Pi,typeof de=="object"&&de!==null&&(g=Pa(de));var xe=n.getDerivedStateFromProps;de=typeof xe=="function"||typeof c.getSnapshotBeforeUpdate=="function",v=a.pendingProps!==v,de||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(v||G!==g)&&Dh(a,c,s,g),Ls=!1;var Z=a.memoizedState;c.state=Z,zl(a,s,c,l),Bl(),G=a.memoizedState,v||Z!==G||Ls?(typeof xe=="function"&&(jd(a,n,xe,s),G=a.memoizedState),(E=Ls||Ch(a,n,E,s,Z,G,g))?(de||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(a.flags|=4194308)):(typeof c.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=s,a.memoizedState=G),c.props=s,c.state=G,c.context=g,s=E):(typeof c.componentDidMount=="function"&&(a.flags|=4194308),s=!1)}else{c=a.stateNode,td(e,a),g=a.memoizedProps,de=vi(n,g),c.props=de,xe=a.pendingProps,Z=c.context,G=n.contextType,E=Pi,typeof G=="object"&&G!==null&&(E=Pa(G)),v=n.getDerivedStateFromProps,(G=typeof v=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g!==xe||Z!==E)&&Dh(a,c,s,E),Ls=!1,Z=a.memoizedState,c.state=Z,zl(a,s,c,l),Bl();var W=a.memoizedState;g!==xe||Z!==W||Ls||e!==null&&e.dependencies!==null&&Zr(e.dependencies)?(typeof v=="function"&&(jd(a,n,v,s),W=a.memoizedState),(de=Ls||Ch(a,n,de,s,Z,W,E)||e!==null&&e.dependencies!==null&&Zr(e.dependencies))?(G||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,W,E),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,W,E)),typeof c.componentDidUpdate=="function"&&(a.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof c.componentDidUpdate!="function"||g===e.memoizedProps&&Z===e.memoizedState||(a.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&Z===e.memoizedState||(a.flags|=1024),a.memoizedProps=s,a.memoizedState=W),c.props=s,c.state=W,c.context=E,s=de):(typeof c.componentDidUpdate!="function"||g===e.memoizedProps&&Z===e.memoizedState||(a.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&Z===e.memoizedState||(a.flags|=1024),s=!1)}return c=s,go(e,a),s=(a.flags&128)!==0,c||s?(c=a.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:c.render(),a.flags|=1,e!==null&&s?(a.child=Wi(a,e.child,null,l),a.child=Wi(a,null,n,l)):Oa(e,a,n,l),a.memoizedState=c.state,e=a.child):e=gs(e,a,l),e}function zh(e,a,n,s){return Ml(),a.flags|=256,Oa(e,a,n,s),a.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ad(e){return{baseLanes:e,cachePool:wf()}}function wd(e,a,n){return e=e!==null?e.childLanes&~n:0,a&&(e|=kn),e}function qh(e,a,n){var s=a.pendingProps,l=!1,c=(a.flags&128)!==0,g;if((g=c)||(g=e!==null&&e.memoizedState===null?!1:(Ea.current&2)!==0),g&&(l=!0,a.flags&=-129),g=(a.flags&32)!==0,a.flags&=-33,e===null){if(Ut){if(l?Us(a):Js(),Ut){var v=ha,E;if(E=v){e:{for(E=v,v=Qn;E.nodeType!==8;){if(!v){v=null;break e}if(E=Bn(E.nextSibling),E===null){v=null;break e}}v=E}v!==null?(a.memoizedState={dehydrated:v,treeContext:fi!==null?{id:ds,overflow:us}:null,retryLane:536870912,hydrationErrors:null},E=mn(18,null,null,0),E.stateNode=v,E.return=a,a.child=E,Za=a,ha=null,E=!0):E=!1}E||pi(a)}if(v=a.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return uu(v)?a.lanes=32:a.lanes=536870912,null;ps(a)}return v=s.children,s=s.fallback,l?(Js(),l=a.mode,v=_o({mode:"hidden",children:v},l),s=ui(s,l,n,null),v.return=a,s.return=a,v.sibling=s,a.child=v,l=a.child,l.memoizedState=Ad(n),l.childLanes=wd(e,g,n),a.memoizedState=Dd,s):(Us(a),Ed(a,v))}if(E=e.memoizedState,E!==null&&(v=E.dehydrated,v!==null)){if(c)a.flags&256?(Us(a),a.flags&=-257,a=Td(e,a,n)):a.memoizedState!==null?(Js(),a.child=e.child,a.flags|=128,a=null):(Js(),l=s.fallback,v=a.mode,s=_o({mode:"visible",children:s.children},v),l=ui(l,v,n,null),l.flags|=2,s.return=a,l.return=a,s.sibling=l,a.child=s,Wi(a,e.child,null,n),s=a.child,s.memoizedState=Ad(n),s.childLanes=wd(e,g,n),a.memoizedState=Dd,a=l);else if(Us(a),uu(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var G=g.dgst;g=G,s=Error(o(419)),s.stack="",s.digest=g,Rl({value:s,source:null,stack:null}),a=Td(e,a,n)}else if(Ta||Ll(e,a,n,!1),g=(n&e.childLanes)!==0,Ta||g){if(g=ea,g!==null&&(s=n&-n,s=(s&42)!==0?1:Ka(s),s=(s&(g.suspendedLanes|n))!==0?0:s,s!==0&&s!==E.retryLane))throw E.retryLane=s,qi(e,s),yn(g,e,s),Rh;v.data==="$?"||Yd(),a=Td(e,a,n)}else v.data==="$?"?(a.flags|=192,a.child=e.child,a=null):(e=E.treeContext,ha=Bn(v.nextSibling),Za=a,Ut=!0,mi=null,Qn=!1,e!==null&&(wn[En++]=ds,wn[En++]=us,wn[En++]=fi,ds=e.id,us=e.overflow,fi=a),a=Ed(a,s.children),a.flags|=4096);return a}return l?(Js(),l=s.fallback,v=a.mode,E=e.child,G=E.sibling,s=cs(E,{mode:"hidden",children:s.children}),s.subtreeFlags=E.subtreeFlags&65011712,G!==null?l=cs(G,l):(l=ui(l,v,n,null),l.flags|=2),l.return=a,s.return=a,s.sibling=l,a.child=s,s=l,l=a.child,v=e.child.memoizedState,v===null?v=Ad(n):(E=v.cachePool,E!==null?(G=wa._currentValue,E=E.parent!==G?{parent:G,pool:G}:E):E=wf(),v={baseLanes:v.baseLanes|n,cachePool:E}),l.memoizedState=v,l.childLanes=wd(e,g,n),a.memoizedState=Dd,s):(Us(a),n=e.child,e=n.sibling,n=cs(n,{mode:"visible",children:s.children}),n.return=a,n.sibling=null,e!==null&&(g=a.deletions,g===null?(a.deletions=[e],a.flags|=16):g.push(e)),a.child=n,a.memoizedState=null,n)}function Ed(e,a){return a=_o({mode:"visible",children:a},e.mode),a.return=e,e.child=a}function _o(e,a){return e=mn(22,e,null,a),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Td(e,a,n){return Wi(a,e.child,null,n),e=Ed(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function Ph(e,a,n){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a),Yc(e.return,a,n)}function kd(e,a,n,s,l){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(c.isBackwards=a,c.rendering=null,c.renderingStartTime=0,c.last=s,c.tail=n,c.tailMode=l)}function $h(e,a,n){var s=a.pendingProps,l=s.revealOrder,c=s.tail;if(Oa(e,a,s.children,n),s=Ea.current,(s&2)!==0)s=s&1|2,a.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ph(e,n,a);else if(e.tag===19)Ph(e,n,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(U(Ea,s),l){case"forwards":for(n=a.child,l=null;n!==null;)e=n.alternate,e!==null&&ho(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=a.child,a.child=null):(l=n.sibling,n.sibling=null),kd(a,!1,l,n,c);break;case"backwards":for(n=null,l=a.child,a.child=null;l!==null;){if(e=l.alternate,e!==null&&ho(e)===null){a.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}kd(a,!0,n,null,c);break;case"together":kd(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function gs(e,a,n){if(e!==null&&(a.dependencies=e.dependencies),$s|=a.lanes,(n&a.childLanes)===0)if(e!==null){if(Ll(e,a,n,!1),(n&a.childLanes)===0)return null}else return null;if(e!==null&&a.child!==e.child)throw Error(o(153));if(a.child!==null){for(e=a.child,n=cs(e,e.pendingProps),a.child=n,n.return=a;e.sibling!==null;)e=e.sibling,n=n.sibling=cs(e,e.pendingProps),n.return=a;n.sibling=null}return a.child}function Md(e,a){return(e.lanes&a)!==0?!0:(e=e.dependencies,!!(e!==null&&Zr(e)))}function __(e,a,n){switch(a.tag){case 3:je(a,a.stateNode.containerInfo),Rs(a,wa,e.memoizedState.cache),Ml();break;case 27:case 5:ct(a);break;case 4:je(a,a.stateNode.containerInfo);break;case 10:Rs(a,a.type,a.memoizedProps.value);break;case 13:var s=a.memoizedState;if(s!==null)return s.dehydrated!==null?(Us(a),a.flags|=128,null):(n&a.child.childLanes)!==0?qh(e,a,n):(Us(a),e=gs(e,a,n),e!==null?e.sibling:null);Us(a);break;case 19:var l=(e.flags&128)!==0;if(s=(n&a.childLanes)!==0,s||(Ll(e,a,n,!1),s=(n&a.childLanes)!==0),l){if(s)return $h(e,a,n);a.flags|=128}if(l=a.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),U(Ea,Ea.current),s)break;return null;case 22:case 23:return a.lanes=0,Ih(e,a,n);case 24:Rs(a,wa,e.memoizedState.cache)}return gs(e,a,n)}function Fh(e,a,n){if(e!==null)if(e.memoizedProps!==a.pendingProps)Ta=!0;else{if(!Md(e,n)&&(a.flags&128)===0)return Ta=!1,__(e,a,n);Ta=(e.flags&131072)!==0}else Ta=!1,Ut&&(a.flags&1048576)!==0&&bf(a,Xr,a.index);switch(a.lanes=0,a.tag){case 16:e:{e=a.pendingProps;var s=a.elementType,l=s._init;if(s=l(s._payload),a.type=s,typeof s=="function")zc(s)?(e=vi(s,e),a.tag=1,a=Bh(null,a,s,e,n)):(a.tag=0,a=Cd(null,a,s,e,n));else{if(s!=null){if(l=s.$$typeof,l===ne){a.tag=11,a=Lh(null,a,s,e,n);break e}else if(l===me){a.tag=14,a=Hh(null,a,s,e,n);break e}}throw a=ye(s)||s,Error(o(306,a,""))}}return a;case 0:return Cd(e,a,a.type,a.pendingProps,n);case 1:return s=a.type,l=vi(s,a.pendingProps),Bh(e,a,s,l,n);case 3:e:{if(je(a,a.stateNode.containerInfo),e===null)throw Error(o(387));s=a.pendingProps;var c=a.memoizedState;l=c.element,td(e,a),zl(a,s,null,n);var g=a.memoizedState;if(s=g.cache,Rs(a,wa,s),s!==c.cache&&Xc(a,[wa],n,!0),Bl(),s=g.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:g.cache},a.updateQueue.baseState=c,a.memoizedState=c,a.flags&256){a=zh(e,a,s,n);break e}else if(s!==l){l=Dn(Error(o(424)),a),Rl(l),a=zh(e,a,s,n);break e}else{switch(e=a.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ha=Bn(e.firstChild),Za=a,Ut=!0,mi=null,Qn=!0,n=Sh(a,null,s,n),a.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ml(),s===l){a=gs(e,a,n);break e}Oa(e,a,s,n)}a=a.child}return a;case 26:return go(e,a),e===null?(n=Xm(a.type,null,a.pendingProps,null))?a.memoizedState=n:Ut||(n=a.type,e=a.pendingProps,s=ko(ee.current).createElement(n),s[ia]=a,s[la]=e,Ua(s,n,e),Bt(s),a.stateNode=s):a.memoizedState=Xm(a.type,e.memoizedProps,a.pendingProps,e.memoizedState),null;case 27:return ct(a),e===null&&Ut&&(s=a.stateNode=Vm(a.type,a.pendingProps,ee.current),Za=a,Qn=!0,l=ha,Ys(a.type)?(fu=l,ha=Bn(s.firstChild)):ha=l),Oa(e,a,a.pendingProps.children,n),go(e,a),e===null&&(a.flags|=4194304),a.child;case 5:return e===null&&Ut&&((l=s=ha)&&(s=F_(s,a.type,a.pendingProps,Qn),s!==null?(a.stateNode=s,Za=a,ha=Bn(s.firstChild),Qn=!1,l=!0):l=!1),l||pi(a)),ct(a),l=a.type,c=a.pendingProps,g=e!==null?e.memoizedProps:null,s=c.children,ou(l,c)?s=null:g!==null&&ou(l,g)&&(a.flags|=32),a.memoizedState!==null&&(l=rd(e,a,c_,null,null,n),cr._currentValue=l),go(e,a),Oa(e,a,s,n),a.child;case 6:return e===null&&Ut&&((e=n=ha)&&(n=V_(n,a.pendingProps,Qn),n!==null?(a.stateNode=n,Za=a,ha=null,e=!0):e=!1),e||pi(a)),null;case 13:return qh(e,a,n);case 4:return je(a,a.stateNode.containerInfo),s=a.pendingProps,e===null?a.child=Wi(a,null,s,n):Oa(e,a,s,n),a.child;case 11:return Lh(e,a,a.type,a.pendingProps,n);case 7:return Oa(e,a,a.pendingProps,n),a.child;case 8:return Oa(e,a,a.pendingProps.children,n),a.child;case 12:return Oa(e,a,a.pendingProps.children,n),a.child;case 10:return s=a.pendingProps,Rs(a,a.type,s.value),Oa(e,a,s.children,n),a.child;case 9:return l=a.type._context,s=a.pendingProps.children,_i(a),l=Pa(l),s=s(l),a.flags|=1,Oa(e,a,s,n),a.child;case 14:return Hh(e,a,a.type,a.pendingProps,n);case 15:return Oh(e,a,a.type,a.pendingProps,n);case 19:return $h(e,a,n);case 31:return s=a.pendingProps,n=a.mode,s={mode:s.mode,children:s.children},e===null?(n=_o(s,n),n.ref=a.ref,a.child=n,n.return=a,a=n):(n=cs(e.child,s),n.ref=a.ref,a.child=n,n.return=a,a=n),a;case 22:return Ih(e,a,n);case 24:return _i(a),s=Pa(wa),e===null?(l=Kc(),l===null&&(l=ea,c=Zc(),l.pooledCache=c,c.refCount++,c!==null&&(l.pooledCacheLanes|=n),l=c),a.memoizedState={parent:s,cache:l},ed(a),Rs(a,wa,l)):((e.lanes&n)!==0&&(td(e,a),zl(a,null,null,n),Bl()),l=e.memoizedState,c=a.memoizedState,l.parent!==s?(l={parent:s,cache:s},a.memoizedState=l,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=l),Rs(a,wa,s)):(s=c.cache,Rs(a,wa,s),s!==l.cache&&Xc(a,[wa],n,!0))),Oa(e,a,a.pendingProps.children,n),a.child;case 29:throw a.pendingProps}throw Error(o(156,a.tag))}function _s(e){e.flags|=4}function Vh(e,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ep(a)){if(a=Tn.current,a!==null&&((Rt&4194048)===Rt?Kn!==null:(Rt&62914560)!==Rt&&(Rt&536870912)===0||a!==Kn))throw Ul=Wc,Ef;e.flags|=8192}}function xo(e,a){a!==null&&(e.flags|=4),e.flags&16384&&(a=e.tag!==22?Ca():536870912,e.lanes|=a,nl|=a)}function Yl(e,a){if(!Ut)switch(e.tailMode){case"hidden":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ra(e){var a=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(a)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&65011712,s|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,a}function x_(e,a,n){var s=a.pendingProps;switch(Fc(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ra(a),null;case 1:return ra(a),null;case 3:return n=a.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),hs(wa),Be(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(kl(a)?_s(a):e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Nf())),ra(a),null;case 26:return n=a.memoizedState,e===null?(_s(a),n!==null?(ra(a),Vh(a,n)):(ra(a),a.flags&=-16777217)):n?n!==e.memoizedState?(_s(a),ra(a),Vh(a,n)):(ra(a),a.flags&=-16777217):(e.memoizedProps!==s&&_s(a),ra(a),a.flags&=-16777217),null;case 27:We(a),n=ee.current;var l=a.type;if(e!==null&&a.stateNode!=null)e.memoizedProps!==s&&_s(a);else{if(!s){if(a.stateNode===null)throw Error(o(166));return ra(a),null}e=ie.current,kl(a)?jf(a):(e=Vm(l,s,n),a.stateNode=e,_s(a))}return ra(a),null;case 5:if(We(a),n=a.type,e!==null&&a.stateNode!=null)e.memoizedProps!==s&&_s(a);else{if(!s){if(a.stateNode===null)throw Error(o(166));return ra(a),null}if(e=ie.current,kl(a))jf(a);else{switch(l=ko(ee.current),e){case 1:e=l.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=l.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?l.createElement("select",{is:s.is}):l.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?l.createElement(n,{is:s.is}):l.createElement(n)}}e[ia]=a,e[la]=s;e:for(l=a.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}a.stateNode=e;e:switch(Ua(e,n,s),n){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&_s(a)}}return ra(a),a.flags&=-16777217,null;case 6:if(e&&a.stateNode!=null)e.memoizedProps!==s&&_s(a);else{if(typeof s!="string"&&a.stateNode===null)throw Error(o(166));if(e=ee.current,kl(a)){if(e=a.stateNode,n=a.memoizedProps,s=null,l=Za,l!==null)switch(l.tag){case 27:case 5:s=l.memoizedProps}e[ia]=a,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||Jm(e.nodeValue,n)),e||pi(a)}else e=ko(e).createTextNode(s),e[ia]=a,a.stateNode=e}return ra(a),null;case 13:if(s=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=kl(a),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(o(318));if(l=a.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));l[ia]=a}else Ml(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ra(a),l=!1}else l=Nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return a.flags&256?(ps(a),a):(ps(a),null)}if(ps(a),(a.flags&128)!==0)return a.lanes=n,a;if(n=s!==null,e=e!==null&&e.memoizedState!==null,n){s=a.child,l=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(l=s.alternate.memoizedState.cachePool.pool);var c=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048)}return n!==e&&n&&(a.child.flags|=8192),xo(a,a.updateQueue),ra(a),null;case 4:return Be(),e===null&&nu(a.stateNode.containerInfo),ra(a),null;case 10:return hs(a.type),ra(a),null;case 19:if(ae(Ea),l=a.memoizedState,l===null)return ra(a),null;if(s=(a.flags&128)!==0,c=l.rendering,c===null)if(s)Yl(l,!1);else{if(ma!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(c=ho(e),c!==null){for(a.flags|=128,Yl(l,!1),e=c.updateQueue,a.updateQueue=e,xo(a,e),a.subtreeFlags=0,e=n,n=a.child;n!==null;)vf(n,e),n=n.sibling;return U(Ea,Ea.current&1|2),a.child}e=e.sibling}l.tail!==null&&kt()>bo&&(a.flags|=128,s=!0,Yl(l,!1),a.lanes=4194304)}else{if(!s)if(e=ho(c),e!==null){if(a.flags|=128,s=!0,e=e.updateQueue,a.updateQueue=e,xo(a,e),Yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!Ut)return ra(a),null}else 2*kt()-l.renderingStartTime>bo&&n!==536870912&&(a.flags|=128,s=!0,Yl(l,!1),a.lanes=4194304);l.isBackwards?(c.sibling=a.child,a.child=c):(e=l.last,e!==null?e.sibling=c:a.child=c,l.last=c)}return l.tail!==null?(a=l.tail,l.rendering=a,l.tail=a.sibling,l.renderingStartTime=kt(),a.sibling=null,e=Ea.current,U(Ea,s?e&1|2:e&1),a):(ra(a),null);case 22:case 23:return ps(a),id(),s=a.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(a.flags|=8192):s&&(a.flags|=8192),s?(n&536870912)!==0&&(a.flags&128)===0&&(ra(a),a.subtreeFlags&6&&(a.flags|=8192)):ra(a),n=a.updateQueue,n!==null&&xo(a,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==n&&(a.flags|=2048),e!==null&&ae(xi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),a.memoizedState.cache!==n&&(a.flags|=2048),hs(wa),ra(a),null;case 25:return null;case 30:return null}throw Error(o(156,a.tag))}function y_(e,a){switch(Fc(a),a.tag){case 1:return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return hs(wa),Be(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 26:case 27:case 5:return We(a),null;case 13:if(ps(a),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(o(340));Ml()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return ae(Ea),null;case 4:return Be(),null;case 10:return hs(a.type),null;case 22:case 23:return ps(a),id(),e!==null&&ae(xi),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 24:return hs(wa),null;case 25:return null;default:return null}}function Gh(e,a){switch(Fc(a),a.tag){case 3:hs(wa),Be();break;case 26:case 27:case 5:We(a);break;case 4:Be();break;case 13:ps(a);break;case 19:ae(Ea);break;case 10:hs(a.type);break;case 22:case 23:ps(a),id(),e!==null&&ae(xi);break;case 24:hs(wa)}}function Xl(e,a){try{var n=a.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var l=s.next;n=l;do{if((n.tag&e)===e){s=void 0;var c=n.create,g=n.inst;s=c(),g.destroy=s}n=n.next}while(n!==l)}}catch(v){Zt(a,a.return,v)}}function Bs(e,a,n){try{var s=a.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&e)===e){var g=s.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,l=a;var E=n,G=v;try{G()}catch(de){Zt(l,E,de)}}}s=s.next}while(s!==c)}}catch(de){Zt(a,a.return,de)}}function Yh(e){var a=e.updateQueue;if(a!==null){var n=e.stateNode;try{Hf(a,n)}catch(s){Zt(e,e.return,s)}}}function Xh(e,a,n){n.props=vi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){Zt(e,a,s)}}function Zl(e,a){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(l){Zt(e,a,l)}}function Wn(e,a){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(l){Zt(e,a,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){Zt(e,a,l)}else n.current=null}function Zh(e){var a=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(l){Zt(e,e.return,l)}}function Rd(e,a,n){try{var s=e.stateNode;B_(s,e.type,n,a),s[la]=a}catch(l){Zt(e,e.return,l)}}function Qh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ys(e.type)||e.tag===4}function Ld(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ys(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hd(e,a,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,a?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,a):(a=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.appendChild(e),n=n._reactRootContainer,n!=null||a.onclick!==null||(a.onclick=To));else if(s!==4&&(s===27&&Ys(e.type)&&(n=e.stateNode,a=null),e=e.child,e!==null))for(Hd(e,a,n),e=e.sibling;e!==null;)Hd(e,a,n),e=e.sibling}function yo(e,a,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,a?n.insertBefore(e,a):n.appendChild(e);else if(s!==4&&(s===27&&Ys(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(yo(e,a,n),e=e.sibling;e!==null;)yo(e,a,n),e=e.sibling}function Kh(e){var a=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Ua(a,s,n),a[ia]=e,a[la]=n}catch(c){Zt(e,e.return,c)}}var xs=!1,ya=!1,Od=!1,Wh=typeof WeakSet=="function"?WeakSet:Set,ka=null;function v_(e,a){if(e=e.containerInfo,lu=Io,e=ft(e),Pe(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var g=0,v=-1,E=-1,G=0,de=0,xe=e,Z=null;t:for(;;){for(var W;xe!==n||l!==0&&xe.nodeType!==3||(v=g+l),xe!==c||s!==0&&xe.nodeType!==3||(E=g+s),xe.nodeType===3&&(g+=xe.nodeValue.length),(W=xe.firstChild)!==null;)Z=xe,xe=W;for(;;){if(xe===e)break t;if(Z===n&&++G===l&&(v=g),Z===c&&++de===s&&(E=g),(W=xe.nextSibling)!==null)break;xe=Z,Z=xe.parentNode}xe=W}n=v===-1||E===-1?null:{start:v,end:E}}else n=null}n=n||{start:0,end:0}}else n=null;for(ru={focusedElem:e,selectionRange:n},Io=!1,ka=a;ka!==null;)if(a=ka,e=a.child,(a.subtreeFlags&1024)!==0&&e!==null)e.return=a,ka=e;else for(;ka!==null;){switch(a=ka,c=a.alternate,e=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,n=a,l=c.memoizedProps,c=c.memoizedState,s=n.stateNode;try{var ut=vi(n.type,l,n.elementType===n.type);e=s.getSnapshotBeforeUpdate(ut,c),s.__reactInternalSnapshotBeforeUpdate=e}catch(ot){Zt(n,n.return,ot)}}break;case 3:if((e&1024)!==0){if(e=a.stateNode.containerInfo,n=e.nodeType,n===9)du(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":du(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=a.sibling,e!==null){e.return=a.return,ka=e;break}ka=a.return}}function em(e,a,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:zs(e,n),s&4&&Xl(5,n);break;case 1:if(zs(e,n),s&4)if(e=n.stateNode,a===null)try{e.componentDidMount()}catch(g){Zt(n,n.return,g)}else{var l=vi(n.type,a.memoizedProps);a=a.memoizedState;try{e.componentDidUpdate(l,a,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Zt(n,n.return,g)}}s&64&&Yh(n),s&512&&Zl(n,n.return);break;case 3:if(zs(e,n),s&64&&(e=n.updateQueue,e!==null)){if(a=null,n.child!==null)switch(n.child.tag){case 27:case 5:a=n.child.stateNode;break;case 1:a=n.child.stateNode}try{Hf(e,a)}catch(g){Zt(n,n.return,g)}}break;case 27:a===null&&s&4&&Kh(n);case 26:case 5:zs(e,n),a===null&&s&4&&Zh(n),s&512&&Zl(n,n.return);break;case 12:zs(e,n);break;case 13:zs(e,n),s&4&&nm(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=E_.bind(null,n),G_(e,n))));break;case 22:if(s=n.memoizedState!==null||xs,!s){a=a!==null&&a.memoizedState!==null||ya,l=xs;var c=ya;xs=s,(ya=a)&&!c?qs(e,n,(n.subtreeFlags&8772)!==0):zs(e,n),xs=l,ya=c}break;case 30:break;default:zs(e,n)}}function tm(e){var a=e.alternate;a!==null&&(e.alternate=null,tm(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&ht(a)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var na=null,sn=!1;function ys(e,a,n){for(n=n.child;n!==null;)am(e,a,n),n=n.sibling}function am(e,a,n){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount($e,n)}catch{}switch(n.tag){case 26:ya||Wn(n,a),ys(e,a,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ya||Wn(n,a);var s=na,l=sn;Ys(n.type)&&(na=n.stateNode,sn=!1),ys(e,a,n),ir(n.stateNode),na=s,sn=l;break;case 5:ya||Wn(n,a);case 6:if(s=na,l=sn,na=null,ys(e,a,n),na=s,sn=l,na!==null)if(sn)try{(na.nodeType===9?na.body:na.nodeName==="HTML"?na.ownerDocument.body:na).removeChild(n.stateNode)}catch(c){Zt(n,a,c)}else try{na.removeChild(n.stateNode)}catch(c){Zt(n,a,c)}break;case 18:na!==null&&(sn?(e=na,$m(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),hr(e)):$m(na,n.stateNode));break;case 4:s=na,l=sn,na=n.stateNode.containerInfo,sn=!0,ys(e,a,n),na=s,sn=l;break;case 0:case 11:case 14:case 15:ya||Bs(2,n,a),ya||Bs(4,n,a),ys(e,a,n);break;case 1:ya||(Wn(n,a),s=n.stateNode,typeof s.componentWillUnmount=="function"&&Xh(n,a,s)),ys(e,a,n);break;case 21:ys(e,a,n);break;case 22:ya=(s=ya)||n.memoizedState!==null,ys(e,a,n),ya=s;break;default:ys(e,a,n)}}function nm(e,a){if(a.memoizedState===null&&(e=a.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hr(e)}catch(n){Zt(a,a.return,n)}}function b_(e){switch(e.tag){case 13:case 19:var a=e.stateNode;return a===null&&(a=e.stateNode=new Wh),a;case 22:return e=e.stateNode,a=e._retryCache,a===null&&(a=e._retryCache=new Wh),a;default:throw Error(o(435,e.tag))}}function Id(e,a){var n=b_(e);a.forEach(function(s){var l=T_.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}function pn(e,a){var n=a.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s],c=e,g=a,v=g;e:for(;v!==null;){switch(v.tag){case 27:if(Ys(v.type)){na=v.stateNode,sn=!1;break e}break;case 5:na=v.stateNode,sn=!1;break e;case 3:case 4:na=v.stateNode.containerInfo,sn=!0;break e}v=v.return}if(na===null)throw Error(o(160));am(c,g,l),na=null,sn=!1,c=l.alternate,c!==null&&(c.return=null),l.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)sm(a,e),a=a.sibling}var Jn=null;function sm(e,a){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pn(a,e),gn(e),s&4&&(Bs(3,e,e.return),Xl(3,e),Bs(5,e,e.return));break;case 1:pn(a,e),gn(e),s&512&&(ya||n===null||Wn(n,n.return)),s&64&&xs&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var l=Jn;if(pn(a,e),gn(e),s&512&&(ya||n===null||Wn(n,n.return)),s&4){var c=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(s){case"title":c=l.getElementsByTagName("title")[0],(!c||c[fn]||c[ia]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=l.createElement(s),l.head.insertBefore(c,l.querySelector("head > title"))),Ua(c,s,n),c[ia]=e,Bt(c),s=c;break e;case"link":var g=Km("link","href",l).get(s+(n.href||""));if(g){for(var v=0;v<g.length;v++)if(c=g[v],c.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&c.getAttribute("rel")===(n.rel==null?null:n.rel)&&c.getAttribute("title")===(n.title==null?null:n.title)&&c.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){g.splice(v,1);break t}}c=l.createElement(s),Ua(c,s,n),l.head.appendChild(c);break;case"meta":if(g=Km("meta","content",l).get(s+(n.content||""))){for(v=0;v<g.length;v++)if(c=g[v],c.getAttribute("content")===(n.content==null?null:""+n.content)&&c.getAttribute("name")===(n.name==null?null:n.name)&&c.getAttribute("property")===(n.property==null?null:n.property)&&c.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&c.getAttribute("charset")===(n.charSet==null?null:n.charSet)){g.splice(v,1);break t}}c=l.createElement(s),Ua(c,s,n),l.head.appendChild(c);break;default:throw Error(o(468,s))}c[ia]=e,Bt(c),s=c}e.stateNode=s}else Wm(l,e.type,e.stateNode);else e.stateNode=Qm(l,s,e.memoizedProps);else c!==s?(c===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):c.count--,s===null?Wm(l,e.type,e.stateNode):Qm(l,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Rd(e,e.memoizedProps,n.memoizedProps)}break;case 27:pn(a,e),gn(e),s&512&&(ya||n===null||Wn(n,n.return)),n!==null&&s&4&&Rd(e,e.memoizedProps,n.memoizedProps);break;case 5:if(pn(a,e),gn(e),s&512&&(ya||n===null||Wn(n,n.return)),e.flags&32){l=e.stateNode;try{Gt(l,"")}catch(W){Zt(e,e.return,W)}}s&4&&e.stateNode!=null&&(l=e.memoizedProps,Rd(e,l,n!==null?n.memoizedProps:l)),s&1024&&(Od=!0);break;case 6:if(pn(a,e),gn(e),s&4){if(e.stateNode===null)throw Error(o(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(W){Zt(e,e.return,W)}}break;case 3:if(Lo=null,l=Jn,Jn=Mo(a.containerInfo),pn(a,e),Jn=l,gn(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{hr(a.containerInfo)}catch(W){Zt(e,e.return,W)}Od&&(Od=!1,im(e));break;case 4:s=Jn,Jn=Mo(e.stateNode.containerInfo),pn(a,e),gn(e),Jn=s;break;case 12:pn(a,e),gn(e);break;case 13:pn(a,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Pd=kt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Id(e,s)));break;case 22:l=e.memoizedState!==null;var E=n!==null&&n.memoizedState!==null,G=xs,de=ya;if(xs=G||l,ya=de||E,pn(a,e),ya=de,xs=G,gn(e),s&8192)e:for(a=e.stateNode,a._visibility=l?a._visibility&-2:a._visibility|1,l&&(n===null||E||xs||ya||bi(e)),n=null,a=e;;){if(a.tag===5||a.tag===26){if(n===null){E=n=a;try{if(c=E.stateNode,l)g=c.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=E.stateNode;var xe=E.memoizedProps.style,Z=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;v.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(W){Zt(E,E.return,W)}}}else if(a.tag===6){if(n===null){E=a;try{E.stateNode.nodeValue=l?"":E.memoizedProps}catch(W){Zt(E,E.return,W)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;n===a&&(n=null),a=a.return}n===a&&(n=null),a.sibling.return=a.return,a=a.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Id(e,n))));break;case 19:pn(a,e),gn(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Id(e,s)));break;case 30:break;case 21:break;default:pn(a,e),gn(e)}}function gn(e){var a=e.flags;if(a&2){try{for(var n,s=e.return;s!==null;){if(Qh(s)){n=s;break}s=s.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var l=n.stateNode,c=Ld(e);yo(e,c,l);break;case 5:var g=n.stateNode;n.flags&32&&(Gt(g,""),n.flags&=-33);var v=Ld(e);yo(e,v,g);break;case 3:case 4:var E=n.stateNode.containerInfo,G=Ld(e);Hd(e,G,E);break;default:throw Error(o(161))}}catch(de){Zt(e,e.return,de)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function im(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var a=e;im(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),e=e.sibling}}function zs(e,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)em(e,a.alternate,a),a=a.sibling}function bi(e){for(e=e.child;e!==null;){var a=e;switch(a.tag){case 0:case 11:case 14:case 15:Bs(4,a,a.return),bi(a);break;case 1:Wn(a,a.return);var n=a.stateNode;typeof n.componentWillUnmount=="function"&&Xh(a,a.return,n),bi(a);break;case 27:ir(a.stateNode);case 26:case 5:Wn(a,a.return),bi(a);break;case 22:a.memoizedState===null&&bi(a);break;case 30:bi(a);break;default:bi(a)}e=e.sibling}}function qs(e,a,n){for(n=n&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var s=a.alternate,l=e,c=a,g=c.flags;switch(c.tag){case 0:case 11:case 15:qs(l,c,n),Xl(4,c);break;case 1:if(qs(l,c,n),s=c,l=s.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(G){Zt(s,s.return,G)}if(s=c,l=s.updateQueue,l!==null){var v=s.stateNode;try{var E=l.shared.hiddenCallbacks;if(E!==null)for(l.shared.hiddenCallbacks=null,l=0;l<E.length;l++)Lf(E[l],v)}catch(G){Zt(s,s.return,G)}}n&&g&64&&Yh(c),Zl(c,c.return);break;case 27:Kh(c);case 26:case 5:qs(l,c,n),n&&s===null&&g&4&&Zh(c),Zl(c,c.return);break;case 12:qs(l,c,n);break;case 13:qs(l,c,n),n&&g&4&&nm(l,c);break;case 22:c.memoizedState===null&&qs(l,c,n),Zl(c,c.return);break;case 30:break;default:qs(l,c,n)}a=a.sibling}}function Ud(e,a){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(e=a.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Hl(n))}function Jd(e,a){e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Hl(e))}function es(e,a,n,s){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)lm(e,a,n,s),a=a.sibling}function lm(e,a,n,s){var l=a.flags;switch(a.tag){case 0:case 11:case 15:es(e,a,n,s),l&2048&&Xl(9,a);break;case 1:es(e,a,n,s);break;case 3:es(e,a,n,s),l&2048&&(e=null,a.alternate!==null&&(e=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==e&&(a.refCount++,e!=null&&Hl(e)));break;case 12:if(l&2048){es(e,a,n,s),e=a.stateNode;try{var c=a.memoizedProps,g=c.id,v=c.onPostCommit;typeof v=="function"&&v(g,a.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Zt(a,a.return,E)}}else es(e,a,n,s);break;case 13:es(e,a,n,s);break;case 23:break;case 22:c=a.stateNode,g=a.alternate,a.memoizedState!==null?c._visibility&2?es(e,a,n,s):Ql(e,a):c._visibility&2?es(e,a,n,s):(c._visibility|=2,el(e,a,n,s,(a.subtreeFlags&10256)!==0)),l&2048&&Ud(g,a);break;case 24:es(e,a,n,s),l&2048&&Jd(a.alternate,a);break;default:es(e,a,n,s)}}function el(e,a,n,s,l){for(l=l&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var c=e,g=a,v=n,E=s,G=g.flags;switch(g.tag){case 0:case 11:case 15:el(c,g,v,E,l),Xl(8,g);break;case 23:break;case 22:var de=g.stateNode;g.memoizedState!==null?de._visibility&2?el(c,g,v,E,l):Ql(c,g):(de._visibility|=2,el(c,g,v,E,l)),l&&G&2048&&Ud(g.alternate,g);break;case 24:el(c,g,v,E,l),l&&G&2048&&Jd(g.alternate,g);break;default:el(c,g,v,E,l)}a=a.sibling}}function Ql(e,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var n=e,s=a,l=s.flags;switch(s.tag){case 22:Ql(n,s),l&2048&&Ud(s.alternate,s);break;case 24:Ql(n,s),l&2048&&Jd(s.alternate,s);break;default:Ql(n,s)}a=a.sibling}}var Kl=8192;function tl(e){if(e.subtreeFlags&Kl)for(e=e.child;e!==null;)rm(e),e=e.sibling}function rm(e){switch(e.tag){case 26:tl(e),e.flags&Kl&&e.memoizedState!==null&&lx(Jn,e.memoizedState,e.memoizedProps);break;case 5:tl(e);break;case 3:case 4:var a=Jn;Jn=Mo(e.stateNode.containerInfo),tl(e),Jn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Kl,Kl=16777216,tl(e),Kl=a):tl(e));break;default:tl(e)}}function om(e){var a=e.alternate;if(a!==null&&(e=a.child,e!==null)){a.child=null;do a=e.sibling,e.sibling=null,e=a;while(e!==null)}}function Wl(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var n=0;n<a.length;n++){var s=a[n];ka=s,dm(s,e)}om(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cm(e),e=e.sibling}function cm(e){switch(e.tag){case 0:case 11:case 15:Wl(e),e.flags&2048&&Bs(9,e,e.return);break;case 3:Wl(e);break;case 12:Wl(e);break;case 22:var a=e.stateNode;e.memoizedState!==null&&a._visibility&2&&(e.return===null||e.return.tag!==13)?(a._visibility&=-3,vo(e)):Wl(e);break;default:Wl(e)}}function vo(e){var a=e.deletions;if((e.flags&16)!==0){if(a!==null)for(var n=0;n<a.length;n++){var s=a[n];ka=s,dm(s,e)}om(e)}for(e=e.child;e!==null;){switch(a=e,a.tag){case 0:case 11:case 15:Bs(8,a,a.return),vo(a);break;case 22:n=a.stateNode,n._visibility&2&&(n._visibility&=-3,vo(a));break;default:vo(a)}e=e.sibling}}function dm(e,a){for(;ka!==null;){var n=ka;switch(n.tag){case 0:case 11:case 15:Bs(8,n,a);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Hl(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,ka=s;else e:for(n=e;ka!==null;){s=ka;var l=s.sibling,c=s.return;if(tm(s),s===n){ka=null;break e}if(l!==null){l.return=c,ka=l;break e}ka=c}}}var j_={getCacheForType:function(e){var a=Pa(wa),n=a.data.get(e);return n===void 0&&(n=e(),a.data.set(e,n)),n}},S_=typeof WeakMap=="function"?WeakMap:Map,qt=0,ea=null,At=null,Rt=0,Pt=0,_n=null,Ps=!1,al=!1,Bd=!1,vs=0,ma=0,$s=0,ji=0,zd=0,kn=0,nl=0,er=null,ln=null,qd=!1,Pd=0,bo=1/0,jo=null,Fs=null,Ia=0,Vs=null,sl=null,il=0,$d=0,Fd=null,um=null,tr=0,Vd=null;function xn(){if((qt&2)!==0&&Rt!==0)return Rt&-Rt;if(T.T!==null){var e=Vi;return e!==0?e:Wd()}return un()}function fm(){kn===0&&(kn=(Rt&536870912)===0||Ut?_a():536870912);var e=Tn.current;return e!==null&&(e.flags|=32),kn}function yn(e,a,n){(e===ea&&(Pt===2||Pt===9)||e.cancelPendingCommit!==null)&&(ll(e,0),Gs(e,Rt,kn,!1)),ca(e,n),((qt&2)===0||e!==ea)&&(e===ea&&((qt&2)===0&&(ji|=n),ma===4&&Gs(e,Rt,kn,!1)),ts(e))}function hm(e,a,n){if((qt&6)!==0)throw Error(o(327));var s=!n&&(a&124)===0&&(a&e.expiredLanes)===0||Na(e,a),l=s?D_(e,a):Xd(e,a,!0),c=s;do{if(l===0){al&&!s&&Gs(e,a,0,!1);break}else{if(n=e.current.alternate,c&&!N_(n)){l=Xd(e,a,!1),c=!1;continue}if(l===2){if(c=a,e.errorRecoveryDisabledLanes&c)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){a=g;e:{var v=e;l=er;var E=v.current.memoizedState.isDehydrated;if(E&&(ll(v,g).flags|=256),g=Xd(v,g,!1),g!==2){if(Bd&&!E){v.errorRecoveryDisabledLanes|=c,ji|=c,l=4;break e}c=ln,ln=l,c!==null&&(ln===null?ln=c:ln.push.apply(ln,c))}l=g}if(c=!1,l!==2)continue}}if(l===1){ll(e,0),Gs(e,a,0,!0);break}e:{switch(s=e,c=l,c){case 0:case 1:throw Error(o(345));case 4:if((a&4194048)!==a)break;case 6:Gs(s,a,kn,!Ps);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(o(329))}if((a&62914560)===a&&(l=Pd+300-kt(),10<l)){if(Gs(s,a,kn,!Ps),Nt(s,0,!0)!==0)break e;s.timeoutHandle=qm(mm.bind(null,s,n,ln,jo,qd,a,kn,ji,nl,Ps,c,2,-0,0),l);break e}mm(s,n,ln,jo,qd,a,kn,ji,nl,Ps,c,0,-0,0)}}break}while(!0);ts(e)}function mm(e,a,n,s,l,c,g,v,E,G,de,xe,Z,W){if(e.timeoutHandle=-1,xe=a.subtreeFlags,(xe&8192||(xe&16785408)===16785408)&&(or={stylesheets:null,count:0,unsuspend:ix},rm(a),xe=rx(),xe!==null)){e.cancelPendingCommit=xe(bm.bind(null,e,a,c,n,s,l,g,v,E,de,1,Z,W)),Gs(e,c,g,!G);return}bm(e,a,c,n,s,l,g,v,E)}function N_(e){for(var a=e;;){var n=a.tag;if((n===0||n===11||n===15)&&a.flags&16384&&(n=a.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var l=n[s],c=l.getSnapshot;l=l.value;try{if(!D(c(),l))return!1}catch{return!1}}if(n=a.child,a.subtreeFlags&16384&&n!==null)n.return=a,a=n;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Gs(e,a,n,s){a&=~zd,a&=~ji,e.suspendedLanes|=a,e.pingedLanes&=~a,s&&(e.warmLanes|=a),s=e.expirationTimes;for(var l=a;0<l;){var c=31-Jt(l),g=1<<c;s[c]=-1,l&=~g}n!==0&&Ya(e,n,a)}function So(){return(qt&6)===0?(ar(0),!1):!0}function Gd(){if(At!==null){if(Pt===0)var e=At.return;else e=At,fs=gi=null,dd(e),Ki=null,Vl=0,e=At;for(;e!==null;)Gh(e.alternate,e),e=e.return;At=null}}function ll(e,a){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,q_(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Gd(),ea=e,At=n=cs(e.current,null),Rt=a,Pt=0,_n=null,Ps=!1,al=Na(e,a),Bd=!1,nl=kn=zd=ji=$s=ma=0,ln=er=null,qd=!1,(a&8)!==0&&(a|=a&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=a;0<s;){var l=31-Jt(s),c=1<<l;a|=e[l],s&=~c}return vs=a,$r(),n}function pm(e,a){Ct=null,T.H=co,a===Il||a===Wr?(a=Mf(),Pt=3):a===Ef?(a=Mf(),Pt=4):Pt=a===Rh?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,_n=a,At===null&&(ma=1,po(e,Dn(a,e.current)))}function gm(){var e=T.H;return T.H=co,e===null?co:e}function _m(){var e=T.A;return T.A=j_,e}function Yd(){ma=4,Ps||(Rt&4194048)!==Rt&&Tn.current!==null||(al=!0),($s&134217727)===0&&(ji&134217727)===0||ea===null||Gs(ea,Rt,kn,!1)}function Xd(e,a,n){var s=qt;qt|=2;var l=gm(),c=_m();(ea!==e||Rt!==a)&&(jo=null,ll(e,a)),a=!1;var g=ma;e:do try{if(Pt!==0&&At!==null){var v=At,E=_n;switch(Pt){case 8:Gd(),g=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(a=!0);var G=Pt;if(Pt=0,_n=null,rl(e,v,E,G),n&&al){g=0;break e}break;default:G=Pt,Pt=0,_n=null,rl(e,v,E,G)}}C_(),g=ma;break}catch(de){pm(e,de)}while(!0);return a&&e.shellSuspendCounter++,fs=gi=null,qt=s,T.H=l,T.A=c,At===null&&(ea=null,Rt=0,$r()),g}function C_(){for(;At!==null;)xm(At)}function D_(e,a){var n=qt;qt|=2;var s=gm(),l=_m();ea!==e||Rt!==a?(jo=null,bo=kt()+500,ll(e,a)):al=Na(e,a);e:do try{if(Pt!==0&&At!==null){a=At;var c=_n;t:switch(Pt){case 1:Pt=0,_n=null,rl(e,a,c,1);break;case 2:case 9:if(Tf(c)){Pt=0,_n=null,ym(a);break}a=function(){Pt!==2&&Pt!==9||ea!==e||(Pt=7),ts(e)},c.then(a,a);break e;case 3:Pt=7;break e;case 4:Pt=5;break e;case 7:Tf(c)?(Pt=0,_n=null,ym(a)):(Pt=0,_n=null,rl(e,a,c,7));break;case 5:var g=null;switch(At.tag){case 26:g=At.memoizedState;case 5:case 27:var v=At;if(!g||ep(g)){Pt=0,_n=null;var E=v.sibling;if(E!==null)At=E;else{var G=v.return;G!==null?(At=G,No(G)):At=null}break t}}Pt=0,_n=null,rl(e,a,c,5);break;case 6:Pt=0,_n=null,rl(e,a,c,6);break;case 8:Gd(),ma=6;break e;default:throw Error(o(462))}}A_();break}catch(de){pm(e,de)}while(!0);return fs=gi=null,T.H=s,T.A=l,qt=n,At!==null?0:(ea=null,Rt=0,$r(),ma)}function A_(){for(;At!==null&&!Ze();)xm(At)}function xm(e){var a=Fh(e.alternate,e,vs);e.memoizedProps=e.pendingProps,a===null?No(e):At=a}function ym(e){var a=e,n=a.alternate;switch(a.tag){case 15:case 0:a=Jh(n,a,a.pendingProps,a.type,void 0,Rt);break;case 11:a=Jh(n,a,a.pendingProps,a.type.render,a.ref,Rt);break;case 5:dd(a);default:Gh(n,a),a=At=vf(a,vs),a=Fh(n,a,vs)}e.memoizedProps=e.pendingProps,a===null?No(e):At=a}function rl(e,a,n,s){fs=gi=null,dd(a),Ki=null,Vl=0;var l=a.return;try{if(g_(e,l,a,n,Rt)){ma=1,po(e,Dn(n,e.current)),At=null;return}}catch(c){if(l!==null)throw At=l,c;ma=1,po(e,Dn(n,e.current)),At=null;return}a.flags&32768?(Ut||s===1?e=!0:al||(Rt&536870912)!==0?e=!1:(Ps=e=!0,(s===2||s===9||s===3||s===6)&&(s=Tn.current,s!==null&&s.tag===13&&(s.flags|=16384))),vm(a,e)):No(a)}function No(e){var a=e;do{if((a.flags&32768)!==0){vm(a,Ps);return}e=a.return;var n=x_(a.alternate,a,vs);if(n!==null){At=n;return}if(a=a.sibling,a!==null){At=a;return}At=a=e}while(a!==null);ma===0&&(ma=5)}function vm(e,a){do{var n=y_(e.alternate,e);if(n!==null){n.flags&=32767,At=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!a&&(e=e.sibling,e!==null)){At=e;return}At=e=n}while(e!==null);ma=6,At=null}function bm(e,a,n,s,l,c,g,v,E){e.cancelPendingCommit=null;do Co();while(Ia!==0);if((qt&6)!==0)throw Error(o(327));if(a!==null){if(a===e.current)throw Error(o(177));if(c=a.lanes|a.childLanes,c|=Jc,Vn(e,n,c,g,v,E),e===ea&&(At=ea=null,Rt=0),sl=a,Vs=e,il=n,$d=c,Fd=l,um=s,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,k_(oa,function(){return Dm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||s){s=T.T,T.T=null,l=A.p,A.p=2,g=qt,qt|=4;try{v_(e,a,n)}finally{qt=g,A.p=l,T.T=s}}Ia=1,jm(),Sm(),Nm()}}function jm(){if(Ia===1){Ia=0;var e=Vs,a=sl,n=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||n){n=T.T,T.T=null;var s=A.p;A.p=2;var l=qt;qt|=4;try{sm(a,e);var c=ru,g=ft(e.containerInfo),v=c.focusedElem,E=c.selectionRange;if(g!==v&&v&&v.ownerDocument&&Ue(v.ownerDocument.documentElement,v)){if(E!==null&&Pe(v)){var G=E.start,de=E.end;if(de===void 0&&(de=G),"selectionStart"in v)v.selectionStart=G,v.selectionEnd=Math.min(de,v.value.length);else{var xe=v.ownerDocument||document,Z=xe&&xe.defaultView||window;if(Z.getSelection){var W=Z.getSelection(),ut=v.textContent.length,ot=Math.min(E.start,ut),Vt=E.end===void 0?ot:Math.min(E.end,ut);!W.extend&&ot>Vt&&(g=Vt,Vt=ot,ot=g);var q=Ve(v,ot),O=Ve(v,Vt);if(q&&O&&(W.rangeCount!==1||W.anchorNode!==q.node||W.anchorOffset!==q.offset||W.focusNode!==O.node||W.focusOffset!==O.offset)){var F=xe.createRange();F.setStart(q.node,q.offset),W.removeAllRanges(),ot>Vt?(W.addRange(F),W.extend(O.node,O.offset)):(F.setEnd(O.node,O.offset),W.addRange(F))}}}}for(xe=[],W=v;W=W.parentNode;)W.nodeType===1&&xe.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<xe.length;v++){var ge=xe[v];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}Io=!!lu,ru=lu=null}finally{qt=l,A.p=s,T.T=n}}e.current=a,Ia=2}}function Sm(){if(Ia===2){Ia=0;var e=Vs,a=sl,n=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||n){n=T.T,T.T=null;var s=A.p;A.p=2;var l=qt;qt|=4;try{em(e,a.alternate,a)}finally{qt=l,A.p=s,T.T=n}}Ia=3}}function Nm(){if(Ia===4||Ia===3){Ia=0,it();var e=Vs,a=sl,n=il,s=um;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ia=5:(Ia=0,sl=Vs=null,Cm(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Fs=null),Wa(n),a=a.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot($e,a,void 0,(a.current.flags&128)===128)}catch{}if(s!==null){a=T.T,l=A.p,A.p=2,T.T=null;try{for(var c=e.onRecoverableError,g=0;g<s.length;g++){var v=s[g];c(v.value,{componentStack:v.stack})}}finally{T.T=a,A.p=l}}(il&3)!==0&&Co(),ts(e),l=e.pendingLanes,(n&4194090)!==0&&(l&42)!==0?e===Vd?tr++:(tr=0,Vd=e):tr=0,ar(0)}}function Cm(e,a){(e.pooledCacheLanes&=a)===0&&(a=e.pooledCache,a!=null&&(e.pooledCache=null,Hl(a)))}function Co(e){return jm(),Sm(),Nm(),Dm()}function Dm(){if(Ia!==5)return!1;var e=Vs,a=$d;$d=0;var n=Wa(il),s=T.T,l=A.p;try{A.p=32>n?32:n,T.T=null,n=Fd,Fd=null;var c=Vs,g=il;if(Ia=0,sl=Vs=null,il=0,(qt&6)!==0)throw Error(o(331));var v=qt;if(qt|=4,cm(c.current),lm(c,c.current,g,n),qt=v,ar(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot($e,c)}catch{}return!0}finally{A.p=l,T.T=s,Cm(e,a)}}function Am(e,a,n){a=Dn(n,a),a=Nd(e.stateNode,a,2),e=Os(e,a,2),e!==null&&(ca(e,2),ts(e))}function Zt(e,a,n){if(e.tag===3)Am(e,e,n);else for(;a!==null;){if(a.tag===3){Am(a,e,n);break}else if(a.tag===1){var s=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Fs===null||!Fs.has(s))){e=Dn(n,e),n=kh(2),s=Os(a,n,2),s!==null&&(Mh(n,s,a,e),ca(s,2),ts(s));break}}a=a.return}}function Zd(e,a,n){var s=e.pingCache;if(s===null){s=e.pingCache=new S_;var l=new Set;s.set(a,l)}else l=s.get(a),l===void 0&&(l=new Set,s.set(a,l));l.has(n)||(Bd=!0,l.add(n),e=w_.bind(null,e,a,n),a.then(e,e))}function w_(e,a,n){var s=e.pingCache;s!==null&&s.delete(a),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ea===e&&(Rt&n)===n&&(ma===4||ma===3&&(Rt&62914560)===Rt&&300>kt()-Pd?(qt&2)===0&&ll(e,0):zd|=n,nl===Rt&&(nl=0)),ts(e)}function wm(e,a){a===0&&(a=Ca()),e=qi(e,a),e!==null&&(ca(e,a),ts(e))}function E_(e){var a=e.memoizedState,n=0;a!==null&&(n=a.retryLane),wm(e,n)}function T_(e,a){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(a),wm(e,n)}function k_(e,a){return Q(e,a)}var Do=null,ol=null,Qd=!1,Ao=!1,Kd=!1,Si=0;function ts(e){e!==ol&&e.next===null&&(ol===null?Do=ol=e:ol=ol.next=e),Ao=!0,Qd||(Qd=!0,R_())}function ar(e,a){if(!Kd&&Ao){Kd=!0;do for(var n=!1,s=Do;s!==null;){if(e!==0){var l=s.pendingLanes;if(l===0)var c=0;else{var g=s.suspendedLanes,v=s.pingedLanes;c=(1<<31-Jt(42|e)+1)-1,c&=l&~(g&~v),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(n=!0,Mm(s,c))}else c=Rt,c=Nt(s,s===ea?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(c&3)===0||Na(s,c)||(n=!0,Mm(s,c));s=s.next}while(n);Kd=!1}}function M_(){Em()}function Em(){Ao=Qd=!1;var e=0;Si!==0&&(z_()&&(e=Si),Si=0);for(var a=kt(),n=null,s=Do;s!==null;){var l=s.next,c=Tm(s,a);c===0?(s.next=null,n===null?Do=l:n.next=l,l===null&&(ol=n)):(n=s,(e!==0||(c&3)!==0)&&(Ao=!0)),s=l}ar(e)}function Tm(e,a){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var g=31-Jt(c),v=1<<g,E=l[g];E===-1?((v&n)===0||(v&s)!==0)&&(l[g]=Ot(v,a)):E<=a&&(e.expiredLanes|=v),c&=~v}if(a=ea,n=Rt,n=Nt(e,e===a?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===a&&(Pt===2||Pt===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&we(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Na(e,n)){if(a=n&-n,a===e.callbackPriority)return a;switch(s!==null&&we(s),Wa(n)){case 2:case 8:n=Qt;break;case 32:n=oa;break;case 268435456:n=_t;break;default:n=oa}return s=km.bind(null,e),n=Q(n,s),e.callbackPriority=a,e.callbackNode=n,a}return s!==null&&s!==null&&we(s),e.callbackPriority=2,e.callbackNode=null,2}function km(e,a){if(Ia!==0&&Ia!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Co()&&e.callbackNode!==n)return null;var s=Rt;return s=Nt(e,e===ea?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(hm(e,s,a),Tm(e,kt()),e.callbackNode!=null&&e.callbackNode===n?km.bind(null,e):null)}function Mm(e,a){if(Co())return null;hm(e,a,!0)}function R_(){P_(function(){(qt&6)!==0?Q(St,M_):Em()})}function Wd(){return Si===0&&(Si=_a()),Si}function Rm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zn(""+e)}function Lm(e,a){var n=a.ownerDocument.createElement("input");return n.name=a.name,n.value=a.value,e.id&&n.setAttribute("form",e.id),a.parentNode.insertBefore(n,a),e=new FormData(e),n.parentNode.removeChild(n),e}function L_(e,a,n,s,l){if(a==="submit"&&n&&n.stateNode===l){var c=Rm((l[la]||null).action),g=s.submitter;g&&(a=(a=g[la]||null)?Rm(a.formAction):g.getAttribute("formAction"),a!==null&&(c=a,g=null));var v=new As("action","action",null,s,l);e.push({event:v,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Si!==0){var E=g?Lm(l,g):new FormData(l);yd(n,{pending:!0,data:E,method:l.method,action:c},null,E)}}else typeof c=="function"&&(v.preventDefault(),E=g?Lm(l,g):new FormData(l),yd(n,{pending:!0,data:E,method:l.method,action:c},c,E))},currentTarget:l}]})}}for(var eu=0;eu<Uc.length;eu++){var tu=Uc[eu],H_=tu.toLowerCase(),O_=tu[0].toUpperCase()+tu.slice(1);Un(H_,"on"+O_)}Un(hf,"onAnimationEnd"),Un(mf,"onAnimationIteration"),Un(pf,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(Wg,"onTransitionRun"),Un(e_,"onTransitionStart"),Un(t_,"onTransitionCancel"),Un(gf,"onTransitionEnd"),ba("onMouseEnter",["mouseout","mouseover"]),ba("onMouseLeave",["mouseout","mouseover"]),ba("onPointerEnter",["pointerout","pointerover"]),ba("onPointerLeave",["pointerout","pointerover"]),ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ua("onBeforeInput",["compositionend","keypress","textInput","paste"]),ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nr));function Hm(e,a){a=(a&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var c=void 0;if(a)for(var g=s.length-1;0<=g;g--){var v=s[g],E=v.instance,G=v.currentTarget;if(v=v.listener,E!==c&&l.isPropagationStopped())break e;c=v,l.currentTarget=G;try{c(l)}catch(de){mo(de)}l.currentTarget=null,c=E}else for(g=0;g<s.length;g++){if(v=s[g],E=v.instance,G=v.currentTarget,v=v.listener,E!==c&&l.isPropagationStopped())break e;c=v,l.currentTarget=G;try{c(l)}catch(de){mo(de)}l.currentTarget=null,c=E}}}}function wt(e,a){var n=a[bn];n===void 0&&(n=a[bn]=new Set);var s=e+"__bubble";n.has(s)||(Om(a,e,2,!1),n.add(s))}function au(e,a,n){var s=0;a&&(s|=4),Om(n,e,s,a)}var wo="_reactListening"+Math.random().toString(36).slice(2);function nu(e){if(!e[wo]){e[wo]=!0,Hn.forEach(function(n){n!=="selectionchange"&&(I_.has(n)||au(n,!1,e),au(n,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[wo]||(a[wo]=!0,au("selectionchange",!1,a))}}function Om(e,a,n,s){switch(lp(a)){case 2:var l=dx;break;case 8:l=ux;break;default:l=_u}n=l.bind(null,a,n,e),l=void 0,!mt||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(a,n,{capture:!0,passive:l}):e.addEventListener(a,n,!0):l!==void 0?e.addEventListener(a,n,{passive:l}):e.addEventListener(a,n,!1)}function su(e,a,n,s,l){var c=s;if((a&1)===0&&(a&2)===0&&s!==null)e:for(;;){if(s===null)return;var g=s.tag;if(g===3||g===4){var v=s.stateNode.containerInfo;if(v===l)break;if(g===4)for(g=s.return;g!==null;){var E=g.tag;if((E===3||E===4)&&g.stateNode.containerInfo===l)return;g=g.return}for(;v!==null;){if(g=Ra(v),g===null)return;if(E=g.tag,E===5||E===6||E===26||E===27){s=c=g;continue e}v=v.parentNode}}s=s.return}Xe(function(){var G=c,de=Y(n),xe=[];e:{var Z=_f.get(e);if(Z!==void 0){var W=As,ut=e;switch(e){case"keypress":if(Ge(n)===0)break e;case"keydown":case"keyup":W=ws;break;case"focusin":ut="focus",W=Mr;break;case"focusout":ut="blur",W=Mr;break;case"beforeblur":case"afterblur":W=Mr;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=kr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Tc;break;case hf:case mf:case pf:W=et;break;case gf:W=Hr;break;case"scroll":case"scrollend":W=bc;break;case"wheel":W=Mc;break;case"copy":case"cut":case"paste":W=bt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Lr;break;case"toggle":case"beforetoggle":W=Oi}var ot=(a&4)!==0,Vt=!ot&&(e==="scroll"||e==="scrollend"),q=ot?Z!==null?Z+"Capture":null:Z;ot=[];for(var O=G,F;O!==null;){var ge=O;if(F=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||F===null||q===null||(ge=Fe(O,q),ge!=null&&ot.push(sr(O,ge,F))),Vt)break;O=O.return}0<ot.length&&(Z=new W(Z,ut,null,n,de),xe.push({event:Z,listeners:ot}))}}if((a&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",Z&&n!==S&&(ut=n.relatedTarget||n.fromElement)&&(Ra(ut)||ut[Rn]))break e;if((W||Z)&&(Z=de.window===de?de:(Z=de.ownerDocument)?Z.defaultView||Z.parentWindow:window,W?(ut=n.relatedTarget||n.toElement,W=G,ut=ut?Ra(ut):null,ut!==null&&(Vt=h(ut),ot=ut.tag,ut!==Vt||ot!==5&&ot!==27&&ot!==6)&&(ut=null)):(W=null,ut=G),W!==ut)){if(ot=kr,ge="onMouseLeave",q="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ot=Lr,ge="onPointerLeave",q="onPointerEnter",O="pointer"),Vt=W==null?Z:da(W),F=ut==null?Z:da(ut),Z=new ot(ge,O+"leave",W,n,de),Z.target=Vt,Z.relatedTarget=F,ge=null,Ra(de)===G&&(ot=new ot(q,O+"enter",ut,n,de),ot.target=F,ot.relatedTarget=Vt,ge=ot),Vt=ge,W&&ut)t:{for(ot=W,q=ut,O=0,F=ot;F;F=cl(F))O++;for(F=0,ge=q;ge;ge=cl(ge))F++;for(;0<O-F;)ot=cl(ot),O--;for(;0<F-O;)q=cl(q),F--;for(;O--;){if(ot===q||q!==null&&ot===q.alternate)break t;ot=cl(ot),q=cl(q)}ot=null}else ot=null;W!==null&&Im(xe,Z,W,ot,!1),ut!==null&&Vt!==null&&Im(xe,Vt,ut,ot,!0)}}e:{if(Z=G?da(G):window,W=Z.nodeName&&Z.nodeName.toLowerCase(),W==="select"||W==="input"&&Z.type==="file")var Ke=El;else if(wl(Z))if(Ji)Ke=m;else{Ke=qr;var Dt=Hc}else W=Z.nodeName,!W||W.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?G&&Wt(G.elementType)&&(Ke=El):Ke=Oc;if(Ke&&(Ke=Ke(e,G))){Jr(xe,Ke,n,de);break e}Dt&&Dt(e,Z,G),e==="focusout"&&G&&Z.type==="number"&&G.memoizedProps.value!=null&&rt(Z,"number",Z.value)}switch(Dt=G?da(G):window,e){case"focusin":(wl(Dt)||Dt.contentEditable==="true")&&(yt=Dt,Xt=G,Cn=null);break;case"focusout":Cn=Xt=yt=null;break;case"mousedown":jt=!0;break;case"contextmenu":case"mouseup":case"dragend":jt=!1,Pr(xe,n,de);break;case"selectionchange":if(zt)break;case"keydown":case"keyup":Pr(xe,n,de)}var at;if(Ii)e:{switch(e){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else Es?Dl(e,n)&&(dt="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(dt="onCompositionStart");dt&&(Ir&&n.locale!=="ko"&&(Es||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Es&&(at=rs()):(Qe=de,Tt="value"in Qe?Qe.value:Qe.textContent,Es=!0)),Dt=Eo(G,dt),0<Dt.length&&(dt=new Rr(dt,e,null,n,de),xe.push({event:dt,listeners:Dt}),at?dt.data=at:(at=Al(n),at!==null&&(dt.data=at)))),(at=Or?Ui(e,n):Rc(e,n))&&(dt=Eo(G,"onBeforeInput"),0<dt.length&&(Dt=new Rr("onBeforeInput","beforeinput",null,n,de),xe.push({event:Dt,listeners:dt}),Dt.data=at)),L_(xe,e,G,n,de)}Hm(xe,a)})}function sr(e,a,n){return{instance:e,listener:a,currentTarget:n}}function Eo(e,a){for(var n=a+"Capture",s=[];e!==null;){var l=e,c=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||c===null||(l=Fe(e,n),l!=null&&s.unshift(sr(e,l,c)),l=Fe(e,a),l!=null&&s.push(sr(e,l,c))),e.tag===3)return s;e=e.return}return[]}function cl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Im(e,a,n,s,l){for(var c=a._reactName,g=[];n!==null&&n!==s;){var v=n,E=v.alternate,G=v.stateNode;if(v=v.tag,E!==null&&E===s)break;v!==5&&v!==26&&v!==27||G===null||(E=G,l?(G=Fe(n,c),G!=null&&g.unshift(sr(n,G,E))):l||(G=Fe(n,c),G!=null&&g.push(sr(n,G,E)))),n=n.return}g.length!==0&&e.push({event:a,listeners:g})}var U_=/\r\n?/g,J_=/\u0000|\uFFFD/g;function Um(e){return(typeof e=="string"?e:""+e).replace(U_,`
`).replace(J_,"")}function Jm(e,a){return a=Um(a),Um(e)===a}function To(){}function Ft(e,a,n,s,l,c){switch(n){case"children":typeof s=="string"?a==="body"||a==="textarea"&&s===""||Gt(e,s):(typeof s=="number"||typeof s=="bigint")&&a!=="body"&&Gt(e,""+s);break;case"className":hn(e,"class",s);break;case"tabIndex":hn(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(e,n,s);break;case"style":Xa(e,s,c);break;case"data":if(a!=="object"){hn(e,"data",s);break}case"src":case"href":if(s===""&&(a!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Zn(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(n==="formAction"?(a!=="input"&&Ft(e,a,"name",l.name,l,null),Ft(e,a,"formEncType",l.formEncType,l,null),Ft(e,a,"formMethod",l.formMethod,l,null),Ft(e,a,"formTarget",l.formTarget,l,null)):(Ft(e,a,"encType",l.encType,l,null),Ft(e,a,"method",l.method,l,null),Ft(e,a,"target",l.target,l,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Zn(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=To);break;case"onScroll":s!=null&&wt("scroll",e);break;case"onScrollEnd":s!=null&&wt("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(n=s.__html,n!=null){if(l.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=Zn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":wt("beforetoggle",e),wt("toggle",e),On(e,"popover",s);break;case"xlinkActuate":Aa(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Aa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Aa(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Aa(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Aa(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Aa(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Aa(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Aa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Aa(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":On(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=La.get(n)||n,On(e,n,s))}}function iu(e,a,n,s,l,c){switch(n){case"style":Xa(e,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(n=s.__html,n!=null){if(l.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof s=="string"?Gt(e,s):(typeof s=="number"||typeof s=="bigint")&&Gt(e,""+s);break;case"onScroll":s!=null&&wt("scroll",e);break;case"onScrollEnd":s!=null&&wt("scrollend",e);break;case"onClick":s!=null&&(e.onclick=To);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!is.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),a=n.slice(2,l?n.length-7:void 0),c=e[la]||null,c=c!=null?c[n]:null,typeof c=="function"&&e.removeEventListener(a,c,l),typeof s=="function")){typeof c!="function"&&c!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(a,s,l);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):On(e,n,s)}}}function Ua(e,a,n){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",e),wt("load",e);var s=!1,l=!1,c;for(c in n)if(n.hasOwnProperty(c)){var g=n[c];if(g!=null)switch(c){case"src":s=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:Ft(e,a,c,g,n,null)}}l&&Ft(e,a,"srcSet",n.srcSet,n,null),s&&Ft(e,a,"src",n.src,n,null);return;case"input":wt("invalid",e);var v=c=g=l=null,E=null,G=null;for(s in n)if(n.hasOwnProperty(s)){var de=n[s];if(de!=null)switch(s){case"name":l=de;break;case"type":g=de;break;case"checked":E=de;break;case"defaultChecked":G=de;break;case"value":c=de;break;case"defaultValue":v=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(o(137,a));break;default:Ft(e,a,s,de,n,null)}}lt(e,c,v,E,G,g,l,!1),Te(e);return;case"select":wt("invalid",e),s=g=c=null;for(l in n)if(n.hasOwnProperty(l)&&(v=n[l],v!=null))switch(l){case"value":c=v;break;case"defaultValue":g=v;break;case"multiple":s=v;default:Ft(e,a,l,v,n,null)}a=c,n=g,e.multiple=!!s,a!=null?xt(e,!!s,a,!1):n!=null&&xt(e,!!s,n,!0);return;case"textarea":wt("invalid",e),c=l=s=null;for(g in n)if(n.hasOwnProperty(g)&&(v=n[g],v!=null))switch(g){case"value":s=v;break;case"defaultValue":l=v;break;case"children":c=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(o(91));break;default:Ft(e,a,g,v,n,null)}Ba(e,s,l,c),Te(e);return;case"option":for(E in n)if(n.hasOwnProperty(E)&&(s=n[E],s!=null))switch(E){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ft(e,a,E,s,n,null)}return;case"dialog":wt("beforetoggle",e),wt("toggle",e),wt("cancel",e),wt("close",e);break;case"iframe":case"object":wt("load",e);break;case"video":case"audio":for(s=0;s<nr.length;s++)wt(nr[s],e);break;case"image":wt("error",e),wt("load",e);break;case"details":wt("toggle",e);break;case"embed":case"source":case"link":wt("error",e),wt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in n)if(n.hasOwnProperty(G)&&(s=n[G],s!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:Ft(e,a,G,s,n,null)}return;default:if(Wt(a)){for(de in n)n.hasOwnProperty(de)&&(s=n[de],s!==void 0&&iu(e,a,de,s,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(s=n[v],s!=null&&Ft(e,a,v,s,n,null))}function B_(e,a,n,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,c=null,g=null,v=null,E=null,G=null,de=null;for(W in n){var xe=n[W];if(n.hasOwnProperty(W)&&xe!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":E=xe;default:s.hasOwnProperty(W)||Ft(e,a,W,null,s,xe)}}for(var Z in s){var W=s[Z];if(xe=n[Z],s.hasOwnProperty(Z)&&(W!=null||xe!=null))switch(Z){case"type":c=W;break;case"name":l=W;break;case"checked":G=W;break;case"defaultChecked":de=W;break;case"value":g=W;break;case"defaultValue":v=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(o(137,a));break;default:W!==xe&&Ft(e,a,Z,W,s,xe)}}pe(e,g,v,E,G,de,c,l);return;case"select":W=g=v=Z=null;for(c in n)if(E=n[c],n.hasOwnProperty(c)&&E!=null)switch(c){case"value":break;case"multiple":W=E;default:s.hasOwnProperty(c)||Ft(e,a,c,null,s,E)}for(l in s)if(c=s[l],E=n[l],s.hasOwnProperty(l)&&(c!=null||E!=null))switch(l){case"value":Z=c;break;case"defaultValue":v=c;break;case"multiple":g=c;default:c!==E&&Ft(e,a,l,c,s,E)}a=v,n=g,s=W,Z!=null?xt(e,!!n,Z,!1):!!s!=!!n&&(a!=null?xt(e,!!n,a,!0):xt(e,!!n,n?[]:"",!1));return;case"textarea":W=Z=null;for(v in n)if(l=n[v],n.hasOwnProperty(v)&&l!=null&&!s.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ft(e,a,v,null,s,l)}for(g in s)if(l=s[g],c=n[g],s.hasOwnProperty(g)&&(l!=null||c!=null))switch(g){case"value":Z=l;break;case"defaultValue":W=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(o(91));break;default:l!==c&&Ft(e,a,g,l,s,c)}It(e,Z,W);return;case"option":for(var ut in n)if(Z=n[ut],n.hasOwnProperty(ut)&&Z!=null&&!s.hasOwnProperty(ut))switch(ut){case"selected":e.selected=!1;break;default:Ft(e,a,ut,null,s,Z)}for(E in s)if(Z=s[E],W=n[E],s.hasOwnProperty(E)&&Z!==W&&(Z!=null||W!=null))switch(E){case"selected":e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Ft(e,a,E,Z,s,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in n)Z=n[ot],n.hasOwnProperty(ot)&&Z!=null&&!s.hasOwnProperty(ot)&&Ft(e,a,ot,null,s,Z);for(G in s)if(Z=s[G],W=n[G],s.hasOwnProperty(G)&&Z!==W&&(Z!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(o(137,a));break;default:Ft(e,a,G,Z,s,W)}return;default:if(Wt(a)){for(var Vt in n)Z=n[Vt],n.hasOwnProperty(Vt)&&Z!==void 0&&!s.hasOwnProperty(Vt)&&iu(e,a,Vt,void 0,s,Z);for(de in s)Z=s[de],W=n[de],!s.hasOwnProperty(de)||Z===W||Z===void 0&&W===void 0||iu(e,a,de,Z,s,W);return}}for(var q in n)Z=n[q],n.hasOwnProperty(q)&&Z!=null&&!s.hasOwnProperty(q)&&Ft(e,a,q,null,s,Z);for(xe in s)Z=s[xe],W=n[xe],!s.hasOwnProperty(xe)||Z===W||Z==null&&W==null||Ft(e,a,xe,Z,s,W)}var lu=null,ru=null;function ko(e){return e.nodeType===9?e:e.ownerDocument}function Bm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zm(e,a){if(e===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&a==="foreignObject"?0:e}function ou(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var cu=null;function z_(){var e=window.event;return e&&e.type==="popstate"?e===cu?!1:(cu=e,!0):(cu=null,!1)}var qm=typeof setTimeout=="function"?setTimeout:void 0,q_=typeof clearTimeout=="function"?clearTimeout:void 0,Pm=typeof Promise=="function"?Promise:void 0,P_=typeof queueMicrotask=="function"?queueMicrotask:typeof Pm<"u"?function(e){return Pm.resolve(null).then(e).catch($_)}:qm;function $_(e){setTimeout(function(){throw e})}function Ys(e){return e==="head"}function $m(e,a){var n=a,s=0,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"){if(0<s&&8>s){n=s;var g=e.ownerDocument;if(n&1&&ir(g.documentElement),n&2&&ir(g.body),n&4)for(n=g.head,ir(n),g=n.firstChild;g;){var v=g.nextSibling,E=g.nodeName;g[fn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&g.rel.toLowerCase()==="stylesheet"||n.removeChild(g),g=v}}if(l===0){e.removeChild(c),hr(a);return}l--}else n==="$"||n==="$?"||n==="$!"?l++:s=n.charCodeAt(0)-48;else s=0;n=c}while(n);hr(a)}function du(e){var a=e.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var n=a;switch(a=a.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":du(n),ht(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function F_(e,a,n,s){for(;e.nodeType===1;){var l=n;if(e.nodeName.toLowerCase()!==a.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[fn])switch(a){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(a==="input"&&e.type==="hidden"){var c=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function V_(e,a,n){if(a==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bn(e.nextSibling),e===null))return null;return e}function uu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function G_(e,a){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")a();else{var s=function(){a(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Bn(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return e}var fu=null;function Fm(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(a===0)return e;a--}else n==="/$"&&a++}e=e.previousSibling}return null}function Vm(e,a,n){switch(a=ko(n),e){case"html":if(e=a.documentElement,!e)throw Error(o(452));return e;case"head":if(e=a.head,!e)throw Error(o(453));return e;case"body":if(e=a.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function ir(e){for(var a=e.attributes;a.length;)e.removeAttributeNode(a[0]);ht(e)}var Mn=new Map,Gm=new Set;function Mo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bs=A.d;A.d={f:Y_,r:X_,D:Z_,C:Q_,L:K_,m:W_,X:tx,S:ex,M:ax};function Y_(){var e=bs.f(),a=So();return e||a}function X_(e){var a=Kt(e);a!==null&&a.tag===5&&a.type==="form"?hh(a):bs.r(e)}var dl=typeof document>"u"?null:document;function Ym(e,a,n){var s=dl;if(s&&typeof a=="string"&&a){var l=Oe(a);l='link[rel="'+e+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),Gm.has(l)||(Gm.add(l),e={rel:e,crossOrigin:n,href:a},s.querySelector(l)===null&&(a=s.createElement("link"),Ua(a,"link",e),Bt(a),s.head.appendChild(a)))}}function Z_(e){bs.D(e),Ym("dns-prefetch",e,null)}function Q_(e,a){bs.C(e,a),Ym("preconnect",e,a)}function K_(e,a,n){bs.L(e,a,n);var s=dl;if(s&&e&&a){var l='link[rel="preload"][as="'+Oe(a)+'"]';a==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+Oe(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+Oe(n.imageSizes)+'"]')):l+='[href="'+Oe(e)+'"]';var c=l;switch(a){case"style":c=ul(e);break;case"script":c=fl(e)}Mn.has(c)||(e=b({rel:"preload",href:a==="image"&&n&&n.imageSrcSet?void 0:e,as:a},n),Mn.set(c,e),s.querySelector(l)!==null||a==="style"&&s.querySelector(lr(c))||a==="script"&&s.querySelector(rr(c))||(a=s.createElement("link"),Ua(a,"link",e),Bt(a),s.head.appendChild(a)))}}function W_(e,a){bs.m(e,a);var n=dl;if(n&&e){var s=a&&typeof a.as=="string"?a.as:"script",l='link[rel="modulepreload"][as="'+Oe(s)+'"][href="'+Oe(e)+'"]',c=l;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=fl(e)}if(!Mn.has(c)&&(e=b({rel:"modulepreload",href:e},a),Mn.set(c,e),n.querySelector(l)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(rr(c)))return}s=n.createElement("link"),Ua(s,"link",e),Bt(s),n.head.appendChild(s)}}}function ex(e,a,n){bs.S(e,a,n);var s=dl;if(s&&e){var l=tn(s).hoistableStyles,c=ul(e);a=a||"default";var g=l.get(c);if(!g){var v={loading:0,preload:null};if(g=s.querySelector(lr(c)))v.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":a},n),(n=Mn.get(c))&&hu(e,n);var E=g=s.createElement("link");Bt(E),Ua(E,"link",e),E._p=new Promise(function(G,de){E.onload=G,E.onerror=de}),E.addEventListener("load",function(){v.loading|=1}),E.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Ro(g,a,s)}g={type:"stylesheet",instance:g,count:1,state:v},l.set(c,g)}}}function tx(e,a){bs.X(e,a);var n=dl;if(n&&e){var s=tn(n).hoistableScripts,l=fl(e),c=s.get(l);c||(c=n.querySelector(rr(l)),c||(e=b({src:e,async:!0},a),(a=Mn.get(l))&&mu(e,a),c=n.createElement("script"),Bt(c),Ua(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(l,c))}}function ax(e,a){bs.M(e,a);var n=dl;if(n&&e){var s=tn(n).hoistableScripts,l=fl(e),c=s.get(l);c||(c=n.querySelector(rr(l)),c||(e=b({src:e,async:!0,type:"module"},a),(a=Mn.get(l))&&mu(e,a),c=n.createElement("script"),Bt(c),Ua(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(l,c))}}function Xm(e,a,n,s){var l=(l=ee.current)?Mo(l):null;if(!l)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(a=ul(n.href),n=tn(l).hoistableStyles,s=n.get(a),s||(s={type:"style",instance:null,count:0,state:null},n.set(a,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ul(n.href);var c=tn(l).hoistableStyles,g=c.get(e);if(g||(l=l.ownerDocument||l,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,g),(c=l.querySelector(lr(e)))&&!c._p&&(g.instance=c,g.state.loading=5),Mn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Mn.set(e,n),c||nx(l,e,n,g.state))),a&&s===null)throw Error(o(528,""));return g}if(a&&s!==null)throw Error(o(529,""));return null;case"script":return a=n.async,n=n.src,typeof n=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=fl(n),n=tn(l).hoistableScripts,s=n.get(a),s||(s={type:"script",instance:null,count:0,state:null},n.set(a,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function ul(e){return'href="'+Oe(e)+'"'}function lr(e){return'link[rel="stylesheet"]['+e+"]"}function Zm(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function nx(e,a,n,s){e.querySelector('link[rel="preload"][as="style"]['+a+"]")?s.loading=1:(a=e.createElement("link"),s.preload=a,a.addEventListener("load",function(){return s.loading|=1}),a.addEventListener("error",function(){return s.loading|=2}),Ua(a,"link",n),Bt(a),e.head.appendChild(a))}function fl(e){return'[src="'+Oe(e)+'"]'}function rr(e){return"script[async]"+e}function Qm(e,a,n){if(a.count++,a.instance===null)switch(a.type){case"style":var s=e.querySelector('style[data-href~="'+Oe(n.href)+'"]');if(s)return a.instance=s,Bt(s),s;var l=b({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Bt(s),Ua(s,"style",l),Ro(s,n.precedence,e),a.instance=s;case"stylesheet":l=ul(n.href);var c=e.querySelector(lr(l));if(c)return a.state.loading|=4,a.instance=c,Bt(c),c;s=Zm(n),(l=Mn.get(l))&&hu(s,l),c=(e.ownerDocument||e).createElement("link"),Bt(c);var g=c;return g._p=new Promise(function(v,E){g.onload=v,g.onerror=E}),Ua(c,"link",s),a.state.loading|=4,Ro(c,n.precedence,e),a.instance=c;case"script":return c=fl(n.src),(l=e.querySelector(rr(c)))?(a.instance=l,Bt(l),l):(s=n,(l=Mn.get(c))&&(s=b({},n),mu(s,l)),e=e.ownerDocument||e,l=e.createElement("script"),Bt(l),Ua(l,"link",s),e.head.appendChild(l),a.instance=l);case"void":return null;default:throw Error(o(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(s=a.instance,a.state.loading|=4,Ro(s,n.precedence,e));return a.instance}function Ro(e,a,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=s.length?s[s.length-1]:null,c=l,g=0;g<s.length;g++){var v=s[g];if(v.dataset.precedence===a)c=v;else if(c!==l)break}c?c.parentNode.insertBefore(e,c.nextSibling):(a=n.nodeType===9?n.head:n,a.insertBefore(e,a.firstChild))}function hu(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.title==null&&(e.title=a.title)}function mu(e,a){e.crossOrigin==null&&(e.crossOrigin=a.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=a.referrerPolicy),e.integrity==null&&(e.integrity=a.integrity)}var Lo=null;function Km(e,a,n){if(Lo===null){var s=new Map,l=Lo=new Map;l.set(n,s)}else l=Lo,s=l.get(n),s||(s=new Map,l.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var c=n[l];if(!(c[fn]||c[ia]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var g=c.getAttribute(a)||"";g=e+g;var v=s.get(g);v?v.push(c):s.set(g,[c])}}return s}function Wm(e,a,n){e=e.ownerDocument||e,e.head.insertBefore(n,a==="title"?e.querySelector("head > title"):null)}function sx(e,a,n){if(n===1||a.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return e=a.disabled,typeof a.precedence=="string"&&e==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function ep(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var or=null;function ix(){}function lx(e,a,n){if(or===null)throw Error(o(475));var s=or;if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var l=ul(n.href),c=e.querySelector(lr(l));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=Ho.bind(s),e.then(s,s)),a.state.loading|=4,a.instance=c,Bt(c);return}c=e.ownerDocument||e,n=Zm(n),(l=Mn.get(l))&&hu(n,l),c=c.createElement("link"),Bt(c);var g=c;g._p=new Promise(function(v,E){g.onload=v,g.onerror=E}),Ua(c,"link",n),a.instance=c}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(a,e),(e=a.state.preload)&&(a.state.loading&3)===0&&(s.count++,a=Ho.bind(s),e.addEventListener("load",a),e.addEventListener("error",a))}}function rx(){if(or===null)throw Error(o(475));var e=or;return e.stylesheets&&e.count===0&&pu(e,e.stylesheets),0<e.count?function(a){var n=setTimeout(function(){if(e.stylesheets&&pu(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Ho(){if(this.count--,this.count===0){if(this.stylesheets)pu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Oo=null;function pu(e,a){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Oo=new Map,a.forEach(ox,e),Oo=null,Ho.call(e))}function ox(e,a){if(!(a.state.loading&4)){var n=Oo.get(e);if(n)var s=n.get(null);else{n=new Map,Oo.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<l.length;c++){var g=l[c];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(n.set(g.dataset.precedence,g),s=g)}s&&n.set(null,s)}l=a.instance,g=l.getAttribute("data-precedence"),c=n.get(g)||s,c===s&&n.set(null,l),n.set(g,l),this.count++,s=Ho.bind(this),l.addEventListener("load",s),l.addEventListener("error",s),c?c.parentNode.insertBefore(l,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),a.state.loading|=4}}var cr={$$typeof:J,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function cx(e,a,n,s,l,c,g,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.hiddenUpdates=va(null),this.identifierPrefix=s,this.onUncaughtError=l,this.onCaughtError=c,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function tp(e,a,n,s,l,c,g,v,E,G,de,xe){return e=new cx(e,a,n,g,v,E,G,xe),a=1,c===!0&&(a|=24),c=mn(3,null,null,a),e.current=c,c.stateNode=e,a=Zc(),a.refCount++,e.pooledCache=a,a.refCount++,c.memoizedState={element:s,isDehydrated:n,cache:a},ed(c),e}function ap(e){return e?(e=Pi,e):Pi}function np(e,a,n,s,l,c){l=ap(l),s.context===null?s.context=l:s.pendingContext=l,s=Hs(a),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=Os(e,s,a),n!==null&&(yn(n,e,a),Jl(n,e,a))}function sp(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<a?n:a}}function gu(e,a){sp(e,a),(e=e.alternate)&&sp(e,a)}function ip(e){if(e.tag===13){var a=qi(e,67108864);a!==null&&yn(a,e,67108864),gu(e,67108864)}}var Io=!0;function dx(e,a,n,s){var l=T.T;T.T=null;var c=A.p;try{A.p=2,_u(e,a,n,s)}finally{A.p=c,T.T=l}}function ux(e,a,n,s){var l=T.T;T.T=null;var c=A.p;try{A.p=8,_u(e,a,n,s)}finally{A.p=c,T.T=l}}function _u(e,a,n,s){if(Io){var l=xu(s);if(l===null)su(e,a,s,Uo,n),rp(e,s);else if(hx(l,e,a,n,s))s.stopPropagation();else if(rp(e,s),a&4&&-1<fx.indexOf(e)){for(;l!==null;){var c=Kt(l);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var g=he(c.pendingLanes);if(g!==0){var v=c;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var E=1<<31-Jt(g);v.entanglements[1]|=E,g&=~E}ts(c),(qt&6)===0&&(bo=kt()+500,ar(0))}}break;case 13:v=qi(c,2),v!==null&&yn(v,c,2),So(),gu(c,2)}if(c=xu(s),c===null&&su(e,a,s,Uo,n),c===l)break;l=c}l!==null&&s.stopPropagation()}else su(e,a,s,null,n)}}function xu(e){return e=Y(e),yu(e)}var Uo=null;function yu(e){if(Uo=null,e=Ra(e),e!==null){var a=h(e);if(a===null)e=null;else{var n=a.tag;if(n===13){if(e=p(a),e!==null)return e;e=null}else if(n===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null)}}return Uo=e,null}function lp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tt()){case St:return 2;case Qt:return 8;case oa:case cn:return 32;case _t:return 268435456;default:return 32}default:return 32}}var vu=!1,Xs=null,Zs=null,Qs=null,dr=new Map,ur=new Map,Ks=[],fx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rp(e,a){switch(e){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":dr.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ur.delete(a.pointerId)}}function fr(e,a,n,s,l,c){return e===null||e.nativeEvent!==c?(e={blockedOn:a,domEventName:n,eventSystemFlags:s,nativeEvent:c,targetContainers:[l]},a!==null&&(a=Kt(a),a!==null&&ip(a)),e):(e.eventSystemFlags|=s,a=e.targetContainers,l!==null&&a.indexOf(l)===-1&&a.push(l),e)}function hx(e,a,n,s,l){switch(a){case"focusin":return Xs=fr(Xs,e,a,n,s,l),!0;case"dragenter":return Zs=fr(Zs,e,a,n,s,l),!0;case"mouseover":return Qs=fr(Qs,e,a,n,s,l),!0;case"pointerover":var c=l.pointerId;return dr.set(c,fr(dr.get(c)||null,e,a,n,s,l)),!0;case"gotpointercapture":return c=l.pointerId,ur.set(c,fr(ur.get(c)||null,e,a,n,s,l)),!0}return!1}function op(e){var a=Ra(e.target);if(a!==null){var n=h(a);if(n!==null){if(a=n.tag,a===13){if(a=p(n),a!==null){e.blockedOn=a,en(e.priority,function(){if(n.tag===13){var s=xn();s=Ka(s);var l=qi(n,s);l!==null&&yn(l,n,s),gu(n,s)}});return}}else if(a===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jo(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var n=xu(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);S=s,n.target.dispatchEvent(s),S=null}else return a=Kt(n),a!==null&&ip(a),e.blockedOn=n,!1;a.shift()}return!0}function cp(e,a,n){Jo(e)&&n.delete(a)}function mx(){vu=!1,Xs!==null&&Jo(Xs)&&(Xs=null),Zs!==null&&Jo(Zs)&&(Zs=null),Qs!==null&&Jo(Qs)&&(Qs=null),dr.forEach(cp),ur.forEach(cp)}function Bo(e,a){e.blockedOn===a&&(e.blockedOn=null,vu||(vu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,mx)))}var zo=null;function dp(e){zo!==e&&(zo=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){zo===e&&(zo=null);for(var a=0;a<e.length;a+=3){var n=e[a],s=e[a+1],l=e[a+2];if(typeof s!="function"){if(yu(s||n)===null)continue;break}var c=Kt(n);c!==null&&(e.splice(a,3),a-=3,yd(c,{pending:!0,data:l,method:n.method,action:s},s,l))}}))}function hr(e){function a(E){return Bo(E,e)}Xs!==null&&Bo(Xs,e),Zs!==null&&Bo(Zs,e),Qs!==null&&Bo(Qs,e),dr.forEach(a),ur.forEach(a);for(var n=0;n<Ks.length;n++){var s=Ks[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ks.length&&(n=Ks[0],n.blockedOn===null);)op(n),n.blockedOn===null&&Ks.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var l=n[s],c=n[s+1],g=l[la]||null;if(typeof c=="function")g||dp(n);else if(g){var v=null;if(c&&c.hasAttribute("formAction")){if(l=c,g=c[la]||null)v=g.formAction;else if(yu(l)!==null)continue}else v=g.action;typeof v=="function"?n[s+1]=v:(n.splice(s,3),s-=3),dp(n)}}}function bu(e){this._internalRoot=e}qo.prototype.render=bu.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(o(409));var n=a.current,s=xn();np(n,s,e,a,null,null)},qo.prototype.unmount=bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;np(e.current,2,null,e,null,null),So(),a[Rn]=null}};function qo(e){this._internalRoot=e}qo.prototype.unstable_scheduleHydration=function(e){if(e){var a=un();e={blockedOn:null,target:e,priority:a};for(var n=0;n<Ks.length&&a!==0&&a<Ks[n].priority;n++);Ks.splice(n,0,e),n===0&&op(e)}};var up=r.version;if(up!=="19.1.0")throw Error(o(527,up,"19.1.0"));A.findDOMNode=function(e){var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=x(a),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var px={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Po.isDisabled&&Po.supportsFiber)try{$e=Po.inject(px),Mt=Po}catch{}}return pr.createRoot=function(e,a){if(!f(e))throw Error(o(299));var n=!1,s="",l=Ah,c=wh,g=Eh,v=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(l=a.onUncaughtError),a.onCaughtError!==void 0&&(c=a.onCaughtError),a.onRecoverableError!==void 0&&(g=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(v=a.unstable_transitionCallbacks)),a=tp(e,1,!1,null,null,n,s,l,c,g,v,null),e[Rn]=a.current,nu(e),new bu(a)},pr.hydrateRoot=function(e,a,n){if(!f(e))throw Error(o(299));var s=!1,l="",c=Ah,g=wh,v=Eh,E=null,G=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks),n.formState!==void 0&&(G=n.formState)),a=tp(e,1,!0,a,n??null,s,l,c,g,v,E,G),a.context=ap(null),n=a.current,s=xn(),s=Ka(s),l=Hs(s),l.callback=null,Os(n,l,s),n=s,a.current.lanes=n,ca(a,n),ts(a),e[Rn]=a.current,nu(e),new qo(a)},pr.version="19.1.0",pr}var bp;function Dx(){if(bp)return Nu.exports;bp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),Nu.exports=Cx(),Nu.exports}var Ax=Dx();const wx="modulepreload",Ex=function(i){return"/pms/"+i},jp={},hl=function(r,d,o){let f=Promise.resolve();if(d&&d.length>0){let x=function(_){return Promise.all(_.map(b=>Promise.resolve(b).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),y=p?.nonce||p?.getAttribute("nonce");f=x(d.map(_=>{if(_=Ex(_),_ in jp)return;jp[_]=!0;const b=_.endsWith(".css"),C=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${C}`))return;const k=document.createElement("link");if(k.rel=b?"stylesheet":wx,b||(k.as="script"),k.crossOrigin="",k.href=_,y&&k.setAttribute("nonce",y),document.head.appendChild(k),b)return new Promise((I,w)=>{k.addEventListener("load",I),k.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${_}`)))})}))}function h(p){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=p,window.dispatchEvent(y),!y.defaultPrevented)throw p}return f.then(p=>{for(const y of p||[])y.status==="rejected"&&h(y.reason);return r().catch(h)})};var gr={},Sp;function Tx(){if(Sp)return gr;Sp=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.parse=p,gr.serialize=_;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,d=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,f=Object.prototype.toString,h=(()=>{const k=function(){};return k.prototype=Object.create(null),k})();function p(k,I){const w=new h,M=k.length;if(M<2)return w;const H=I?.decode||b;let L=0;do{const $=k.indexOf("=",L);if($===-1)break;const J=k.indexOf(";",L),ne=J===-1?M:J;if($>ne){L=k.lastIndexOf(";",$-1)+1;continue}const te=y(k,L,$),Ce=x(k,$,te),me=k.slice(te,Ce);if(w[me]===void 0){let ue=y(k,$+1,ne),be=x(k,ne,ue);const P=H(k.slice(ue,be));w[me]=P}L=ne+1}while(L<M);return w}function y(k,I,w){do{const M=k.charCodeAt(I);if(M!==32&&M!==9)return I}while(++I<w);return w}function x(k,I,w){for(;I>w;){const M=k.charCodeAt(--I);if(M!==32&&M!==9)return I+1}return w}function _(k,I,w){const M=w?.encode||encodeURIComponent;if(!i.test(k))throw new TypeError(`argument name is invalid: ${k}`);const H=M(I);if(!r.test(H))throw new TypeError(`argument val is invalid: ${I}`);let L=k+"="+H;if(!w)return L;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);L+="; Max-Age="+w.maxAge}if(w.domain){if(!d.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);L+="; Domain="+w.domain}if(w.path){if(!o.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);L+="; Path="+w.path}if(w.expires){if(!C(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);L+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(L+="; HttpOnly"),w.secure&&(L+="; Secure"),w.partitioned&&(L+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return L}function b(k){if(k.indexOf("%")===-1)return k;try{return decodeURIComponent(k)}catch{return k}}function C(k){return f.call(k)==="[object Date]"}return gr}Tx();var Np="popstate";function kx(i={}){function r(o,f){let{pathname:h,search:p,hash:y}=o.location;return Ru("",{pathname:h,search:p,hash:y},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function d(o,f){return typeof f=="string"?f:yr(f)}return Rx(r,d,null,i)}function sa(i,r){if(i===!1||i===null||typeof i>"u")throw new Error(r)}function Pn(i,r){if(!i){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Mx(){return Math.random().toString(36).substring(2,10)}function Cp(i,r){return{usr:i.state,key:i.key,idx:r}}function Ru(i,r,d=null,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof r=="string"?ml(r):r,state:d,key:r&&r.key||o||Mx()}}function yr({pathname:i="/",search:r="",hash:d=""}){return r&&r!=="?"&&(i+=r.charAt(0)==="?"?r:"?"+r),d&&d!=="#"&&(i+=d.charAt(0)==="#"?d:"#"+d),i}function ml(i){let r={};if(i){let d=i.indexOf("#");d>=0&&(r.hash=i.substring(d),i=i.substring(0,d));let o=i.indexOf("?");o>=0&&(r.search=i.substring(o),i=i.substring(0,o)),i&&(r.pathname=i)}return r}function Rx(i,r,d,o={}){let{window:f=document.defaultView,v5Compat:h=!1}=o,p=f.history,y="POP",x=null,_=b();_==null&&(_=0,p.replaceState({...p.state,idx:_},""));function b(){return(p.state||{idx:null}).idx}function C(){y="POP";let H=b(),L=H==null?null:H-_;_=H,x&&x({action:y,location:M.location,delta:L})}function k(H,L){y="PUSH";let $=Ru(M.location,H,L);_=b()+1;let J=Cp($,_),ne=M.createHref($);try{p.pushState(J,"",ne)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;f.location.assign(ne)}h&&x&&x({action:y,location:M.location,delta:1})}function I(H,L){y="REPLACE";let $=Ru(M.location,H,L);_=b();let J=Cp($,_),ne=M.createHref($);p.replaceState(J,"",ne),h&&x&&x({action:y,location:M.location,delta:0})}function w(H){return Lx(H)}let M={get action(){return y},get location(){return i(f,p)},listen(H){if(x)throw new Error("A history only accepts one active listener");return f.addEventListener(Np,C),x=H,()=>{f.removeEventListener(Np,C),x=null}},createHref(H){return r(f,H)},createURL:w,encodeLocation(H){let L=w(H);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:k,replace:I,go(H){return p.go(H)}};return M}function Lx(i,r=!1){let d="http://localhost";typeof window<"u"&&(d=window.location.origin!=="null"?window.location.origin:window.location.href),sa(d,"No window.location.(origin|href) available to create URL");let o=typeof i=="string"?i:yr(i);return o=o.replace(/ $/,"%20"),!r&&o.startsWith("//")&&(o=d+o),new URL(o,d)}function Yp(i,r,d="/"){return Hx(i,r,d,!1)}function Hx(i,r,d,o){let f=typeof r=="string"?ml(r):r,h=Ss(f.pathname||"/",d);if(h==null)return null;let p=Xp(i);Ox(p);let y=null;for(let x=0;y==null&&x<p.length;++x){let _=Gx(h);y=Fx(p[x],_,o)}return y}function Xp(i,r=[],d=[],o=""){let f=(h,p,y)=>{let x={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};x.relativePath.startsWith("/")&&(sa(x.relativePath.startsWith(o),`Absolute route path "${x.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(o.length));let _=js([o,x.relativePath]),b=d.concat(x);h.children&&h.children.length>0&&(sa(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Xp(h.children,r,b,_)),!(h.path==null&&!h.index)&&r.push({path:_,score:Px(_,h.index),routesMeta:b})};return i.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))f(h,p);else for(let y of Zp(h.path))f(h,p,y)}),r}function Zp(i){let r=i.split("/");if(r.length===0)return[];let[d,...o]=r,f=d.endsWith("?"),h=d.replace(/\?$/,"");if(o.length===0)return f?[h,""]:[h];let p=Zp(o.join("/")),y=[];return y.push(...p.map(x=>x===""?h:[h,x].join("/"))),f&&y.push(...p),y.map(x=>i.startsWith("/")&&x===""?"/":x)}function Ox(i){i.sort((r,d)=>r.score!==d.score?d.score-r.score:$x(r.routesMeta.map(o=>o.childrenIndex),d.routesMeta.map(o=>o.childrenIndex)))}var Ix=/^:[\w-]+$/,Ux=3,Jx=2,Bx=1,zx=10,qx=-2,Dp=i=>i==="*";function Px(i,r){let d=i.split("/"),o=d.length;return d.some(Dp)&&(o+=qx),r&&(o+=Jx),d.filter(f=>!Dp(f)).reduce((f,h)=>f+(Ix.test(h)?Ux:h===""?Bx:zx),o)}function $x(i,r){return i.length===r.length&&i.slice(0,-1).every((o,f)=>o===r[f])?i[i.length-1]-r[r.length-1]:0}function Fx(i,r,d=!1){let{routesMeta:o}=i,f={},h="/",p=[];for(let y=0;y<o.length;++y){let x=o[y],_=y===o.length-1,b=h==="/"?r:r.slice(h.length)||"/",C=ec({path:x.relativePath,caseSensitive:x.caseSensitive,end:_},b),k=x.route;if(!C&&_&&d&&!o[o.length-1].route.index&&(C=ec({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},b)),!C)return null;Object.assign(f,C.params),p.push({params:f,pathname:js([h,C.pathname]),pathnameBase:Qx(js([h,C.pathnameBase])),route:k}),C.pathnameBase!=="/"&&(h=js([h,C.pathnameBase]))}return p}function ec(i,r){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[d,o]=Vx(i.path,i.caseSensitive,i.end),f=r.match(d);if(!f)return null;let h=f[0],p=h.replace(/(.)\/+$/,"$1"),y=f.slice(1);return{params:o.reduce((_,{paramName:b,isOptional:C},k)=>{if(b==="*"){let w=y[k]||"";p=h.slice(0,h.length-w.length).replace(/(.)\/+$/,"$1")}const I=y[k];return C&&!I?_[b]=void 0:_[b]=(I||"").replace(/%2F/g,"/"),_},{}),pathname:h,pathnameBase:p,pattern:i}}function Vx(i,r=!1,d=!0){Pn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let o=[],f="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,y,x)=>(o.push({paramName:y,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),f+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):d?f+="\\/*$":i!==""&&i!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,r?void 0:"i"),o]}function Gx(i){try{return i.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Pn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),i}}function Ss(i,r){if(r==="/")return i;if(!i.toLowerCase().startsWith(r.toLowerCase()))return null;let d=r.endsWith("/")?r.length-1:r.length,o=i.charAt(d);return o&&o!=="/"?null:i.slice(d)||"/"}function Yx(i,r="/"){let{pathname:d,search:o="",hash:f=""}=typeof i=="string"?ml(i):i;return{pathname:d?d.startsWith("/")?d:Xx(d,r):r,search:Kx(o),hash:Wx(f)}}function Xx(i,r){let d=r.replace(/\/+$/,"").split("/");return i.split("/").forEach(f=>{f===".."?d.length>1&&d.pop():f!=="."&&d.push(f)}),d.length>1?d.join("/"):"/"}function wu(i,r,d,o){return`Cannot include a '${i}' character in a manually specified \`to.${r}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${d}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zx(i){return i.filter((r,d)=>d===0||r.route.path&&r.route.path.length>0)}function Vu(i){let r=Zx(i);return r.map((d,o)=>o===r.length-1?d.pathname:d.pathnameBase)}function Gu(i,r,d,o=!1){let f;typeof i=="string"?f=ml(i):(f={...i},sa(!f.pathname||!f.pathname.includes("?"),wu("?","pathname","search",f)),sa(!f.pathname||!f.pathname.includes("#"),wu("#","pathname","hash",f)),sa(!f.search||!f.search.includes("#"),wu("#","search","hash",f)));let h=i===""||f.pathname==="",p=h?"/":f.pathname,y;if(p==null)y=d;else{let C=r.length-1;if(!o&&p.startsWith("..")){let k=p.split("/");for(;k[0]==="..";)k.shift(),C-=1;f.pathname=k.join("/")}y=C>=0?r[C]:"/"}let x=Yx(f,y),_=p&&p!=="/"&&p.endsWith("/"),b=(h||p===".")&&d.endsWith("/");return!x.pathname.endsWith("/")&&(_||b)&&(x.pathname+="/"),x}var js=i=>i.join("/").replace(/\/\/+/g,"/"),Qx=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Kx=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Wx=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function ey(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Qp=["POST","PUT","PATCH","DELETE"];new Set(Qp);var ty=["GET",...Qp];new Set(ty);var pl=u.createContext(null);pl.displayName="DataRouter";var ic=u.createContext(null);ic.displayName="DataRouterState";var Kp=u.createContext({isTransitioning:!1});Kp.displayName="ViewTransition";var ay=u.createContext(new Map);ay.displayName="Fetchers";var ny=u.createContext(null);ny.displayName="Await";var $n=u.createContext(null);$n.displayName="Navigation";var Nr=u.createContext(null);Nr.displayName="Location";var ns=u.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var Yu=u.createContext(null);Yu.displayName="RouteError";function sy(i,{relative:r}={}){sa(gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:d,navigator:o}=u.useContext($n),{hash:f,pathname:h,search:p}=Cr(i,{relative:r}),y=h;return d!=="/"&&(y=h==="/"?d:js([d,h])),o.createHref({pathname:y,search:p,hash:f})}function gl(){return u.useContext(Nr)!=null}function ti(){return sa(gl(),"useLocation() may be used only in the context of a <Router> component."),u.useContext(Nr).location}var Wp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eg(i){u.useContext($n).static||u.useLayoutEffect(i)}function _l(){let{isDataRoute:i}=u.useContext(ns);return i?_y():iy()}function iy(){sa(gl(),"useNavigate() may be used only in the context of a <Router> component.");let i=u.useContext(pl),{basename:r,navigator:d}=u.useContext($n),{matches:o}=u.useContext(ns),{pathname:f}=ti(),h=JSON.stringify(Vu(o)),p=u.useRef(!1);return eg(()=>{p.current=!0}),u.useCallback((x,_={})=>{if(Pn(p.current,Wp),!p.current)return;if(typeof x=="number"){d.go(x);return}let b=Gu(x,JSON.parse(h),f,_.relative==="path");i==null&&r!=="/"&&(b.pathname=b.pathname==="/"?r:js([r,b.pathname])),(_.replace?d.replace:d.push)(b,_.state,_)},[r,d,h,f,i])}u.createContext(null);function Cr(i,{relative:r}={}){let{matches:d}=u.useContext(ns),{pathname:o}=ti(),f=JSON.stringify(Vu(d));return u.useMemo(()=>Gu(i,JSON.parse(f),o,r==="path"),[i,f,o,r])}function ly(i,r){return tg(i,r)}function tg(i,r,d,o){sa(gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=u.useContext($n),{matches:h}=u.useContext(ns),p=h[h.length-1],y=p?p.params:{},x=p?p.pathname:"/",_=p?p.pathnameBase:"/",b=p&&p.route;{let L=b&&b.path||"";ag(x,!b||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let C=ti(),k;if(r){let L=typeof r=="string"?ml(r):r;sa(_==="/"||L.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${L.pathname}" was given in the \`location\` prop.`),k=L}else k=C;let I=k.pathname||"/",w=I;if(_!=="/"){let L=_.replace(/^\//,"").split("/");w="/"+I.replace(/^\//,"").split("/").slice(L.length).join("/")}let M=Yp(i,{pathname:w});Pn(b||M!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Pn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=uy(M&&M.map(L=>Object.assign({},L,{params:Object.assign({},y,L.params),pathname:js([_,f.encodeLocation?f.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?_:js([_,f.encodeLocation?f.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),h,d,o);return r&&H?u.createElement(Nr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},H):H}function ry(){let i=gy(),r=ey(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),d=i instanceof Error?i.stack:null,o="rgba(200,200,200, 0.5)",f={padding:"0.5rem",backgroundColor:o},h={padding:"2px 4px",backgroundColor:o},p=null;return console.error("Error handled by React Router default ErrorBoundary:",i),p=u.createElement(u.Fragment,null,u.createElement("p",null," Hey developer "),u.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",u.createElement("code",{style:h},"ErrorBoundary")," or"," ",u.createElement("code",{style:h},"errorElement")," prop on your route.")),u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},r),d?u.createElement("pre",{style:f},d):null,p)}var oy=u.createElement(ry,null),cy=class extends u.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,r){return r.location!==i.location||r.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:r.error,location:r.location,revalidation:i.revalidation||r.revalidation}}componentDidCatch(i,r){console.error("React Router caught the following error during render",i,r)}render(){return this.state.error!==void 0?u.createElement(ns.Provider,{value:this.props.routeContext},u.createElement(Yu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dy({routeContext:i,match:r,children:d}){let o=u.useContext(pl);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),u.createElement(ns.Provider,{value:i},d)}function uy(i,r=[],d=null,o=null){if(i==null){if(!d)return null;if(d.errors)i=d.matches;else if(r.length===0&&!d.initialized&&d.matches.length>0)i=d.matches;else return null}let f=i,h=d?.errors;if(h!=null){let x=f.findIndex(_=>_.route.id&&h?.[_.route.id]!==void 0);sa(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),f=f.slice(0,Math.min(f.length,x+1))}let p=!1,y=-1;if(d)for(let x=0;x<f.length;x++){let _=f[x];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(y=x),_.route.id){let{loaderData:b,errors:C}=d,k=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!C||C[_.route.id]===void 0);if(_.route.lazy||k){p=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}return f.reduceRight((x,_,b)=>{let C,k=!1,I=null,w=null;d&&(C=h&&_.route.id?h[_.route.id]:void 0,I=_.route.errorElement||oy,p&&(y<0&&b===0?(ag("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,w=null):y===b&&(k=!0,w=_.route.hydrateFallbackElement||null)));let M=r.concat(f.slice(0,b+1)),H=()=>{let L;return C?L=I:k?L=w:_.route.Component?L=u.createElement(_.route.Component,null):_.route.element?L=_.route.element:L=x,u.createElement(dy,{match:_,routeContext:{outlet:x,matches:M,isDataRoute:d!=null},children:L})};return d&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?u.createElement(cy,{location:d.location,revalidation:d.revalidation,component:I,error:C,children:H(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):H()},null)}function Xu(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fy(i){let r=u.useContext(pl);return sa(r,Xu(i)),r}function hy(i){let r=u.useContext(ic);return sa(r,Xu(i)),r}function my(i){let r=u.useContext(ns);return sa(r,Xu(i)),r}function Zu(i){let r=my(i),d=r.matches[r.matches.length-1];return sa(d.route.id,`${i} can only be used on routes that contain a unique "id"`),d.route.id}function py(){return Zu("useRouteId")}function gy(){let i=u.useContext(Yu),r=hy("useRouteError"),d=Zu("useRouteError");return i!==void 0?i:r.errors?.[d]}function _y(){let{router:i}=fy("useNavigate"),r=Zu("useNavigate"),d=u.useRef(!1);return eg(()=>{d.current=!0}),u.useCallback(async(f,h={})=>{Pn(d.current,Wp),d.current&&(typeof f=="number"?i.navigate(f):await i.navigate(f,{fromRouteId:r,...h}))},[i,r])}var Ap={};function ag(i,r,d){!r&&!Ap[i]&&(Ap[i]=!0,Pn(!1,d))}u.memo(xy);function xy({routes:i,future:r,state:d}){return tg(i,void 0,d,r)}function zn({to:i,replace:r,state:d,relative:o}){sa(gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:f}=u.useContext($n);Pn(!f,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=u.useContext(ns),{pathname:p}=ti(),y=_l(),x=Gu(i,Vu(h),p,o==="path"),_=JSON.stringify(x);return u.useEffect(()=>{y(JSON.parse(_),{replace:r,state:d,relative:o})},[y,_,o,r,d]),null}function ta(i){sa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yy({basename:i="/",children:r=null,location:d,navigationType:o="POP",navigator:f,static:h=!1}){sa(!gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=i.replace(/^\/*/,"/"),y=u.useMemo(()=>({basename:p,navigator:f,static:h,future:{}}),[p,f,h]);typeof d=="string"&&(d=ml(d));let{pathname:x="/",search:_="",hash:b="",state:C=null,key:k="default"}=d,I=u.useMemo(()=>{let w=Ss(x,p);return w==null?null:{location:{pathname:w,search:_,hash:b,state:C,key:k},navigationType:o}},[p,x,_,b,C,k,o]);return Pn(I!=null,`<Router basename="${p}"> is not able to match the URL "${x}${_}${b}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:u.createElement($n.Provider,{value:y},u.createElement(Nr.Provider,{children:r,value:I}))}function vy({children:i,location:r}){return ly(Lu(i),r)}function Lu(i,r=[]){let d=[];return u.Children.forEach(i,(o,f)=>{if(!u.isValidElement(o))return;let h=[...r,f];if(o.type===u.Fragment){d.push.apply(d,Lu(o.props.children,h));return}sa(o.type===ta,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sa(!o.props.index||!o.props.children,"An index route cannot have child routes.");let p={id:o.props.id||h.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(p.children=Lu(o.props.children,h)),d.push(p)}),d}var Yo="get",Xo="application/x-www-form-urlencoded";function lc(i){return i!=null&&typeof i.tagName=="string"}function by(i){return lc(i)&&i.tagName.toLowerCase()==="button"}function jy(i){return lc(i)&&i.tagName.toLowerCase()==="form"}function Sy(i){return lc(i)&&i.tagName.toLowerCase()==="input"}function Ny(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Cy(i,r){return i.button===0&&(!r||r==="_self")&&!Ny(i)}var $o=null;function Dy(){if($o===null)try{new FormData(document.createElement("form"),0),$o=!1}catch{$o=!0}return $o}var Ay=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eu(i){return i!=null&&!Ay.has(i)?(Pn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xo}"`),null):i}function wy(i,r){let d,o,f,h,p;if(jy(i)){let y=i.getAttribute("action");o=y?Ss(y,r):null,d=i.getAttribute("method")||Yo,f=Eu(i.getAttribute("enctype"))||Xo,h=new FormData(i)}else if(by(i)||Sy(i)&&(i.type==="submit"||i.type==="image")){let y=i.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=i.getAttribute("formaction")||y.getAttribute("action");if(o=x?Ss(x,r):null,d=i.getAttribute("formmethod")||y.getAttribute("method")||Yo,f=Eu(i.getAttribute("formenctype"))||Eu(y.getAttribute("enctype"))||Xo,h=new FormData(y,i),!Dy()){let{name:_,type:b,value:C}=i;if(b==="image"){let k=_?`${_}.`:"";h.append(`${k}x`,"0"),h.append(`${k}y`,"0")}else _&&h.append(_,C)}}else{if(lc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');d=Yo,o=null,f=Xo,p=i}return h&&f==="text/plain"&&(p=h,h=void 0),{action:o,method:d.toLowerCase(),encType:f,formData:h,body:p}}function Qu(i,r){if(i===!1||i===null||typeof i>"u")throw new Error(r)}async function Ey(i,r){if(i.id in r)return r[i.id];try{let d=await import(i.module);return r[i.id]=d,d}catch(d){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(d),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ty(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function ky(i,r,d){let o=await Promise.all(i.map(async f=>{let h=r.routes[f.route.id];if(h){let p=await Ey(h,d);return p.links?p.links():[]}return[]}));return Hy(o.flat(1).filter(Ty).filter(f=>f.rel==="stylesheet"||f.rel==="preload").map(f=>f.rel==="stylesheet"?{...f,rel:"prefetch",as:"style"}:{...f,rel:"prefetch"}))}function wp(i,r,d,o,f,h){let p=(x,_)=>d[_]?x.route.id!==d[_].route.id:!0,y=(x,_)=>d[_].pathname!==x.pathname||d[_].route.path?.endsWith("*")&&d[_].params["*"]!==x.params["*"];return h==="assets"?r.filter((x,_)=>p(x,_)||y(x,_)):h==="data"?r.filter((x,_)=>{let b=o.routes[x.route.id];if(!b||!b.hasLoader)return!1;if(p(x,_)||y(x,_))return!0;if(x.route.shouldRevalidate){let C=x.route.shouldRevalidate({currentUrl:new URL(f.pathname+f.search+f.hash,window.origin),currentParams:d[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function My(i,r,{includeHydrateFallback:d}={}){return Ry(i.map(o=>{let f=r.routes[o.route.id];if(!f)return[];let h=[f.module];return f.clientActionModule&&(h=h.concat(f.clientActionModule)),f.clientLoaderModule&&(h=h.concat(f.clientLoaderModule)),d&&f.hydrateFallbackModule&&(h=h.concat(f.hydrateFallbackModule)),f.imports&&(h=h.concat(f.imports)),h}).flat(1))}function Ry(i){return[...new Set(i)]}function Ly(i){let r={},d=Object.keys(i).sort();for(let o of d)r[o]=i[o];return r}function Hy(i,r){let d=new Set;return new Set(r),i.reduce((o,f)=>{let h=JSON.stringify(Ly(f));return d.has(h)||(d.add(h),o.push({key:h,link:f})),o},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Oy=new Set([100,101,204,205]);function Iy(i,r){let d=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return d.pathname==="/"?d.pathname="_root.data":r&&Ss(d.pathname,r)==="/"?d.pathname=`${r.replace(/\/$/,"")}/_root.data`:d.pathname=`${d.pathname.replace(/\/$/,"")}.data`,d}function ng(){let i=u.useContext(pl);return Qu(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Uy(){let i=u.useContext(ic);return Qu(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Ku=u.createContext(void 0);Ku.displayName="FrameworkContext";function sg(){let i=u.useContext(Ku);return Qu(i,"You must render this element inside a <HydratedRouter> element"),i}function Jy(i,r){let d=u.useContext(Ku),[o,f]=u.useState(!1),[h,p]=u.useState(!1),{onFocus:y,onBlur:x,onMouseEnter:_,onMouseLeave:b,onTouchStart:C}=r,k=u.useRef(null);u.useEffect(()=>{if(i==="render"&&p(!0),i==="viewport"){let M=L=>{L.forEach($=>{p($.isIntersecting)})},H=new IntersectionObserver(M,{threshold:.5});return k.current&&H.observe(k.current),()=>{H.disconnect()}}},[i]),u.useEffect(()=>{if(o){let M=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(M)}}},[o]);let I=()=>{f(!0)},w=()=>{f(!1),p(!1)};return d?i!=="intent"?[h,k,{}]:[h,k,{onFocus:_r(y,I),onBlur:_r(x,w),onMouseEnter:_r(_,I),onMouseLeave:_r(b,w),onTouchStart:_r(C,I)}]:[!1,k,{}]}function _r(i,r){return d=>{i&&i(d),d.defaultPrevented||r(d)}}function By({page:i,...r}){let{router:d}=ng(),o=u.useMemo(()=>Yp(d.routes,i,d.basename),[d.routes,i,d.basename]);return o?u.createElement(qy,{page:i,matches:o,...r}):null}function zy(i){let{manifest:r,routeModules:d}=sg(),[o,f]=u.useState([]);return u.useEffect(()=>{let h=!1;return ky(i,r,d).then(p=>{h||f(p)}),()=>{h=!0}},[i,r,d]),o}function qy({page:i,matches:r,...d}){let o=ti(),{manifest:f,routeModules:h}=sg(),{basename:p}=ng(),{loaderData:y,matches:x}=Uy(),_=u.useMemo(()=>wp(i,r,x,f,o,"data"),[i,r,x,f,o]),b=u.useMemo(()=>wp(i,r,x,f,o,"assets"),[i,r,x,f,o]),C=u.useMemo(()=>{if(i===o.pathname+o.search+o.hash)return[];let w=new Set,M=!1;if(r.forEach(L=>{let $=f.routes[L.route.id];!$||!$.hasLoader||(!_.some(J=>J.route.id===L.route.id)&&L.route.id in y&&h[L.route.id]?.shouldRevalidate||$.hasClientLoader?M=!0:w.add(L.route.id))}),w.size===0)return[];let H=Iy(i,p);return M&&w.size>0&&H.searchParams.set("_routes",r.filter(L=>w.has(L.route.id)).map(L=>L.route.id).join(",")),[H.pathname+H.search]},[p,y,o,f,_,r,i,h]),k=u.useMemo(()=>My(b,f),[b,f]),I=zy(b);return u.createElement(u.Fragment,null,C.map(w=>u.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...d})),k.map(w=>u.createElement("link",{key:w,rel:"modulepreload",href:w,...d})),I.map(({key:w,link:M})=>u.createElement("link",{key:w,...M})))}function Py(...i){return r=>{i.forEach(d=>{typeof d=="function"?d(r):d!=null&&(d.current=r)})}}var ig=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ig&&(window.__reactRouterVersion="7.6.2")}catch{}function $y({basename:i,children:r,window:d}){let o=u.useRef();o.current==null&&(o.current=kx({window:d,v5Compat:!0}));let f=o.current,[h,p]=u.useState({action:f.action,location:f.location}),y=u.useCallback(x=>{u.startTransition(()=>p(x))},[p]);return u.useLayoutEffect(()=>f.listen(y),[f,y]),u.createElement(yy,{basename:i,children:r,location:h.location,navigationType:h.action,navigator:f})}var lg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rg=u.forwardRef(function({onClick:r,discover:d="render",prefetch:o="none",relative:f,reloadDocument:h,replace:p,state:y,target:x,to:_,preventScrollReset:b,viewTransition:C,...k},I){let{basename:w}=u.useContext($n),M=typeof _=="string"&&lg.test(_),H,L=!1;if(typeof _=="string"&&M&&(H=_,ig))try{let be=new URL(window.location.href),P=_.startsWith("//")?new URL(be.protocol+_):new URL(_),fe=Ss(P.pathname,w);P.origin===be.origin&&fe!=null?_=fe+P.search+P.hash:L=!0}catch{Pn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=sy(_,{relative:f}),[J,ne,te]=Jy(o,k),Ce=Gy(_,{replace:p,state:y,target:x,preventScrollReset:b,relative:f,viewTransition:C});function me(be){r&&r(be),be.defaultPrevented||Ce(be)}let ue=u.createElement("a",{...k,...te,href:H||$,onClick:L||h?r:me,ref:Py(I,ne),target:x,"data-discover":!M&&d==="render"?"true":void 0});return J&&!M?u.createElement(u.Fragment,null,ue,u.createElement(By,{page:$})):ue});rg.displayName="Link";var qn=u.forwardRef(function({"aria-current":r="page",caseSensitive:d=!1,className:o="",end:f=!1,style:h,to:p,viewTransition:y,children:x,..._},b){let C=Cr(p,{relative:_.relative}),k=ti(),I=u.useContext(ic),{navigator:w,basename:M}=u.useContext($n),H=I!=null&&Ky(C)&&y===!0,L=w.encodeLocation?w.encodeLocation(C).pathname:C.pathname,$=k.pathname,J=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;d||($=$.toLowerCase(),J=J?J.toLowerCase():null,L=L.toLowerCase()),J&&M&&(J=Ss(J,M)||J);const ne=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let te=$===L||!f&&$.startsWith(L)&&$.charAt(ne)==="/",Ce=J!=null&&(J===L||!f&&J.startsWith(L)&&J.charAt(L.length)==="/"),me={isActive:te,isPending:Ce,isTransitioning:H},ue=te?r:void 0,be;typeof o=="function"?be=o(me):be=[o,te?"active":null,Ce?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let P=typeof h=="function"?h(me):h;return u.createElement(rg,{..._,"aria-current":ue,className:be,ref:b,style:P,to:p,viewTransition:y},typeof x=="function"?x(me):x)});qn.displayName="NavLink";var Fy=u.forwardRef(({discover:i="render",fetcherKey:r,navigate:d,reloadDocument:o,replace:f,state:h,method:p=Yo,action:y,onSubmit:x,relative:_,preventScrollReset:b,viewTransition:C,...k},I)=>{let w=Zy(),M=Qy(y,{relative:_}),H=p.toLowerCase()==="get"?"get":"post",L=typeof y=="string"&&lg.test(y),$=J=>{if(x&&x(J),J.defaultPrevented)return;J.preventDefault();let ne=J.nativeEvent.submitter,te=ne?.getAttribute("formmethod")||p;w(ne||J.currentTarget,{fetcherKey:r,method:te,navigate:d,replace:f,state:h,relative:_,preventScrollReset:b,viewTransition:C})};return u.createElement("form",{ref:I,method:H,action:M,onSubmit:o?x:$,...k,"data-discover":!L&&i==="render"?"true":void 0})});Fy.displayName="Form";function Vy(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function og(i){let r=u.useContext(pl);return sa(r,Vy(i)),r}function Gy(i,{target:r,replace:d,state:o,preventScrollReset:f,relative:h,viewTransition:p}={}){let y=_l(),x=ti(),_=Cr(i,{relative:h});return u.useCallback(b=>{if(Cy(b,r)){b.preventDefault();let C=d!==void 0?d:yr(x)===yr(_);y(i,{replace:C,state:o,preventScrollReset:f,relative:h,viewTransition:p})}},[x,y,_,d,o,r,i,f,h,p])}var Yy=0,Xy=()=>`__${String(++Yy)}__`;function Zy(){let{router:i}=og("useSubmit"),{basename:r}=u.useContext($n),d=py();return u.useCallback(async(o,f={})=>{let{action:h,method:p,encType:y,formData:x,body:_}=wy(o,r);if(f.navigate===!1){let b=f.fetcherKey||Xy();await i.fetch(b,d,f.action||h,{preventScrollReset:f.preventScrollReset,formData:x,body:_,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await i.navigate(f.action||h,{preventScrollReset:f.preventScrollReset,formData:x,body:_,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:d,flushSync:f.flushSync,viewTransition:f.viewTransition})},[i,r,d])}function Qy(i,{relative:r}={}){let{basename:d}=u.useContext($n),o=u.useContext(ns);sa(o,"useFormAction must be used inside a RouteContext");let[f]=o.matches.slice(-1),h={...Cr(i||".",{relative:r})},p=ti();if(i==null){h.search=p.search;let y=new URLSearchParams(h.search),x=y.getAll("index");if(x.some(b=>b==="")){y.delete("index"),x.filter(C=>C).forEach(C=>y.append("index",C));let b=y.toString();h.search=b?`?${b}`:""}}return(!i||i===".")&&f.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),d!=="/"&&(h.pathname=h.pathname==="/"?d:js([d,h.pathname])),yr(h)}function Ky(i,r={}){let d=u.useContext(Kp);sa(d!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=og("useViewTransitionState"),f=Cr(i,{relative:r.relative});if(!d.isTransitioning)return!1;let h=Ss(d.currentLocation.pathname,o)||d.currentLocation.pathname,p=Ss(d.nextLocation.pathname,o)||d.nextLocation.pathname;return ec(f.pathname,p)!=null||ec(f.pathname,h)!=null}[...Oy];function cg(i,r){return function(){return i.apply(r,arguments)}}const{toString:Wy}=Object.prototype,{getPrototypeOf:Wu}=Object,{iterator:rc,toStringTag:dg}=Symbol,oc=(i=>r=>{const d=Wy.call(r);return i[d]||(i[d]=d.slice(8,-1).toLowerCase())})(Object.create(null)),Fn=i=>(i=i.toLowerCase(),r=>oc(r)===i),cc=i=>r=>typeof r===i,{isArray:xl}=Array,vr=cc("undefined");function ev(i){return i!==null&&!vr(i)&&i.constructor!==null&&!vr(i.constructor)&&rn(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const ug=Fn("ArrayBuffer");function tv(i){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(i):r=i&&i.buffer&&ug(i.buffer),r}const av=cc("string"),rn=cc("function"),fg=cc("number"),dc=i=>i!==null&&typeof i=="object",nv=i=>i===!0||i===!1,Zo=i=>{if(oc(i)!=="object")return!1;const r=Wu(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(dg in i)&&!(rc in i)},sv=Fn("Date"),iv=Fn("File"),lv=Fn("Blob"),rv=Fn("FileList"),ov=i=>dc(i)&&rn(i.pipe),cv=i=>{let r;return i&&(typeof FormData=="function"&&i instanceof FormData||rn(i.append)&&((r=oc(i))==="formdata"||r==="object"&&rn(i.toString)&&i.toString()==="[object FormData]"))},dv=Fn("URLSearchParams"),[uv,fv,hv,mv]=["ReadableStream","Request","Response","Headers"].map(Fn),pv=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dr(i,r,{allOwnKeys:d=!1}={}){if(i===null||typeof i>"u")return;let o,f;if(typeof i!="object"&&(i=[i]),xl(i))for(o=0,f=i.length;o<f;o++)r.call(null,i[o],o,i);else{const h=d?Object.getOwnPropertyNames(i):Object.keys(i),p=h.length;let y;for(o=0;o<p;o++)y=h[o],r.call(null,i[y],y,i)}}function hg(i,r){r=r.toLowerCase();const d=Object.keys(i);let o=d.length,f;for(;o-- >0;)if(f=d[o],r===f.toLowerCase())return f;return null}const Ni=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mg=i=>!vr(i)&&i!==Ni;function Hu(){const{caseless:i}=mg(this)&&this||{},r={},d=(o,f)=>{const h=i&&hg(r,f)||f;Zo(r[h])&&Zo(o)?r[h]=Hu(r[h],o):Zo(o)?r[h]=Hu({},o):xl(o)?r[h]=o.slice():r[h]=o};for(let o=0,f=arguments.length;o<f;o++)arguments[o]&&Dr(arguments[o],d);return r}const gv=(i,r,d,{allOwnKeys:o}={})=>(Dr(r,(f,h)=>{d&&rn(f)?i[h]=cg(f,d):i[h]=f},{allOwnKeys:o}),i),_v=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),xv=(i,r,d,o)=>{i.prototype=Object.create(r.prototype,o),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:r.prototype}),d&&Object.assign(i.prototype,d)},yv=(i,r,d,o)=>{let f,h,p;const y={};if(r=r||{},i==null)return r;do{for(f=Object.getOwnPropertyNames(i),h=f.length;h-- >0;)p=f[h],(!o||o(p,i,r))&&!y[p]&&(r[p]=i[p],y[p]=!0);i=d!==!1&&Wu(i)}while(i&&(!d||d(i,r))&&i!==Object.prototype);return r},vv=(i,r,d)=>{i=String(i),(d===void 0||d>i.length)&&(d=i.length),d-=r.length;const o=i.indexOf(r,d);return o!==-1&&o===d},bv=i=>{if(!i)return null;if(xl(i))return i;let r=i.length;if(!fg(r))return null;const d=new Array(r);for(;r-- >0;)d[r]=i[r];return d},jv=(i=>r=>i&&r instanceof i)(typeof Uint8Array<"u"&&Wu(Uint8Array)),Sv=(i,r)=>{const o=(i&&i[rc]).call(i);let f;for(;(f=o.next())&&!f.done;){const h=f.value;r.call(i,h[0],h[1])}},Nv=(i,r)=>{let d;const o=[];for(;(d=i.exec(r))!==null;)o.push(d);return o},Cv=Fn("HTMLFormElement"),Dv=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(d,o,f){return o.toUpperCase()+f}),Ep=(({hasOwnProperty:i})=>(r,d)=>i.call(r,d))(Object.prototype),Av=Fn("RegExp"),pg=(i,r)=>{const d=Object.getOwnPropertyDescriptors(i),o={};Dr(d,(f,h)=>{let p;(p=r(f,h,i))!==!1&&(o[h]=p||f)}),Object.defineProperties(i,o)},wv=i=>{pg(i,(r,d)=>{if(rn(i)&&["arguments","caller","callee"].indexOf(d)!==-1)return!1;const o=i[d];if(rn(o)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+d+"'")})}})},Ev=(i,r)=>{const d={},o=f=>{f.forEach(h=>{d[h]=!0})};return xl(i)?o(i):o(String(i).split(r)),d},Tv=()=>{},kv=(i,r)=>i!=null&&Number.isFinite(i=+i)?i:r;function Mv(i){return!!(i&&rn(i.append)&&i[dg]==="FormData"&&i[rc])}const Rv=i=>{const r=new Array(10),d=(o,f)=>{if(dc(o)){if(r.indexOf(o)>=0)return;if(!("toJSON"in o)){r[f]=o;const h=xl(o)?[]:{};return Dr(o,(p,y)=>{const x=d(p,f+1);!vr(x)&&(h[y]=x)}),r[f]=void 0,h}}return o};return d(i,0)},Lv=Fn("AsyncFunction"),Hv=i=>i&&(dc(i)||rn(i))&&rn(i.then)&&rn(i.catch),gg=((i,r)=>i?setImmediate:r?((d,o)=>(Ni.addEventListener("message",({source:f,data:h})=>{f===Ni&&h===d&&o.length&&o.shift()()},!1),f=>{o.push(f),Ni.postMessage(d,"*")}))(`axios@${Math.random()}`,[]):d=>setTimeout(d))(typeof setImmediate=="function",rn(Ni.postMessage)),Ov=typeof queueMicrotask<"u"?queueMicrotask.bind(Ni):typeof process<"u"&&process.nextTick||gg,Iv=i=>i!=null&&rn(i[rc]),se={isArray:xl,isArrayBuffer:ug,isBuffer:ev,isFormData:cv,isArrayBufferView:tv,isString:av,isNumber:fg,isBoolean:nv,isObject:dc,isPlainObject:Zo,isReadableStream:uv,isRequest:fv,isResponse:hv,isHeaders:mv,isUndefined:vr,isDate:sv,isFile:iv,isBlob:lv,isRegExp:Av,isFunction:rn,isStream:ov,isURLSearchParams:dv,isTypedArray:jv,isFileList:rv,forEach:Dr,merge:Hu,extend:gv,trim:pv,stripBOM:_v,inherits:xv,toFlatObject:yv,kindOf:oc,kindOfTest:Fn,endsWith:vv,toArray:bv,forEachEntry:Sv,matchAll:Nv,isHTMLForm:Cv,hasOwnProperty:Ep,hasOwnProp:Ep,reduceDescriptors:pg,freezeMethods:wv,toObjectSet:Ev,toCamelCase:Dv,noop:Tv,toFiniteNumber:kv,findKey:hg,global:Ni,isContextDefined:mg,isSpecCompliantForm:Mv,toJSONObject:Rv,isAsyncFn:Lv,isThenable:Hv,setImmediate:gg,asap:Ov,isIterable:Iv};function gt(i,r,d,o,f){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",r&&(this.code=r),d&&(this.config=d),o&&(this.request=o),f&&(this.response=f,this.status=f.status?f.status:null)}se.inherits(gt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const _g=gt.prototype,xg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{xg[i]={value:i}});Object.defineProperties(gt,xg);Object.defineProperty(_g,"isAxiosError",{value:!0});gt.from=(i,r,d,o,f,h)=>{const p=Object.create(_g);return se.toFlatObject(i,p,function(x){return x!==Error.prototype},y=>y!=="isAxiosError"),gt.call(p,i.message,r,d,o,f),p.cause=i,p.name=i.name,h&&Object.assign(p,h),p};const Uv=null;function Ou(i){return se.isPlainObject(i)||se.isArray(i)}function yg(i){return se.endsWith(i,"[]")?i.slice(0,-2):i}function Tp(i,r,d){return i?i.concat(r).map(function(f,h){return f=yg(f),!d&&h?"["+f+"]":f}).join(d?".":""):r}function Jv(i){return se.isArray(i)&&!i.some(Ou)}const Bv=se.toFlatObject(se,{},null,function(r){return/^is[A-Z]/.test(r)});function uc(i,r,d){if(!se.isObject(i))throw new TypeError("target must be an object");r=r||new FormData,d=se.toFlatObject(d,{metaTokens:!0,dots:!1,indexes:!1},!1,function(M,H){return!se.isUndefined(H[M])});const o=d.metaTokens,f=d.visitor||b,h=d.dots,p=d.indexes,x=(d.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(r);if(!se.isFunction(f))throw new TypeError("visitor must be a function");function _(w){if(w===null)return"";if(se.isDate(w))return w.toISOString();if(se.isBoolean(w))return w.toString();if(!x&&se.isBlob(w))throw new gt("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(w)||se.isTypedArray(w)?x&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function b(w,M,H){let L=w;if(w&&!H&&typeof w=="object"){if(se.endsWith(M,"{}"))M=o?M:M.slice(0,-2),w=JSON.stringify(w);else if(se.isArray(w)&&Jv(w)||(se.isFileList(w)||se.endsWith(M,"[]"))&&(L=se.toArray(w)))return M=yg(M),L.forEach(function(J,ne){!(se.isUndefined(J)||J===null)&&r.append(p===!0?Tp([M],ne,h):p===null?M:M+"[]",_(J))}),!1}return Ou(w)?!0:(r.append(Tp(H,M,h),_(w)),!1)}const C=[],k=Object.assign(Bv,{defaultVisitor:b,convertValue:_,isVisitable:Ou});function I(w,M){if(!se.isUndefined(w)){if(C.indexOf(w)!==-1)throw Error("Circular reference detected in "+M.join("."));C.push(w),se.forEach(w,function(L,$){(!(se.isUndefined(L)||L===null)&&f.call(r,L,se.isString($)?$.trim():$,M,k))===!0&&I(L,M?M.concat($):[$])}),C.pop()}}if(!se.isObject(i))throw new TypeError("data must be an object");return I(i),r}function kp(i){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(o){return r[o]})}function ef(i,r){this._pairs=[],i&&uc(i,this,r)}const vg=ef.prototype;vg.append=function(r,d){this._pairs.push([r,d])};vg.toString=function(r){const d=r?function(o){return r.call(this,o,kp)}:kp;return this._pairs.map(function(f){return d(f[0])+"="+d(f[1])},"").join("&")};function zv(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bg(i,r,d){if(!r)return i;const o=d&&d.encode||zv;se.isFunction(d)&&(d={serialize:d});const f=d&&d.serialize;let h;if(f?h=f(r,d):h=se.isURLSearchParams(r)?r.toString():new ef(r,d).toString(o),h){const p=i.indexOf("#");p!==-1&&(i=i.slice(0,p)),i+=(i.indexOf("?")===-1?"?":"&")+h}return i}class Mp{constructor(){this.handlers=[]}use(r,d,o){return this.handlers.push({fulfilled:r,rejected:d,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){se.forEach(this.handlers,function(o){o!==null&&r(o)})}}const jg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qv=typeof URLSearchParams<"u"?URLSearchParams:ef,Pv=typeof FormData<"u"?FormData:null,$v=typeof Blob<"u"?Blob:null,Fv={isBrowser:!0,classes:{URLSearchParams:qv,FormData:Pv,Blob:$v},protocols:["http","https","file","blob","url","data"]},tf=typeof window<"u"&&typeof document<"u",Iu=typeof navigator=="object"&&navigator||void 0,Vv=tf&&(!Iu||["ReactNative","NativeScript","NS"].indexOf(Iu.product)<0),Gv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yv=tf&&window.location.href||"http://localhost",Xv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tf,hasStandardBrowserEnv:Vv,hasStandardBrowserWebWorkerEnv:Gv,navigator:Iu,origin:Yv},Symbol.toStringTag,{value:"Module"})),Fa={...Xv,...Fv};function Zv(i,r){return uc(i,new Fa.classes.URLSearchParams,Object.assign({visitor:function(d,o,f,h){return Fa.isNode&&se.isBuffer(d)?(this.append(o,d.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},r))}function Qv(i){return se.matchAll(/\w+|\[(\w*)]/g,i).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Kv(i){const r={},d=Object.keys(i);let o;const f=d.length;let h;for(o=0;o<f;o++)h=d[o],r[h]=i[h];return r}function Sg(i){function r(d,o,f,h){let p=d[h++];if(p==="__proto__")return!0;const y=Number.isFinite(+p),x=h>=d.length;return p=!p&&se.isArray(f)?f.length:p,x?(se.hasOwnProp(f,p)?f[p]=[f[p],o]:f[p]=o,!y):((!f[p]||!se.isObject(f[p]))&&(f[p]=[]),r(d,o,f[p],h)&&se.isArray(f[p])&&(f[p]=Kv(f[p])),!y)}if(se.isFormData(i)&&se.isFunction(i.entries)){const d={};return se.forEachEntry(i,(o,f)=>{r(Qv(o),f,d,0)}),d}return null}function Wv(i,r,d){if(se.isString(i))try{return(r||JSON.parse)(i),se.trim(i)}catch(o){if(o.name!=="SyntaxError")throw o}return(d||JSON.stringify)(i)}const Ar={transitional:jg,adapter:["xhr","http","fetch"],transformRequest:[function(r,d){const o=d.getContentType()||"",f=o.indexOf("application/json")>-1,h=se.isObject(r);if(h&&se.isHTMLForm(r)&&(r=new FormData(r)),se.isFormData(r))return f?JSON.stringify(Sg(r)):r;if(se.isArrayBuffer(r)||se.isBuffer(r)||se.isStream(r)||se.isFile(r)||se.isBlob(r)||se.isReadableStream(r))return r;if(se.isArrayBufferView(r))return r.buffer;if(se.isURLSearchParams(r))return d.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let y;if(h){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Zv(r,this.formSerializer).toString();if((y=se.isFileList(r))||o.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return uc(y?{"files[]":r}:r,x&&new x,this.formSerializer)}}return h||f?(d.setContentType("application/json",!1),Wv(r)):r}],transformResponse:[function(r){const d=this.transitional||Ar.transitional,o=d&&d.forcedJSONParsing,f=this.responseType==="json";if(se.isResponse(r)||se.isReadableStream(r))return r;if(r&&se.isString(r)&&(o&&!this.responseType||f)){const p=!(d&&d.silentJSONParsing)&&f;try{return JSON.parse(r)}catch(y){if(p)throw y.name==="SyntaxError"?gt.from(y,gt.ERR_BAD_RESPONSE,this,null,this.response):y}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fa.classes.FormData,Blob:Fa.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],i=>{Ar.headers[i]={}});const eb=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tb=i=>{const r={};let d,o,f;return i&&i.split(`
`).forEach(function(p){f=p.indexOf(":"),d=p.substring(0,f).trim().toLowerCase(),o=p.substring(f+1).trim(),!(!d||r[d]&&eb[d])&&(d==="set-cookie"?r[d]?r[d].push(o):r[d]=[o]:r[d]=r[d]?r[d]+", "+o:o)}),r},Rp=Symbol("internals");function xr(i){return i&&String(i).trim().toLowerCase()}function Qo(i){return i===!1||i==null?i:se.isArray(i)?i.map(Qo):String(i)}function ab(i){const r=Object.create(null),d=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=d.exec(i);)r[o[1]]=o[2];return r}const nb=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Tu(i,r,d,o,f){if(se.isFunction(o))return o.call(this,r,d);if(f&&(r=d),!!se.isString(r)){if(se.isString(o))return r.indexOf(o)!==-1;if(se.isRegExp(o))return o.test(r)}}function sb(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,d,o)=>d.toUpperCase()+o)}function ib(i,r){const d=se.toCamelCase(" "+r);["get","set","has"].forEach(o=>{Object.defineProperty(i,o+d,{value:function(f,h,p){return this[o].call(this,r,f,h,p)},configurable:!0})})}let on=class{constructor(r){r&&this.set(r)}set(r,d,o){const f=this;function h(y,x,_){const b=xr(x);if(!b)throw new Error("header name must be a non-empty string");const C=se.findKey(f,b);(!C||f[C]===void 0||_===!0||_===void 0&&f[C]!==!1)&&(f[C||x]=Qo(y))}const p=(y,x)=>se.forEach(y,(_,b)=>h(_,b,x));if(se.isPlainObject(r)||r instanceof this.constructor)p(r,d);else if(se.isString(r)&&(r=r.trim())&&!nb(r))p(tb(r),d);else if(se.isObject(r)&&se.isIterable(r)){let y={},x,_;for(const b of r){if(!se.isArray(b))throw TypeError("Object iterator must return a key-value pair");y[_=b[0]]=(x=y[_])?se.isArray(x)?[...x,b[1]]:[x,b[1]]:b[1]}p(y,d)}else r!=null&&h(d,r,o);return this}get(r,d){if(r=xr(r),r){const o=se.findKey(this,r);if(o){const f=this[o];if(!d)return f;if(d===!0)return ab(f);if(se.isFunction(d))return d.call(this,f,o);if(se.isRegExp(d))return d.exec(f);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,d){if(r=xr(r),r){const o=se.findKey(this,r);return!!(o&&this[o]!==void 0&&(!d||Tu(this,this[o],o,d)))}return!1}delete(r,d){const o=this;let f=!1;function h(p){if(p=xr(p),p){const y=se.findKey(o,p);y&&(!d||Tu(o,o[y],y,d))&&(delete o[y],f=!0)}}return se.isArray(r)?r.forEach(h):h(r),f}clear(r){const d=Object.keys(this);let o=d.length,f=!1;for(;o--;){const h=d[o];(!r||Tu(this,this[h],h,r,!0))&&(delete this[h],f=!0)}return f}normalize(r){const d=this,o={};return se.forEach(this,(f,h)=>{const p=se.findKey(o,h);if(p){d[p]=Qo(f),delete d[h];return}const y=r?sb(h):String(h).trim();y!==h&&delete d[h],d[y]=Qo(f),o[y]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const d=Object.create(null);return se.forEach(this,(o,f)=>{o!=null&&o!==!1&&(d[f]=r&&se.isArray(o)?o.join(", "):o)}),d}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,d])=>r+": "+d).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...d){const o=new this(r);return d.forEach(f=>o.set(f)),o}static accessor(r){const o=(this[Rp]=this[Rp]={accessors:{}}).accessors,f=this.prototype;function h(p){const y=xr(p);o[y]||(ib(f,p),o[y]=!0)}return se.isArray(r)?r.forEach(h):h(r),this}};on.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(on.prototype,({value:i},r)=>{let d=r[0].toUpperCase()+r.slice(1);return{get:()=>i,set(o){this[d]=o}}});se.freezeMethods(on);function ku(i,r){const d=this||Ar,o=r||d,f=on.from(o.headers);let h=o.data;return se.forEach(i,function(y){h=y.call(d,h,f.normalize(),r?r.status:void 0)}),f.normalize(),h}function Ng(i){return!!(i&&i.__CANCEL__)}function yl(i,r,d){gt.call(this,i??"canceled",gt.ERR_CANCELED,r,d),this.name="CanceledError"}se.inherits(yl,gt,{__CANCEL__:!0});function Cg(i,r,d){const o=d.config.validateStatus;!d.status||!o||o(d.status)?i(d):r(new gt("Request failed with status code "+d.status,[gt.ERR_BAD_REQUEST,gt.ERR_BAD_RESPONSE][Math.floor(d.status/100)-4],d.config,d.request,d))}function lb(i){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return r&&r[1]||""}function rb(i,r){i=i||10;const d=new Array(i),o=new Array(i);let f=0,h=0,p;return r=r!==void 0?r:1e3,function(x){const _=Date.now(),b=o[h];p||(p=_),d[f]=x,o[f]=_;let C=h,k=0;for(;C!==f;)k+=d[C++],C=C%i;if(f=(f+1)%i,f===h&&(h=(h+1)%i),_-p<r)return;const I=b&&_-b;return I?Math.round(k*1e3/I):void 0}}function ob(i,r){let d=0,o=1e3/r,f,h;const p=(_,b=Date.now())=>{d=b,f=null,h&&(clearTimeout(h),h=null),i.apply(null,_)};return[(..._)=>{const b=Date.now(),C=b-d;C>=o?p(_,b):(f=_,h||(h=setTimeout(()=>{h=null,p(f)},o-C)))},()=>f&&p(f)]}const tc=(i,r,d=3)=>{let o=0;const f=rb(50,250);return ob(h=>{const p=h.loaded,y=h.lengthComputable?h.total:void 0,x=p-o,_=f(x),b=p<=y;o=p;const C={loaded:p,total:y,progress:y?p/y:void 0,bytes:x,rate:_||void 0,estimated:_&&y&&b?(y-p)/_:void 0,event:h,lengthComputable:y!=null,[r?"download":"upload"]:!0};i(C)},d)},Lp=(i,r)=>{const d=i!=null;return[o=>r[0]({lengthComputable:d,total:i,loaded:o}),r[1]]},Hp=i=>(...r)=>se.asap(()=>i(...r)),cb=Fa.hasStandardBrowserEnv?((i,r)=>d=>(d=new URL(d,Fa.origin),i.protocol===d.protocol&&i.host===d.host&&(r||i.port===d.port)))(new URL(Fa.origin),Fa.navigator&&/(msie|trident)/i.test(Fa.navigator.userAgent)):()=>!0,db=Fa.hasStandardBrowserEnv?{write(i,r,d,o,f,h){const p=[i+"="+encodeURIComponent(r)];se.isNumber(d)&&p.push("expires="+new Date(d).toGMTString()),se.isString(o)&&p.push("path="+o),se.isString(f)&&p.push("domain="+f),h===!0&&p.push("secure"),document.cookie=p.join("; ")},read(i){const r=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ub(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function fb(i,r){return r?i.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):i}function Dg(i,r,d){let o=!ub(r);return i&&(o||d==!1)?fb(i,r):r}const Op=i=>i instanceof on?{...i}:i;function Ai(i,r){r=r||{};const d={};function o(_,b,C,k){return se.isPlainObject(_)&&se.isPlainObject(b)?se.merge.call({caseless:k},_,b):se.isPlainObject(b)?se.merge({},b):se.isArray(b)?b.slice():b}function f(_,b,C,k){if(se.isUndefined(b)){if(!se.isUndefined(_))return o(void 0,_,C,k)}else return o(_,b,C,k)}function h(_,b){if(!se.isUndefined(b))return o(void 0,b)}function p(_,b){if(se.isUndefined(b)){if(!se.isUndefined(_))return o(void 0,_)}else return o(void 0,b)}function y(_,b,C){if(C in r)return o(_,b);if(C in i)return o(void 0,_)}const x={url:h,method:h,data:h,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:y,headers:(_,b,C)=>f(Op(_),Op(b),C,!0)};return se.forEach(Object.keys(Object.assign({},i,r)),function(b){const C=x[b]||f,k=C(i[b],r[b],b);se.isUndefined(k)&&C!==y||(d[b]=k)}),d}const Ag=i=>{const r=Ai({},i);let{data:d,withXSRFToken:o,xsrfHeaderName:f,xsrfCookieName:h,headers:p,auth:y}=r;r.headers=p=on.from(p),r.url=bg(Dg(r.baseURL,r.url,r.allowAbsoluteUrls),i.params,i.paramsSerializer),y&&p.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):"")));let x;if(se.isFormData(d)){if(Fa.hasStandardBrowserEnv||Fa.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if((x=p.getContentType())!==!1){const[_,...b]=x?x.split(";").map(C=>C.trim()).filter(Boolean):[];p.setContentType([_||"multipart/form-data",...b].join("; "))}}if(Fa.hasStandardBrowserEnv&&(o&&se.isFunction(o)&&(o=o(r)),o||o!==!1&&cb(r.url))){const _=f&&h&&db.read(h);_&&p.set(f,_)}return r},hb=typeof XMLHttpRequest<"u",mb=hb&&function(i){return new Promise(function(d,o){const f=Ag(i);let h=f.data;const p=on.from(f.headers).normalize();let{responseType:y,onUploadProgress:x,onDownloadProgress:_}=f,b,C,k,I,w;function M(){I&&I(),w&&w(),f.cancelToken&&f.cancelToken.unsubscribe(b),f.signal&&f.signal.removeEventListener("abort",b)}let H=new XMLHttpRequest;H.open(f.method.toUpperCase(),f.url,!0),H.timeout=f.timeout;function L(){if(!H)return;const J=on.from("getAllResponseHeaders"in H&&H.getAllResponseHeaders()),te={data:!y||y==="text"||y==="json"?H.responseText:H.response,status:H.status,statusText:H.statusText,headers:J,config:i,request:H};Cg(function(me){d(me),M()},function(me){o(me),M()},te),H=null}"onloadend"in H?H.onloadend=L:H.onreadystatechange=function(){!H||H.readyState!==4||H.status===0&&!(H.responseURL&&H.responseURL.indexOf("file:")===0)||setTimeout(L)},H.onabort=function(){H&&(o(new gt("Request aborted",gt.ECONNABORTED,i,H)),H=null)},H.onerror=function(){o(new gt("Network Error",gt.ERR_NETWORK,i,H)),H=null},H.ontimeout=function(){let ne=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded";const te=f.transitional||jg;f.timeoutErrorMessage&&(ne=f.timeoutErrorMessage),o(new gt(ne,te.clarifyTimeoutError?gt.ETIMEDOUT:gt.ECONNABORTED,i,H)),H=null},h===void 0&&p.setContentType(null),"setRequestHeader"in H&&se.forEach(p.toJSON(),function(ne,te){H.setRequestHeader(te,ne)}),se.isUndefined(f.withCredentials)||(H.withCredentials=!!f.withCredentials),y&&y!=="json"&&(H.responseType=f.responseType),_&&([k,w]=tc(_,!0),H.addEventListener("progress",k)),x&&H.upload&&([C,I]=tc(x),H.upload.addEventListener("progress",C),H.upload.addEventListener("loadend",I)),(f.cancelToken||f.signal)&&(b=J=>{H&&(o(!J||J.type?new yl(null,i,H):J),H.abort(),H=null)},f.cancelToken&&f.cancelToken.subscribe(b),f.signal&&(f.signal.aborted?b():f.signal.addEventListener("abort",b)));const $=lb(f.url);if($&&Fa.protocols.indexOf($)===-1){o(new gt("Unsupported protocol "+$+":",gt.ERR_BAD_REQUEST,i));return}H.send(h||null)})},pb=(i,r)=>{const{length:d}=i=i?i.filter(Boolean):[];if(r||d){let o=new AbortController,f;const h=function(_){if(!f){f=!0,y();const b=_ instanceof Error?_:this.reason;o.abort(b instanceof gt?b:new yl(b instanceof Error?b.message:b))}};let p=r&&setTimeout(()=>{p=null,h(new gt(`timeout ${r} of ms exceeded`,gt.ETIMEDOUT))},r);const y=()=>{i&&(p&&clearTimeout(p),p=null,i.forEach(_=>{_.unsubscribe?_.unsubscribe(h):_.removeEventListener("abort",h)}),i=null)};i.forEach(_=>_.addEventListener("abort",h));const{signal:x}=o;return x.unsubscribe=()=>se.asap(y),x}},gb=function*(i,r){let d=i.byteLength;if(d<r){yield i;return}let o=0,f;for(;o<d;)f=o+r,yield i.slice(o,f),o=f},_b=async function*(i,r){for await(const d of xb(i))yield*gb(d,r)},xb=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const r=i.getReader();try{for(;;){const{done:d,value:o}=await r.read();if(d)break;yield o}}finally{await r.cancel()}},Ip=(i,r,d,o)=>{const f=_b(i,r);let h=0,p,y=x=>{p||(p=!0,o&&o(x))};return new ReadableStream({async pull(x){try{const{done:_,value:b}=await f.next();if(_){y(),x.close();return}let C=b.byteLength;if(d){let k=h+=C;d(k)}x.enqueue(new Uint8Array(b))}catch(_){throw y(_),_}},cancel(x){return y(x),f.return()}},{highWaterMark:2})},fc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",wg=fc&&typeof ReadableStream=="function",yb=fc&&(typeof TextEncoder=="function"?(i=>r=>i.encode(r))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),Eg=(i,...r)=>{try{return!!i(...r)}catch{return!1}},vb=wg&&Eg(()=>{let i=!1;const r=new Request(Fa.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!r}),Up=64*1024,Uu=wg&&Eg(()=>se.isReadableStream(new Response("").body)),ac={stream:Uu&&(i=>i.body)};fc&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!ac[r]&&(ac[r]=se.isFunction(i[r])?d=>d[r]():(d,o)=>{throw new gt(`Response type '${r}' is not supported`,gt.ERR_NOT_SUPPORT,o)})})})(new Response);const bb=async i=>{if(i==null)return 0;if(se.isBlob(i))return i.size;if(se.isSpecCompliantForm(i))return(await new Request(Fa.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(se.isArrayBufferView(i)||se.isArrayBuffer(i))return i.byteLength;if(se.isURLSearchParams(i)&&(i=i+""),se.isString(i))return(await yb(i)).byteLength},jb=async(i,r)=>{const d=se.toFiniteNumber(i.getContentLength());return d??bb(r)},Sb=fc&&(async i=>{let{url:r,method:d,data:o,signal:f,cancelToken:h,timeout:p,onDownloadProgress:y,onUploadProgress:x,responseType:_,headers:b,withCredentials:C="same-origin",fetchOptions:k}=Ag(i);_=_?(_+"").toLowerCase():"text";let I=pb([f,h&&h.toAbortSignal()],p),w;const M=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let H;try{if(x&&vb&&d!=="get"&&d!=="head"&&(H=await jb(b,o))!==0){let te=new Request(r,{method:"POST",body:o,duplex:"half"}),Ce;if(se.isFormData(o)&&(Ce=te.headers.get("content-type"))&&b.setContentType(Ce),te.body){const[me,ue]=Lp(H,tc(Hp(x)));o=Ip(te.body,Up,me,ue)}}se.isString(C)||(C=C?"include":"omit");const L="credentials"in Request.prototype;w=new Request(r,{...k,signal:I,method:d.toUpperCase(),headers:b.normalize().toJSON(),body:o,duplex:"half",credentials:L?C:void 0});let $=await fetch(w,k);const J=Uu&&(_==="stream"||_==="response");if(Uu&&(y||J&&M)){const te={};["status","statusText","headers"].forEach(be=>{te[be]=$[be]});const Ce=se.toFiniteNumber($.headers.get("content-length")),[me,ue]=y&&Lp(Ce,tc(Hp(y),!0))||[];$=new Response(Ip($.body,Up,me,()=>{ue&&ue(),M&&M()}),te)}_=_||"text";let ne=await ac[se.findKey(ac,_)||"text"]($,i);return!J&&M&&M(),await new Promise((te,Ce)=>{Cg(te,Ce,{data:ne,headers:on.from($.headers),status:$.status,statusText:$.statusText,config:i,request:w})})}catch(L){throw M&&M(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new gt("Network Error",gt.ERR_NETWORK,i,w),{cause:L.cause||L}):gt.from(L,L&&L.code,i,w)}}),Ju={http:Uv,xhr:mb,fetch:Sb};se.forEach(Ju,(i,r)=>{if(i){try{Object.defineProperty(i,"name",{value:r})}catch{}Object.defineProperty(i,"adapterName",{value:r})}});const Jp=i=>`- ${i}`,Nb=i=>se.isFunction(i)||i===null||i===!1,Tg={getAdapter:i=>{i=se.isArray(i)?i:[i];const{length:r}=i;let d,o;const f={};for(let h=0;h<r;h++){d=i[h];let p;if(o=d,!Nb(d)&&(o=Ju[(p=String(d)).toLowerCase()],o===void 0))throw new gt(`Unknown adapter '${p}'`);if(o)break;f[p||"#"+h]=o}if(!o){const h=Object.entries(f).map(([y,x])=>`adapter ${y} `+(x===!1?"is not supported by the environment":"is not available in the build"));let p=r?h.length>1?`since :
`+h.map(Jp).join(`
`):" "+Jp(h[0]):"as no adapter specified";throw new gt("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return o},adapters:Ju};function Mu(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new yl(null,i)}function Bp(i){return Mu(i),i.headers=on.from(i.headers),i.data=ku.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),Tg.getAdapter(i.adapter||Ar.adapter)(i).then(function(o){return Mu(i),o.data=ku.call(i,i.transformResponse,o),o.headers=on.from(o.headers),o},function(o){return Ng(o)||(Mu(i),o&&o.response&&(o.response.data=ku.call(i,i.transformResponse,o.response),o.response.headers=on.from(o.response.headers))),Promise.reject(o)})}const kg="1.10.0",hc={};["object","boolean","number","function","string","symbol"].forEach((i,r)=>{hc[i]=function(o){return typeof o===i||"a"+(r<1?"n ":" ")+i}});const zp={};hc.transitional=function(r,d,o){function f(h,p){return"[Axios v"+kg+"] Transitional option '"+h+"'"+p+(o?". "+o:"")}return(h,p,y)=>{if(r===!1)throw new gt(f(p," has been removed"+(d?" in "+d:"")),gt.ERR_DEPRECATED);return d&&!zp[p]&&(zp[p]=!0,console.warn(f(p," has been deprecated since v"+d+" and will be removed in the near future"))),r?r(h,p,y):!0}};hc.spelling=function(r){return(d,o)=>(console.warn(`${o} is likely a misspelling of ${r}`),!0)};function Cb(i,r,d){if(typeof i!="object")throw new gt("options must be an object",gt.ERR_BAD_OPTION_VALUE);const o=Object.keys(i);let f=o.length;for(;f-- >0;){const h=o[f],p=r[h];if(p){const y=i[h],x=y===void 0||p(y,h,i);if(x!==!0)throw new gt("option "+h+" must be "+x,gt.ERR_BAD_OPTION_VALUE);continue}if(d!==!0)throw new gt("Unknown option "+h,gt.ERR_BAD_OPTION)}}const Ko={assertOptions:Cb,validators:hc},as=Ko.validators;let Ci=class{constructor(r){this.defaults=r||{},this.interceptors={request:new Mp,response:new Mp}}async request(r,d){try{return await this._request(r,d)}catch(o){if(o instanceof Error){let f={};Error.captureStackTrace?Error.captureStackTrace(f):f=new Error;const h=f.stack?f.stack.replace(/^.+\n/,""):"";try{o.stack?h&&!String(o.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+h):o.stack=h}catch{}}throw o}}_request(r,d){typeof r=="string"?(d=d||{},d.url=r):d=r||{},d=Ai(this.defaults,d);const{transitional:o,paramsSerializer:f,headers:h}=d;o!==void 0&&Ko.assertOptions(o,{silentJSONParsing:as.transitional(as.boolean),forcedJSONParsing:as.transitional(as.boolean),clarifyTimeoutError:as.transitional(as.boolean)},!1),f!=null&&(se.isFunction(f)?d.paramsSerializer={serialize:f}:Ko.assertOptions(f,{encode:as.function,serialize:as.function},!0)),d.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?d.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:d.allowAbsoluteUrls=!0),Ko.assertOptions(d,{baseUrl:as.spelling("baseURL"),withXsrfToken:as.spelling("withXSRFToken")},!0),d.method=(d.method||this.defaults.method||"get").toLowerCase();let p=h&&se.merge(h.common,h[d.method]);h&&se.forEach(["delete","get","head","post","put","patch","common"],w=>{delete h[w]}),d.headers=on.concat(p,h);const y=[];let x=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(d)===!1||(x=x&&M.synchronous,y.unshift(M.fulfilled,M.rejected))});const _=[];this.interceptors.response.forEach(function(M){_.push(M.fulfilled,M.rejected)});let b,C=0,k;if(!x){const w=[Bp.bind(this),void 0];for(w.unshift.apply(w,y),w.push.apply(w,_),k=w.length,b=Promise.resolve(d);C<k;)b=b.then(w[C++],w[C++]);return b}k=y.length;let I=d;for(C=0;C<k;){const w=y[C++],M=y[C++];try{I=w(I)}catch(H){M.call(this,H);break}}try{b=Bp.call(this,I)}catch(w){return Promise.reject(w)}for(C=0,k=_.length;C<k;)b=b.then(_[C++],_[C++]);return b}getUri(r){r=Ai(this.defaults,r);const d=Dg(r.baseURL,r.url,r.allowAbsoluteUrls);return bg(d,r.params,r.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(r){Ci.prototype[r]=function(d,o){return this.request(Ai(o||{},{method:r,url:d,data:(o||{}).data}))}});se.forEach(["post","put","patch"],function(r){function d(o){return function(h,p,y){return this.request(Ai(y||{},{method:r,headers:o?{"Content-Type":"multipart/form-data"}:{},url:h,data:p}))}}Ci.prototype[r]=d(),Ci.prototype[r+"Form"]=d(!0)});let Db=class Mg{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let d;this.promise=new Promise(function(h){d=h});const o=this;this.promise.then(f=>{if(!o._listeners)return;let h=o._listeners.length;for(;h-- >0;)o._listeners[h](f);o._listeners=null}),this.promise.then=f=>{let h;const p=new Promise(y=>{o.subscribe(y),h=y}).then(f);return p.cancel=function(){o.unsubscribe(h)},p},r(function(h,p,y){o.reason||(o.reason=new yl(h,p,y),d(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const d=this._listeners.indexOf(r);d!==-1&&this._listeners.splice(d,1)}toAbortSignal(){const r=new AbortController,d=o=>{r.abort(o)};return this.subscribe(d),r.signal.unsubscribe=()=>this.unsubscribe(d),r.signal}static source(){let r;return{token:new Mg(function(f){r=f}),cancel:r}}};function Ab(i){return function(d){return i.apply(null,d)}}function wb(i){return se.isObject(i)&&i.isAxiosError===!0}const Bu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bu).forEach(([i,r])=>{Bu[r]=i});function Rg(i){const r=new Ci(i),d=cg(Ci.prototype.request,r);return se.extend(d,Ci.prototype,r,{allOwnKeys:!0}),se.extend(d,r,null,{allOwnKeys:!0}),d.create=function(f){return Rg(Ai(i,f))},d}const Je=Rg(Ar);Je.Axios=Ci;Je.CanceledError=yl;Je.CancelToken=Db;Je.isCancel=Ng;Je.VERSION=kg;Je.toFormData=uc;Je.AxiosError=gt;Je.Cancel=Je.CanceledError;Je.all=function(r){return Promise.all(r)};Je.spread=Ab;Je.isAxiosError=wb;Je.mergeConfig=Ai;Je.AxiosHeaders=on;Je.formToJSON=i=>Sg(se.isHTMLForm(i)?new FormData(i):i);Je.getAdapter=Tg.getAdapter;Je.HttpStatusCode=Bu;Je.default=Je;const{Axios:Mj,AxiosError:Rj,CanceledError:Lj,isCancel:Hj,CancelToken:Oj,VERSION:Ij,all:Uj,Cancel:Jj,isAxiosError:Bj,spread:zj,toFormData:qj,AxiosHeaders:Pj,HttpStatusCode:$j,formToJSON:Fj,getAdapter:Vj,mergeConfig:Gj}=Je,Va=u.createContext(),Eb=({children:i})=>{const[r,d]=u.useState(null);return t.jsx(Va.Provider,{value:{user:r,setUser:d},children:i})},Lg=({onVerifySuccess:i,onCancel:r,to:d,messageType:o="login",request_by:f,ship_name:h})=>{const[p,y]=u.useState(["","","","","",""]),[x,_]=u.useState(!1),[b,C]=u.useState(0),[k,I]=u.useState(""),[w,M]=u.useState(!1),H=u.useRef([]),L="https://udayerp.com/pms/server/api/",{user:$}=u.useContext(Va);u.useEffect(()=>{if(b>0){const ue=setInterval(()=>{C(be=>be-1)},1e3);return()=>clearInterval(ue)}},[b]),u.useEffect(()=>{me()},[]);const J=(ue,be)=>{const P=ue.target.value;if(/^[0-9]?$/.test(P)){const fe=[...p];fe[be]=P,y(fe),P&&be<5&&H.current[be+1]?.focus()}},ne=(ue,be)=>{be.key==="Backspace"&&!p[ue]&&ue>0&&H.current[ue-1]?.focus()},te=ue=>{ue.preventDefault();const be=ue.clipboardData.getData("text").slice(0,6);if(/^\d{6}$/.test(be)){const P=be.split("");y(P),P.forEach((fe,He)=>{He<5&&H.current[He+1]?.focus()})}else I("Invalid OTP format. Please paste a 6-digit number.")},Ce=async()=>{const ue=p.join("");if(ue.length!==6){I("Please enter a valid 6-digit OTP");return}try{const be=await Je.post(`${L}verify-otp`,{contact:d,otp:ue,messageType:o});be.data.success?(M(!0),I(""),setTimeout(()=>{i()},800)):I(be.data.error||"Invalid or expired OTP")}catch{I("Verification failed. Check connection or retry.")}},me=async()=>{if(!(b>0||x)){_(!0),C(30),y(["","","","","",""]),I(""),M(!1);try{await Je.post(`${L}send-otp`,{contact:d,messageType:o}),console.log(`OTP sent to: ${d} | type: ${o}`)}catch(ue){console.error("Error sending OTP:",ue.response?.data?.error||ue.message),I("Failed to send OTP. Try again later.")}finally{_(!1)}}};return t.jsx("div",{className:"otp-corporate",onClick:r,children:t.jsxs("div",{className:"otp-corporate__card",onClick:ue=>ue.stopPropagation(),children:[t.jsxs("div",{className:"otp-corporate__header",children:[t.jsx("div",{className:"otp-corporate__icon",children:""}),t.jsx("h2",{className:"otp-corporate__title",children:"Security Verification"}),t.jsx("p",{className:"otp-corporate__subtitle",children:"We've sent a 6-digit code to your registered email address"})]}),t.jsxs("div",{className:"otp-corporate__content",children:[t.jsx("div",{className:"otp-corporate__inputs",onPaste:te,children:p.map((ue,be)=>t.jsx("input",{ref:P=>H.current[be]=P,type:"text",maxLength:"1",value:ue,onChange:P=>J(P,be),onKeyDown:P=>ne(be,P),className:`otp-corporate__input ${ue?"otp-corporate__input--filled":""} ${k?"otp-corporate__input--error":""}`,placeholder:""},be))}),k&&t.jsx("p",{className:"otp-corporate__error",children:k}),w&&t.jsx("p",{className:"otp-corporate__success",children:" Verification Successful!"}),t.jsx("div",{className:"otp-corporate__actions",children:t.jsx("button",{type:"button",className:"btn-corporate btn-corporate--primary",onClick:Ce,children:"Verify OTP"})}),t.jsxs("div",{className:"otp-corporate__footer",children:[t.jsxs("p",{className:"otp-corporate__resend-text",children:["Didn't receive the code?"," ",t.jsx("button",{className:"otp-corporate__resend-btn",onClick:me,disabled:x||b>0,children:x?"Sending...":b>0?`Resend in ${b}s`:"Resend OTP"})]}),t.jsx("button",{type:"button",className:"btn-corporate btn-corporate--secondary",onClick:r,children:"Cancel"})]})]})]})})},Tb="https://udayerp.com/pms/server/api/",af=u.createContext(),kb=({children:i})=>{const[r,d]=u.useState([]),[o,f]=u.useState(!0),[h,p]=u.useState(null),y=async()=>{f(!0),p(null);try{const x=await fetch(`${Tb}getAllUsers`);if(!x.ok)throw new Error("Failed to fetch users");const _=await x.json();d(_)}catch(x){console.error("Failed to fetch users:",x),p(x.message)}finally{f(!1)}};return u.useEffect(()=>{y()},[]),t.jsx(af.Provider,{value:{usersList:r,refreshUsers:y,loading:o,error:h},children:i})},Mb="https://udayerp.com/pms/server/api/",mc=u.createContext({crewData:[],refreshCrewData:()=>{},loading:!1,error:null}),Rb=({children:i})=>{const[r,d]=u.useState([]),[o,f]=u.useState(!0),[h,p]=u.useState(null),y=async()=>{f(!0),p(null);try{const x=await fetch(`${Mb}getAllocationsByShip`);if(!x.ok)throw new Error("Failed to fetch crew data");const _=await x.json();d(_)}catch(x){console.error("Failed to fetch crew data:",x),p(x.message)}finally{f(!1)}};return u.useEffect(()=>{y()},[]),t.jsx(mc.Provider,{value:{crewData:r,refreshCrewData:y,loading:o,error:h},children:i})},vl=u.createContext(),Lb=({children:i})=>{const[r,d]=u.useState([]),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await Je.get(`${o}getDesignations`);d(h.data)}catch(h){console.error("Failed to fetch Designation List :",h)}};return u.useEffect(()=>{f()},[]),t.jsx(vl.Provider,{value:{designationList:r,refreshDesignationList:f},children:i})},Hb="https://udayerp.com/pms/server/api/",Ei=u.createContext({officeStaffList:[],refreshOfficeStaffList:()=>{},loading:!1,error:null}),Ob=({children:i})=>{const[r,d]=u.useState([]),[o,f]=u.useState(!0),[h,p]=u.useState(null),y=async()=>{f(!0),p(null);try{const x=await fetch(`${Hb}getAllOfficeStaffCombinationList`);if(!x.ok)throw new Error("Failed to fetch Office Staff List");const _=await x.json();d(_)}catch(x){console.error("Failed to fetch Office Staff List:",x),p(x.message)}finally{f(!1)}};return u.useEffect(()=>{y()},[]),t.jsx(Ei.Provider,{value:{officeStaffList:r,refreshOfficeStaffList:y,loading:o,error:h},children:i})},Ib="https://udayerp.com/pms/server/api/",nf=u.createContext({shipsList:[],refreshShips:()=>{},loading:!1,error:null}),Ub=({children:i})=>{const{user:r}=u.useContext(Va),[d,o]=u.useState([]),[f,h]=u.useState(!0),[p,y]=u.useState(null),x=async()=>{h(!0),y(null);try{const _=await fetch(`${Ib}getShipsIDandName`);if(!_.ok)throw new Error("Failed to fetch locations");const b=await _.json();o([{SHA_ID:"office",ship_name:"Office"},...b])}catch(_){console.error("Failed to fetch ships:",_),y(_.message)}finally{h(!1)}};return u.useEffect(()=>{x()},[]),t.jsx(nf.Provider,{value:{shipsList:d,refreshShips:x,loading:f,error:p},children:i})},Jb=()=>{const{officeStaffList:i,refreshOfficeStaffList:r}=u.useContext(Ei),{usersList:d,refreshUsers:o}=u.useContext(af),{shipsList:f}=u.useContext(nf),{crewData:h,refreshCrewData:p}=u.useContext(mc),{designationList:y,refreshDesignationList:x}=u.useContext(vl),{user:_,setUser:b}=u.useContext(Va),[C,k]=u.useState(""),[I,w]=u.useState(["","","","","",""]),[M,H]=u.useState(["","","","","",""]),[L,$]=u.useState(["","","","","",""]),[J,ne]=u.useState(!1),[te,Ce]=u.useState(!1),[me,ue]=u.useState(null),[be,P]=u.useState(!1),[fe,He]=u.useState(""),[Le,ye]=u.useState(!1),X=u.useRef([]),T=u.useRef([]),A=u.useRef([]),V=_l();u.useEffect(()=>{o(),p(),x(),r()},[]),u.useEffect(()=>{console.log("crewData in login page : ",h)},[h]),u.useEffect(()=>{fe&&He("")},[C,I]);const K=async ee=>{if(ee.preventDefault(),ye(!0),He(""),!/\S+@\S+\.\S+/.test(C)){He("Please enter a valid email address"),ye(!1);return}const oe=I.join("");if(oe.length!==6||!/^\d+$/.test(oe)){He("Please enter a valid 6-digit PIN"),ye(!1);return}console.log("Login attempt with : ",{email:C,pin:oe,rememberMe:J});try{const je=d.filter(Be=>Be.user_email===C&&Be.current_pin===oe);if(console.log("tempUser : ",je),je.length>0){const Be=je[0];if(Be.user_status!==1){He("Your account is inactive. Please contact administrator."),ye(!1);return}const ct="https://udayerp.com/pms/server/api/";try{const Ze=await(await fetch(`${ct}activateSuccessor`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({successor_user_id:Be.UHA_ID})})).json();console.log("Auto-activation response:",Ze)}catch(we){console.error("Error auto-activating user allocations:",we)}const We=h.filter(we=>we.user_id===Be.UHA_ID&&we.crew_status===1).length>0?h.filter(we=>we.user_id===Be.UHA_ID&&we.crew_status===1)[0]:null,ke=i.filter(we=>we.user_id===Be.UHA_ID).length>0?i.filter(we=>we.user_id===Be.UHA_ID)[0]:null;if(!We&&!ke){He("No active assignment found. Please contact administrator."),ye(!1);return}const Q={UHA_ID:Be.UHA_ID,ship_id:We?.ship_id||null,emp_name:`${Be.first_name} ${Be.last_name}`,emp_email:Be.user_email,emp_mob1:Be.mobile_no,emp_sim_code:Be.mobile_sim_country_code,access_code:"LW0507",emp_dob:"2002-07-05",emp_doj:"2020-05-07",emp_desg:We?.desg_id||ke?.desg_id,reporting_to:We?.reporting_to_desg||ke?.reporting_to_desg,reporting_to_user:We?.reporting_to_user||ke?.reporting_to_user,DEPT_ID:We?.dept_id||ke?.dept_id,inserted_on:new Date().toISOString().slice(0,19).replace("T"," "),emp_status:Be.user_status,emp_type:Be.user_type,profile_ids:y.filter(we=>we.DSGH_ID===(We?.desg_id||ke?.desg_id))[0]?.profile_ids||[]};console.log(" Authenticated Employee:",Q),await b(Q),J?localStorage.setItem("rememberedEmail",C):localStorage.removeItem("rememberedEmail"),await p(),await r(),V("/home")}else{const Be=d.some(ct=>ct.user_email===C);He(Be?"Invalid PIN. Please check your PIN and try again.":"No account found with this email address. Please check your email or contact administrator.")}}catch(je){console.error("Login error:",je),He("An unexpected error occurred. Please try again.")}finally{ye(!1)}},j=ee=>{k(ee.target.value)},B=(ee,oe,je,Be,ct)=>{if(ct&&!/^\d$/.test(ct))return;const We=[...ee];We[Be]=ct,oe(We),ct&&Be<5&&je.current[Be+1]?.focus()},ae=(ee,oe,je,Be)=>{Be.key==="Backspace"&&!ee[je]&&je>0&&oe.current[je-1]?.focus()},U=(ee,oe,je)=>{je.preventDefault();const ct=je.clipboardData.getData("text").replace(/\D/g,"").slice(0,6).split("");if(ct.length===6){const We=["","","","","",""];ct.forEach((ke,Q)=>{We[Q]=ke}),ee(We),oe.current[5]?.focus()}},ie=()=>{if(!C||!/\S+@\S+\.\S+/.test(C)){He("Please enter your email address first to receive a new PIN");return}if(!d.some(je=>je.user_email===C)){He("No account found with this email address.");return}if(confirm("We are sending email with OTP to generate new pin to Your Location Superintendent. Please connect with them for further procedure. Would you like to proceed?")){const je=d.filter(Be=>Be.user_email==C);ue(je),Ce(!0)}},De=()=>{const ee=M.join(""),oe=L.join("");if(ee.length!==6||!/^\d+$/.test(ee)){alert("Please enter a valid 6-digit new PIN");return}if(oe.length!==6||!/^\d+$/.test(oe)){alert("Please enter a valid 6-digit confirmation PIN");return}if(ee!==oe){alert("PINs do not match. Please make sure both PINs are identical.");return}console.log("PIN reset requested for : ",C,"New PIN:",ee),alert("PIN reset successfully!"),P(!1),H(["","","","","",""]),$(["","","","","",""])};return u.useEffect(()=>{const ee=localStorage.getItem("rememberedEmail");ee&&(k(ee),ne(!0))},[]),t.jsxs("div",{className:"login-corporate",children:[t.jsx("div",{className:"bubble"}),t.jsx("div",{className:"bubble"}),t.jsx("div",{className:"bubble"}),t.jsx("div",{className:"bubble"}),t.jsx("div",{className:"bubble"}),t.jsx("div",{className:"submarine",children:""}),t.jsx("div",{className:"island"}),t.jsx("div",{className:"island"}),t.jsx("div",{className:"sonar"}),t.jsx("div",{className:"sonar"}),t.jsx("div",{className:"sonar"}),t.jsx("div",{className:"lighthouse",children:""}),t.jsx("div",{className:"lighthouse-beam"}),t.jsxs("div",{className:"container-stack",children:[t.jsx("div",{className:"container",style:{"--delay":0}}),t.jsx("div",{className:"container",style:{"--delay":1}}),t.jsx("div",{className:"container",style:{"--delay":2}})]}),t.jsxs("div",{className:"login-corporate__container",children:[t.jsxs("div",{className:"login-corporate__header",children:[t.jsx("h1",{className:"login-corporate__title",children:"Crew & Staff PMS Portal"}),t.jsx("p",{className:"login-corporate__subtitle",children:"Sign in to your facility and office operations account"})]}),t.jsxs("form",{className:"login-corporate__form",onSubmit:K,children:[fe&&t.jsxs("div",{className:"login-error-message",children:[t.jsx("span",{className:"error-icon",children:""}),fe]}),t.jsxs("div",{className:"form-field-corporate",children:[t.jsxs("label",{className:"form-field-corporate__label",style:{color:"white"},children:["Email ",t.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),t.jsx("input",{type:"email",className:`form-field-corporate__input ${fe?"input-error":""}`,value:C,onChange:j,required:!0,placeholder:"e.g., user@example.com",disabled:Le})]}),t.jsxs("div",{className:"form-field-corporate",children:[t.jsxs("label",{className:"form-field-corporate__label",style:{color:"white"},children:["6-Digit PIN ",t.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),t.jsx("div",{className:"pin-input-container",children:I.map((ee,oe)=>t.jsx("input",{ref:je=>X.current[oe]=je,type:"text",className:`pin-input ${fe?"pin-input-error":""}`,maxLength:"1",value:ee,onChange:je=>B(I,w,X,oe,je.target.value),onKeyDown:je=>ae(I,X,oe,je),onPaste:je=>U(w,X,je),placeholder:"",required:!0,disabled:Le},oe))}),t.jsx("div",{className:"pin-hint",children:"Enter your 6-digit security PIN"})]}),t.jsxs("div",{className:"login-corporate__options",children:[t.jsxs("div",{className:"login-corporate__remember",children:[t.jsx("input",{type:"checkbox",id:"remember",checked:J,onChange:ee=>ne(ee.target.checked),className:"login-corporate__checkbox",disabled:Le}),t.jsx("label",{htmlFor:"remember",className:"login-corporate__remember-label",children:"Remember me"})]}),t.jsx("button",{type:"button",className:"login-corporate__forgot-link",onClick:ie,disabled:Le,children:"Forgot PIN?"})]}),t.jsx("div",{className:"login-corporate__actions",children:t.jsx("button",{type:"submit",className:`btn-corporate btn-corporate--primary ${Le?"btn-loading":""}`,disabled:Le,style:{color:"white"},children:Le?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"loading-spinner"}),"Signing In..."]}):"Sign In"})})]})]}),te&&t.jsx(Lg,{onCancel:()=>{Ce(!1),P(!1)},onVerifySuccess:()=>{Ce(!1),P(!0)},to:"lokeshwagh5072@gmail.com",messageType:"This is testing message",request_by:me,ship_name:f.filter(ee=>ee.SHA_ID==me.ship_id)[0]?.ship_name||null}),be&&t.jsx("div",{className:"reset-pin-corporate",onClick:()=>P(!1),children:t.jsxs("div",{className:"reset-pin-corporate__card",onClick:ee=>ee.stopPropagation(),children:[t.jsxs("div",{className:"reset-pin-corporate__header",children:[t.jsx("div",{className:"reset-pin-corporate__icon",children:""}),t.jsx("h2",{className:"reset-pin-corporate__title",children:"Set New PIN"}),t.jsx("p",{className:"reset-pin-corporate__subtitle",children:"Create a new 6-digit security PIN"})]}),t.jsxs("div",{className:"reset-pin-corporate__content",children:[t.jsxs("div",{className:"form-field-corporate",children:[t.jsxs("label",{className:"form-field-corporate__label",children:["New PIN ",t.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),t.jsx("div",{className:"pin-input-container",children:M.map((ee,oe)=>t.jsx("input",{ref:je=>T.current[oe]=je,type:"text",className:"pin-input",maxLength:"1",value:ee,onChange:je=>B(M,H,T,oe,je.target.value),onKeyDown:je=>ae(M,T,oe,je),onPaste:je=>U(H,T,je),placeholder:"",required:!0},oe))})]}),t.jsxs("div",{className:"form-field-corporate",children:[t.jsxs("label",{className:"form-field-corporate__label",children:["Confirm PIN ",t.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),t.jsx("div",{className:"pin-input-container",children:L.map((ee,oe)=>t.jsx("input",{ref:je=>A.current[oe]=je,type:"text",className:"pin-input",maxLength:"1",value:ee,onChange:je=>B(L,$,A,oe,je.target.value),onKeyDown:je=>ae(L,A,oe,je),onPaste:je=>U($,A,je),placeholder:"",required:!0},oe))})]}),t.jsxs("div",{className:"reset-pin-corporate__actions",children:[t.jsx("button",{type:"button",className:"btn-corporate btn-corporate--secondary",onClick:()=>P(!1),children:"Cancel"}),t.jsx("button",{type:"button",className:"btn-corporate btn-corporate--primary",onClick:De,children:"Set New PIN"})]})]})]})})]})},Bb=()=>{const i=_l(),r=()=>{i("/SignIn")},d={first_name:"",middle_name:"",last_name:"",mobile_no:"",mobile_sim_country_code:"+91",user_type:"",gender:"",user_email:""},[o,f]=u.useState(d),h=p=>{if(p.preventDefault(),!o.first_name||!o.last_name||!o.user_email){alert("Please fill all required fields");return}if(!/^[a-zA-Z]+$/.test(o.first_name)){alert("First Name can only contain letters and no spaces");return}if(o.middle_name&&!/^[a-zA-Z]+$/.test(o.middle_name)){alert("Middle Name can only contain letters and no spaces");return}if(!/^[a-zA-Z]+$/.test(o.last_name)){alert("Last Name can only contain letters and no spaces");return}if(!/^\d{10}$/.test(o.mobile_no)){alert("Mobile No must be exactly 10 digits");return}if(!/\S+@\S+\.\S+/.test(o.user_email)){alert("Invalid email address");return}console.log("Registration attempt with:",o)};return t.jsx("div",{className:"registration-corporate",children:t.jsxs("div",{className:"registration-corporate__container",children:[t.jsxs("div",{className:"registration-corporate__header",children:[t.jsx("div",{className:"registration-corporate__icon",children:""}),t.jsx("h1",{className:"registration-corporate__title",children:"Crew & Staff Registration"}),t.jsx("p",{className:"registration-corporate__subtitle",children:"Register for facility and office operations access"})]}),t.jsxs("form",{className:"registration-corporate__form",onSubmit:h,children:[t.jsxs("div",{className:"registration-corporate__grid",children:[t.jsxs("div",{className:"form-field-corporate",children:[t.jsxs("label",{className:"form-field-corporate__label",children:["First Name ",t.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),t.jsx("input",{type:"text",className:"form-field-corporate__input",placeholder:"Enter first name",required:!0,value:o.first_name,onChange:p=>{const y=p.target.value;if(/\s/.test(y)){alert("Spaces are not allowed in First Name");return}if(/[^a-zA-Z]/.test(y)){alert("Only letters are allowed");return}f({...o,first_name:y})}})]}),t.jsxs("div",{className:"form-field-corporate",children:[t.jsx("label",{className:"form-field-corporate__label",children:"Middle Name"}),t.jsx("input",{type:"text",className:"form-field-corporate__input",placeholder:"Enter middle name",value:o.middle_name,onChange:p=>{const y=p.target.value;if(/\s/.test(y)){alert("Spaces are not allowed in Middle Name");return}if(/[^a-zA-Z]/.test(y)){alert("Only letters are allowed");return}f({...o,middle_name:y})}})]}),t.jsxs("div",{className:"form-field-corporate",children:[t.jsxs("label",{className:"form-field-corporate__label",children:["Last Name ",t.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),t.jsx("input",{type:"text",className:"form-field-corporate__input",placeholder:"Enter last name",required:!0,value:o.last_name,onChange:p=>{const y=p.target.value;if(/\s/.test(y)){alert("Spaces are not allowed in Last Name");return}if(/[^a-zA-Z]/.test(y)){alert("Only letters are allowed");return}f({...o,last_name:y})}})]})]}),t.jsx("div",{className:"form-field-corporate-group",children:t.jsxs("div",{className:"form-field-corporate-group__inline",children:[t.jsxs("div",{className:"form-field-corporate form-field-corporate--country-code",children:[t.jsxs("label",{className:"form-field-corporate__label",children:["Country Code ",t.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),t.jsxs("select",{className:"form-field-corporate__select",required:!0,value:o.mobile_sim_country_code,onChange:p=>f({...o,mobile_sim_country_code:p.target.value}),children:[t.jsx("option",{value:"+91",children:" +91"}),t.jsx("option",{value:"+1",children:" +1"}),t.jsx("option",{value:"+44",children:" +44"})]})]}),t.jsxs("div",{className:"form-field-corporate",children:[t.jsxs("label",{className:"form-field-corporate__label",children:["Mobile No ",t.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),t.jsx("input",{type:"tel",className:"form-field-corporate__input",placeholder:"10-digit number",maxLength:"10",required:!0,value:o.mobile_no,onChange:p=>{const y=p.target.value;if(!/^\d*$/.test(y)){alert("Only digits are allowed in Mobile No");return}f({...o,mobile_no:y})}})]})]})}),t.jsxs("div",{className:"form-field-corporate",children:[t.jsxs("label",{className:"form-field-corporate__label",children:["Assignment Type ",t.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),t.jsxs("select",{className:"form-field-corporate__select",required:!0,value:o.user_type,onChange:p=>f({...o,user_type:p.target.value}),children:[t.jsx("option",{value:"",children:"Select assignment type"}),t.jsx("option",{value:"1",children:"Location Crew Member"}),t.jsx("option",{value:"2",children:"Office Staff"})]})]}),t.jsxs("div",{className:"form-field-corporate",children:[t.jsxs("label",{className:"form-field-corporate__label",children:["Gender ",t.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),t.jsxs("select",{className:"form-field-corporate__select",required:!0,value:o.gender,onChange:p=>f({...o,gender:p.target.value}),children:[t.jsx("option",{value:"",children:"Select gender"}),t.jsx("option",{value:"1",children:"Male"}),t.jsx("option",{value:"2",children:"Female"}),t.jsx("option",{value:"3",children:"Other"})]})]}),t.jsxs("div",{className:"form-field-corporate",children:[t.jsxs("label",{className:"form-field-corporate__label",children:["Email ",t.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),t.jsx("input",{type:"email",className:"form-field-corporate__input",placeholder:"Enter email address",value:o.user_email,onChange:p=>f({...o,user_email:p.target.value}),required:!0})]}),t.jsxs("div",{className:"registration-corporate__actions",children:[t.jsx("button",{type:"button",className:"btn-corporate btn-corporate--secondary",onClick:()=>f(d),children:"Clear Form"}),t.jsx("button",{type:"submit",className:"btn-corporate btn-corporate--primary",children:"Register User"})]})]}),t.jsx("div",{className:"registration-corporate__footer",children:t.jsxs("p",{className:"registration-corporate__footer-text",children:["Already have an account?"," ",t.jsx("button",{type:"button",onClick:r,className:"registration-corporate__login-link",children:"Sign In"})]})})]})})},Ti=u.createContext(),zb=({children:i})=>{const[r,d]=u.useState([]),[o,f]=u.useState(null),[h,p]=u.useState([]),[y,x]=u.useState(!1),[_,b]=u.useState(!1),[C,k]=u.useState(!0),[I,w]=u.useState(null),[M,H]=u.useState(!1),[L,$]=u.useState(!1),[J,ne]=u.useState({}),te="https://udayerp.com/pms/server/api/",Ce=async()=>{try{const j=(await Je.get(`${te}categories/tree`)).data;d(Array.isArray(j)?j:[j].filter(Boolean)),k(!1)}catch(K){console.error("Error fetching category tree:",K),w("Failed to load hierarchy"),k(!1)}},me=(K,j)=>{for(const B of K){if(B.component_id===j)return{component_no:B.component_no,component_name:B.component_name};if(B.children&&B.children.length>0){const ae=me(B.children,j);if(ae)return ae}}return null},ue=K=>{if(!K||!Array.isArray(r))return null;const j=me(r,K);return j||(console.warn(`Component with ID ${K} not found in tree`),null)},be=K=>{if(!K||!r?.length)return null;const B=[{key:"jcd_applied_part",label:"Part"},{key:"jcd_applied_3rd_sub_cat",label:"3rd Sub Category"},{key:"jcd_applied_2nd_sub_cat",label:"2nd Sub Category"},{key:"jcd_applied_sub_cat",label:"Sub Category"},{key:"jcd_applied_cat",label:"Category"}].find(ie=>K[ie.key]);if(console.log("activeLevel :: ",B),!B)return null;const ae=K[B.key];console.log("targetId :: ",ae);const U=(ie,De,ee=[])=>{for(const oe of ie){console.log("node :: ",oe);const je=[...ee,{name:oe.component_name,id:oe.component_id}];if(oe.id==De)return{component_id:oe.id,component_no:oe.data.component_no,component_name:oe?.data?.label,component_level:B.label,path:je.map(Be=>Be.name).join(" > ")};if(oe.children?.length){const Be=U(oe.children,De,je);if(Be)return Be}}return null};return console.log("findNodeWithPath(tree, targetId) :: ",U(r,ae)),U(r,ae)},P=K=>{f(K)},fe=()=>{f(null)},He=K=>{p(j=>j.some(ae=>ae.id===K.id)?j.filter(ae=>ae.id!==K.id):[...j,K])},Le=()=>{p([])},ye=(K,j)=>{ne(B=>({...B,[K]:j}))},X=K=>{ne(j=>{const B={...j};return delete B[K],B})},T=()=>{ne({})},A=()=>{H(K=>!K)},V=()=>{$(K=>!K)};return u.useEffect(()=>{Ce()},[]),t.jsx(Ti.Provider,{value:{tree:r,loading:C,error:I,refreshTree:Ce,selectedNode:o,selectNode:P,clearSelection:fe,checkedNodes:h,toggleCheckedNode:He,clearCheckedNodes:Le,executionStatus:J,updateExecutionStatus:ye,clearExecutionStatus:X,resetAllExecutionStatus:T,isConfigJob:M,toggleIsConfigJob:A,isEditCompData:L,toggleIsEditComponent:V,needToInvokeAddNewComponentForm:y,setNeedToInvokeAddNewComponentForm:x,needToInvokeEditComponentForm:_,setNeedToInvokeEditComponentForm:b,getComponentInfoById:ue,getComponentHierarchyForJCD:be},children:i})},pc=u.createContext(),qb=({children:i})=>{const[r,d]=u.useState([]),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await Je.get(`${o}getJCDSchedule`);d(h.data)}catch(h){console.error("Failed to fetch JCD Schedules:",h)}};return u.useEffect(()=>{f()},[]),t.jsx(pc.Provider,{value:{JCD_schedule_List:r,refreshJCDSchedules:f},children:i})},gc=u.createContext(),Pb=({children:i})=>{const[r,d]=u.useState([]),o={1:"Generated",2:"Not Acknowledged",3:"Acknowledged",4:"Executed",5:"First Verification Done",6:"Second Verification Done",7:"Extension Requested",8:"Extension Accepted"},f="https://udayerp.com/pms/server/api/",h=async()=>{try{const p=await Je.get(`${f}getPlannedJobs`);d(p.data)}catch(p){console.error("Failed to fetch Planned Jobs :",p)}};return u.useEffect(()=>{h()},[]),t.jsx(gc.Provider,{value:{plannedJobList:r,refreshPlannedJobs:h,activeJobStatusMap:o},children:i})},br=({node:i,isCheckBoxActive:r,isReadOnlyView:d,isAddNewButtonActive:o,isEditButtonActive:f,selectedShipID:h})=>{const p=u.useContext(Ti),y=d?null:p?.selectedNode,x=d?()=>{}:p?.selectNode,_=d?[]:p?.checkedNodes,b=d?()=>{}:p?.toggleCheckedNode,C=p?.setNeedToInvokeAddNewComponentForm,k=p?.setNeedToInvokeEditComponentForm,[I,w]=u.useState(!1),M=u.useRef(null);u.useEffect(()=>{const P=M.current;P&&w(P.scrollWidth>P.clientWidth)},[i.data.label]),u.useEffect(()=>{},[]),u.useEffect(()=>{console.log("Selected node : ",y)},[y]);const[H,L]=u.useState(!1),$=i.children&&i.children.length>0,J=y?.id===i.id,ne=_.some(P=>P.id===i.id),te=()=>{switch(i.type){case"category":return"";case"sub_category":return"";case"second_sub_category":return"";case"third_sub_category":return"";case"part":return"";default:return""}},Ce=()=>{switch(i.type){case"category":return"#f1c40f";case"sub_category":return"#2ecc71";case"second_sub_category":return"#3498db";case"third_sub_category":return"#9b59b6";case"part":return"#e74c3c";default:return"white"}},me=()=>{switch(i.type){case"category":return"rgba(241, 196, 15, 0.37)";case"sub_category":return"rgba(46, 204, 112, 0.46)";case"second_sub_category":return"rgba(52, 152, 219, 0.58)";case"third_sub_category":return"rgba(156, 89, 182, 0.49)";case"part":return"rgba(231, 77, 60, 0.33)";default:return"transparent"}},ue=()=>{$&&L(!H)},be=P=>{P.stopPropagation(),b(i)};return t.jsxs("div",{className:"tree-node",children:[t.jsxs("div",{className:`tree-label ${J?"selected":""}`,style:{color:J?"#ffffff":"white",background:J?"linear-gradient(90deg, #34495e, #2c3e50)":me(),borderLeft:`4px solid ${Ce()}`,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s ease"},onClick:()=>{d||x(i)},children:[$&&t.jsx("span",{className:"toggle-icon",style:{width:"18px",height:"18px",display:"inline-block",textAlign:"center",backgroundColor:"white",backgroundImage:H?"url('./arrows/arrow-down-circle-line.png')":"url('./arrows/arrow-right-circle-line.png')",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},onClick:ue}),t.jsx("span",{className:"icon",children:te()}),t.jsx("span",{className:"label-text",ref:M,style:{flex:1},children:i.data.label}),t.jsxs("span",{style:{color:i.data.jcdCount?.length>0?"limegreen":"crimson",marginRight:"10px",display:r?"inline-flex":"none",fontWeight:"500"},onMouseEnter:P=>{P.target.style.textDecoration="underline"},onMouseLeave:P=>{P.target.style.textDecoration="none"},onClick:()=>{alert("clicked on jcd")},children:["JCD-",i.data.jcdCount?.filter(P=>P.SHA_ID==h)?.length||0]}),t.jsxs("span",{style:{color:i.data.activeJobCount.length>0?"limegreen":"crimson",marginRight:"10px",display:r?"inline-flex":"none",fontWeight:"500"},onMouseEnter:P=>{P.target.style.textDecoration="underline"},onMouseLeave:P=>{P.target.style.textDecoration="none"},onClick:()=>{x(i),alert("clicked on Active Jobs : "+i.data.activeJobCount.activeJobs.JESD_id)},children:["ActiveJobs-",i.data.activeJobCount?.length||0]}),(r||d)&&t.jsx("label",{style:{display:r?"inline-flex":"none",cursor:"pointer",alignItems:"center",accentColor:"limegreen"},children:t.jsx("input",{type:"checkbox",checked:i.isCheckBoxApplicable?!0:ne,disabled:d||i.isCheckBoxApplicable,onChange:d?void 0:be,onClick:P=>P.stopPropagation()})}),o&&t.jsx("span",{className:"add-sub-component-button",onClick:P=>{P.stopPropagation(),x(i),C(!0),k(!1)},title:"Add sub-component",children:t.jsx("img",{src:"./add-sym/add-circle-line.png",alt:"Add sub-component"})}),f&&t.jsx("span",{className:"add-sub-component-button",onClick:P=>{P.stopPropagation(),x(i),alert("You Clicked On: "+i.data.label+" For Edit Component"),C(!1),k(!0)},title:"Edit sub-component",children:t.jsx("img",{src:"./edit-sym/edit-2-line.svg",alt:"Add sub-component"})})]}),H&&$&&t.jsx("div",{className:"tree-children",children:i.children.map(P=>t.jsx(br,{node:P,isCheckBoxActive:r,isReadOnlyView:d,isAddNewButtonActive:o,isEditButtonActive:f},P.id))}),I&&t.jsx("span",{className:"tooltip-text",children:i.data.label})]},i.id)},ss=u.createContext(),$b=({children:i})=>{const[r,d]=u.useState([]),[o,f]=u.useState([]),[h,p]=u.useState([]),[y,x]=u.useState([]),[_,b]=u.useState(!1),[C,k]=u.useState(null),{user:I}=u.useContext(Va),{officeStaffList:w}=u.useContext(Ei),M="https://udayerp.com/pms/server/api/",H=async()=>{b(!0),k(null);try{const J=await Je.get(`${M}getAllShipsList`);d(J.data)}catch(J){console.error("Failed to fetch All ships data:",J),k("Failed to fetch locations list")}finally{b(!1)}},L=async()=>{try{const J=await Je.get(`${M}getVesselHeaderData`);f(J.data)}catch(J){console.error("Failed to fetch All Agencies List:",J)}},$=async()=>{try{const J=await Je.get(`${M}getShipsIDandName`);x(J.data)}catch(J){console.error("Failed to fetch ships ID and Name:",J)}};return u.useEffect(()=>{I&&(H(),L())},[I]),t.jsx(ss.Provider,{value:{shipsList:r,setShipsList:d,refreshShipsList:H,agencyList:o,refreshAgencyList:L,shipsIDandNameList:y,refreshShipsIDandName:$,shipData:h,loading:_,error:C},children:i})},jr=({setIsCheckActive:i,componentTreeWantByWhichComp:r,isReadOnlyView:d,selectedShipID:o})=>{const{tree:f,loading:h,error:p,selectedNode:y,clearSelection:x}=u.useContext(Ti),{shipsList:_,refreshShipsList:b}=u.useContext(ss),[C,k]=u.useState(""),[I,w]=u.useState(i),[M,H]=u.useState(!1),[L,$]=u.useState(!1),[J,ne]=u.useState([]),{user:te}=u.useContext(Va);u.useEffect(()=>{b()},[]);const Ce=(P,fe,He=!1)=>{if(!P)return null;const Le=P.data?.ship_ids,ye=Le&&Le.includes(fe);if(He||ye){const T=P.children?P.children.map(A=>Ce(A,fe,!0)):[];return{...P,children:T.filter(Boolean)}}if(P.children){const T=P.children.map(A=>Ce(A,fe,!1)).filter(Boolean);if(T.length>0)return{...P,children:T}}return null},me=P=>{if(!P)return null;if((P.data?.label?.toLowerCase()||"").includes(C.toLowerCase()))return P;if(P.children){const Le=P.children.map(me).filter(Boolean);if(Le.length>0)return{...P,children:Le}}return null};u.useEffect(()=>{if(console.log("selectedShipID :: ",o),console.log("Original tree length:",f.length),f.length>0&&o){const P=f.map(fe=>Ce(fe,o,!1)).filter(Boolean);console.log("Filtered tree after ship filtering:",P),ne(P)}else ne([])},[o,f]),u.useEffect(()=>{te.emp_type==2&&r=="MovementLogComponent"&&te.emp_desg=="DESG_0004"?w(!0):w(!1),te.emp_type==2&&r=="ShipManagementPage_add_new_comp"?H(!0):H(!1),te.emp_type==2&&r=="ShipManagementPage_edit_comp"?$(!0):$(!1)},[r]);const be=(()=>{let P=o?J:f;return C&&P.length>0?P.map(fe=>me(fe)).filter(Boolean):P})();return u.useEffect(()=>{f.length>0&&o&&(console.log("=== TREE DEBUG INFO ==="),f.forEach((P,fe)=>{console.log(`Root ${fe}:`,{label:P.data?.label,ship_ids:P.data?.ship_ids,hasShip:P.data?.ship_ids?.includes(o)}),P.children&&P.children.forEach((He,Le)=>{console.log(`  Child ${Le}:`,{label:He.data?.label,ship_ids:He.data?.ship_ids,hasShip:He.data?.ship_ids?.includes(o)})})}),console.log("=== END DEBUG INFO ==="))},[f,o]),h?t.jsx("div",{className:"loading",children:"Loading component hierarchy..."}):p?t.jsx("div",{className:"error",children:p}):t.jsx("div",{className:"component-tree-layout",children:t.jsxs("div",{className:"tree-section",children:[o&&t.jsx("div",{className:"ship-selection-info",children:be.length===0&&t.jsx("span",{style:{color:"#666",fontSize:"0.9em",marginLeft:"10px"},children:"No components found for this location"})}),t.jsxs("div",{children:[t.jsx("input",{type:"text",placeholder:" Search by code or name...",value:C,onChange:P=>k(P.target.value),className:"search-input"}),t.jsx("button",{type:"button",onClick:x,style:{width:"100%",padding:"10px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",marginTop:"-16px",marginBottom:"8px",alignSelf:"flex-start",transition:"background-color 0.2s ease, transform 0.1s ease"},onMouseDown:P=>P.target.style.transform="scale(0.98)",onMouseUp:P=>P.target.style.transform="scale(1)",onMouseLeave:P=>P.target.style.transform="scale(1)","aria-label":"Clear all selected items",children:" Clear Selection"})]}),t.jsx("div",{className:"tree-wrapper",children:be.length===0?t.jsx("div",{className:"no-components-message",children:o?t.jsxs("div",{children:[t.jsxs("p",{children:["No components found for ",t.jsx("strong",{children:_.find(P=>P.SHA_ID===o)?.ship_name||"this location"}),"."]}),t.jsxs("p",{style:{fontSize:"0.9em",color:"#666"},children:["Check if components are assigned to location ID: ",t.jsx("code",{children:o})]})]}):C?t.jsxs("p",{children:['No matching components found for "',C,'"']}):t.jsx("p",{children:"No components available."})}):be.map(P=>t.jsx(br,{node:P,isCheckBoxActive:I,componentTreeWantByWhichComp:r,isReadOnlyView:d||!1,isAddNewButtonActive:M,isEditButtonActive:L,selectedShipID:o},P.data.CHA_ID))})]})})},ai=u.createContext(),Fb=({children:i})=>{const r="https://udayerp.com/pms/server/api/",[d,o]=u.useState([]);let f=[],h=[];const p=async()=>{try{await Je.get(`${r}getAllProfiles`).then(y=>{console.log("profile res :: ",y),o(y.data.data),y.data.data.map(x=>{f.push(x.form_ids?.split(",")),console.log("formIDs : ",f),h.push(x.process_ids?.split(",")),console.log("processIDs : ",h)})})}catch(y){console.error("Failed to fetch Profile List in Profile Context :",y)}};return u.useEffect(()=>{p()},[]),t.jsx(ai.Provider,{value:{profiles:d,formIDs:f,processIDs:h,refreshProfiles:p},children:i})},sf=u.createContext(),Vb=({children:i})=>{const[r,d]=u.useState([]),[o,f]=u.useState([]),h="https://udayerp.com/pms/server/api/",p=async()=>{try{const x=await Je.get(`${h}getAllMovementLogHeaders`);d(x.data)}catch(x){console.error("Failed to fetch All movement logs header in its context :",x)}},y=async()=>{try{const x=await Je.get(`${h}getAllMovementLogsWithOnlyAppliedCompHeirarchy`);f(x.data)}catch(x){console.error("Failed to fetch All movement logs header in its context :",x)}};return u.useEffect(()=>{p(),y()},[]),t.jsx(sf.Provider,{value:{movement_log_header_list:r,refreshMovement_log_header_list:p,movement_log_header_impacted_comp_full_heirarchy:o,refreshMovement_log_header_impacted_comp_full_heirarchy:y},children:i})},Fo={padding:"12px 10px",textAlign:"center",borderBottom:"1px solid #34495e",color:"#d0d0d0",fontSize:"0.95rem",transition:"background-color 0.2s ease"},Gb=()=>{const i="https://udayerp.com/pms/server/api/",[r,d]=u.useState({}),{user:o}=u.useContext(Va),{selectedNode:f,checkedNodes:h,clearCheckedNodes:p,toggleCheckedNode:y,refreshTree:x}=u.useContext(Ti),{shipsList:_}=u.useContext(ss),[b,C]=u.useState(null),[k,I]=u.useState(!1),[w,M]=u.useState(!k),{profiles:H,refreshProfiles:L}=u.useContext(ai),[$,J]=u.useState([]),[ne,te]=u.useState([]),[Ce,me]=u.useState([]),[ue,be]=u.useState(null),[P,fe]=u.useState({ship_id:"",mov_log_id:"",display_name:"",line_no:1,inserted_on:"",valid_till:"",will_be_entered_by:"",impact_on_1:"",details_1:"",impact_on_2:"",details_2:"",impact_on_3:"",details_3:"",impact_on_4:"",details_4:"",impact_on_5:"",details_5:"",impact_on_6:"",details_6:"",impact_on_7:"",details_7:"",impact_on_8:"",details_8:"",impact_on_9:"",details_9:"",impact_on_10:"",details_10:"",impact_on_11:"",details_11:"",impact_on_12:"",details_12:"",impact_on_13:"",details_13:"",impact_on_14:"",details_14:"",impact_on_15:"",details_15:"",impact_on_16:"",details_16:"",impact_on_17:"",details_17:"",impact_on_18:"",details_18:"",impact_on_19:"",details_19:"",impact_on_20:"",details_20:"",impact_on_21:"",details_21:"",impact_on_22:"",details_22:"",impact_on_23:"",details_23:"",impact_on_24:"",details_24:"",impact_on_25:"",details_25:"",impact_on_26:"",details_26:"",impact_on_27:"",details_27:"",impact_on_28:"",details_28:"",impact_on_29:"",details_29:"",impact_on_30:"",details_30:"",impact_on_31:"",details_31:"",impact_on_32:"",details_32:"",impact_on_33:"",details_33:"",impact_on_34:"",details_34:"",impact_on_35:"",details_35:"",impact_on_36:"",details_36:"",impact_on_37:"",details_37:"",impact_on_38:"",details_38:"",impact_on_39:"",details_39:"",impact_on_40:"",details_40:"",impact_on_41:"",details_41:"",impact_on_42:"",details_42:"",impact_on_43:"",details_43:"",impact_on_44:"",details_44:"",impact_on_45:"",details_45:"",impact_on_46:"",details_46:"",impact_on_47:"",details_47:"",impact_on_48:"",details_48:"",impact_on_49:"",details_49:"",impact_on_50:"",details_50:""}),[He,Le]=u.useState({ship_id:"",mov_log_id:"",display_name:"",line_no:1,inserted_on:"",valid_till:"",will_be_entered_by:"",impact_on_1:"",details_1:"",impact_on_2:"",details_2:"",impact_on_3:"",details_3:"",impact_on_4:"",details_4:"",impact_on_5:"",details_5:"",impact_on_6:"",details_6:"",impact_on_7:"",details_7:"",impact_on_8:"",details_8:"",impact_on_9:"",details_9:"",impact_on_10:"",details_10:"",impact_on_11:"",details_11:"",impact_on_12:"",details_12:"",impact_on_13:"",details_13:"",impact_on_14:"",details_14:"",impact_on_15:"",details_15:"",impact_on_16:"",details_16:"",impact_on_17:"",details_17:"",impact_on_18:"",details_18:"",impact_on_19:"",details_19:"",impact_on_20:"",details_20:"",impact_on_21:"",details_21:"",impact_on_22:"",details_22:"",impact_on_23:"",details_23:"",impact_on_24:"",details_24:"",impact_on_25:"",details_25:"",impact_on_26:"",details_26:"",impact_on_27:"",details_27:"",impact_on_28:"",details_28:"",impact_on_29:"",details_29:"",impact_on_30:"",details_30:"",impact_on_31:"",details_31:"",impact_on_32:"",details_32:"",impact_on_33:"",details_33:"",impact_on_34:"",details_34:"",impact_on_35:"",details_35:"",impact_on_36:"",details_36:"",impact_on_37:"",details_37:"",impact_on_38:"",details_38:"",impact_on_39:"",details_39:"",impact_on_40:"",details_40:"",impact_on_41:"",details_41:"",impact_on_42:"",details_42:"",impact_on_43:"",details_43:"",impact_on_44:"",details_44:"",impact_on_45:"",details_45:"",impact_on_46:"",details_46:"",impact_on_47:"",details_47:"",impact_on_48:"",details_48:"",impact_on_49:"",details_49:"",impact_on_50:"",details_50:""}),{movement_log_header_list:ye,refreshMovement_log_header_list:X}=u.useContext(sf),[T,A]=u.useState([]),[V,K]=u.useState(null),[j,B]=u.useState(null),[ae,U]=u.useState(!1),[ie,De]=u.useState(-1);u.useEffect(()=>{X(),x(),L()},[]),u.useEffect(()=>{o.emp_type==1&&oe(o.ship_id)},[o]),u.useEffect(()=>{ye&&A(ye.filter(Q=>Q.ship_id==b))},[ye,b]),u.useEffect(()=>{T&&(console.log("selectedShipID in movement : ",b),console.log("movement_log_header_list_by_ship : ",T))},[T,b]),u.useEffect(()=>{p()},[]),u.useEffect(()=>{p()},[b,ue]),u.useEffect(()=>{},[f]);const ee=Q=>{Q.preventDefault();const we={};Q.target.display_name.value.trim()||(we.display_name="Movement Log Name is required.");const it=Q.target.valid_till.value;if(it){const St=new Date(it),Qt=new Date;Qt.setHours(0,0,0,0),St<=Qt&&(we.valid_till="Date must be in the future.")}if([Q.target.category?.checked,Q.target.sub_category?.checked,Q.target.second_sub_category?.checked,Q.target.third_sub_category?.checked].some(St=>St)||(we.impact_on="At least one 'Impact On' option must be selected."),Q.target.details?.value||(we.details="Please select a movement detail type (Hours, KM, or Both)."),Object.keys(we).length>0){d(we);return}d({}),alert("building logic"),console.log("movement_log_header_data : ",P)},oe=Q=>{const we=_.find(Ze=>Ze.SHA_ID===Q);we&&(be(we),C(we.SHA_ID))},je=async Q=>{if(Q)try{const Ze=(await Je.get(`${i}getShipIDbyEmployeeID/${Q}`)).data?.[0];Ze?.SHA_ID&&oe(Ze.SHA_ID)}catch{}};u.useEffect(()=>{(async()=>{o?.UHA_ID&&await je(o.UHA_ID),o&&Be(o,"MLC")})()},[o,H]);const Be=(Q,we)=>{const it=(Q.profile_ids?.split(",")||[]).map(kt=>H?.find(tt=>tt.PROFILE_ID===kt)).filter(Boolean);if(it.length>0){const kt=it[0],tt=kt.form_ids?.split(",").filter(Qt=>Qt.includes(we))||[],St=kt.process_ids?.split(",").filter(Qt=>Qt.includes(we))||[];J(tt),te(St),me(it)}else me([])};u.useEffect(()=>{},[ne]),u.useEffect(()=>{j&&Je.get(`${i}getAllMovementLogsWithOnlyAppliedCompHeirarchy`).then(Q=>{K(Q.data)}).catch(Q=>{console.log("Error when fetching getAllMovementLogsWithFullCompHeirarchy in movement Log page")})},[j,ae]);const ct=Q=>{if(!V){alert("Server Issue !!, Please Try Again");return}if(p(),console.log("movement_log_data :: ",Q),V[0]){const Ze=V[0].impacted_components;if(Ze&&Ze.length===0)alert("This Movement Log Is Not Configured On Any Component");else for(let it of Ze){const kt=it.component_heirarchy;We(kt)}}fe({...Q,valid_till:(Ze=>Ze?new Date(Ze).toISOString().split("T")[0]:"")(Q.valid_till)}),M(!1),I(!0)};function We(Q){if(Q){if(Q.isCheckBoxApplicable){const we={id:Q.id,type:Q.type,data:Q.data,children:Q.children};y(we)}if(Q.children&&Q.children.length>0)for(let we of Q.children)We(we)}}const ke=()=>{p(),fe(He)};return t.jsx("div",{id:"movement-log-page-main-container",children:o.emp_type==2||o.emp_type==1?t.jsxs(t.Fragment,{children:[t.jsx("div",{id:"movement-log-page-left-container",children:t.jsxs("div",{id:"movement-log-page-left-container-content",children:[t.jsx("div",{id:"select-ships-container",style:{marginBottom:"20px"},children:t.jsxs("select",{name:"ships-selection",id:"ship-selection",value:b||"",onChange:Q=>C(Q.target.value),style:{visibility:k&&h.length>0?"hidden":"visible",color:"#3f5165"},disabled:ne.includes("P_MLC_0006")&&o.emp_type==1,children:[ne.includes("P_MLC_0006")&&o.emp_type==1?t.jsxs("option",{value:"",children:["You are at : ",b||ue.ship_name]}):t.jsx("option",{value:"",children:"Select Location"}),o.emp_type===2&&t.jsx(t.Fragment,{children:_.map((Q,we)=>t.jsx("option",{value:Q.SHA_ID,children:Q.ship_name},we))})]})}),b&&t.jsxs("div",{className:"tree-section",style:{cursor:w?"not-allowed":"pointer",pointerEvents:w?"none":"all"},children:[t.jsxs("h2",{children:[" Component Hierarchy for ",_.filter(Q=>Q.SHA_ID==b)[0].ship_name]}),t.jsx(jr,{setIsCheckActive:!0,componentTreeWantByWhichComp:"MovementLogComponent",isReadOnlyView:!1,selectedShipID:b})]})]})}),t.jsxs("div",{id:"movement-log-page-right-container",style:{flexDirection:o.emp_type==2?"row":"column"},children:[t.jsxs("div",{id:"movement-log-page-right-top-container",children:[H?.filter(Q=>o?.profile_ids?.includes(Q.PROFILE_ID))[0]?.process_ids.includes("P_MLC_0005")&&t.jsx("button",{onClick:Q=>{p(),I(!0),M(!1)},className:`tab-button ${k?"active":""}`,style:{display:ne.includes("P_MLC_0005")&&o.emp_type==2?"inline":"none"},children:"Configure Movement Log"}),H?.filter(Q=>o?.profile_ids?.includes(Q.PROFILE_ID))[0]?.process_ids.includes("P_MLC_0006")&&t.jsx("button",{onClick:Q=>{p(),M(!0),I(!1)},className:`tab-button ${w?"active":""}`,style:{display:ne.includes("P_MLC_0006")?"inline":"none"},children:"Veiw Movement Logs"})]}),k&&ne.includes("P_MLC_0005")&&t.jsx(t.Fragment,{children:h.length>0?t.jsx(t.Fragment,{children:H?.filter(Q=>o?.profile_ids?.includes(Q.PROFILE_ID))[0]?.form_ids.includes("F_MLC_001")&&t.jsxs("form",{onSubmit:ee,children:[t.jsxs("h1",{children:["Movement Log Configuration On ",_.filter(Q=>Q.SHA_ID==b)[0].ship_name]}),t.jsxs("div",{id:"movement-log-header-visualize-checked-node",children:[t.jsx("h3",{className:"section-title",children:"Selected Components"}),t.jsx("ul",{className:"checked-nodes-list",children:h.map(Q=>t.jsxs("li",{className:"checked-node-item",children:[t.jsx("span",{className:`icon ${Q.type}`}),t.jsx("span",{className:"label",children:Q.data.label})]},Q.id))})]}),t.jsx("div",{id:"movement-log-header-display-name-feild-container",style:{marginTop:"20px"},children:t.jsxs("label",{htmlFor:"display-name",children:[t.jsx("i",{className:"fas fa-signature icon-prefix"}),"Movement Log Name :",t.jsx("input",{type:"text",name:"display_name",id:"display-name",placeholder:"Enter Movement Log Name..",value:P.display_name,onChange:Q=>{fe(we=>({...we,[Q.target.name]:Q.target.value}))}}),r.display_name&&t.jsx("span",{className:"error-msg",children:r.display_name})]})}),t.jsxs("div",{id:"movement-log-header-valid-till-feild-container",children:[t.jsxs("label",{htmlFor:"valid-till",children:["Log Valid Till :",t.jsx("input",{type:"date",name:"valid_till",id:"valid-till",value:P.valid_till||"",min:new Date().toISOString().split("T")[0],onChange:Q=>{const we=new Date(Q.target.value),Ze=new Date;Ze.setHours(0,0,0,0),we>Ze?(fe(it=>({...it,[Q.target.name]:Q.target.value})),d(it=>({...it,valid_till:""}))):d(it=>({...it,valid_till:"Please select a future date."}))}})]}),r.valid_till&&t.jsx("span",{className:"error-msg",children:r.valid_till}),t.jsx("p",{id:"movement-log-header-valid-till-feild-note",children:"Date should be a future date."}),t.jsx("p",{id:"movement-log-header-valid-till-feild-note",children:"If left blank, this log will remain active indefinitely."})]}),t.jsxs("div",{id:"movement-log-header-impact-on-feilds-container",children:[t.jsxs("fieldset",{className:"modern-fieldset",children:[t.jsx("legend",{className:"modern-legend",children:"The Selected Movement Log Will Impact On"}),t.jsxs("div",{className:"checkbox-group",children:[t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",name:"category"}),t.jsx("span",{className:"checkbox-custom"}),"Category (It-self Only)"]}),t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",name:"sub_category"}),t.jsx("span",{className:"checkbox-custom"}),"Its Sub Category"]}),t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",name:"second_sub_category"}),t.jsx("span",{className:"checkbox-custom"}),"Its 2nd Sub Category"]}),t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",name:"third_sub_category"}),t.jsx("span",{className:"checkbox-custom"}),"Its 3rd Sub Category"]}),t.jsxs("label",{className:"checkbox-label",children:[t.jsx("input",{type:"checkbox",name:"all_hierarchy"}),t.jsx("span",{className:"checkbox-custom"}),"All (Complete Hierarchy)"]})]})]}),r.impact_on&&t.jsx("p",{className:"error-msg field-error-block",children:r.impact_on})]}),t.jsxs("div",{id:"movement-log-header-details-feilds-container",children:[t.jsxs("fieldset",{className:"modern-fieldset",children:[t.jsx("legend",{className:"modern-legend",children:"Provide Details About Movement"}),t.jsxs("div",{className:"radio-group",children:[t.jsxs("label",{className:"radio-label",children:[t.jsx("input",{type:"radio",name:"details",value:"hours"}),t.jsx("span",{className:"radio-custom"}),"Hours"]}),t.jsxs("label",{className:"radio-label",children:[t.jsx("input",{type:"radio",name:"details",value:"km"}),t.jsx("span",{className:"radio-custom"}),"KM"]}),t.jsxs("label",{className:"radio-label",children:[t.jsx("input",{type:"radio",name:"details",value:"both"}),t.jsx("span",{className:"radio-custom"}),"Both (KM & Hours)"]})]})]}),r.details&&t.jsx("p",{className:"error-msg field-error-block",children:r.details})]}),t.jsxs("div",{id:"movement-log-header-btns-container",children:[H?.filter(Q=>o?.profile_ids?.includes(Q.PROFILE_ID))[0]?.form_ids.includes("P_MLC_0002")&&t.jsx("button",{type:"submit",className:"btn",id:"submit-btn",children:"Save Configuration"}),t.jsx("button",{type:"button",className:"btn",id:"reset-btn",onClick:()=>{alert("In Progress")},children:"Configure Movement Logs From Other Ships"}),t.jsx("button",{type:"button",className:"btn",id:"reset-btn",onClick:()=>{ke()},children:"Reset From"})]})]})}):t.jsx("p",{className:"no-selection",children:"No Component selected yet."})}),w&&ne.includes("P_MLC_0006")?t.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:"0",marginTop:"20px",background:"rgba(30, 30, 46, 0.4)",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)"},children:[t.jsx("thead",{children:t.jsx("tr",{children:["Movement Name","Last Updated On","See Component Relay","Actions"].map(Q=>Q==="See Component Relay"&&!ne.includes("P_MLC_0007")||Q==="Actions"&&!ne.includes("P_MLC_0003")&&!ne.includes("P_MLC_0004")?null:t.jsx("th",{style:{padding:"14px 12px",textAlign:"center",backgroundColor:"#2c3e50",color:"#ecf0f1",fontSize:"1rem",fontWeight:"600",textShadow:"0 0 5px rgba(236, 240, 241, 0.3)",border:"none"},children:Q},Q))})}),t.jsx("tbody",{children:T.length>0?T.map((Q,we)=>t.jsxs("tr",{style:{backgroundColor:"rgba(255, 255, 255, 0.05)"},children:[t.jsx("td",{style:Fo,children:Q.display_name}),t.jsx("td",{style:Fo,children:new Date(Q.inserted_on).toLocaleDateString("en-GB")}),ne.includes("P_MLC_0007")&&t.jsx("td",{style:Fo,children:t.jsx("button",{id:"btn-see-component-relay-on-this-movement",style:{padding:"6px 12px",backgroundColor:"#6c5ce7",color:"white",border:"none",borderRadius:"6px",fontSize:"0.9rem",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 5px rgba(108, 92, 231, 0.3)"},onMouseOver:Ze=>Ze.target.style.backgroundColor="#5d40e0",onMouseOut:Ze=>Ze.target.style.backgroundColor="#6c5ce7",onClick:()=>{De(we),U(!0),B(Q)},children:"See"})}),ne.includes("P_MLC_0003")&&ne.includes("P_MLC_0004")?t.jsxs("td",{style:{...Fo,textAlign:"center"},children:[ne.includes("P_MLC_0003")&&t.jsx("button",{style:{padding:"6px 12px",backgroundColor:"#6c5ce7",color:"white",border:"none",borderRadius:"6px",fontSize:"0.9rem",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 5px rgba(108, 92, 231, 0.3)",marginRight:"8px"},onMouseOver:Ze=>Ze.target.style.backgroundColor="#5d40e0",onMouseOut:Ze=>Ze.target.style.backgroundColor="#6c5ce7",onClick:()=>{B(Q),ct(Q)},children:"Edit"}),ne.includes("P_MLC_0004")&&t.jsx("button",{style:{padding:"6px 12px",backgroundColor:"#db443eff",color:"white",border:"none",borderRadius:"6px",fontSize:"0.9rem",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 5px rgba(108, 92, 231, 0.3)"},onMouseOver:Ze=>Ze.target.style.backgroundColor="#c63a35ff",onMouseOut:Ze=>Ze.target.style.backgroundColor="#db443eff",children:"Suspend"})]}):null]},Q.mov_log_id)):t.jsx("tr",{children:t.jsxs("td",{colSpan:"5",style:{padding:"40px 20px",textAlign:"center",color:"#888",fontStyle:"italic",fontSize:"1.1rem",backgroundColor:"rgba(0, 0, 0, 0.1)"},children:["No movement logs configured for ",_?.find(Q=>Q.SHA_ID===b)?.ship_name||"N/A"]})})})]}):null,ae&&V&&t.jsx("div",{id:"applied-component-heirarchy-on-perticulart-movement-log",children:t.jsxs("div",{id:"applied-component-heirarchy-on-perticulart-movement-log-content",children:[t.jsx("div",{id:"applied-component-heirarchy-on-perticulart-movement-log-content-container",children:t.jsxs(t.Fragment,{children:[console.log("movementLogAppliedCategory[movement_log_wise_index].impacted_components :: ",V[ie].impacted_components),V[ie].impacted_components.map(Q=>t.jsx(br,{node:Q.component_heirarchy,isCheckBoxActive:!0,componentTreeWantByWhichComp:"MovementLogComponent",selectedShipID:b.SHA_ID},Q.id))]})}),t.jsx("button",{style:{padding:"10px 50px",backgroundColor:"#c63a35ff",color:"white",border:"none",borderRadius:"6px",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 5px rgba(108, 92, 231, 0.3)"},onClick:()=>{U(!1),De(-1)},children:"Close"})]})})]})]}):t.jsx("p",{style:{fontSize:"3rem",fontWeight:"700",color:"black",backgroundColor:"white"},children:"You are not Authorized to see Content Of this module"})})},Hg=u.createContext(),Yb=({children:i})=>{const[r,d]=u.useState(null),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await Je.get(`${o}getAllShipsHealthList`);d(h.data)}catch(h){console.error("Failed to fetch All ships health list :",h)}};return u.useEffect(()=>{f()},[]),t.jsx(Hg.Provider,{value:{shipsHealthList:r,refreshShipsHealthList:f},children:i})},Xb=()=>{const i="https://udayerp.com/pms/server/api/",[r,d]=u.useState(!1),{user:o}=u.useContext(Va),{shipsList:f,refreshShipsList:h,agencyList:p,refreshAgencyList:y}=u.useContext(ss),{needToInvokeAddNewComponentForm:x,setNeedToInvokeAddNewComponentForm:_,needToInvokeEditComponentForm:b,setNeedToInvokeEditComponentForm:C,selectedNode:k,refreshTree:I}=u.useContext(Ti),{shipsHealthList:w,refreshShipsHealthList:M}=u.useContext(Hg),[H,L]=u.useState(""),[$,J]=u.useState(!1),[ne,te]=u.useState(!1),[Ce,me]=u.useState(null),ue=["vslOverview","vslParticular","vslAllocation","crewList"],be="https://udayerp.com/pms/server/api/",P=()=>{const ve=ue.indexOf(U);ve<ue.length-1?ie(ue[ve+1]):alert("You've reached the last section.")},[fe,He]=u.useState(!1),[Le,ye]=u.useState(0),[X,T]=u.useState({AHA_ID:"",SHA_ID:"",inactive_since:null,incorporated_since:null,inserted_on:null,ship_code:"",ship_details:"",ship_name:"",ship_status:"",under_repaired_since:null}),[A,V]=u.useState({AHA_ID:"",SHA_ID:"",inactive_since:null,incorporated_since:null,inserted_on:null,ship_code:"",ship_details:"",ship_name:"",ship_status:"",under_repaired_since:null,vesselType:"",flag:"",vesselCode:"",managementType:"",owner:"",charterer:"",shipManager:"",pAndIClub:"",lifeBoatCapacity:"",wageScale:"",takeOverDate:"",status:"",image:null,lrMo:"",registeredPort:"",official:"",mmsi:"",currentClass:"",groupEmail:"",group:"",email:"",yearBuilt:"",age:"",yard:"",grtTwd:"",teu:"",nrt:"",length:"",breadth:"",depth:"",mainEngineMaker:"",mainEngineModel:"",mainEngineStrokeType:"",mainEngineKW:"",mainEngineBHP:"",mainEngineRPM:"",aux1Maker:"",aux1Model:"",aux1StrokeType:"",aux1KW:"",aux1BHP:"",aux1RPM:"",aux2Maker:"",aux2Model:"",aux2StrokeType:"",aux2KW:"",aux2BHP:"",aux2RPM:"",aux3Maker:"",aux3Model:"",aux3StrokeType:"",aux3KW:"",aux3BHP:"",aux3RPM:"",inmTerminalType:"",callSign:"",insValidDays:"0",tel1:"",tel2:"",mobileNumber:"",fax:"",data:"",hsd:"",inmC:"",accCode:"",trainingFees:"0",vesselEmail:"",technicalGroupEmail:"",crewGroupEmail:"",ownerRep:"",charterEmail:"",techSupdt:"",superintendent:"",fleetManager:"",techAssistant:"",marineAssistant:"",dpa:"",acctOfficer:"",performanceBonus:""}),[K,j]=u.useState({}),[B,ae]=u.useState("details"),[U,ie]=u.useState("vslOverview"),[De,ee]=u.useState("hidden"),[oe,je]=u.useState("hidden"),[Be,ct]=u.useState("hidden"),[We,ke]=u.useState(!0),[Q,we]=u.useState(!1),[Ze,it]=u.useState(!1);u.useEffect(()=>{console.log(K)},[K?.SHA_ID]),u.useEffect(()=>{M(),y(),h(),I(),_(!1),L(""),me(null),J(!1),ye(0)},[]),u.useEffect(()=>{V({AHA_ID:"",SHA_ID:"",inactive_since:null,incorporated_since:null,inserted_on:null,ship_code:"",ship_details:"",ship_name:"",ship_status:"",under_repaired_since:null,vesselType:"",flag:"",vesselCode:"",managementType:"",owner:"",charterer:"",shipManager:"",pAndIClub:"",lifeBoatCapacity:"",wageScale:"",takeOverDate:"",status:"",image:null,lrMo:"",registeredPort:"",official:"",mmsi:"",currentClass:"",groupEmail:"",group:"",email:"",yearBuilt:"",age:"",yard:"",grtTwd:"",teu:"",nrt:"",length:"",breadth:"",depth:"",mainEngineMaker:"",mainEngineModel:"",mainEngineStrokeType:"",mainEngineKW:"",mainEngineBHP:"",mainEngineRPM:"",aux1Maker:"",aux1Model:"",aux1StrokeType:"",aux1KW:"",aux1BHP:"",aux1RPM:"",aux2Maker:"",aux2Model:"",aux2StrokeType:"",aux2KW:"",aux2BHP:"",aux2RPM:"",aux3Maker:"",aux3Model:"",aux3StrokeType:"",aux3KW:"",aux3BHP:"",aux3RPM:"",inmTerminalType:"",callSign:"",insValidDays:"0",tel1:"",tel2:"",mobileNumber:"",fax:"",data:"",hsd:"",inmC:"",accCode:"",trainingFees:"0",vesselEmail:"",technicalGroupEmail:"",crewGroupEmail:"",ownerRep:"",charterEmail:"",techSupdt:"",superintendent:"",fleetManager:"",techAssistant:"",marineAssistant:"",dpa:"",acctOfficer:"",performanceBonus:""})},[B]);const kt=()=>{j(null),V({AHA_ID:"",SHA_ID:"",inactive_since:null,incorporated_since:null,inserted_on:null,ship_code:"",ship_details:"",ship_name:"",ship_status:"",under_repaired_since:null,vesselType:"",flag:"",vesselCode:"",managementType:"",owner:"",charterer:"",shipManager:"",pAndIClub:"",lifeBoatCapacity:"",wageScale:"",takeOverDate:"",status:"",image:null,lrMo:"",registeredPort:"",official:"",mmsi:"",currentClass:"",groupEmail:"",group:"",email:"",yearBuilt:"",age:"",yard:"",grtTwd:"",teu:"",nrt:"",length:"",breadth:"",depth:"",mainEngineMaker:"",mainEngineModel:"",mainEngineStrokeType:"",mainEngineKW:"",mainEngineBHP:"",mainEngineRPM:"",aux1Maker:"",aux1Model:"",aux1StrokeType:"",aux1KW:"",aux1BHP:"",aux1RPM:"",aux2Maker:"",aux2Model:"",aux2StrokeType:"",aux2KW:"",aux2BHP:"",aux2RPM:"",aux3Maker:"",aux3Model:"",aux3StrokeType:"",aux3KW:"",aux3BHP:"",aux3RPM:"",inmTerminalType:"",callSign:"",insValidDays:"0",tel1:"",tel2:"",mobileNumber:"",fax:"",data:"",hsd:"",inmC:"",accCode:"",trainingFees:"0",vesselEmail:"",technicalGroupEmail:"",crewGroupEmail:"",ownerRep:"",charterEmail:"",techSupdt:"",superintendent:"",fleetManager:"",techAssistant:"",marineAssistant:"",dpa:"",acctOfficer:"",performanceBonus:""}),ae("details"),ee("visible"),je("hidden"),ct("hidden")},tt=ve=>{j(ve),V({AHA_ID:ve.AHA_ID||null,SHA_ID:ve.SHA_ID||null,inactive_since:ve.inactive_since||null,incorporated_since:ve.incorporated_since||null,inserted_on:ve.inserted_on||null,ship_code:ve.ship_code||"",ship_details:ve.ship_details||"",ship_name:ve.ship_name||"",ship_status:ve.ship_status||null,under_repaired_since:ve.under_repaired_since||null,vesselType:"",flag:"",managementType:"",owner:"",charterer:"",shipManager:"",pAndIClub:"",lifeBoatCapacity:"",wageScale:"",takeOverDate:"",status:"",image:null,lrMo:"",registeredPort:"",official:"",mmsi:"",currentClass:"",groupEmail:"",group:"",email:"",yearBuilt:"",age:"",yard:"",grtTwd:"",teu:"",nrt:"",length:"",breadth:"",depth:"",mainEngineMaker:"",mainEngineModel:"",mainEngineStrokeType:"",mainEngineKW:"",mainEngineBHP:"",mainEngineRPM:"",aux1Maker:"",aux1Model:"",aux1StrokeType:"",aux1KW:"",aux1BHP:"",aux1RPM:"",aux2Maker:"",aux2Model:"",aux2StrokeType:"",aux2KW:"",aux2BHP:"",aux2RPM:"",aux3Maker:"",aux3Model:"",aux3StrokeType:"",aux3KW:"",aux3BHP:"",aux3RPM:"",inmTerminalType:"",callSign:"",insValidDays:"0",tel1:"",tel2:"",mobileNumber:"",fax:"",data:"",hsd:"",inmC:"",accCode:"",trainingFees:"0",vesselEmail:"",technicalGroupEmail:"",crewGroupEmail:"",ownerRep:"",charterEmail:"",techSupdt:"",superintendent:"",fleetManager:"",techAssistant:"",marineAssistant:"",dpa:"",acctOfficer:"",performanceBonus:""}),ae("details"),ee("hidden"),je("visible"),ct("visible")},St=ve=>{T(ve),ae("details"),console.log("View:",ve),ee("hidden"),je("hidden"),ct("hidden")},Qt=async ve=>{try{if(!H.trim()){alert("Component name is required.");return}let nt=null;if($&&Ce){const Ot=new FileReader;nt=await new Promise((_a,Ca)=>{Ot.onload=()=>{_a(Ot.result.split(",")[1])},Ot.onerror=Ca,Ot.readAsDataURL(Ce)})}let he=null,Nt="";if(ve?.type)switch(ve.type){case"category":he={CHA_ID:ve.data.CHA_ID,sub_category_name:H,sub_cat_type:2,inserted_on:new Date().toISOString(),sub_cat_status:1,inserted_by:o.UHA_ID,component_no:"",design_file:nt,can_jcd_triggered:ne?1:0},Nt=`${be}add-sub-category`;break;case"sub_category":he={CHA_ID:ve.data.CHA_ID,SCHA_ID:ve.data.SCHA_ID,second_sub_cat_name:H,second_sub_cat_type:2,inserted_on:new Date().toISOString(),second_sub_cat_status:1,inserted_by:o.UHA_ID,component_no:"",design_file:null,can_jcd_triggered:ne?1:0},Nt=`${be}add-second-sub-category`;break;case"second_sub_category":he={CHA_ID:ve.data.CHA_ID,SCHA_ID:ve.data.SCHA_ID,SSCHA_ID:ve.data.SSCHA_ID,third_sub_cat_name:H,third_sub_cat_type:2,inserted_on:new Date().toISOString().split("T")[0],third_sub_cat_status:1,inserted_by:o.UHA_ID,component_no:"",design_file:null,can_jcd_triggered:ne?1:0},console.log("payload :: ",he),Nt=`${be}add-third-sub-category`;break;case"third_sub_category":alert("Cannot add component under third sub-category.");return;default:console.warn("Unsupported parent component type:",ve.type),alert("Unsupported component type.");return}else he={CHA_ID:"",category_name:H,cat_type:2,inserted_on:new Date().toISOString(),cat_status:1,inserted_by:o.UHA_ID,component_no:"",design_file:nt,can_jcd_triggered:ne?1:0},Nt=`${be}add-root-category`;const Na=await Je.post(Nt,he,{headers:{"Content-Type":"application/json"}});Na.data.success?(alert("Component added successfully!"),y?.(),h?.(),I?.(),M?.(),_(!1),L(""),me(null),J(!1),te(!1)):alert("Failed: "+(Na.data.message||"Unknown error"))}catch(nt){console.error("Error while adding new component:",nt),nt.response?alert("Server error: "+(nt.response.data.message||nt.response.statusText)):nt.request?alert("No response from server. Check your connection or server status."):alert("Request error: "+nt.message)}},oa=async ve=>{if(!ve){alert("No component selected to edit.");return}if(!H.trim()){alert("Component name is required.");return}d(!0);try{let nt=null;if($&&Ce){const Ot=new FileReader;nt=await new Promise((_a,Ca)=>{Ot.onload=()=>_a(Ot.result.split(",")[1]),Ot.onerror=Ca,Ot.readAsDataURL(Ce)})}let he={},Nt="";switch(ve.type){case"category":he={CHA_ID:ve.data.CHA_ID,category_name:H,design_file:nt,can_jcd_triggered:ne?1:0},Nt=`${i}updateRootCategory`;break;case"sub_category":he={SCHA_ID:ve.data.SCHA_ID,sub_category_name:H,design_file:nt,can_jcd_triggered:ne?1:0},Nt=`${i}updateSubCategory`;break;case"second_sub_category":he={SSCHA_ID:ve.data.SSCHA_ID,second_sub_cat_name:H,can_jcd_triggered:ne?1:0},Nt=`${i}updateSecondSubCategory`;break;case"third_sub_category":he={TSCHA_ID:ve.data.TSCHA_ID,third_sub_cat_name:H,can_jcd_triggered:ne?1:0},Nt=`${i}updateThirdSubCategory`;break;case"part":he={PHA_ID:ve.data.PHA_ID,part_name:H,can_jcd_triggered:ne?1:0},Nt=`${i}updatePart`;break;default:alert("Unsupported component type");return}const Na=await Je.put(Nt,{newComponentName:H,newCompHasDesignFile:$,newCompCanJCDConfig:ne,designFile:Ce,currentSelectedNode:ve});alert(Na.data.message||"Component updated successfully!"),C(!1),I(),h(),y(),M(),L(""),me(null),J(!1),ye(0)}catch(nt){console.error("Error updating component:",nt),alert("Failed to update component: "+(nt.response?.data?.message||nt.message))}finally{d(!1)}},cn=()=>{He(!0)},_t=async ve=>{if(ve==0||!ve){alert("Invalid Selection");return}it(!0)},Me={width:"100%",padding:"10px",marginTop:"5px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px"},Ga={color:"red"},$e=ve=>{const{name:nt,value:he,type:Nt,files:Na}=ve.target;if(Nt==="file")V(Ot=>({...Ot,[nt]:Na[0]}));else if(nt==="yearBuilt"){const Ot=parseInt(he),_a=new Date().getFullYear(),Ca=!isNaN(Ot)&&Ot>0?_a-Ot:"";V(va=>({...va,[nt]:he,age:Ca}))}else V(Ot=>({...Ot,[nt]:he}))},Mt=ve=>({padding:"10px 16px",margin:"0 8px",border:"1px solid #ddd",background:ve?"#6c5ce7":"white",color:ve?"white":"#333",borderRadius:"6px",fontWeight:"500",cursor:"not-allowed",transition:"all 0.3s ease"}),pa={display:"block",marginBottom:"5px",fontWeight:"500",fontSize:"14px"},Jt={marginBottom:"18px",animation:"fadeIn 0.4s ease-out forwards"},vn={display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},ga={display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px",marginBottom:"16px"},qe=(ve,nt,he=!1)=>t.jsxs("div",{style:Jt,children:[t.jsxs("label",{style:pa,children:[ve," ",he&&t.jsx("span",{style:Ga,children:"*"})]}),nt]});return t.jsxs("div",{id:"ship-management-page-main-container",children:[t.jsx("div",{id:"ship-management-page-main-container-left-container",className:"ship-management-page-main-sub-containers",children:t.jsxs("div",{id:"ship-management-page-left-container-shipDetails-container",children:[t.jsx("h2",{style:{fontWeight:"400",fontSize:"2rem",textAlign:"center"},children:"Location Management"}),t.jsxs("div",{id:"ship-management-page-left-container-shipDetails-content",children:[t.jsxs("table",{id:"left-container-shipDetails-content-table",children:[t.jsx("thead",{children:t.jsxs("tr",{style:{backgroundColor:"royalblue"},children:[t.jsx("th",{}),t.jsx("th",{children:"Location Name"}),t.jsx("th",{children:"Code"}),t.jsx("th",{children:"Operations"})]})}),t.jsx("tbody",{children:f.length>0?f.map(ve=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("input",{type:"radio",name:"ship",id:ve.SHA_ID,checked:K?.SHA_ID==ve.SHA_ID,onChange:()=>j(ve)})}),t.jsx("td",{children:ve.ship_name}),t.jsx("td",{children:ve.ship_code}),t.jsxs("td",{children:[t.jsx("button",{onClick:()=>tt(ve),children:"Edit"}),t.jsx("button",{onClick:()=>St(ve),children:"View"})]})]},ve.SHA_ID)):t.jsx("tr",{children:t.jsx("td",{colSpan:"4",className:"no-ships",children:"No locations found"})})})]}),t.jsxs("button",{id:"left-container-shipDetails-content-table-btn-add-new",onClick:kt,children:[t.jsx("i",{className:"fas fa-plus-circle"})," Add New Location"]})]})]})}),t.jsxs("div",{id:"ship-management-page-main-container-right-container",className:"ship-management-page-main-sub-containers",children:[t.jsxs("div",{id:"ship-management-page-main-container-right-container-tabs-container",children:[t.jsx("h2",{className:B==="details"?"active":"",onClick:()=>K?.SHA_ID&&ae("details"),style:{cursor:K?.SHA_ID?"pointer":"not-allowed",opacity:K?.SHA_ID?1:.6},children:"Location Details"}),t.jsx("h2",{className:B==="crew"?"active":"",onClick:()=>K?.SHA_ID&&ae("crew"),style:{cursor:K?.SHA_ID?"pointer":"not-allowed",opacity:K?.SHA_ID?1:.6},children:"Crew List"}),t.jsx("h2",{className:B==="components"?"active":"",onClick:()=>K?.SHA_ID&&ae("components"),style:{cursor:K?.SHA_ID?"pointer":"not-allowed",opacity:K?.SHA_ID?1:.6},children:"Components"}),t.jsx("h2",{className:B==="health"?"active":"",onClick:()=>K?.SHA_ID&&ae("health"),style:{cursor:K?.SHA_ID?"pointer":"not-allowed",opacity:K?.SHA_ID?1:.6},children:"Location Health"})]}),t.jsx("div",{id:"ship-management-page-right-container-content",children:K?.SHA_ID||!K?.SHA_ID?t.jsxs(t.Fragment,{children:[B==="details"&&t.jsxs("div",{style:{fontFamily:"Arial, sans-serif",padding:"20px",minHeight:"100vh"},children:[B==="details"&&t.jsxs("div",{style:{animation:"slideIn 0.4s ease-out",backgroundColor:"transparent"},children:[t.jsx("div",{style:{display:"flex",flexWrap:"wrap",position:"sticky",top:0,left:0,zIndex:2,backgroundColor:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(2px)",padding:"20px 0px",justifyContent:"center",alignItems:"center",borderRadius:"10px"},children:[{key:"vslOverview",label:"Location Overview"},{key:"vslParticular",label:"Location Particulars"},{key:"vslAllocation",label:"Location Allocation"},{key:"crewList",label:"Crew List"}].map(({key:ve,label:nt})=>t.jsx("button",{style:Mt(U===ve),children:nt},ve))}),K?.SHA_ID&&t.jsxs(t.Fragment,{children:[U==="vslOverview"&&t.jsxs("div",{style:{padding:"24px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[t.jsx("h1",{style:{textAlign:"center",color:"#6c757d",marginBottom:"30px"},children:"Location Overview"}),t.jsxs("div",{style:vn,children:[qe("Location Name",t.jsx("input",{type:"text",name:"ship_name",value:A.ship_name,onChange:$e,style:Me,required:!0}),!0),qe("Location Type",t.jsxs("select",{name:"vesselType",value:A.vesselType,onChange:$e,style:Me,required:!0,children:[t.jsx("option",{value:"",children:"Select Type"}),t.jsx("option",{value:"BULK_CARRIER",children:"BULK CARRIER"}),t.jsx("option",{value:"Container",children:"Container"}),t.jsx("option",{value:"GENERAL_CARGO",children:"GENERAL CARGO"})]}),!0),qe("Flag",t.jsxs("select",{name:"flag",value:A.flag,onChange:$e,style:Me,required:!0,children:[t.jsx("option",{value:"",children:"Select Flag"}),t.jsx("option",{value:"India",children:"India"}),t.jsx("option",{value:"USA",children:"USA"}),t.jsx("option",{value:"UK",children:"UK"}),t.jsx("option",{value:"Singapore",children:"Singapore"})]}),!0),qe("Location Code",t.jsx("input",{type:"text",name:"vesselCode",value:A.vesselCode,onChange:$e,style:Me}))]}),t.jsxs("div",{style:ga,children:[qe("Management Type",t.jsxs("select",{name:"managementType",value:A.managementType,onChange:$e,style:Me,children:[t.jsx("option",{value:"",children:"Select"}),t.jsx("option",{value:"Self",children:"Self"})]})),qe("Owner",t.jsx("select",{name:"owner",value:A.owner,onChange:$e,style:Me})),qe("Charterer",t.jsx("select",{name:"charterer",value:A.charterer,onChange:$e,style:Me})),qe("Location Manager",t.jsx("select",{name:"shipManager",value:A.shipManager,onChange:$e,style:Me})),qe("P & I Club",t.jsx("select",{name:"pAndIClub",value:A.pAndIClub,onChange:$e,style:Me})),qe("Life Boat Capacity",t.jsx("input",{type:"text",name:"lifeBoatCapacity",value:A.lifeBoatCapacity,onChange:$e,style:Me})),qe("Wage Scale",t.jsx("input",{type:"text",name:"wageScale",value:A.wageScale,onChange:$e,style:Me})),qe("Take Over Date",t.jsx("input",{type:"date",name:"takeOverDate",value:A.takeOverDate,onChange:$e,style:Me})),qe("Status",t.jsxs("select",{name:"status",value:A.ship_status,onChange:$e,style:Me,children:[t.jsx("option",{value:"",children:"Select Status"}),t.jsx("option",{value:"1",children:"Active"}),t.jsx("option",{value:"2",children:"Inactive"})]})),qe("Image",t.jsx("input",{type:"file",name:"image",onChange:$e,style:Me}))]}),t.jsxs("div",{style:ga,children:[qe("LR / MO",t.jsx("input",{type:"text",name:"lrMo",value:A.lrMo,onChange:$e,style:Me})),qe("Registered Port",t.jsx("select",{name:"registeredPort",value:A.registeredPort,onChange:$e,style:Me})),qe("Official Number",t.jsx("input",{type:"text",name:"official",value:A.official,onChange:$e,style:Me})),qe("MMSI",t.jsx("input",{type:"text",name:"mmsi",value:A.mmsi,onChange:$e,style:Me})),qe("Current Class",t.jsx("select",{name:"currentClass",value:A.currentClass,onChange:$e,style:Me})),qe("Group",t.jsx("select",{name:"group",value:A.group,onChange:$e,style:Me})),qe("Group Email",t.jsx("input",{type:"email",name:"groupEmail",value:A.groupEmail,onChange:$e,style:Me})),qe("Email",t.jsx("input",{type:"email",name:"email",value:A.email,onChange:$e,style:Me})),qe("Year Built",t.jsx("input",{type:"number",name:"yearBuilt",value:A.yearBuilt,onChange:$e,style:Me})),qe("Age",t.jsx("input",{type:"text",value:A.age,readOnly:!0,style:{...Me}})),qe("Yard",t.jsx("input",{type:"text",name:"yard",value:A.yard,onChange:$e,style:Me})),qe("GRT / TWD",t.jsx("input",{type:"text",name:"grtTwd",value:A.grtTwd,onChange:$e,style:Me})),qe("TEU",t.jsx("input",{type:"text",name:"teu",value:A.teu,onChange:$e,style:Me})),qe("NRT",t.jsx("input",{type:"text",name:"nrt",value:A.nrt,onChange:$e,style:Me})),qe("Length",t.jsx("input",{type:"text",name:"length",value:A.length,onChange:$e,style:Me})),qe("Breadth",t.jsx("input",{type:"text",name:"breadth",value:A.breadth,onChange:$e,style:Me})),qe("Depth",t.jsx("input",{type:"text",name:"depth",value:A.depth,onChange:$e,style:Me}))]}),t.jsx("div",{style:{textAlign:"center",marginTop:"30px"},children:t.jsx("button",{type:"button",style:{padding:"12px 30px",backgroundColor:"#27ae60",color:"white",border:"none",borderRadius:"6px",fontSize:"16px",cursor:"pointer"},onClick:P,children:"Next"})})]}),U==="vslParticular"&&t.jsxs("div",{style:{padding:"24px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[t.jsx("h1",{style:{textAlign:"center",color:"#6c757d",marginBottom:"24px"},children:"Location Particulars"}),t.jsxs("div",{style:vn,children:[qe("Location Name",t.jsx("input",{type:"text",value:A.ship_name,disabled:!0,style:{...Me}})),qe("Flag",t.jsx("input",{type:"text",value:A.flag,disabled:!0,style:{...Me}}))]}),["Main","AUX 1","AUX 2","AUX 3"].map((ve,nt)=>{const he=nt===0?"mainEngine":`aux${nt}Engine`;return t.jsxs("fieldset",{style:{marginBottom:"24px",padding:"18px",border:"1px solid #ccc",borderRadius:"8px"},children:[t.jsxs("legend",{style:{fontWeight:"bold",fontSize:"16px",padding:"0 10px"},children:[ve," Engine"]}),t.jsxs("div",{style:ga,children:[qe("Maker",t.jsxs("select",{name:`${he}Maker`,value:A[`${he}Maker`],onChange:$e,style:Me,children:[t.jsx("option",{value:"",children:"Select Maker"}),t.jsx("option",{value:"MAN",children:"MAN"}),t.jsx("option",{value:"Wrtsil",children:"Wrtsil"}),t.jsx("option",{value:"HSD",children:"HSD"})]})),qe("Model",t.jsx("input",{type:"text",name:`${he}Model`,value:A[`${he}Model`],onChange:$e,style:Me})),qe("Stroke Type",t.jsxs("select",{name:`${he}StrokeType`,value:A[`${he}StrokeType`],onChange:$e,style:Me,children:[t.jsx("option",{value:"",children:"Select Type"}),t.jsx("option",{value:"2-Stroke",children:"2-Stroke"}),t.jsx("option",{value:"4-Stroke",children:"4-Stroke"})]})),qe("KW",t.jsx("input",{type:"text",name:`${he}KW`,value:A[`${he}KW`],onChange:$e,style:Me})),qe("BHP",t.jsx("input",{type:"text",name:`${he}BHP`,value:A[`${he}BHP`],onChange:$e,style:Me})),qe("RPM",t.jsx("input",{type:"text",name:`${he}RPM`,value:A[`${he}RPM`],onChange:$e,style:Me}))]})]},nt)}),t.jsxs("div",{style:ga,children:[qe("INM Terminal Type",t.jsx("input",{type:"text",name:"inmTerminalType",value:A.inmTerminalType,onChange:$e,style:Me})),qe("Call Sign",t.jsx("input",{type:"text",name:"callSign",value:A.callSign,onChange:$e,style:Me})),qe("Ins. Valid Days",t.jsx("input",{type:"number",name:"insValidDays",value:A.insValidDays,onChange:$e,style:Me})),qe("Tel1",t.jsx("input",{type:"text",name:"tel1",value:A.tel1,onChange:$e,style:Me})),qe("Tel2",t.jsx("input",{type:"text",name:"tel2",value:A.tel2,onChange:$e,style:Me})),qe("Mobile Number",t.jsx("input",{type:"text",name:"mobileNumber",value:A.mobileNumber,onChange:$e,style:Me})),qe("Fax",t.jsx("input",{type:"text",name:"fax",value:A.fax,onChange:$e,style:Me})),qe("Data",t.jsx("input",{type:"text",name:"data",value:A.data,onChange:$e,style:Me})),qe("HSD",t.jsx("input",{type:"text",name:"hsd",value:A.hsd,onChange:$e,style:Me})),qe("Inm C",t.jsx("input",{type:"text",name:"inmC",value:A.inmC,onChange:$e,style:Me})),qe("Acc. Code",t.jsx("input",{type:"text",name:"accCode",value:A.accCode,onChange:$e,style:Me})),qe("Training Fees",t.jsx("input",{type:"number",name:"trainingFees",value:A.trainingFees,onChange:$e,style:Me}))]}),t.jsx("div",{style:{textAlign:"center",marginTop:"30px"},children:t.jsx("button",{type:"button",style:{padding:"12px 30px",backgroundColor:"#27ae60",color:"white",border:"none",borderRadius:"6px",fontSize:"16px",cursor:"pointer"},onClick:P,children:"Next"})})]}),U==="vslAllocation"&&t.jsxs("div",{style:{padding:"24px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[t.jsx("h1",{style:{textAlign:"center",color:"#6c757d",marginBottom:"24px"},children:"Location Allocation"}),t.jsxs("div",{style:vn,children:[qe("Location Email",t.jsx("input",{type:"email",name:"vesselEmail",value:A.vesselEmail,onChange:$e,style:Me,required:!0}),!0),qe("Technical Group Email",t.jsx("input",{type:"email",name:"technicalGroupEmail",value:A.technicalGroupEmail,onChange:$e,style:Me,required:!0}),!0),qe("Crew Group Email",t.jsx("input",{type:"email",name:"crewGroupEmail",value:A.crewGroupEmail,onChange:$e,style:Me,required:!0}),!0),qe("Owner Rep",t.jsx("input",{type:"text",name:"ownerRep",value:A.ownerRep,onChange:$e,style:Me,required:!0}),!0),qe("Charter Email",t.jsx("input",{type:"email",name:"charterEmail",value:A.charterEmail,onChange:$e,style:Me,required:!0}),!0)]}),t.jsxs("div",{style:ga,children:[qe("Tech Supdt",t.jsxs("select",{name:"techSupdt",value:A.techSupdt,onChange:$e,style:Me,required:!0,children:[t.jsx("option",{value:"",children:"Select"}),t.jsx("option",{value:"supdt1",children:"John Smith"}),t.jsx("option",{value:"supdt2",children:"Anna Lee"})]}),!0),qe("Superintendent",t.jsxs("select",{name:"superintendent",value:A.superintendent,onChange:$e,style:Me,required:!0,children:[t.jsx("option",{value:"",children:"Select"}),t.jsx("option",{value:"sp1",children:"David Kim"})]}),!0),qe("Fleet Manager",t.jsxs("select",{name:"fleetManager",value:A.fleetManager,onChange:$e,style:Me,required:!0,children:[t.jsx("option",{value:"",children:"Select"}),t.jsx("option",{value:"fm1",children:"Robert Green"})]}),!0),qe("Tech Assistant",t.jsxs("select",{name:"techAssistant",value:A.techAssistant,onChange:$e,style:Me,required:!0,children:[t.jsx("option",{value:"",children:"Select"}),t.jsx("option",{value:"ta1",children:"Chris Evans"})]}),!0),qe("Marine Assistant",t.jsxs("select",{name:"marineAssistant",value:A.marineAssistant,onChange:$e,style:Me,required:!0,children:[t.jsx("option",{value:"",children:"Select"}),t.jsx("option",{value:"ma1",children:"Daniel Craig"})]}),!0),qe("DPA",t.jsxs("select",{name:"dpa",value:A.dpa,onChange:$e,style:Me,required:!0,children:[t.jsx("option",{value:"",children:"Select"}),t.jsx("option",{value:"dpa1",children:"Alice Johnson"})]}),!0),qe("Acct Officer",t.jsxs("select",{name:"acctOfficer",value:A.acctOfficer,onChange:$e,style:Me,required:!0,children:[t.jsx("option",{value:"",children:"Select"}),t.jsx("option",{value:"ao1",children:"Kevin Hart"})]}),!0)]}),t.jsxs("div",{style:Jt,children:[t.jsxs("label",{style:pa,children:["Applicable for Performance Bonus ",t.jsx("span",{style:Ga,children:"*"})]}),t.jsxs("div",{style:{display:"flex",gap:"30px",marginTop:"8px"},children:[t.jsxs("label",{children:[t.jsx("input",{type:"radio",name:"performanceBonus",value:"yes",checked:A.performanceBonus==="yes",onChange:$e,required:!0})," Yes"]}),t.jsxs("label",{children:[t.jsx("input",{type:"radio",name:"performanceBonus",value:"no",checked:A.performanceBonus==="no",onChange:$e,required:!0})," No"]})]})]}),t.jsx("div",{style:{textAlign:"center",marginTop:"30px"},children:t.jsx("button",{type:"button",style:{padding:"12px 30px",backgroundColor:"#27ae60",color:"white",border:"none",borderRadius:"6px",fontSize:"16px",cursor:"pointer"},onClick:P,children:"Next"})})]}),U==="crewList"&&t.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",color:"#6c757d",animation:"fadeIn 0.5s ease"},children:[t.jsx("h1",{style:{color:"#6c757d"},children:"Crew List"}),t.jsx("p",{children:"No crew data available yet."})]})]})]}),t.jsx("style",{children:`
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideIn { from { transform: translateY(10px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
      `})]}),B==="crew"&&K?.SHA_ID?t.jsxs("div",{className:"tab-content",children:[t.jsxs("h3",{children:['Crew List for "',K?.SHA_ID,'"']}),t.jsxs("p",{children:["Number of crew members: ",t.jsx("strong",{children:"24"})]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#2c3e50",color:"white"},children:[t.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Name"}),t.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Role"}),t.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Rank"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{children:"John Doe"}),t.jsx("td",{children:"Captain"}),t.jsx("td",{children:"Master"})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Jane Smith"}),t.jsx("td",{children:"Chief Engineer"}),t.jsx("td",{children:"Engineer"})]})]})]})]}):B=="crew"&&t.jsx("div",{className:"no-selection-placeholder",children:t.jsx("p",{children:"Select a location to view Crew Details."})}),B==="components"&&t.jsxs("div",{className:"tab-content",children:[t.jsxs("div",{id:"component-add-new-or-edit-funtionality-tab-container",children:[t.jsxs("div",{className:"toggle-option-wrapper",children:[t.jsx("input",{type:"radio",name:"addNewOrEditFunctionalityForComponent",id:"addNewForComponent",checked:We,onChange:()=>{we(!1),ke(!0)}}),t.jsx("label",{htmlFor:"addNewForComponent",className:"toggle-option",children:"Add New"})]}),t.jsxs("div",{className:"toggle-option-wrapper",children:[t.jsx("input",{type:"radio",name:"addNewOrEditFunctionalityForComponent",id:"editForComponent",checked:Q,onChange:()=>{we(!0),ke(!1)}}),t.jsx("label",{htmlFor:"editForComponent",className:"toggle-option",children:"Edit Existing"})]})]}),We&&t.jsxs("div",{id:"addNewFunctionalityForComponent-component-heirarchy-container",className:"functionality-container",children:[t.jsx("h3",{children:"Add New Component"}),t.jsx(jr,{componentTreeWantByWhichComp:"ShipManagementPage_add_new_comp",selectedShipID:K.SHA_ID})]}),Q&&t.jsxs("div",{id:"editFunctionalityForComponent-component-heirarchy-container",className:"functionality-container",children:[t.jsx("h3",{children:"Edit Existing Component"}),t.jsx(jr,{componentTreeWantByWhichComp:"ShipManagementPage_edit_comp",selectedShipID:K.SHA_ID})]})]}),B==="health"&&(K?.SHA_ID?t.jsxs("div",{className:"tab-content",children:[t.jsxs("h3",{children:["Location : ",K?.ship_name]}),t.jsxs("table",{className:"data-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Sr."}),t.jsx("th",{children:"Prev Status"}),t.jsx("th",{children:"Current Status"}),t.jsx("th",{children:"From DT"}),t.jsx("th",{children:"To DT"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:w.filter(ve=>ve.SHA_ID===K?.SHA_ID).length>0?w.filter(ve=>ve.SHA_ID===K?.SHA_ID).map((ve,nt)=>t.jsxs("tr",{children:[t.jsx("td",{children:nt+1}),t.jsx("td",{children:t.jsx("span",{className:"status-badge active",children:ve.previous_status})}),t.jsx("td",{children:t.jsx("span",{className:"status-badge active",children:ve.present_status})}),t.jsx("td",{children:ve.inserted_on.split("T")[0].split("-").reverse().join("-")}),t.jsx("td",{children:"28-08-2025"}),t.jsx("td",{children:t.jsx("button",{type:"button",className:"btn btn-preset",children:"Preset"})})]},ve.SHH_ID||nt)):t.jsx("tr",{children:t.jsxs("td",{colSpan:"6",className:"no-records",children:["No health records found for ",K?.SHA_ID.ship_name,"."]})})})]}),t.jsx("div",{className:"health-actions",children:t.jsx("button",{type:"button",className:"btn btn-primary",onClick:cn,children:"Change Status"})})]}):t.jsx("div",{className:"no-selection-placeholder",children:t.jsx("p",{children:"Select a location to view its health status."})}))]}):B=="health"&&t.jsx("div",{className:"no-selection-placeholder",children:t.jsx("p",{children:"Select a location to view details."})})})]}),x&&t.jsx("div",{id:"ship-management-page-right-container-content-add-component-form-container",children:t.jsx("div",{id:"ship-management-page-right-container-content-add-component-form",children:t.jsxs("form",{onSubmit:ve=>{ve.preventDefault(),Qt(k)},children:[t.jsx("div",{id:"ship-management-page-right-container-content-add-component-form-selected-node-container",children:t.jsxs("h3",{children:["Type of Selected Node: ",t.jsx("strong",{children:k?.type})]})}),t.jsx("div",{id:"ship-management-page-right-container-content-add-component-form-name-container",children:t.jsxs("label",{htmlFor:"component-name",children:["New Component Name:",t.jsx("input",{id:"new-comp-name",type:"text",placeholder:"Enter Component Name...",value:H,onChange:ve=>L(ve.target.value),required:!0})]})}),t.jsx("div",{id:"ship-management-page-right-container-content-add-component-form-has-designFile-container",children:t.jsxs("label",{htmlFor:"designFile",className:"checkbox-label",children:["Has Design File?",t.jsx("input",{id:"new-comp-has-design-file",type:"checkbox",checked:$,onChange:()=>{J(!$),me(null)}})]})}),$&&t.jsxs("div",{id:"ship-management-page-right-container-content-add-component-form-designFile-upload-container",children:[t.jsxs("label",{htmlFor:"designFileUpload",children:["Upload Design File:",t.jsx("input",{id:"designFileUpload",type:"file",accept:".pdf,.dwg,.dxf,.doc,.docx",required:$,onChange:ve=>{const nt=ve.target.files[0];if(nt&&![".pdf",".dwg",".dxf",".doc",".docx"].some(he=>nt.name.endsWith(he))){alert("Only PDF, DWG, DXF, DOC, DOCX files are allowed.");return}me(nt)}})]}),Ce&&t.jsxs("p",{className:"file-selected-info",children:["Selected: ",t.jsx("strong",{children:Ce.name})]})]}),t.jsx("div",{id:"ship-management-page-right-container-content-add-component-form-can-jcd-configure-container",children:t.jsxs("label",{htmlFor:"canJCD_configure",className:"checkbox-label",children:["Can Job Configure on It?",t.jsx("input",{id:"new-com-can-jcd-triggers",type:"checkbox",checked:ne,onChange:()=>te(!ne)})]})}),t.jsxs("div",{id:"add-component-form",children:[t.jsx("button",{type:"submit",className:"btn-submit",children:"Save"}),t.jsx("button",{type:"button",className:"btn-close",onClick:()=>{_(!1),me(null),J(!1),te(!1),L("")},children:"Close"})]})]})})}),b&&t.jsx("div",{id:"ship-management-page-right-container-content-add-component-form-container",children:t.jsx("div",{id:"ship-management-page-right-container-content-add-component-form",children:t.jsxs("form",{onSubmit:ve=>{ve.preventDefault(),oa(k)},children:[t.jsx("div",{id:"ship-management-page-right-container-content-add-component-form-selected-node-container",children:t.jsxs("h3",{children:["Editing: ",t.jsx("strong",{children:k?.data?.label})]})}),t.jsxs("div",{id:"ship-management-page-right-container-content-add-component-form-name-container",children:[t.jsx("label",{htmlFor:"component-name",children:"Component Name:"}),t.jsx("input",{type:"text",value:H,onChange:ve=>L(ve.target.value),required:!0})]}),t.jsx("div",{id:"ship-management-page-right-container-content-add-component-form-has-designFile-container",children:t.jsxs("label",{htmlFor:"designFile",className:"checkbox-label",children:["Has Design File?",t.jsx("input",{type:"checkbox",checked:$,onChange:()=>{J(!$),$||me(null)}}),t.jsx("span",{className:"checkbox-custom"})]})}),$&&t.jsxs("div",{id:"ship-management-page-right-container-content-add-component-form-designFile-upload-container",children:[t.jsx("label",{htmlFor:"designFileUpload",children:"Upload New Design File:"}),t.jsx("input",{type:"file",onChange:ve=>me(ve.target.files[0])})]}),t.jsx("div",{id:"ship-management-page-right-container-content-add-component-form-can-jcd-configure-container",children:t.jsxs("label",{htmlFor:"canJCD_configure",className:"checkbox-label",children:["Can Job Configure on It?",t.jsx("input",{type:"checkbox",checked:ne,onChange:()=>te(!ne)}),t.jsx("span",{className:"checkbox-custom"})]})}),t.jsxs("div",{id:"add-component-form",children:[t.jsx("button",{type:"submit",className:"btn-submit",disabled:r,children:r?"Updating...":"Update"}),t.jsx("button",{type:"button",className:"btn-close",onClick:()=>{C(!1),L(""),me(null),J(!1),te(!1)},children:"Close"})]})]})})}),fe&&t.jsx("div",{id:"ship-management-page-right-container-content-ship-health-status-change-form-container",children:t.jsx("div",{id:"ship-management-page-right-container-content-ship-health-status-change-form",children:t.jsxs("form",{onSubmit:ve=>{ve.preventDefault(),console.log("New Status:",Le),_t(Le)},children:[t.jsxs("div",{id:"ship-management-page-right-container-content-ship-health-status-change-form-status-container",children:[t.jsx("label",{htmlFor:"shipHealthStatus",children:"Set New Status"}),t.jsxs("select",{name:"shipHealthStatus",id:"shipHealthStatus",value:Le,onChange:ve=>{ye(ve.target.value)},children:[t.jsx("option",{value:0,children:"Select Status"}),t.jsx("option",{value:"1",children:"Sealing"}),t.jsx("option",{value:"2",children:"On Dock"}),t.jsx("option",{value:"3",children:"In-Active"}),t.jsx("option",{value:"4",children:"Under Repair"})]})]}),t.jsxs("div",{id:"ship-health-status-change-form-actions",children:[t.jsx("button",{type:"submit",className:"btn-submit",children:"Confirm"}),t.jsx("button",{type:"button",className:"btn-close",onClick:()=>{ye(0),He(!1)},children:"Close"})]})]})})}),Ze&&t.jsx("div",{id:"ship-management-page-right-container-content-ship-health-status-change-auth-container",children:t.jsx(Lg,{onVerifySuccess:async()=>{try{await Je.post(`${i}addShipHealthData`,{shipHealthStatusNumericValue,shipID:K?.SHA_ID,changeBy:o.EHA_ID,changeFrom:o.emp_type})}catch{console.log("Error while updating status of ship health"),alert("Error Occured..")}it(!1),He(!1),M(),ye(0)},onCancel:()=>{it(!1),He(!1)}})})]})},Og=u.createContext(),Zb=({children:i})=>{const[r,d]=u.useState([]),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await Je.get(`${o}getAllMovementTransactionLogs`);d(h.data)}catch(h){console.error("Failed to fetch All movement logs transactions in its context :",h)}};return u.useEffect(()=>{f()},[]),t.jsx(Og.Provider,{value:{movement_log_transaction_list:r,refreshMovement_log_transactions_list:f},children:i})},Qb=()=>{const i="https://udayerp.com/pms/server/api/",{profiles:r}=u.useContext(ai),{user:d}=u.useContext(Va),{movement_log_header_list:o,refreshMovement_log_header_list:f,movement_log_header_impacted_comp_full_heirarchy:h,refreshMovement_log_header_impacted_comp_full_heirarchy:p}=u.useContext(sf),{movement_log_transaction_list:y,refreshMovement_log_transactions_list:x}=u.useContext(Og),{shipsList:_,refreshShipsList:b}=u.useContext(ss),[C,k]=u.useState(null),[I,w]=u.useState([]),[M,H]=u.useState([]),[L,$]=u.useState(!0),[J,ne]=u.useState(null),[te,Ce]=u.useState(null),[me,ue]=u.useState(null),[be,P]=u.useState(""),[fe,He]=u.useState(""),[Le,ye]=u.useState(!1),[X,T]=u.useState(new Date().getDate()),[A,V]=u.useState(null),[K,j]=u.useState([]),[B,ae]=u.useState(new Date().getMonth()+1),[U,ie]=u.useState(new Date().getFullYear()),[De,ee]=u.useState([]),[oe,je]=u.useState(null),Be={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"};u.useEffect(()=>{const ke=new Date,Q=ke.getMonth()+1,we=ke.getFullYear();Ce(`${Q}_${we}`)},[]),u.useEffect(()=>{if(d?.ship_id&&_.length>0){const ke=o.filter(we=>we.ship_id==d.ship_id),Q=_.find(we=>we.SHA_ID==d.ship_id);ee(ke),je(Q||null)}},[d,_,o]),u.useEffect(()=>{B&&U&&Ce(`${B}_${U}`)},[B,U]),u.useEffect(()=>{if(!C)return;const ke=[];for(let Q=1;Q<=50;Q++){const we=`impact_on_${Q}`,Ze=`details_${Q}`,it=C[we],kt=C[Ze];if(it&&it.includes("=")){const[tt,St]=it.split("=");ke.push({component_no:tt,level:parseInt(St,10),detail:parseInt(kt,10)||1})}}j(ke)},[C]),u.useEffect(()=>{if(C&&C!=""){const ke=h.filter(Q=>Q.movement_log_id==C.mov_log_id);V(ke[0])}},[C]),u.useEffect(()=>{const ke=y.filter(Q=>Q.month_year==te&&Q.mov_log_id==C?.mov_log_id);ue(ke)},[y,C,te]),u.useEffect(()=>{(async()=>{$(!0),ne(null);try{const Q=await Je.get(`${i}getAllMovementLogsWithOnlyAppliedCompHeirarchy`);w(Array.isArray(Q.data)?Q.data:[])}catch(Q){console.error("Error fetching movement log hierarchy:",Q),ne("Failed to load component hierarchy. Please try again later."),w([])}finally{$(!1)}})()},[i]),u.useEffect(()=>{f(),p(),x(),b()},[]),u.useEffect(()=>{if(!C||I.length===0){H([]);return}const ke=I.find(Q=>Q.movement_log_id===C.mov_log_id);H(ke?.impacted_components||[])},[C,I]);const ct=ke=>{const Q=ke.target.value,we=Q?De.find(Ze=>Ze.mov_log_id===Q):null;k(we)},We=async ke=>{if(!C||!te||!me||!X||!be||!fe){alert("We Dont Have Enough Data to proceed !!");return}try{const Q=await Je.put(`${i}UpdateMovementTransactionLog`,ke);await x()}catch(Q){console.error(" Error updating transaction:",Q),alert("Failed to update transaction")}};return t.jsxs("div",{className:"movement-transaction-modern",children:[t.jsxs("div",{className:"page-header-modern",children:[t.jsxs("div",{className:"header-content-modern",children:[t.jsx("h1",{className:"page-title-modern",children:"Movement Transactions"}),t.jsxs("p",{className:"page-subtitle-modern",children:["Manage and track movement logs for ",oe?.ship_name||"your ship"]})]}),t.jsx("div",{className:"user-info-modern",children:t.jsxs("span",{className:"user-greeting-modern",children:["Welcome, ",d?.emp_name?.split(" ")[0]]})})]}),t.jsxs("div",{className:"movement-main-content",children:[t.jsxs("div",{className:"component-panel-modern",children:[t.jsxs("div",{className:"panel-header-modern",children:[t.jsx("h3",{children:"Component Hierarchy"}),t.jsxs("div",{className:"help-text-modern",children:[t.jsx("span",{className:"help-icon",children:""}),t.jsx("span",{children:"Need help? Contact Ship Superintendent"})]})]}),t.jsxs("div",{className:"panel-body-modern",children:[oe&&C&&t.jsxs("div",{className:"ship-info-modern",children:[t.jsxs("h4",{children:["Impacted Components for ",C.display_name]}),t.jsx("p",{className:"ship-name-modern",children:oe.ship_name})]}),L&&t.jsxs("div",{className:"loading-state-modern",children:[t.jsx("div",{className:"spinner"}),t.jsx("p",{children:"Loading component hierarchy..."})]}),J&&t.jsxs("div",{className:"error-state-modern",children:[t.jsx("span",{className:"error-icon",children:""}),t.jsx("p",{children:J})]}),!L&&!C&&t.jsx("div",{className:"empty-state-modern",children:t.jsx("p",{children:"Select a movement log to view impacted components"})}),!L&&C&&M.length===0&&t.jsx("div",{className:"empty-state-modern",children:t.jsx("p",{children:"No components impacted by this movement log"})}),!L&&M.length>0&&t.jsx("div",{className:"components-list-modern",children:M.map((ke,Q)=>{const we=Array.isArray(ke.component_heirarchy)?ke.component_heirarchy:[ke.component_heirarchy];return t.jsx("div",{className:"component-item-modern",children:we.map(Ze=>t.jsx(br,{node:Ze,isCheckBoxActive:!0,componentTreeWantByWhichComp:"MovementLogComponent"},Ze.id))},`${ke.component_no}-${Q}`)})})]})]}),t.jsxs("div",{className:"content-panel-modern",children:[t.jsxs("div",{className:"control-card-modern",children:[t.jsx("div",{className:"card-header-modern",children:t.jsx("h3",{children:"Movement Log Selection"})}),t.jsxs("div",{className:"card-body-modern",children:[De.length>0?t.jsxs("div",{className:"form-group-modern",children:[t.jsx("label",{htmlFor:"mov_log_header",children:"Select Movement Log"}),t.jsxs("select",{name:"mov_log_header",id:"mov_log_header",onChange:ct,value:C?.mov_log_id||"",className:"modern-select",children:[t.jsx("option",{value:"",children:"-- Select Movement Log --"}),De.map(ke=>t.jsx("option",{value:ke.mov_log_id,children:ke.display_name},ke.mov_log_id))]})]}):t.jsx("div",{className:"empty-state-modern",children:t.jsxs("p",{children:["Sorry ",d?.emp_name?.split(" ")[0],", We don't have any Movement Logs on ",oe?.ship_name,"!"]})}),C&&t.jsx("div",{className:"action-buttons-modern",children:r.filter(ke=>d.profile_ids.includes(ke.PROFILE_ID))[0]?.process_ids?.includes("P_rhnm_0002")&&t.jsx("button",{className:"modern-btn primary",onClick:()=>ye(!0),children:"+ Add New Entry"})})]})]}),t.jsxs("div",{className:"data-card-modern",children:[t.jsxs("div",{className:"card-header-modern",children:[t.jsx("h3",{children:"Monthly Transactions"}),t.jsxs("div",{className:"date-controls-modern",children:[t.jsx("select",{value:B,onChange:ke=>ae(parseInt(ke.target.value)),className:"modern-select small",children:Array.from({length:12},(ke,Q)=>t.jsx("option",{value:Q+1,children:new Date(2024,Q).toLocaleString("default",{month:"long"})},Q+1))}),t.jsx("select",{value:U,onChange:ke=>ie(parseInt(ke.target.value)),className:"modern-select small",children:Array.from({length:10},(ke,Q)=>{const we=new Date().getFullYear()-5+Q;return t.jsx("option",{value:we,children:we},we)})})]})]}),t.jsx("div",{className:"card-body-modern",children:te&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"table-header-modern",children:t.jsxs("h4",{children:["Entries for ",Be[te.split("_")[0]]," ",te.split("_")[1]]})}),t.jsx("div",{className:"table-container-modern",children:t.jsxs("table",{className:"modern-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:"log-name-header",children:"Log Name"}),Array.from({length:31},(ke,Q)=>t.jsxs("th",{className:"day-header-modern",children:["Day ",Q+1]},Q+1))]})}),t.jsxs("tbody",{children:[C&&A&&A.impacted_components.map((ke,Q)=>{const we=ke.component_no,Ze=K.find(it=>it.component_no===we);return t.jsxs("tr",{children:[t.jsx("td",{className:"log-name-cell-modern",children:ke?.component_heirarchy?.data?.label||we}),Array.from({length:31},(it,kt)=>{const tt=`Day_${kt+1}`,St=me?.[0]?.[tt];let Qt=null,oa=null;if(St){let _t,Me;St.includes("=")?[_t,Me]=St.split("=",2):St.includes("|")?[_t,Me]=St.split("|",2):(_t=St,Me="0"),Ze?Ze.detail===1?Qt=_t:Ze.detail===2?oa=Me:Ze.detail===3&&(Qt=_t,oa=Me):Qt=_t}const cn=Qt!==null&&oa!==null?t.jsxs("div",{className:"data-cell-modern",children:[t.jsxs("span",{className:"hr-value",children:["HR-",Qt]}),t.jsxs("span",{className:"nm-value",children:["NM-",oa]})]}):Qt!==null?t.jsxs("span",{className:"hr-value",children:["HR-",Qt]}):oa!==null?t.jsxs("span",{className:"nm-value",children:["NM-",oa]}):t.jsx("span",{className:"no-data-modern",children:"-"});return t.jsx("td",{children:cn},kt+1)})]},Q)}),C?A?A.impacted_components.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:"32",className:"no-data-message-modern",children:"No components impacted"})}):null:t.jsx("tr",{children:t.jsx("td",{colSpan:"32",className:"no-data-message-modern",children:"No component hierarchy found"})}):t.jsx("tr",{children:t.jsx("td",{colSpan:"32",className:"no-data-message-modern",children:"Select a movement log to view data"})})]})]})})]})})]})]})]}),Le&&t.jsx("div",{className:"modal-overlay",children:t.jsx("div",{className:"allocate-duty-modal",children:t.jsxs("div",{className:"modern-user-modal",children:[t.jsx("div",{className:"modern-modal-header",children:t.jsxs("div",{className:"modern-header-content",children:[t.jsxs("div",{className:"modern-title-section",children:[t.jsx("div",{className:"modern-modal-icon allocate-icon",children:""}),t.jsxs("div",{className:"modern-title-text",children:[t.jsx("h2",{className:"modern-modal-title",children:"Add New Movement Entry"}),t.jsxs("p",{className:"modern-modal-subtitle",children:["Adding entry for ",t.jsxs("span",{className:"user-highlight",children:["Day ",X]})," of"," ",t.jsxs("span",{className:"user-highlight",children:[Be[te.split("_")[0]]," ",te.split("_")[1]]})]})]})]}),t.jsx("button",{className:"modern-close-button",onClick:()=>ye(!1),children:""})]})}),t.jsxs("div",{className:"modern-modal-content",children:[t.jsxs("div",{className:"form-section-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("div",{className:"card-icon",children:""}),t.jsx("h3",{className:"card-title",children:"Entry Details"})]}),t.jsxs("div",{className:"modern-form-grid",children:[t.jsxs("div",{className:"modern-form-group",children:[t.jsxs("label",{className:"modern-form-label required",children:[t.jsx("span",{className:"label-icon",children:""}),"Hours"]}),t.jsx("input",{type:"number",placeholder:"Enter hours (e.g., 8.5)",min:"0",step:"0.5",value:be,onChange:ke=>P(ke.target.value),className:"modern-form-input"})]}),t.jsxs("div",{className:"modern-form-group",children:[t.jsxs("label",{className:"modern-form-label required",children:[t.jsx("span",{className:"label-icon",children:""}),"Nautical Miles"]}),t.jsx("input",{type:"number",placeholder:"Enter nautical miles",min:"0",value:fe,onChange:ke=>He(ke.target.value),className:"modern-form-input"})]})]})]}),t.jsxs("div",{className:"form-section-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("div",{className:"card-icon",children:""}),t.jsx("h3",{className:"card-title",children:"Impacted Component Hierarchy"})]}),t.jsx("div",{className:"components-preview-modern",children:L?t.jsxs("div",{className:"loading-state-modern",children:[t.jsx("div",{className:"spinner"}),t.jsx("p",{children:"Loading components..."})]}):C?M.length===0?t.jsx("p",{className:"no-components-modern",children:"No components impacted by this log"}):M.map((ke,Q)=>{const we=Array.isArray(ke.component_heirarchy)?ke.component_heirarchy:[ke.component_heirarchy];return t.jsx("div",{className:"component-preview-modern",children:we.map(Ze=>t.jsx(br,{node:Ze,isCheckBoxActive:!0,componentTreeWantByWhichComp:"MovementLogComponent"},Ze.id))},`${ke.component_no}-${Q}`)}):t.jsx("p",{className:"no-components-modern",children:"No movement log selected"})})]})]}),t.jsxs("div",{className:"modern-modal-footer",children:[t.jsx("div",{className:"footer-left",children:t.jsxs("div",{className:"users-count",children:["Adding entry for: ",C?.display_name]})}),t.jsxs("div",{className:"footer-right",children:[t.jsx("button",{className:"modern-btn secondary",onClick:()=>ye(!1),children:"Cancel"}),t.jsxs("button",{className:"modern-btn primary allocate-action-btn",onClick:()=>{if(!be||!fe){alert("Please fill in both fields.");return}window.confirm("Are you sure you want to add this entry?")&&(me[0]?me[0][`Day_${X}`]?alert("You have already filled the value for this day. To update it, please contact Office side Authority."):(me[0].increment_hr_value=be,me[0].increment_km_value=fe,me[0].Inserted_on=me[0].Inserted_on.split("T")[0],me[0][`Day_${X}`]=`${be}=${fe}`,We(me[0])):alert("We need to begin first transaction.."),P(""),He(""),ye(!1))},children:[t.jsx("span",{className:"btn-icon",children:""}),"Add Entry"]})]})]})]})})})]})},lf=u.createContext(),Kb=({children:i})=>{const[r,d]=u.useState([]),[o,f]=u.useState([]),h="https://udayerp.com/pms/server/api/",p=async()=>{try{const x=await Je.get(`${h}getAllJCDsFromCombinationAll`);d(x.data)}catch(x){console.error("Failed to fetch JCD Schedules:",x)}},y=async()=>{try{const x=await Je.get(`${h}getAllJCDsShipWiseGroupFromCombinationAll`);f(x.data)}catch(x){console.error("Failed to fetch JCD Schedules:",x)}};return u.useEffect(()=>{p(),y()},[]),t.jsx(lf.Provider,{value:{JCD_ship_combinations_list:r,refreshJCD_ship_combinations_list:p,JCD_ship_wise_group_combinations_list:o,RefreshJCD_ship_wise_group_combinations:y},children:i})};var Ig={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},qp=Lt.createContext&&Lt.createContext(Ig),Wb=["attr","size","title"];function e0(i,r){if(i==null)return{};var d=t0(i,r),o,f;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(i);for(f=0;f<h.length;f++)o=h[f],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(i,o)&&(d[o]=i[o])}return d}function t0(i,r){if(i==null)return{};var d={};for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)){if(r.indexOf(o)>=0)continue;d[o]=i[o]}return d}function nc(){return nc=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var d=arguments[r];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(i[o]=d[o])}return i},nc.apply(this,arguments)}function Pp(i,r){var d=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);r&&(o=o.filter(function(f){return Object.getOwnPropertyDescriptor(i,f).enumerable})),d.push.apply(d,o)}return d}function sc(i){for(var r=1;r<arguments.length;r++){var d=arguments[r]!=null?arguments[r]:{};r%2?Pp(Object(d),!0).forEach(function(o){a0(i,o,d[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(d)):Pp(Object(d)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(d,o))})}return i}function a0(i,r,d){return r=n0(r),r in i?Object.defineProperty(i,r,{value:d,enumerable:!0,configurable:!0,writable:!0}):i[r]=d,i}function n0(i){var r=s0(i,"string");return typeof r=="symbol"?r:r+""}function s0(i,r){if(typeof i!="object"||!i)return i;var d=i[Symbol.toPrimitive];if(d!==void 0){var o=d.call(i,r);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(i)}function Ug(i){return i&&i.map((r,d)=>Lt.createElement(r.tag,sc({key:d},r.attr),Ug(r.child)))}function Cs(i){return r=>Lt.createElement(i0,nc({attr:sc({},i.attr)},r),Ug(i.child))}function i0(i){var r=d=>{var{attr:o,size:f,title:h}=i,p=e0(i,Wb),y=f||d.size||"1em",x;return d.className&&(x=d.className),i.className&&(x=(x?x+" ":"")+i.className),Lt.createElement("svg",nc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},d.attr,o,p,{className:x,style:sc(sc({color:i.color||d.color},d.style),i.style),height:y,width:y,xmlns:"http://www.w3.org/2000/svg"}),h&&Lt.createElement("title",null,h),i.children)};return qp!==void 0?Lt.createElement(qp.Consumer,null,d=>r(d)):r(Ig)}function l0(i){return Cs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(i)}function r0(i){return Cs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(i)}function o0(i){return Cs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(i)}function c0(i){return Cs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(i)}function $p(i){return Cs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(i)}function d0(i){return Cs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(i)}function u0(i){return Cs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(i)}function Vo(i){return Cs({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M496.616 372.639l70.012-70.012c16.899-16.9 9.942-45.771-12.836-53.092L512 236.102V96c0-17.673-14.327-32-32-32h-64V24c0-13.255-10.745-24-24-24H248c-13.255 0-24 10.745-24 24v40h-64c-17.673 0-32 14.327-32 32v140.102l-41.792 13.433c-22.753 7.313-29.754 36.173-12.836 53.092l70.012 70.012C125.828 416.287 85.587 448 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24 61.023 0 107.499-20.61 143.258-59.396C181.677 487.432 216.021 512 256 512h128c39.979 0 74.323-24.568 88.742-59.396C508.495 491.384 554.968 512 616 512c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24-60.817 0-101.542-31.001-119.384-75.361zM192 128h256v87.531l-118.208-37.995a31.995 31.995 0 0 0-19.584 0L192 215.531V128z"},child:[]}]})(i)}function Yj(i){return Cs({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(i)}const f0=()=>{const i="https://udayerp.com/pms/server/api/",{user:r}=u.useContext(Va),{designationList:d}=u.useContext(vl),{profiles:o}=u.useContext(ai),{clearSelection:f,selectedNode:h,refreshTree:p}=u.useContext(Ti),{JCD_ship_wise_group_combinations_list:y,RefreshJCD_ship_wise_group_combinations:x}=u.useContext(lf),{JCD_schedule_List:_,refreshJCDSchedules:b}=u.useContext(pc),{shipsList:C,refreshShipsList:k}=u.useContext(ss),{officeStaffList:I,refreshOfficeStaffList:w}=u.useContext(Ei),[M,H]=u.useState(""),[L,$]=u.useState([]),[J,ne]=u.useState("unassigned"),te=_l();u.useEffect(()=>{x(),b(),k(),f(),w()},[]),u.useEffect(()=>{M||f()},[M]),u.useEffect(()=>{r.emp_type==1&&H(r.ship_id)},[r]);const[Ce,me]=u.useState(""),[ue,be]=u.useState(""),[P,fe]=u.useState([]),[He,Le]=u.useState([]),ye=U=>{fe(ie=>ie.includes(U)?ie.filter(De=>De!==U):[...ie,U])},X=U=>{Le(ie=>ie.includes(U)?ie.filter(De=>De!==U):[...ie,U])},T=()=>{P.length===j.length?fe([]):fe(j.map(U=>U.jcd_id))},A=()=>{He.length===L.length?Le([]):Le(L)};u.useEffect(()=>{if(M){console.log("jcd schedule list : ",_);const U=y.find(ie=>ie.SHA_ID===M);$(U?U.jcds:[])}else $([])},[M,y]);const[V,K]=u.useState([]);u.useEffect(()=>{if(M&&_.length>0){const U=_.filter(ie=>!L.includes(ie.jcd_id)&&ie.SHA_ID==null);K(U)}else K([])},[M,L,_]);const j=u.useMemo(()=>{let U=V;if(U=U.filter(ie=>{const De=Ce?ie.criticality==Ce:!0,ee=ue?ie.jcd_name?.toLowerCase().includes(ue.toLowerCase())||ie.jcd_id?.toLowerCase().includes(ue.toLowerCase()):!0;return De&&ee}),h){const{CHA_ID:ie,SCHA_ID:De,SSCHA_ID:ee,TSCHA_ID:oe,PHA_ID:je}=h.data;U=U.filter(Be=>(ie?Be.jcd_applied_cat===ie:!0)&&(De?Be.jcd_applied_sub_cat===De:!0)&&(ee?Be.jcd_applied_2nd_sub_cat===ee:!0)&&(oe?Be.jcd_applied_3rd_sub_cat===oe:!0)&&(je?Be.jcd_applied_part===je:!0))}return U},[V,Ce,ue,h]),B=async U=>{const ie={SHA_ID:M,jcdIDs:U};if(U){await Je.post(`${i}linkJcdWithShip`,ie);let De=[];for(let ee of ie.jcdIDs)_.filter(oe=>oe.jcd_id==ee&&oe.SHA_ID==null).forEach(oe=>{oe.SHA_ID=ie.SHA_ID,De.push(oe)});try{for(let ee of De){const oe=await Je.put(`${i}updateJCDScheduleById`,ee)}}catch(ee){console.error(ee),alert("Failed to insert JCD. in ship")}fe([]),Le([]),x(),b(),k()}},ae=async U=>{if(confirm("Are you sure you want to unlink the selected JCD(s)?"))try{for(let De of U){const ee={SHA_ID:M,JCD_ID:De},oe=await Je.post(`${i}unlinkJCDFromShipAndSchedule`,ee);_.filter(je=>je.jcd_id===De&&je.SHA_ID===M).forEach(je=>{je.SHA_ID=null,je.line_no=0})}fe([]),Le([]),x(),b(),k(),alert("JCD(s) unlinked successfully.")}catch(De){console.error(" Error unlinking JCD(s):",De),alert("Failed to unlink JCD(s).")}};return t.jsxs("div",{className:"jcd-ship-combination-container",children:[t.jsxs("div",{className:"pageHeader",children:[t.jsxs("div",{className:"headerContent",children:[t.jsx("h1",{children:"JCD Location Combination"}),t.jsx("p",{children:"Manage JCD assignments to locations and configure generation rules"})]}),t.jsx("div",{className:"headerActions",children:o?.filter(U=>r?.profile_ids?.includes(U.PROFILE_ID))[0]?.process_ids.includes("P_JSCA_0004")&&t.jsxs("button",{className:"primaryButton",onClick:()=>te("/JCD_form"),children:[t.jsx(d0,{size:14}),"Configure New JCD"]})})]}),t.jsxs("div",{className:"controlsSection",children:[t.jsxs("div",{className:"shipSelector",children:[t.jsxs("div",{className:"selectorLabel",children:[t.jsx(Vo,{size:16}),t.jsx("span",{children:"Select Location"})]}),console.log("user :: ",I),r.emp_type==2?t.jsxs("select",{value:M,onChange:U=>H(U.target.value),className:"formSelect",children:[t.jsx("option",{value:"",children:"Choose a location..."}),C?.map(U=>t.jsx("option",{value:U.SHA_ID,children:U.ship_name},U.SHA_ID))]}):t.jsxs("h4",{children:["You are at ",C?.filter(U=>U.SHA_ID==r.ship_id)[0]?.ship_name]})]}),t.jsxs("div",{className:"filtersContainer",children:[t.jsxs("div",{className:"filterGroup",children:[t.jsxs("div",{className:"filterLabel",children:[t.jsx(c0,{size:14}),t.jsx("span",{children:"Filters"})]}),t.jsxs("select",{value:Ce,onChange:U=>me(U.target.value),disabled:!M,className:"formSelect",children:[t.jsx("option",{value:"",children:"All Criticality"}),t.jsx("option",{value:"1",children:"Critical"}),t.jsx("option",{value:"2",children:"Non-Critical"})]})]}),t.jsxs("div",{className:"searchGroup",children:[t.jsxs("div",{className:"searchLabel",children:[t.jsx(u0,{size:14}),t.jsx("span",{children:"Search"})]}),t.jsx("input",{type:"text",placeholder:"Search JCD by name or ID...",value:ue,onChange:U=>be(U.target.value),disabled:!M,className:"formInput"})]})]})]}),t.jsxs("div",{className:"mainContent",children:[t.jsxs("div",{className:"hierarchySection",children:[t.jsxs("div",{className:"sectionHeader",children:[t.jsx($p,{size:16}),t.jsx("span",{children:"Component Hierarchy"})]}),t.jsxs("div",{className:`hierarchyContainer ${M?"":"disabled"}`,children:[t.jsx(jr,{}),!M&&t.jsx("div",{className:"disabledOverlay",children:t.jsx("p",{children:"Select a location to enable component filtering"})})]})]}),t.jsxs("div",{className:"jcdManagementSection",children:[t.jsxs("div",{className:"jcdTabs",children:[t.jsxs("button",{className:`tabButton ${J==="unassigned"?"active":""}`,onClick:()=>ne("unassigned"),children:[t.jsx(o0,{size:14}),"Unassigned JCDs",t.jsx("span",{className:"countBadge",children:j.length})]}),t.jsxs("button",{className:`tabButton ${J==="assigned"?"active":""}`,onClick:()=>ne("assigned"),children:[t.jsx(Vo,{size:14}),"Assigned JCDs",t.jsx("span",{className:"countBadge",children:L.length})]})]}),t.jsxs("div",{className:"jcdContent",children:[t.jsxs("div",{className:`jcdPanel ${J==="unassigned"?"active":""}`,children:[t.jsxs("div",{className:"panelHeader",children:[t.jsx("div",{className:"selectionInfo",children:t.jsxs("label",{className:"checkboxLabel",children:[t.jsx("input",{type:"checkbox",checked:P.length===j.length&&j.length>0,onChange:T,disabled:!M||j.length===0}),t.jsxs("span",{children:["Select All (",P.length,"/",j.length,")"]})]})}),o?.filter(U=>r?.profile_ids?.includes(U.PROFILE_ID))[0]?.process_ids.includes("P_JSCA_0002")&&t.jsxs("button",{className:"actionButton",onClick:()=>B(P),disabled:!M||P.length===0,children:[t.jsx(r0,{size:14}),"Assign to Location"]})]}),t.jsx("div",{className:"jcdList",children:j.length>0?j.filter(U=>U.SHA_ID==null&&U.line_no==0).map(U=>t.jsx("div",{className:"jcdCard",children:t.jsxs("label",{className:"checkboxLabel",children:[t.jsx("input",{type:"checkbox",checked:P.includes(U.jcd_id),onChange:()=>ye(U.jcd_id),disabled:!M}),t.jsxs("div",{className:"jcdInfo",children:[t.jsx("div",{className:"jcdName",children:_.filter(ie=>ie.jcd_id==U.jcd_id&&ie.SHA_ID==null)[0]?.jcd_name||"Unnamed JCD"}),t.jsxs("div",{className:"jcdMeta",children:[t.jsxs("span",{className:"jcdId",children:["ID: ",U.jcd_id]}),t.jsx("span",{className:`criticalityBadge ${U.criticality=="1"?"critical":"nonCritical"}`,children:U.criticality=="1"?"Critical":"Non-Critical"})]})]})]})},`unassigned-${U.jcd_id}`)):t.jsxs("div",{className:"emptyState",children:[t.jsx($p,{size:32}),t.jsx("p",{children:"No unassigned JCDs found"})]})})]}),t.jsxs("div",{className:`jcdPanel ${J==="assigned"?"active":""}`,children:[t.jsxs("div",{className:"panelHeader",children:[t.jsx("div",{className:"selectionInfo",children:t.jsxs("label",{className:"checkboxLabel",children:[t.jsx("input",{type:"checkbox",checked:He.length===L.length&&L.length>0,onChange:A,disabled:!M||L.length===0}),t.jsxs("span",{children:["Select All (",He.length,"/",L.length,")"]})]})}),o?.filter(U=>r?.profile_ids?.includes(U.PROFILE_ID))[0]?.process_ids.includes("P_JSCA_0003")&&t.jsxs("button",{className:"actionButton dangerButton",onClick:()=>ae(He),disabled:!M||He.length===0,children:[t.jsx(l0,{size:14}),"Unlink from Location"]})]}),t.jsx("div",{className:"jcdList",children:L.length>0?(()=>{const U=y.find(ie=>ie.SHA_ID===M);return!U||!U.jcds.length?t.jsxs("div",{className:"emptyState",children:[t.jsx(Vo,{size:32}),t.jsx("p",{children:"No JCDs assigned to this location"})]}):U.jcds.map((ie,De)=>{const ee=U.generationRules?.[De]||"N/A",oe=_.find(je=>je.jcd_id===ie);return t.jsx("div",{className:"jcCdard assigned",children:t.jsxs("label",{className:"checkboxLabel",children:[t.jsx("input",{type:"checkbox",checked:He.includes(ie),onChange:()=>X(ie)}),t.jsxs("div",{className:"jcdInfo",children:[t.jsx("div",{className:"jcdName",children:oe?.jcd_name||"JCD Name"}),t.jsxs("div",{className:"jcdMeta",children:[t.jsxs("span",{className:"jcdId",children:["ID: ",ie]}),t.jsxs("span",{className:"generationRule",children:["Rule: ",ee]}),t.jsx("span",{className:`criticalityBadge ${oe?.criticality=="1"?"critical":"nonCritical"}`,children:oe?.criticality=="1"?"Critical":"Non-Critical"})]})]})]})},`assigned-${ie}`)})})():t.jsxs("div",{className:"emptyState",children:[t.jsx(Vo,{size:32}),t.jsx("p",{children:"No JCDs assigned to this location"})]})})]})]})]})]})]})},Jg=u.createContext(),h0=({children:i})=>{const[r,d]=u.useState([]),[o,f]=u.useState([]),h="https://udayerp.com/pms/server/api/",p=async()=>{try{const x=await Je.get(`${h}getJobTypes`);d(x.data)}catch(x){console.error("Failed to fetch job types:",x)}},y=async()=>{try{const x=await Je.get(`${h}getAllJobTypesHaveIDandTypeName`);f(x.data)}catch(x){console.error("Failed to fetch job types:",x)}};return u.useEffect(()=>{p(),y()},[]),t.jsx(Jg.Provider,{value:{jobTypesList:r,refreshJobTypes:p,jobTypesIDandNameList:o,refreshJobTypesIDandName:y},children:i})},Bg=u.createContext(),m0=({children:i})=>{const[r,d]=u.useState([]),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await Je.get(`${o}getAllMainCategories`);console.log("response : ",h),d(h.data)}catch(h){console.error("Failed to fetch Crew Data :",h)}};return u.useEffect(()=>{f()},[]),t.jsx(Bg.Provider,{value:{mainCategoryList:r,refreshMainCategoryList:f},children:i})},zg=u.createContext(),p0=({children:i})=>{const[r,d]=u.useState([]),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await Je.get(`${o}getAllSubCategories`);d(h.data)}catch(h){console.error("Failed to fetch sub category data in it frontend context :",h)}};return u.useEffect(()=>{f()},[]),t.jsx(zg.Provider,{value:{subCategoryList:r,refreshSubCategoryList:f},children:i})},qg=u.createContext(),g0=({children:i})=>{const[r,d]=u.useState([]),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await Je.get(`${o}getAllSecondSubCategories`);d(h.data)}catch(h){console.error("Failed to fetch Second sub category data in it frontend context :",h)}};return u.useEffect(()=>{f()},[]),t.jsx(qg.Provider,{value:{secondSubCategoryList:r,refreshSecondSubCategoryList:f},children:i})},Pg=u.createContext(),_0=({children:i})=>{const[r,d]=u.useState([]),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await Je.get(`${o}getAllThirdSubCategories`);d(h.data)}catch(h){console.error("Failed to fetch Third sub category data in it frontend context :",h)}};return u.useEffect(()=>{f()},[]),t.jsx(Pg.Provider,{value:{thirdSubCategoryList:r,refreshThirdSubCategoryList:f},children:i})},_c=u.createContext(),x0=({children:i})=>{const[r,d]=u.useState([]),[o,f]=u.useState([]),h="https://udayerp.com/pms/server/api/",p=async()=>{try{const x=await Je.get(`${h}getCrewData`);d(x.data)}catch(x){console.error("Failed to fetch Crew Data :",x)}},y=async()=>{try{const x=await Je.get(`${h}getEmployeeList`);f(x.data)}catch(x){console.error("Failed to fetch EMployee LIst Data :",x)}};return u.useEffect(()=>{p()},[]),u.useEffect(()=>{y()},[]),t.jsx(_c.Provider,{value:{crewList:r,refreshCrewList:p,employeeList:o,refreshEmployeeList:y},children:i})};var Wo={exports:{}},y0=Wo.exports,Fp;function v0(){return Fp||(Fp=1,function(i,r){(function(d,o){i.exports=o()})(y0,function(){var d=1e3,o=6e4,f=36e5,h="millisecond",p="second",y="minute",x="hour",_="day",b="week",C="month",k="quarter",I="year",w="date",M="Invalid Date",H=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,L=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,$={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ye){var X=["th","st","nd","rd"],T=ye%100;return"["+ye+(X[(T-20)%10]||X[T]||X[0])+"]"}},J=function(ye,X,T){var A=String(ye);return!A||A.length>=X?ye:""+Array(X+1-A.length).join(T)+ye},ne={s:J,z:function(ye){var X=-ye.utcOffset(),T=Math.abs(X),A=Math.floor(T/60),V=T%60;return(X<=0?"+":"-")+J(A,2,"0")+":"+J(V,2,"0")},m:function ye(X,T){if(X.date()<T.date())return-ye(T,X);var A=12*(T.year()-X.year())+(T.month()-X.month()),V=X.clone().add(A,C),K=T-V<0,j=X.clone().add(A+(K?-1:1),C);return+(-(A+(T-V)/(K?V-j:j-V))||0)},a:function(ye){return ye<0?Math.ceil(ye)||0:Math.floor(ye)},p:function(ye){return{M:C,y:I,w:b,d:_,D:w,h:x,m:y,s:p,ms:h,Q:k}[ye]||String(ye||"").toLowerCase().replace(/s$/,"")},u:function(ye){return ye===void 0}},te="en",Ce={};Ce[te]=$;var me="$isDayjsObject",ue=function(ye){return ye instanceof He||!(!ye||!ye[me])},be=function ye(X,T,A){var V;if(!X)return te;if(typeof X=="string"){var K=X.toLowerCase();Ce[K]&&(V=K),T&&(Ce[K]=T,V=K);var j=X.split("-");if(!V&&j.length>1)return ye(j[0])}else{var B=X.name;Ce[B]=X,V=B}return!A&&V&&(te=V),V||!A&&te},P=function(ye,X){if(ue(ye))return ye.clone();var T=typeof X=="object"?X:{};return T.date=ye,T.args=arguments,new He(T)},fe=ne;fe.l=be,fe.i=ue,fe.w=function(ye,X){return P(ye,{locale:X.$L,utc:X.$u,x:X.$x,$offset:X.$offset})};var He=function(){function ye(T){this.$L=be(T.locale,null,!0),this.parse(T),this.$x=this.$x||T.x||{},this[me]=!0}var X=ye.prototype;return X.parse=function(T){this.$d=function(A){var V=A.date,K=A.utc;if(V===null)return new Date(NaN);if(fe.u(V))return new Date;if(V instanceof Date)return new Date(V);if(typeof V=="string"&&!/Z$/i.test(V)){var j=V.match(H);if(j){var B=j[2]-1||0,ae=(j[7]||"0").substring(0,3);return K?new Date(Date.UTC(j[1],B,j[3]||1,j[4]||0,j[5]||0,j[6]||0,ae)):new Date(j[1],B,j[3]||1,j[4]||0,j[5]||0,j[6]||0,ae)}}return new Date(V)}(T),this.init()},X.init=function(){var T=this.$d;this.$y=T.getFullYear(),this.$M=T.getMonth(),this.$D=T.getDate(),this.$W=T.getDay(),this.$H=T.getHours(),this.$m=T.getMinutes(),this.$s=T.getSeconds(),this.$ms=T.getMilliseconds()},X.$utils=function(){return fe},X.isValid=function(){return this.$d.toString()!==M},X.isSame=function(T,A){var V=P(T);return this.startOf(A)<=V&&V<=this.endOf(A)},X.isAfter=function(T,A){return P(T)<this.startOf(A)},X.isBefore=function(T,A){return this.endOf(A)<P(T)},X.$g=function(T,A,V){return fe.u(T)?this[A]:this.set(V,T)},X.unix=function(){return Math.floor(this.valueOf()/1e3)},X.valueOf=function(){return this.$d.getTime()},X.startOf=function(T,A){var V=this,K=!!fe.u(A)||A,j=fe.p(T),B=function(Be,ct){var We=fe.w(V.$u?Date.UTC(V.$y,ct,Be):new Date(V.$y,ct,Be),V);return K?We:We.endOf(_)},ae=function(Be,ct){return fe.w(V.toDate()[Be].apply(V.toDate("s"),(K?[0,0,0,0]:[23,59,59,999]).slice(ct)),V)},U=this.$W,ie=this.$M,De=this.$D,ee="set"+(this.$u?"UTC":"");switch(j){case I:return K?B(1,0):B(31,11);case C:return K?B(1,ie):B(0,ie+1);case b:var oe=this.$locale().weekStart||0,je=(U<oe?U+7:U)-oe;return B(K?De-je:De+(6-je),ie);case _:case w:return ae(ee+"Hours",0);case x:return ae(ee+"Minutes",1);case y:return ae(ee+"Seconds",2);case p:return ae(ee+"Milliseconds",3);default:return this.clone()}},X.endOf=function(T){return this.startOf(T,!1)},X.$set=function(T,A){var V,K=fe.p(T),j="set"+(this.$u?"UTC":""),B=(V={},V[_]=j+"Date",V[w]=j+"Date",V[C]=j+"Month",V[I]=j+"FullYear",V[x]=j+"Hours",V[y]=j+"Minutes",V[p]=j+"Seconds",V[h]=j+"Milliseconds",V)[K],ae=K===_?this.$D+(A-this.$W):A;if(K===C||K===I){var U=this.clone().set(w,1);U.$d[B](ae),U.init(),this.$d=U.set(w,Math.min(this.$D,U.daysInMonth())).$d}else B&&this.$d[B](ae);return this.init(),this},X.set=function(T,A){return this.clone().$set(T,A)},X.get=function(T){return this[fe.p(T)]()},X.add=function(T,A){var V,K=this;T=Number(T);var j=fe.p(A),B=function(ie){var De=P(K);return fe.w(De.date(De.date()+Math.round(ie*T)),K)};if(j===C)return this.set(C,this.$M+T);if(j===I)return this.set(I,this.$y+T);if(j===_)return B(1);if(j===b)return B(7);var ae=(V={},V[y]=o,V[x]=f,V[p]=d,V)[j]||1,U=this.$d.getTime()+T*ae;return fe.w(U,this)},X.subtract=function(T,A){return this.add(-1*T,A)},X.format=function(T){var A=this,V=this.$locale();if(!this.isValid())return V.invalidDate||M;var K=T||"YYYY-MM-DDTHH:mm:ssZ",j=fe.z(this),B=this.$H,ae=this.$m,U=this.$M,ie=V.weekdays,De=V.months,ee=V.meridiem,oe=function(ct,We,ke,Q){return ct&&(ct[We]||ct(A,K))||ke[We].slice(0,Q)},je=function(ct){return fe.s(B%12||12,ct,"0")},Be=ee||function(ct,We,ke){var Q=ct<12?"AM":"PM";return ke?Q.toLowerCase():Q};return K.replace(L,function(ct,We){return We||function(ke){switch(ke){case"YY":return String(A.$y).slice(-2);case"YYYY":return fe.s(A.$y,4,"0");case"M":return U+1;case"MM":return fe.s(U+1,2,"0");case"MMM":return oe(V.monthsShort,U,De,3);case"MMMM":return oe(De,U);case"D":return A.$D;case"DD":return fe.s(A.$D,2,"0");case"d":return String(A.$W);case"dd":return oe(V.weekdaysMin,A.$W,ie,2);case"ddd":return oe(V.weekdaysShort,A.$W,ie,3);case"dddd":return ie[A.$W];case"H":return String(B);case"HH":return fe.s(B,2,"0");case"h":return je(1);case"hh":return je(2);case"a":return Be(B,ae,!0);case"A":return Be(B,ae,!1);case"m":return String(ae);case"mm":return fe.s(ae,2,"0");case"s":return String(A.$s);case"ss":return fe.s(A.$s,2,"0");case"SSS":return fe.s(A.$ms,3,"0");case"Z":return j}return null}(ct)||j.replace(":","")})},X.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},X.diff=function(T,A,V){var K,j=this,B=fe.p(A),ae=P(T),U=(ae.utcOffset()-this.utcOffset())*o,ie=this-ae,De=function(){return fe.m(j,ae)};switch(B){case I:K=De()/12;break;case C:K=De();break;case k:K=De()/3;break;case b:K=(ie-U)/6048e5;break;case _:K=(ie-U)/864e5;break;case x:K=ie/f;break;case y:K=ie/o;break;case p:K=ie/d;break;default:K=ie}return V?K:fe.a(K)},X.daysInMonth=function(){return this.endOf(C).$D},X.$locale=function(){return Ce[this.$L]},X.locale=function(T,A){if(!T)return this.$L;var V=this.clone(),K=be(T,A,!0);return K&&(V.$L=K),V},X.clone=function(){return fe.w(this.$d,this)},X.toDate=function(){return new Date(this.valueOf())},X.toJSON=function(){return this.isValid()?this.toISOString():null},X.toISOString=function(){return this.$d.toISOString()},X.toString=function(){return this.$d.toUTCString()},ye}(),Le=He.prototype;return P.prototype=Le,[["$ms",h],["$s",p],["$m",y],["$H",x],["$W",_],["$M",C],["$y",I],["$D",w]].forEach(function(ye){Le[ye[1]]=function(X){return this.$g(X,ye[0],ye[1])}}),P.extend=function(ye,X){return ye.$i||(ye(X,He,P),ye.$i=!0),P},P.locale=be,P.isDayjs=ue,P.unix=function(ye){return P(1e3*ye)},P.en=Ce[te],P.Ls=Ce,P.p={},P})}(Wo)),Wo.exports}var b0=v0();const Go=Gp(b0),$g=({isLoading:i})=>i?t.jsx("div",{id:"loading-main-container","aria-busy":"true","aria-label":"Loading, please wait",children:t.jsx("div",{id:"loading-content-container",children:t.jsx("div",{id:"loading-main-loader",role:"progressbar","aria-valuetext":"Loading"})})}):null,rf=u.createContext(),j0=({children:i})=>{const[r,d]=u.useState([]),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await Je.get(`${o}getAllExtendedJobs`);d(h.data)}catch(h){console.error("Failed to fetch Extended Jobs :",h)}};return u.useEffect(()=>{f()},[]),t.jsx(rf.Provider,{value:{extendedJobsList:r,refreshExtendedJobsList:f},children:i})},S0=({jcd:i,onClose:r,refreshJCDPage:d,refreshTree:o,refreshPlannedJobs:f,isOpenByExtention:h})=>{const[p,y]=u.useState([]),[x,_]=u.useState({}),[b,C]=u.useState({}),[k,I]=u.useState(!1),[w,M]=u.useState(null),[H,L]=u.useState([]),[$,J]=u.useState(1),[ne,te]=u.useState(!1),[Ce,me]=u.useState({x:0,y:0}),[ue,be]=u.useState({x:0,y:0}),[P,fe]=u.useState(!1),He=u.useRef(null),Le=u.useRef(null),[ye,X]=u.useState(null),[T,A]=u.useState(!1),[V,K]=u.useState(null),[j,B]=u.useState(!0),{employeeList:ae}=u.useContext(_c),{designationList:U}=u.useContext(vl),{refreshExtendedJobsList:ie,extendedJobsList:De}=u.useContext(rf),{user:ee}=u.useContext(Va),{shipsList:oe,refreshShipsList:je}=u.useContext(ss),{plannedJobList:Be}=u.useContext(gc),{crewData:ct,refreshCrewData:We}=u.useContext(mc),{officeStaffList:ke,refreshOfficeStaffList:Q}=u.useContext(Ei),[we,Ze]=u.useState(null),[it,kt]=u.useState(null),[tt,St]=u.useState(null),[Qt,oa]=u.useState({}),[cn,_t]=u.useState({}),[Me,Ga]=u.useState(""),[$e,Mt]=u.useState(!1),[pa,Jt]=u.useState(""),[vn,ga]=u.useState(null),qe=u.useRef(null),ve="https://udayerp.com/pms/server/api/";u.useEffect(()=>{ie()},[]),u.useEffect(()=>{},[De]);const nt=()=>x[tt?.ceh_id]?.map(re=>re.text)?.join(`
`),he=()=>b[tt?.ceh_id]?.pre||[],Nt=()=>b[tt?.ceh_id]?.post||[],Na=N=>{_(re=>({...re,[tt.ceh_id]:[{text:N,timestamp:new Date().toISOString()}]}))};u.useEffect(()=>{if(Be&&i?.activeJobs?.JPHA_ID){const N=Be.find(re=>re?.JPHA_ID===i.activeJobs.JPHA_ID);N&&(i.activeJobs=N)}},[Be,i?.activeJobs?.JPHA_ID]),u.useEffect(()=>{tt?.name==="ExecutedJobDetails"&&(async()=>await jn(tt.ceh_id))()},[tt?.ceh_id]),u.useEffect(()=>{},[b]);const Ot=u.useRef(!1);u.useEffect(()=>{if(!i?.activeJobs?.JPHA_ID||!i?.activeJobs?.jcd_id){B(!1);return}if(Ot.current)return;(async()=>{try{const re={jcd_id:i.activeJobs.jcd_id,JPHA_ID:i.activeJobs.JPHA_ID,ship_id:i.activeJobs.SHA_ID,user_id:ee?.UHA_ID};h&&(re.isExtensionRequest=!0);const Ne=await Je.post(`${ve}communication/initiate`,re);if(Ne.data.success&&Ne.data.commStructure){const Te=Ne.data.commStructure;console.log("commStructure123 : ",Te),Ze(Te);const Re=Te.communicationTabs.map(le=>({cth_id:le.cth_id,type:le.tab_type===1?"execution":"extension",attemptNo:le.tab_type===1?le.count:void 0,extNo:le.tab_type===2?le.count:void 0,subTabs:le.subTabs.map(Se=>Se)}));if(Re.length>0){const le=Re[0];if(kt(le),le.subTabs.length>0){const Se=le.subTabs[0];St(Se),await Ln(le,Se,Te)}}Ot.current=!0}}catch(re){console.error("Failed to initialize communication:",re)}finally{B(!1)}})()},[i]),u.useEffect(()=>{!i?.activeJobs?.JPHA_ID||i?.activeJobs?.jcd_id},[i?.activeJobs?.JPHA_ID,i?.activeJobs?.jcd_id]),u.useEffect(()=>{qe.current?.scrollIntoView({behavior:"smooth"})},[cn,tt]),u.useEffect(()=>{const N=re=>{if(T)switch(re.key){case"Escape":A(!1);break;case"+":case"=":re.preventDefault(),Sn();break;case"-":re.preventDefault(),In();break;case"0":re.preventDefault(),Ja();break}};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[T,$]),u.useEffect(()=>{T||(J(1),be({x:0,y:0}),fe(!1))},[T]),u.useEffect(()=>{console.log("communicationData : ",we)},[we]);const[_a,Ca]=u.useState({}),[va,ca]=u.useState(null),[Vn,Ya]=u.useState({x:0,y:0}),dn=async N=>{M(N);const re=await Ka(N);L(re),I(!0),ca(null)},Ka=async N=>!N.seenBy||N.seenBy.length===0?(console.log("No seenBy data for message:",N.id),[]):(console.log("Processing seen info for message:",N),new Promise(re=>{setTimeout(()=>{try{const Te=N.seenBy.filter(Re=>{const le=Re&&Re!==N.sender_id;return le||console.log("Filtered out user:",Re,"for message:",N.id),le}).map(Re=>{try{let le=N.isoTimestamp?new Date(N.isoTimestamp):new Date(N.timestamp);isNaN(le.getTime())&&(console.warn("Invalid timestamp for message:",N.id,"using current time"),le=new Date);const Se=new Date(le.getTime()+Math.random()*3e5),Oe=Wa(Re);return{userId:Re,userName:Oe.name,seenTime:Se.toISOString(),designation:Oe.designation,userType:Oe.userType}}catch(le){return console.error("Error processing user:",Re,"for message:",N.id,le),null}}).filter(Boolean).sort((Re,le)=>new Date(Re.seenTime)-new Date(le.seenTime));console.log("Processed seen info:",Te),re(Te)}catch(Ne){console.error("Error in getSeenUsersInfo:",Ne),re([])}},100)})),Wa=N=>{if(!N)return console.warn("Invalid userId provided:",N),{name:"Unknown User",designation:"N/A",userType:null};console.log("Looking up user:",N),console.log("Crew data count:",ct?.length),console.log("Office staff count:",ke?.length),console.log("Designation list count:",U?.length);const re=ct?.find(Re=>Re.user_id===N&&Re.crew_status==1);if(re){console.log("Found user in crewData:",re);const Re=U?.find(le=>le.DSGH_ID===re.desg_id);return re.user_id==ee.UHA_ID?{name:"You",designation:Re?.desg_name||"N/A",userType:1}:{name:`Mr. ${ae.filter(le=>le.UHA_ID==re.user_id)[0]?.emp_name||"Unknown"}`,designation:Re?.desg_name||"N/A",userType:1}}const Ne=ke?.find(Re=>Re.user_id===N);if(Ne){console.log("Found user in officeStaffList:",Ne);const Re=U?.find(le=>le.DSGH_ID===Ne.desg_id);return Ne.user_id==ee.UHA_ID?{name:"You",designation:Re?.desg_name||"N/A",userType:1}:{name:`Mr. ${ae.filter(le=>le.UHA_ID==Ne.user_id)[0]?.emp_name||"Unknown"}`,designation:Re?.desg_name||"N/A",userType:2}}const Te=ae?.find(Re=>Re.UHA_ID===N);if(Te){console.log("Found user in employeeList (fallback):",Te);const Re=U?.find(le=>le.DSGH_ID===Te.desg_id);return{name:`Mr. ${Te.emp_name||"Unknown"}`,designation:Re?.desg_name||"N/A",userType:null}}return console.warn("User not found in any list:",N),{name:`User (${N})`,designation:"N/A",userType:null}},un=async N=>{if(!(!N||!ee?.UHA_ID))try{await Je.post(`${ve}communication/mark-seen`,{ceh_id:N,user_id:ee.UHA_ID}),Ca(re=>({...re,[N]:Date.now()}))}catch(re){console.error("Failed to mark messages as seen:",re)}};u.useEffect(()=>{tt?.ceh_id&&un(tt.ceh_id)},[tt?.ceh_id]);const en=async(N,re,Ne)=>{if(window.confirm("Are you sure you want to delete this message?")){try{(await Je.delete(`${ve}communication/message/${N}/${re}`,{data:{user_id:ee?.UHA_ID}})).data.success&&(_t(Re=>({...Re,[Ne]:Re[Ne].filter(le=>!(le.smd_id===N&&le.slot===re))})),alert("Message deleted successfully"))}catch(Te){console.error("Failed to delete message:",Te),alert("Failed to delete message")}ca(null)}},Da=async N=>{try{const re=N.url.startsWith("http")?N.url:`${ve.replace("/api/","/")}${N.url}`,Te=await(await fetch(re)).blob(),Re=window.URL.createObjectURL(Te),le=document.createElement("a");le.style.display="none",le.href=Re,le.download=N.name,document.body.appendChild(le),le.click(),window.URL.revokeObjectURL(Re),document.body.removeChild(le)}catch(re){console.error("Download failed:",re),alert("Download failed")}},ia=(N,re,Ne)=>{N.preventDefault(),ca({...re,sheetId:Ne}),Ya({x:N.clientX,y:N.clientY})},la=()=>{ca(null)},Rn=(N,re)=>N.seenBy?N.seenBy.includes(re):!1,bn=N=>{if(!N.seenBy||N.seenBy.length===0)return{icon:"",color:"#999",title:"Sent",description:"Message sent"};const re=N.seenBy.filter(Ne=>Ne!==N.sender_id);return re.length>0?{icon:"",color:"#53bdeb",title:`Seen by ${re.map(Te=>ht(Te)).join(", ")}`,description:`Seen by ${re.length} user${re.length!==1?"s":""}`}:{icon:"",color:"#999",title:"Delivered",description:"Message delivered to server"}},ki=()=>va?t.jsxs("div",{className:"message-context-menu",style:{position:"fixed",left:Vn.x,top:Vn.y,zIndex:1e3,backgroundColor:"white",border:"1px solid #ccc",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"8px 0",minWidth:"150px"},children:[va.sender_id===ee?.UHA_ID&&t.jsx("button",{className:"context-menu-item",onClick:()=>en(va.smd_id,va.slot,va.sheetId),style:{width:"100%",padding:"8px 16px",border:"none",background:"none",textAlign:"left",cursor:"pointer",color:"#ff4444"},onMouseEnter:N=>N.target.style.backgroundColor="#f5f5f5",onMouseLeave:N=>N.target.style.backgroundColor="transparent",children:""}),va.attachments&&va.attachments.length>0&&t.jsx("button",{className:"context-menu-item",onClick:()=>Da(va.attachments[0]),style:{width:"100%",padding:"8px 16px",border:"none",background:"none",textAlign:"left",cursor:"pointer"},onMouseEnter:N=>N.target.style.backgroundColor="#f5f5f5",onMouseLeave:N=>N.target.style.backgroundColor="transparent",children:""}),t.jsx("button",{className:"context-menu-item",onClick:()=>dn(va),style:{width:"100%",padding:"8px 16px",border:"none",background:"none",textAlign:"left",cursor:"pointer"},onMouseEnter:N=>N.target.style.backgroundColor="#f5f5f5",onMouseLeave:N=>N.target.style.backgroundColor="transparent",children:"Info"})]}):null,ni=()=>!k||!w?null:t.jsx("div",{className:"modal-overlay",onClick:()=>I(!1),children:t.jsxs("div",{className:"seen-info-modal",onClick:N=>N.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h3",{children:"Seen Information"}),t.jsx("button",{className:"close-btn",onClick:()=>I(!1),children:""})]}),t.jsxs("div",{className:"message-preview",children:[t.jsx("div",{className:"preview-header",children:"Message:"}),t.jsxs("div",{className:"preview-content",children:[w.text?t.jsx("div",{className:"message-text",children:w.text}):t.jsx("div",{className:"no-text",children:"No text content"}),w.attachments&&w.attachments.length>0&&t.jsxs("div",{className:"attachments-count",children:[" ",w.attachments.length," attachment(s)"]})]}),t.jsxs("div",{className:"message-time",children:["Date: ",w.isoTimestamp?.split("T")[0]?.split("-")?.reverse()?.join("/")," ",w.timestamp]})]}),console.log("seenUsersInfo :: ",H),t.jsxs("div",{className:"seen-users-section",children:[t.jsx("div",{className:"section-header",children:t.jsxs("span",{children:["Seen by (",H.filter(N=>N.userId!==w.sentBy).length,"):"]})}),H.filter(N=>N.userId!==w.sentBy).length>0?t.jsx("div",{className:"seen-users-list",children:H.filter(N=>N.userId!==w.sentBy).map((N,re,Ne)=>t.jsxs("div",{className:"seen-user-item",children:[t.jsx("div",{className:"user-avatar",children:N.userName.charAt(0)}),t.jsxs("div",{className:"user-info",children:[t.jsx("div",{className:"user-name",children:N.userName}),t.jsx("div",{className:"user-designation",children:N.designation})]}),t.jsx("div",{className:"seen-time",children:fn(new Date(N.seenTime))}),re<Ne.length-1&&t.jsx("div",{className:"divider"})]},N.userId))}):t.jsxs("div",{className:"no-seen-users",children:[t.jsx("div",{className:"no-data-icon",children:""}),t.jsx("div",{className:"no-data-text",children:"No one has seen this message yet"})]})]}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{className:"close-modal-btn",onClick:()=>I(!1),children:"Close"})})]})}),Ln=async(N,re,Ne=we)=>{if(!Ne||!re)return;const Te=N;if(!Te)return;const Re=Te.subTabs.find(le=>le.ceh_id===re.ceh_id);if(Re)try{const le=ee?.UHA_ID;if(!le){console.warn("No logged-in user ID found");return}const Se=await Je.get(`${ve}communication/sheet/${re.ceh_id}/messages?user_id=${le}`);if(console.log("messages in load messages in sub tab : ",Se),Se.data.success){const Oe=Se.data.messages.map(pe=>{const rt=(pe.attachments||[]).map(st=>{const Xa=st.split("."),Wt=Xa.length>1?Xa[Xa.length-1].toLowerCase():"";let La="application/octet-stream";["jpg","jpeg","png","gif","bmp","webp"].includes(Wt)?La="image/"+(Wt==="jpg"?"jpeg":Wt):["mp4","webm","ogg"].includes(Wt)?La="video/"+Wt:["mp3","wav","ogg"].includes(Wt)?La="audio/"+Wt:Wt==="pdf"?La="application/pdf":["doc","docx"].includes(Wt)?La="application/msword":["xls","xlsx"].includes(Wt)&&(La="application/vnd.ms-excel");const Xn=st.split("/").pop();return{id:`${pe.smd_id}_${pe.slot}_${Date.now()}`,name:Xn,type:La,url:st}}),xt=pe.sender_id===le,It=new Date(pe.timestamp),Ba=!isNaN(It.getTime()),Gt=Ba?It.toISOString():null,aa=Ba?fn(It):"Invalid date";return{id:`${pe.smd_id}_${pe.slot}`,smd_id:pe.smd_id,slot:pe.slot,type:xt?"sent":"received",text:pe.text,sender:ht(pe.sender_id),sender_id:pe.sender_id,timestamp:aa,isoTimestamp:Gt,ship_name:oe.find(st=>st.SHA_ID===i?.activeJobs?.SHA_ID)?.ship_name,attachments:rt,seenBy:pe.seenBy||[],isSeenByCurrentUser:Rn(pe,le)}});_t(pe=>({...pe,[Re.ceh_id]:Oe}))}}catch(le){console.error("Failed to load messages:",le)}},fn=N=>{const re=N.getHours(),Ne=N.getMinutes(),Te=re>=12?"PM":"AM",Re=re%12||12,le=Ne<10?"0"+Ne:Ne;return`${Re}:${le} ${Te}`},ht=N=>{const re=ae.find(Te=>Te.UHA_ID===N);if(!re)return N;const Ne=U.find(Te=>Te.DSGH_ID===re.DSGH_ID);return`Mr. ${re.emp_name} (${Ne?.desg_name||"N/A"})`},Ra=async N=>{if(kt(N),St(null),_t({}),N?.subTabs?.length>0){const re=N.subTabs[0];St(re),await Ln(N,re)}},Kt=async N=>{St(N),await new Promise(re=>setTimeout(re,0)),it&&(await Ln(it,N),N.name==="ExecutedJobDetails"&&await jn(N.ceh_id))},da=async()=>{if(!Me.trim()&&p.length===0||!tt||!we||!it)return;const N=it;if(!N)return;const re=N.subTabs.find(le=>le.ceh_id===tt.ceh_id);if(!re)return;let Ne;if(p.length>0){const le=new FormData;le.append("comm_id",we.comm_id),le.append("ceh_id",tt.ceh_id),le.append("cth_id",N.cth_id),le.append("sender_id",ee?.UHA_ID),le.append("message_text",Me.trim()),le.append("seenBy",[]);const Se=oe.find(Oe=>Oe.SHA_ID===i?.activeJobs?.SHA_ID&&Oe.SHA_ID==ee.ship_id)?.ship_name;Se&&le.append("ship_name",Se),p.forEach(Oe=>{le.append("attachments",Oe.file)}),Ne=le}else Ne={comm_id:we.comm_id,ceh_id:re.ceh_id,cth_id:N.cth_id,sender_id:ee?.UHA_ID,message_text:Me.trim(),seenBy:[]};const Te=new Date,Re={id:Date.now(),type:"sent",text:Me.trim(),sender:ht(ee?.UHA_ID),timestamp:fn(Te),attachments:p.map(le=>({...le,url:le.url})),status:"sending",seenBy:[],isSeenByCurrentUser:!0};_t(le=>({...le,[tt.ceh_id]:[...le[tt.ceh_id]||[],Re]}));try{const le=p.length>0?{headers:{"Content-Type":"multipart/form-data"}}:{},Se=oe.find(pe=>pe.SHA_ID===i?.activeJobs?.SHA_ID&&pe.SHA_ID==ee.ship_id)?.ship_name,Oe=await Je.post(`${ve}communication/message?ship_name=${encodeURIComponent(Se)}`,Ne,le);if(Oe.data.success)_t(pe=>{const lt=[...pe[tt.ceh_id]||[]];return lt[lt.length-1].status="sent",{...pe,[tt.ceh_id]:lt}}),p.length>0&&Oe.data.attachments&&_t(pe=>{const lt=[...pe[tt.ceh_id]||[]],rt=lt[lt.length-1];return rt.attachments=rt.attachments.map((xt,It)=>({...xt,url:Oe.data.attachments[It]})),{...pe,[tt.ceh_id]:lt}});else throw new Error("Backend reported failure")}catch(le){console.error("Failed to send message:",le),_t(Se=>{const Oe=[...Se[tt.ceh_id]||[]];return Oe[Oe.length-1].status="failed",{...Se,[tt.ceh_id]:Oe}})}Ga(""),y([])},tn=()=>{if(!it)return null;if(it.type==="execution")return t.jsxs("div",{className:"extension-details",children:[t.jsxs("h4",{className:"detail-header",children:[t.jsx("span",{className:"dot-indicator",style:{backgroundColor:"#3b82f6"}}),"Execution Attempt Details"]}),t.jsxs("div",{className:"two-column",children:[t.jsxs("div",{className:"detail-group",children:[t.jsx("div",{className:"detail-label",children:"Job Acknowledge Date"}),t.jsx("div",{className:"detail-value",children:i?.activeJobs?.acknowledge_dt?.split("T")[0]?.split("-")?.reverse()?.join("/")||"N/A"}),t.jsx("div",{className:"detail-label",children:"Acknowledged By"}),t.jsxs("div",{className:"detail-value",children:["Mr. ",i?.activeJobs?.first_verification_by&&ae.find(N=>N.UHA_ID==i.activeJobs.first_verification_by)?.emp_name||"N/A"]}),t.jsx("div",{className:"detail-label",children:"Designation"}),t.jsx("div",{className:"detail-value",children:i?.activeJobs?.first_verification_desg&&U.find(N=>N.DSGH_ID==i.activeJobs.first_verification_desg)?.desg_name||"N/A"})]}),t.jsxs("div",{className:"detail-group",children:[t.jsx("div",{className:"detail-label",children:"Job Executed Date"}),t.jsx("div",{className:"detail-value",children:i?.activeJobs?.executed_dt?.split("T")[0]?.split("-")?.reverse()?.join("/")||"N/A"}),t.jsx("div",{className:"detail-label",children:"Executed By"}),t.jsxs("div",{className:"detail-value",children:["Mr. ",i?.activeJobs?.executed_by&&ae.find(N=>N.UHA_ID==i.activeJobs.executed_by)?.emp_name||"N/A"]}),t.jsx("div",{className:"detail-label",children:"Designation"}),t.jsx("div",{className:"detail-value",children:i?.activeJobs?.executed_desg&&U.find(N=>N.DSGH_ID==i.activeJobs.executed_desg)?.desg_name||"N/A"})]})]})]});if(it.type==="extension"){const N=De.find(Ne=>Ne.jcd_id===i.relatedJCD?.JCDSHA_ID&&Ne.JPTA_ID===i.activeJobs.JPHA_ID&&Ne.ext_no===it.extNo);if(!N)return t.jsx("div",{className:"attempt-header extension-details",children:t.jsx("h4",{children:"No Extension Data Found"})});const re=N.ext_request_status;return t.jsxs("div",{className:"attempt-header extension-details",children:[t.jsx("h4",{children:"Extension Attempt Details"}),t.jsxs("div",{className:"detail-row three-column",children:[t.jsxs("div",{className:"detail-group",children:[t.jsx("div",{className:"detail-label",children:"Requested On"}),t.jsx("div",{className:"detail-value",children:N?.requested_on?new Date(N.requested_on).toLocaleDateString():""})]}),t.jsxs("div",{className:"detail-group",children:[t.jsx("div",{className:"detail-label",children:"Requested By"}),t.jsx("div",{className:"detail-value",children:ae.find(Ne=>Ne.UHA_ID==N.requested_by)?.emp_name||""})]}),t.jsxs("div",{className:"detail-group",children:[t.jsx("div",{className:"detail-label",children:"Requested To"}),t.jsxs("div",{className:"detail-value",children:[ae.find(Ne=>Ne.UHA_ID==N.approve_authority_id)?.emp_name||""," (",U.find(Ne=>Ne.DSGH_ID==N.approve_authority_desg)?.desg_name||"",")"]})]})]}),t.jsx("div",{className:"detail-row status-full",children:t.jsxs("div",{className:"status-container",children:[t.jsx("div",{className:"detail-label",children:" Status"}),t.jsxs("div",{className:`detail-value status-badge ${re===1?"pending":re===2?"approved":"rejected"}`,children:[re===1&&"Extension Requested",re===2&&"Extension Accepted",re===3&&"Extension Denied"]})]})}),re===2&&t.jsxs("div",{className:"detail-row three-column",children:[t.jsxs("div",{className:"detail-group",children:[t.jsx("div",{className:"detail-label",children:"Accepted By"}),t.jsx("div",{className:"detail-value",children:ae.find(Ne=>Ne.UHA_ID==N.approve_authority_id)?.emp_name||""})]}),t.jsxs("div",{className:"detail-group",children:[t.jsx("div",{className:"detail-label",children:"Accepted On"}),t.jsx("div",{className:"detail-value",children:N.accepted_on?new Date(N.accepted_on).toLocaleDateString():""})]}),t.jsxs("div",{className:"detail-group",children:[t.jsx("div",{className:"detail-label",children:"New Deadline"}),t.jsx("div",{className:"detail-value",children:N.new_execution_deadline?new Date(N.new_execution_deadline).toLocaleDateString():""})]})]}),re===3&&t.jsxs("div",{className:"detail-row two-column",children:[t.jsxs("div",{className:"detail-group",children:[t.jsx("div",{className:"detail-label",children:"Denied By"}),t.jsx("div",{className:"detail-value",children:ae.find(Ne=>Ne.UHA_ID==N.approve_authority_id)?.emp_name||""})]}),t.jsxs("div",{className:"detail-group",children:[t.jsx("div",{className:"detail-label",children:"Denied On"}),t.jsx("div",{className:"detail-value",children:N.denied_on?new Date(N.denied_on).toLocaleDateString():""})]})]})]})}return null},Bt=()=>{if(!tt||!it)return t.jsx("p",{className:"placeholder-text",children:"Select a sub-tab to begin."});const N=it;N?.subTabs?.find(Se=>Se.name===tt.name);const re=tt.ceh_id;if(!re)return t.jsx("p",{className:"placeholder-text",children:"Sheet not found."});console.log("jcd.activeJobs.ext1 :: ",i.activeJobs.ext1),console.log("jcd.activeJobs.ext2 :: ",i.activeJobs.ext2),console.log("jcd.activeJobs.ext3 :: ",i.activeJobs.ext3);const Ne=De.find(Se=>Se.JEDA_ID===i.activeJobs.ext3||Se.JEDA_ID===i.activeJobs.ext2||Se.JEDA_ID===i.activeJobs.ext1),Te=Ne?.ext_request_status,le=N?.subTabs?.find(Se=>Se.ceh_id===tt.ceh_id)?.status===2;switch(tt.name){case"PreJob":case"Validation1":case"Validation2":return t.jsxs("div",{className:"chat-container-whatsapp",children:[t.jsxs("div",{className:"chat-messages-scrollable-whatsapp",children:[cn[re]?.map(Se=>Aa(Se,re)),t.jsx("div",{ref:qe})]}),t.jsx("div",{className:"chat-sticky-footer-whatsapp",children:t.jsxs(t.Fragment,{children:[tt.name==="Validation1"&&t.jsxs(t.Fragment,{children:[i?.activeJobs?.job_status==4&&i?.activeJobs?.first_verification_by==ee.UHA_ID&&!le&&t.jsxs("div",{className:"approval-actions-whatsapp",children:[t.jsx("button",{className:"btn-whatsapp approve",onClick:()=>Et("Validation1","approved"),children:"Approve 1st Validation"}),t.jsx("button",{className:"btn-whatsapp reject",onClick:()=>Et("Validation1","rejected"),children:"Reject 1st Validation"})]}),le&&i.activeJobs.job_status!=5&&t.jsx("div",{className:"approval-status-whatsapp rejected",children:" 1st Validation Rejected. A new attempt has been created."}),!le&&i.activeJobs.job_status==5&&t.jsxs("div",{className:"approval-status-whatsapp approved",children:[" 1st Validation Approved by ",ae.find(Se=>Se.UHA_ID==i.activeJobs.first_verification_by)?.emp_name||"N/A"]})]}),tt.name==="Validation2"&&t.jsxs(t.Fragment,{children:[i.activeJobs.job_status==5&&i?.activeJobs?.second_verification_by==ee.UHA_ID&&!le&&t.jsxs("div",{className:"approval-actions-whatsapp",children:[t.jsx("button",{className:"btn-whatsapp approve",onClick:()=>Et("Validation2","approved"),children:"Approve Final Validation"}),t.jsx("button",{className:"btn-whatsapp reject",onClick:()=>Et("Validation2","rejected"),children:"Reject Final Validation"})]}),le&&i.activeJobs.job_status==6&&t.jsxs("div",{className:"approval-status-whatsapp approved",children:["Final Validation Approved by ",ae.find(Se=>Se.UHA_ID==i.activeJobs.second_verification_by)?.emp_name||"N/A"]}),le&&i.activeJobs.job_status!=6&&t.jsx("div",{className:"approval-status-whatsapp rejected",children:"Final Validation Rejected. A new attempt has been created."})]}),p.length>0&&t.jsx("div",{className:"attachments-preview-whatsapp",children:p.map(Se=>t.jsxs("div",{className:"attachment-item-whatsapp",children:[t.jsx("div",{className:"attachment-icon-whatsapp",children:Se.type.startsWith("image/")?"":Se.type.startsWith("video/")?"":Se.type.startsWith("audio/")?"":Se.type.includes("pdf")?"":Se.type.includes("word")?"":Se.type.includes("excel")?"":""}),t.jsx("div",{className:"attachment-name-whatsapp",children:Se.name.length>20?Se.name.substring(0,20)+"...":Se.name}),t.jsx("button",{onClick:()=>y(Oe=>Oe.filter(pe=>pe.id!==Se.id)),className:"remove-attachment-whatsapp",title:"Remove this attachment",children:""})]},Se.id))}),t.jsx("div",{className:"chat-input-container-whatsapp",children:(()=>{console.log("jcd.activeJobs.issued_to :: ",i.activeJobs.issued_to),console.log("jcd.activeJobs.first_verification_by :: ",i.activeJobs.first_verification_by),console.log("jcd.activeJobs.second_verification_by :: ",i.activeJobs.second_verification_by),console.log("jcd.activeJobs.extensions_authority :: ",i.activeJobs.extensions_authority);const Se=i.activeJobs.issued_to===ee.UHA_ID||i.activeJobs.first_verification_by===ee.UHA_ID||i.activeJobs.second_verification_by===ee.UHA_ID||i.activeJobs.extensions_authority===ee.UHA_ID,Oe=le||!Se;return t.jsxs(t.Fragment,{children:[t.jsx("label",{htmlFor:"file-upload",className:"attach-file-button-whatsapp",title:Se?"Attach a file":"You are not authorized to upload files",style:{cursor:Oe?"not-allowed":"pointer"},children:""}),t.jsx("input",{id:"file-upload",type:"file",multiple:!0,disabled:Oe,onChange:pe=>{if(pe.target.files.length>0){const lt=Array.from(pe.target.files).map(rt=>({id:Date.now()+Math.random(),name:rt.name,size:rt.size,type:rt.type,file:rt,url:URL.createObjectURL(rt)}));y(rt=>[...rt,...lt]),pe.target.value=""}},style:{display:"none"}}),t.jsx("input",{type:"text",value:Me,onChange:pe=>Ga(pe.target.value),onKeyPress:pe=>pe.key==="Enter"&&!Oe&&da(),placeholder:le?"Closed..":Se?"Type a message...":"Not authorized...",className:"chat-input-whatsapp",disabled:Oe,style:{cursor:Oe?"not-allowed":"text"}}),t.jsx("button",{onClick:da,disabled:Oe||!Me.trim()&&p.length===0,className:"send-button-whatsapp",title:Se?"Send message":"You are not authorized to send messages",style:{cursor:Oe||!Me.trim()&&p.length===0?"not-allowed":"pointer"},children:""})]})})()})]})})]});case"ExtensionA":case"ExtensionB":case"ExtensionC":return t.jsxs("div",{className:"chat-container-whatsapp",children:[t.jsxs("div",{className:"chat-messages-scrollable-whatsapp",children:[cn[re]?.map(Se=>Aa(Se,re)),t.jsx("div",{ref:qe})]}),t.jsx("div",{className:"chat-sticky-footer-whatsapp",children:t.jsxs(t.Fragment,{children:[(tt.name==="ExtensionA"||Ne)&&t.jsxs(t.Fragment,{children:[console.log("jcd?.activeJobs?.extensions_authority on extention :: ",i?.activeJobs?.extensions_authority),i?.activeJobs?.extensions_authority==ee.UHA_ID&&!le&&t.jsxs("div",{className:"approval-actions-whatsapp",children:[t.jsx("button",{className:"btn-whatsapp approve",onClick:()=>Et("ExtensionRequest","approved"),children:"Approve Extension"}),t.jsx("button",{className:"btn-whatsapp reject",onClick:()=>Et("ExtensionRequest","rejected"),children:"Reject Extension"})]}),Te===2&&t.jsx("div",{className:"approval-status-whatsapp approved",children:" Extension Approved"}),Te===3&&t.jsx("div",{className:"approval-status-whatsapp rejected",children:" Extension Rejected"})]}),p.length>0&&t.jsx("div",{className:"attachments-preview-whatsapp",children:p.map(Se=>t.jsxs("div",{className:"attachment-item-whatsapp",children:[t.jsx("div",{className:"attachment-icon-whatsapp",children:Se.type.startsWith("image/")?"":Se.type.startsWith("video/")?"":Se.type.startsWith("audio/")?"":Se.type.includes("pdf")?"":Se.type.includes("word")?"":Se.type.includes("excel")?"":""}),t.jsx("div",{className:"attachment-name-whatsapp",children:Se.name.length>20?Se.name.substring(0,20)+"...":Se.name}),t.jsx("button",{onClick:()=>y(Oe=>Oe.filter(pe=>pe.id!==Se.id)),className:"remove-attachment-whatsapp",title:"Remove this attachment",children:""})]},Se.id))}),t.jsx("div",{className:"chat-input-container-whatsapp",children:(()=>{const Se=Ne?.ext_request_status,Oe=i.activeJobs.issued_to===ee.UHA_ID||i.activeJobs.first_verification_by===ee.UHA_ID||i.activeJobs.second_verification_by===ee.UHA_ID||i.activeJobs.extensions_authority===ee.UHA_ID;console.log("isSheetClosed on extention :: ",le),console.log("isAuthorized on extention :: ",Oe),console.log("!currentExtension on extention :: ",Ne);const pe=le||!Se||!Oe;return t.jsxs(t.Fragment,{children:[t.jsx("label",{htmlFor:"file-upload",className:"attach-file-button-whatsapp",title:Oe?"Attach a file":"You are not authorized to upload files",style:{cursor:pe?"not-allowed":"pointer"},children:""}),t.jsx("input",{id:"file-upload",type:"file",multiple:!0,disabled:pe,onChange:lt=>{if(lt.target.files.length>0){const rt=Array.from(lt.target.files).map(xt=>({id:Date.now()+Math.random(),name:xt.name,size:xt.size,type:xt.type,file:xt,url:URL.createObjectURL(xt)}));y(xt=>[...xt,...rt]),lt.target.value=""}},style:{display:"none"}}),t.jsx("input",{type:"text",value:Me,onChange:lt=>Ga(lt.target.value),onKeyPress:lt=>lt.key==="Enter"&&!pe&&da(),placeholder:le?"Closed..":Oe?"Type a message...":"Not authorized...",className:"chat-input-whatsapp",disabled:pe,style:{cursor:pe?"not-allowed":"text"}}),t.jsx("button",{onClick:da,disabled:pe||!Me.trim()&&p.length===0,className:"send-button-whatsapp",title:Oe?"Send message":"You are not authorized to send messages",style:{cursor:pe||!Me.trim()&&p.length===0?"not-allowed":"pointer"},children:""})]})})()})]})})]});case"ExecutedJobDetails":return t.jsxs("div",{className:"executed-job-whatsapp",children:[t.jsx("h3",{children:" Executed Job Details"}),t.jsxs("p",{children:[t.jsx("strong",{children:"Executed by:"})," Mr."," ",i?.activeJobs?.executed_by&&ae.find(Se=>Se.UHA_ID==i.activeJobs.executed_by)?.emp_name||"N/A"]}),(()=>{const Se=i.activeJobs.issued_to===ee.UHA_ID||i.activeJobs.first_verification_by===ee.UHA_ID||i.activeJobs.second_verification_by===ee.UHA_ID||i.activeJobs.extensions_authority===ee.UHA_ID,Oe=le||!Se;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"note-section-whatsapp",children:[t.jsx("label",{children:" Execution Note:"}),t.jsx("textarea",{style:{color:"black"},placeholder:le?"Closed..":Se?"Enter execution notes here... (Write how you executed the job / faced problems)":"Not authorized to add notes...",ref:He,value:nt(),onChange:pe=>Na(pe.target.value),disabled:Oe})]}),t.jsxs("div",{className:"media-section-whatsapp",children:[t.jsxs("div",{className:"media-header-whatsapp",children:[t.jsx("h4",{children:" Pre-Execution Media"}),!Oe&&t.jsx("button",{className:"add-media-btn-whatsapp",onClick:()=>is("preExecution"),children:"Add"})]}),he().length>0?t.jsx("div",{className:"media-gallery-whatsapp",children:he().map((pe,lt)=>{const rt=pe.url.replace(/\\/g,"/"),xt=rt.startsWith("http")?rt:`${ve.replace("/api/","/")}${rt}`;return t.jsxs("div",{className:"media-item-whatsapp",children:[pe.type?.startsWith("image/")?t.jsx("img",{src:xt,alt:pe.name,className:"media-preview-whatsapp",onClick:()=>{A(!0),K({...pe,url:xt})}}):pe.type?.startsWith("video/")?t.jsx("video",{src:xt,className:"media-preview-whatsapp",controls:!0}):t.jsxs("div",{className:"media-file-whatsapp",children:[t.jsx("div",{className:"file-icon-whatsapp",children:pe.type.includes("pdf")?"":pe.type.includes("word")?"":pe.type.includes("excel")?"":""}),t.jsx("div",{className:"file-name-whatsapp",children:pe.name})]}),!Oe&&t.jsx("button",{className:"remove-media-btn-whatsapp",onClick:()=>ba("preExecution",lt),children:""})]},lt)})}):t.jsx("div",{className:"media-placeholder-whatsapp",children:t.jsx("p",{children:"No pre-execution media added yet."})})]}),t.jsxs("div",{className:"media-section-whatsapp",children:[t.jsxs("div",{className:"media-header-whatsapp",children:[t.jsx("h4",{children:" Post-Execution Media"}),!Oe&&t.jsx("button",{className:"add-media-btn-whatsapp",onClick:()=>is("postExecution"),children:"Add"})]}),Nt().length>0?t.jsx("div",{className:"media-gallery-whatsapp",children:Nt().map((pe,lt)=>{const rt=pe.url.replace(/\\/g,"/"),xt=rt.startsWith("http")?rt:`${ve.replace("/api/","/")}${rt}`;return t.jsxs("div",{className:"media-item-whatsapp",children:[pe.type?.startsWith("image/")?t.jsx("img",{src:xt,alt:pe.name,className:"media-preview-whatsapp",onClick:()=>{A(!0),K({...pe,url:xt})}}):pe.type?.startsWith("video/")?t.jsx("video",{src:xt,className:"media-preview-whatsapp",controls:!0}):t.jsxs("div",{className:"media-file-whatsapp",children:[t.jsx("div",{className:"file-icon-whatsapp",children:pe.type.includes("pdf")?"":pe.type.includes("word")?"":pe.type.includes("excel")?"":""}),t.jsx("div",{className:"file-name-whatsapp",children:pe.name})]}),!Oe&&t.jsx("button",{className:"remove-media-btn-whatsapp",onClick:()=>ba("postExecution",lt),children:""})]},lt)})}):t.jsx("div",{className:"media-placeholder-whatsapp",children:t.jsx("p",{children:"No post-execution media added yet."})})]}),t.jsx("button",{className:"save-btn-whatsapp",onClick:Gn,disabled:Oe,title:Se?le?"Sheet is closed":"Save executed job details":"You are not authorized to save job details",style:{cursor:Oe?"not-allowed":"pointer",opacity:Oe?".5":"1"},children:" Save"})]})})()]});case"Report":return t.jsxs("div",{className:"report-section-whatsapp",children:[t.jsx("h3",{children:" Generate Job Report"}),t.jsx("p",{children:"Generate a comprehensive PDF report containing all job details, communications, media, and validation results."}),t.jsx("button",{onClick:()=>alert("PDF Generated!"),disabled:i?.activeJobs?.job_status!=7||le,style:{opacity:i?.activeJobs&&i?.activeJobs?.job_status==7&&!le?1:.5,cursor:i?.activeJobs&&i?.activeJobs?.job_status==7&&!le?"pointer":"not-allowed"},className:"generate-pdf-btn-whatsapp",children:" Generate PDF Report"})]});default:return t.jsx("p",{className:"placeholder-text",children:"No content defined for this tab."})}};if(j)return t.jsx($g,{isLoading:j});const Hn=we?.communicationTabs?.map(N=>({cth_id:N.cth_id,status:N.status,type:N.tab_type===1?"execution":"extension",attemptNo:N.tab_type===1?N.count:void 0,extNo:N.tab_type===2?N.count:void 0,subTabs:N.subTabs.map(re=>re)}))||[],is=N=>{X(N),Le.current?.click()},ua=async N=>{if(!N.target.files||N.target.files.length===0)return;const re=Array.from(N.target.files),Ne=ee?.UHA_ID;if(!Ne){alert("Please log in to upload media");return}if(!we||!it)return;const Te=we.communicationTabs.find(le=>le.tab_type===1&&it.type==="execution"||le.tab_type===2&&it.type==="extension");if(!Te)return;const Re=tt;if(Re)try{const le=[];for(let Se of re){const Oe=new FormData;Oe.append("comm_id",we.comm_id),Oe.append("ceh_id",Re.ceh_id),Oe.append("cth_id",Te.cth_id),Oe.append("sender_id",Ne),Oe.append("message_text",`Media upload for ${ye==="preExecution"?"Pre-Execution":"Post-Execution"}`);const pe=oe.find(rt=>rt.SHA_ID===i?.activeJobs?.SHA_ID)?.ship_name;pe&&Oe.append("ship_name",pe),Oe.append("attachments",Se);const lt={id:`${Date.now()}_${Math.random()}`,name:Se.name,size:Se.size,type:Se.type,file:Se,url:URL.createObjectURL(Se),status:"uploading"};le.push(lt),C(rt=>({...rt,[Re.ceh_id]:{...rt[Re.ceh_id]||{pre:[],post:[]},[ye==="preExecution"?"pre":"post"]:[...rt[Re.ceh_id]?.[ye==="preExecution"?"pre":"post"]||[],lt]}}))}for(let Se=0;Se<re.length;Se++){const Oe=re[Se],pe=le[Se],lt=new FormData;lt.append("comm_id",we.comm_id),lt.append("ceh_id",Re.ceh_id),lt.append("cth_id",Te.cth_id),lt.append("sender_id",Ne),lt.append("message_text",`Media upload for ${ye==="preExecution"?"Pre-Execution":"Post-Execution"}`);const rt=oe.find(xt=>xt.SHA_ID===i?.activeJobs?.SHA_ID)?.ship_name;rt&&lt.append("ship_name",rt),lt.append("attachments",Oe);try{const xt={headers:{"Content-Type":"multipart/form-data"}},It=await Je.post(`${ve}communication/message`,lt,xt);if(It.data.success&&It.data.attachments&&It.data.attachments.length>0){const Ba={...pe,url:It.data.attachments[0],status:"uploaded"};C(Gt=>({...Gt,[Re.ceh_id]:{...Gt[Re.ceh_id]||{pre:[],post:[]},[ye==="preExecution"?"pre":"post"]:Gt[Re.ceh_id]?.[ye==="preExecution"?"pre":"post"].map(aa=>aa.id===pe.id?Ba:aa)}}))}}catch(xt){console.error("Failed to upload media:",xt);const It={...pe,status:"failed"};C(Ba=>({...Ba,[Re.ceh_id]:{...Ba[Re.ceh_id]||{pre:[],post:[]},[ye==="preExecution"?"pre":"post"]:Ba[Re.ceh_id]?.[ye==="preExecution"?"pre":"post"].map(Gt=>Gt.id===pe.id?It:Gt)}}))}}N.target.value="",X(null)}catch(le){console.error("Error handling media upload:",le),alert("Failed to upload media. Please try again.")}},ba=(N,re)=>{tt&&C(Ne=>({...Ne,[tt.ceh_id]:{...Ne[tt.ceh_id]||{pre:[],post:[]},[N==="preExecution"?"pre":"post"]:Ne[tt.ceh_id]?.[N==="preExecution"?"pre":"post"].filter((Te,Re)=>Re!==re)}}))},Gn=async()=>{const N=ee?.UHA_ID;if(!N){alert("Please log in to save job details");return}if(!we||!it)return;const re=it.subTabs.find(Ne=>Ne.ceh_id===tt.ceh_id&&Ne.name==="ExecutedJobDetails");if(re)try{const Ne={text:nt()||"Executed job details updated",attachments:[],timestamp:new Date().toISOString()};let Te,Re={};if(he().length>0||Nt().length>0){Te=new FormData,Te.append("comm_id",we.comm_id),Te.append("ceh_id",re.ceh_id),Te.append("cth_id",it.cth_id),Te.append("sender_id",N),Te.append("message_text",JSON.stringify(Ne)),Te.append("sheet_type",re.type);const Se=oe.find(Oe=>Oe.SHA_ID===i?.activeJobs?.SHA_ID)?.ship_name;Se&&Te.append("ship_name",Se),[...he(),...Nt()].forEach(Oe=>{Oe.file&&Te.append("attachments",Oe.file)}),Re={headers:{"Content-Type":"multipart/form-data"}}}else Te={comm_id:we.comm_id,ceh_id:re.ceh_id,cth_id:it.cth_id,sender_id:N,message_text:JSON.stringify(Ne),sheet_type:re.type};if((await Je.post(`${ve}communication/message`,Te,Re)).data.success)alert("Job details saved successfully!"),await jn(re.ceh_id);else throw new Error("Failed to save job details")}catch(Ne){console.error("Failed to save job details:",Ne),alert("Failed to save job details. Please try again.")}},jn=async(N=null)=>{const re=N||tt?.ceh_id;if(!(!we||!it||!re))try{const Ne=await Je.get(`${ve}communication/sheet/${re}/messages?user_id=${ee?.UHA_ID}`);if(!Ne.data.success)return;const Te=ee?.UHA_ID,Re=Ne.data.messages||[];console.log("latestMessages : ",Re);const le=Re.map(pe=>{let lt="",rt=[];try{const Gt=JSON.parse(pe.text);lt=Gt.text||"",rt=Array.isArray(Gt.attachments)?Gt.attachments:[]}catch{lt=pe.text||"",rt=pe.attachments||[]}const xt=rt.map(Gt=>{const aa=Gt.split(".").pop()?.toLowerCase()||"";let st="application/octet-stream";["jpg","jpeg","png","gif","bmp","webp"].includes(aa)?st="image/"+(aa==="jpg"?"jpeg":aa):["mp4","webm","ogg"].includes(aa)?st="video/"+aa:["mp3","wav","ogg"].includes(aa)?st="audio/"+aa:aa==="pdf"?st="application/pdf":["doc","docx"].includes(aa)?st="application/msword":["xls","xlsx"].includes(aa)&&(st="application/vnd.ms-excel");const Xa=Gt.split("/").pop();return{id:`${pe.smd_id}_${Date.now()}_${Math.random()}`,name:Xa,type:st,url:Gt}}),It=lt?.includes("Pre-Execution"),Ba=lt?.includes("Post-Execution");return{id:`${pe.smd_id}_${pe.slot}`,type:pe.sender_id===Te?"sent":"received",note:lt,sender:ht(pe.sender_id),sender_id:pe.sender_id,attachments:xt,isPreExecution:It,isPostExecution:Ba}});_(pe=>({...pe,[re]:le}));const Se=le.filter(pe=>pe.isPreExecution).flatMap(pe=>pe.attachments),Oe=le.filter(pe=>pe.isPostExecution).flatMap(pe=>pe.attachments);C(pe=>({...pe,[re]:{pre:Se,post:Oe}}))}catch(Ne){console.error("Failed to load executed job details:",Ne)}},Et=async(N,re)=>{oa(Ne=>({...Ne,[N]:re}));try{if(N==="ExtensionRequest"&&re==="approved"){ga({key:N,decision:re}),Mt(!0);return}await si(N,re,null)}catch(Ne){console.error("Failed to record decision:",Ne),alert("Failed to record decision. Please try again."),oa(Te=>({...Te,[N]:null}))}},si=async(N,re,Ne=null)=>{try{const Te={jpha_id:i.activeJobs.JPHA_ID,decision_type:N,decision_status:re,user_id:ee?.UHA_ID};if(Ne&&(Te.new_execution_deadline=Ne),(await Je.post(`${ve}jobDecisionInCommunication`,Te)).data.success){if(alert("Decision recorded successfully!"),re==="rejected"){await new Promise(Se=>setTimeout(Se,500));const le=await Je.get(`${ve}communication/${we.comm_id}`);if(le.data.success){const Se=le.data.commStructure;Ze(Se);const Oe=Se.communicationTabs.map(pe=>({cth_id:pe.cth_id,type:pe.tab_type===1?"execution":"extension",attemptNo:pe.tab_type===1?pe.count:void 0,extNo:pe.tab_type===2?pe.count:void 0,subTabs:pe.subTabs.map(lt=>lt)}));if(Oe.length>0){const pe=Oe[Oe.length-1];if(kt(pe),pe.subTabs.length>0){const lt=pe.subTabs[0];St(lt),await Ln(pe,lt,Se)}}}}typeof f=="function"&&await f(),typeof d=="function"&&await d(),typeof o=="function"&&await o(),Mt(!1),ga(null),Jt("")}}catch(Te){console.error("Failed to record decision:",Te),alert("Failed to record decision. Please try again."),oa(Re=>({...Re,[N]:null}))}},On=N=>({1:"Planned",2:"Acknowledged",3:"Not Acknowledged",4:"Execution Done",5:"1st Validation Approved",6:"Final Validation Approved",7:"Extention Requested",8:"Extention Approved"})[N]||"Unknown",hn=N=>[1,2,3].includes(N)?"Under-Execution":[5,6].includes(N)?"in-progress":N===7?"completed":N===8?"closed":"unknown",Aa=(N,re)=>{const Ne=N.type==="sent";return t.jsxs("div",{className:`message-bubble-whatsapp ${Ne?"sent":"received"}`,onContextMenu:Te=>ia(Te,N,re),onClick:la,children:[!Ne&&t.jsx("div",{className:"bubble-sender-name-whatsapp",children:N.sender}),t.jsxs("div",{className:"bubble-content-whatsapp",children:[N.text&&t.jsx("div",{className:"bubble-text-whatsapp",children:N.text}),N.attachments?.map(Te=>{const Re=Te.url.replace(/\\/g,"/"),le=Re.startsWith("http")?Re:`${ve.replace("/api/","/")}${Re}`;return t.jsx("div",{className:"attachment-preview-whatsapp",children:Te.type?.startsWith("image/")?t.jsx("img",{src:le,alt:Te.name,className:"attachment-image-whatsapp",onClick:()=>{A(!0),K({...Te,url:le})}}):t.jsxs("div",{className:"file-attachment-whatsapp",children:[t.jsx("div",{className:"file-icon-whatsapp",children:Te.type.includes("pdf")?"":Te.type.includes("word")?"":Te.type.includes("excel")?"":Te.type.startsWith("video/")?"":Te.type.startsWith("audio/")?"":""}),t.jsxs("div",{className:"file-info-whatsapp",children:[t.jsx("div",{className:"file-name-whatsapp",children:Te.name}),t.jsxs("div",{className:"file-size-whatsapp",children:[(Te.size/1024).toFixed(1)," KB"]}),t.jsx("button",{className:"download-btn-whatsapp",onClick:Se=>{Se.stopPropagation(),Da({...Te,url:le})},title:"Download file",children:" Download"})]})]})},Te.id||Te.url)})]}),t.jsxs("div",{className:"bubble-footer-whatsapp",children:[t.jsx("span",{className:"bubble-time-whatsapp",children:N.timestamp}),Ne&&t.jsxs("span",{className:"seen-status-whatsapp",title:bn(N).title,children:[t.jsx("span",{style:{color:bn(N).color},children:bn(N).icon}),N.seenBy&&N.seenBy.length>1&&t.jsxs("span",{className:"seen-count",children:["(",N.seenBy.length-1,")"]})]})]})]},N.id)},Sn=()=>{J(N=>Math.min(N+.25,5))},In=()=>{J(N=>Math.max(N-.25,.5))},Ja=()=>{J(1),be({x:0,y:0})},ls=()=>{fe(!0)},Ds=N=>{$>1&&(te(!0),me({x:N.clientX-ue.x,y:N.clientY-ue.y}))},Mi=N=>{ne&&be({x:N.clientX-Ce.x,y:N.clientY-Ce.y})},Yn=()=>{te(!1)};return t.jsxs("div",{id:"communication_module_main_container",children:[t.jsx("div",{id:"communication_header",children:t.jsxs("div",{className:"header-grid",children:[t.jsxs("div",{className:"header-card",children:[t.jsx("h5",{className:"header-section-title",children:" Allocation"}),t.jsxs("div",{className:"header-item",children:[t.jsx("span",{className:"header-label",children:"Initially Allocated To:"}),t.jsx("span",{className:"header-value",children:"Mr. Amit Gupta"})]}),t.jsxs("div",{className:"header-item",children:[t.jsx("span",{className:"header-label",children:"Presently Allocated To:"}),t.jsx("span",{className:"header-value",children:ae.find(N=>N.UHA_ID===i.activeJobs.issued_to)?.emp_name||"N/A"})]}),t.jsxs("div",{className:"header-item",children:[t.jsx("span",{className:"header-label",children:"1st Approval By:"}),t.jsx("span",{className:"header-value",children:ae.find(N=>N.UHA_ID===i.activeJobs.first_verification_by)?.emp_name||"N/A"})]}),t.jsxs("div",{className:"header-item",children:[t.jsx("span",{className:"header-label",children:"2nd Approval By:"}),t.jsx("span",{className:"header-value",children:ae.find(N=>N.UHA_ID===i.activeJobs.second_verification_by)?.emp_name||"N/A"})]})]}),t.jsxs("div",{className:"header-card",children:[t.jsx("h5",{className:"header-section-title",children:" Job Details"}),t.jsxs("div",{className:"header-item",children:[t.jsx("span",{className:"header-label",children:"JCD Name:"}),t.jsx("span",{className:"header-value",children:i.relatedJCD.jcd_name||"N/A"})]}),t.jsxs("div",{className:"header-item",children:[t.jsx("span",{className:"header-label",children:"Job No:"}),t.jsx("span",{className:"header-value",children:i.activeJobs.JPHA_ID||"N/A"})]}),t.jsxs("div",{className:"header-item",children:[t.jsx("span",{className:"header-label",children:"Generation Date:"}),t.jsx("span",{className:"header-value",children:i.activeJobs.generated_on?new Date(i.activeJobs.generated_on).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"header-item",children:[t.jsx("span",{className:"header-label",children:"Job Status:"}),t.jsx("span",{className:`header-value status-badge-for-communication-header status-${hn(i.activeJobs.job_status)}`,style:{width:"fit-content",display:"inline-block"},children:On(i.activeJobs.job_status)})]})]}),t.jsxs("div",{className:"header-card",children:[t.jsx("h5",{className:"header-section-title",children:" Timeline"}),(()=>{const N=i?.activeJobs?.generated_on,re=i?.activeJobs?.job_completed_till;if(!N||!re)return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"header-item",children:[t.jsx("span",{className:"header-label",children:"Ideal Days to Complete:"}),t.jsx("span",{className:"header-value",children:"--"})]}),t.jsxs("div",{className:"header-item",children:[t.jsx("span",{className:"header-label",children:"Days Passed:"}),t.jsx("span",{className:"header-value",children:"--"})]}),t.jsxs("div",{className:"header-item",children:[t.jsx("span",{className:"header-label",children:"Status:"}),t.jsx("span",{className:"header-value",children:"N/A"})]})]});const Ne=Go(re).diff(Go(N),"day"),Te=Go().diff(Go(N),"day"),Re=Te>Ne?"Overdue":"On Track";return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"header-item",children:[t.jsx("span",{className:"header-label",children:"Ideal Days to Complete:"}),t.jsx("span",{className:"header-value",children:Ne})]}),t.jsxs("div",{className:"header-item",children:[t.jsx("span",{className:"header-label",children:"Days Passed:"}),t.jsx("span",{className:"header-value",children:Te})]}),t.jsxs("div",{className:"header-item",children:[t.jsx("span",{className:"header-label",children:"Status:"}),t.jsx("span",{className:`header-value status-badge-for-communication-header ${Re==="Overdue"?"status-overdue":"status-ontime"}`,children:Re})]})]})})()]})]})}),t.jsx("div",{className:"tabs",children:Hn.map((N,re)=>{const Ne=N.status;let Te="tab";if(it?.cth_id===N.cth_id&&(Te+=" active"),N.type==="extension"){const Re=De.find(le=>le.jcd_id===i.relatedJCD?.jcd_id&&le.JPTA_ID===i.activeJobs.JPHA_ID&&(le.JEDA_ID===i.activeJobs.ext1||le.JEDA_ID===i.activeJobs.ext2||le.JEDA_ID===i.activeJobs.ext3));Re&&(Re.ext_request_status===1?Te+=" extension-request":Re.ext_request_status===3?Te+=" extension-rejected":Re.ext_request_status===2&&(Te+=" extension-approved"))}return t.jsx("button",{className:Te,onClick:()=>Ra(N),children:N.type==="execution"?Ne==1?"Attempt - A":"Attempt - F":`Extension ${N.extNo}`},re)})}),t.jsx(ki,{}),t.jsx(ni,{}),t.jsxs("div",{className:"main-content-wrapper",children:[t.jsx("div",{className:"left-panel",children:t.jsx("div",{className:"attempt-details-container",children:tn()})}),t.jsxs("div",{className:"right-panel",children:[t.jsx("div",{className:"sub-tabs",children:it?.subTabs?.map((N,re)=>t.jsx(t.Fragment,{children:t.jsxs("button",{className:tt?.ceh_id===N.ceh_id?"sub-tab active":"sub-tab",onClick:()=>Kt(N),children:[N.name==="PreJob"&&" Pre Job Comm.",N.name==="ExecutedJobDetails"&&" Execution Details",N.name==="Validation1"&&" 1st Validation Comm",N.name==="Validation2"&&" 2nd Validation Comm.",N.name==="Report"&&" Report",N.name==="ExtensionA"&&"Extension A Comm.",N.name==="ExtensionB"&&"Extension B Comm."]},re)}))}),t.jsx("div",{className:"content-area",children:t.jsx("div",{className:"subtab-scroll-container",children:Bt()})})]})]}),T&&V&&t.jsx("div",{className:"image-zoom-modal-overlay",onClick:()=>A(!1),children:t.jsxs("div",{className:"image-zoom-modal",onClick:N=>N.stopPropagation(),children:[t.jsxs("div",{className:"zoom-modal-header",children:[t.jsxs("div",{className:"image-info",children:[t.jsx("div",{className:"image-name",children:V.name}),t.jsx("div",{className:"image-size",children:V.size?`(${(V.size/1024/1024).toFixed(2)} MB)`:""})]}),t.jsxs("div",{className:"zoom-controls",children:[t.jsx("button",{className:"zoom-control-btn download-btn",onClick:()=>Da(V),title:"Download Image",children:t.jsx("span",{className:"control-icon",children:""})}),t.jsx("button",{className:"zoom-control-btn close-btn",onClick:()=>A(!1),title:"Close (Esc)",children:t.jsx("span",{className:"control-icon",children:""})})]})]}),t.jsxs("div",{className:"zoom-image-container",children:[t.jsx("img",{src:V.url,alt:V.name,className:`zoomed-image ${$>1?"zoomed":""}`,style:{transform:`scale(${$}) translate(${ue.x}px, ${ue.y}px)`,cursor:$>1?ne?"grabbing":"grab":"default"},onLoad:ls,onMouseDown:Ds,onMouseMove:Mi,onMouseUp:Yn,onMouseLeave:Yn,onClick:N=>{$===1?Sn():Ja(),N.stopPropagation()}}),t.jsxs("div",{className:"image-loading",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("span",{children:"Loading image..."})]})]}),t.jsxs("div",{className:"zoom-modal-footer",children:[t.jsxs("div",{className:"zoom-actions",children:[t.jsx("button",{className:"zoom-action-btn",onClick:In,title:"Zoom Out (-)",children:t.jsx("span",{className:"action-icon",children:"-"})}),t.jsx("button",{className:"zoom-action-btn",onClick:Sn,title:"Zoom In (+)",children:t.jsx("span",{className:"action-icon",children:"+"})}),t.jsx("button",{className:"zoom-action-btn",onClick:Ja,title:"Reset Zoom (0)",children:t.jsx("span",{className:"action-icon",children:""})})]}),t.jsxs("div",{className:"image-counter",children:[t.jsx("span",{className:"current-index",children:"1"}),t.jsx("span",{className:"total-count",children:" / 1"})]}),t.jsxs("div",{className:"navigation-actions",children:[t.jsx("button",{className:"nav-btn prev-btn",disabled:!0,title:"Previous Image ()",children:t.jsx("span",{className:"nav-icon",children:""})}),t.jsx("button",{className:"nav-btn next-btn",disabled:!0,title:"Next Image ()",children:t.jsx("span",{className:"nav-icon",children:""})})]})]})]})}),t.jsx("input",{type:"file",ref:Le,style:{display:"none"},onChange:ua,multiple:!0}),$e&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:t.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",width:"400px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[t.jsx("h3",{style:{marginBottom:"15px"},children:" Approve Extension"}),t.jsx("p",{children:"Please enter the new execution deadline:"}),t.jsx("input",{type:"date",value:pa,onChange:N=>Jt(N.target.value),style:{width:"100%",padding:"8px",marginBottom:"15px",border:"1px solid #ccc",borderRadius:"4px"}}),t.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[t.jsx("button",{onClick:()=>{Mt(!1),ga(null),Jt("")},style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cancel"}),t.jsx("button",{onClick:()=>{if(!pa){alert("Please enter a deadline");return}si(vn.key,vn.decision,pa)},style:{padding:"8px 16px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Approve"})]})]})})]})};function Fg(i){var r,d,o="";if(typeof i=="string"||typeof i=="number")o+=i;else if(typeof i=="object")if(Array.isArray(i)){var f=i.length;for(r=0;r<f;r++)i[r]&&(d=Fg(i[r]))&&(o&&(o+=" "),o+=d)}else for(d in i)i[d]&&(o&&(o+=" "),o+=d);return o}function Di(){for(var i,r,d=0,o="",f=arguments.length;d<f;d++)(i=arguments[d])&&(r=Fg(i))&&(o&&(o+=" "),o+=r);return o}function N0(i){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.type="text/css",r.firstChild?r.insertBefore(d,r.firstChild):r.appendChild(d),d.styleSheet?d.styleSheet.cssText=i:d.appendChild(document.createTextNode(i))}N0(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var wr=i=>typeof i=="number"&&!isNaN(i),wi=i=>typeof i=="string",Ns=i=>typeof i=="function",C0=i=>wi(i)||wr(i),zu=i=>wi(i)||Ns(i)?i:null,D0=(i,r)=>i===!1||wr(i)&&i>0?i:r,qu=i=>u.isValidElement(i)||wi(i)||Ns(i)||wr(i);function A0(i,r,d=300){let{scrollHeight:o,style:f}=i;requestAnimationFrame(()=>{f.minHeight="initial",f.height=o+"px",f.transition=`all ${d}ms`,requestAnimationFrame(()=>{f.height="0",f.padding="0",f.margin="0",setTimeout(r,d)})})}function w0({enter:i,exit:r,appendPosition:d=!1,collapse:o=!0,collapseDuration:f=300}){return function({children:h,position:p,preventExitTransition:y,done:x,nodeRef:_,isIn:b,playToast:C}){let k=d?`${i}--${p}`:i,I=d?`${r}--${p}`:r,w=u.useRef(0);return u.useLayoutEffect(()=>{let M=_.current,H=k.split(" "),L=$=>{$.target===_.current&&(C(),M.removeEventListener("animationend",L),M.removeEventListener("animationcancel",L),w.current===0&&$.type!=="animationcancel"&&M.classList.remove(...H))};M.classList.add(...H),M.addEventListener("animationend",L),M.addEventListener("animationcancel",L)},[]),u.useEffect(()=>{let M=_.current,H=()=>{M.removeEventListener("animationend",H),o?A0(M,x,f):x()};b||(y?H():(w.current=1,M.className+=` ${I}`,M.addEventListener("animationend",H)))},[b]),Lt.createElement(Lt.Fragment,null,h)}}function Vp(i,r){return{content:Vg(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:r}}function Vg(i,r,d=!1){return u.isValidElement(i)&&!wi(i.type)?u.cloneElement(i,{closeToast:r.closeToast,toastProps:r,data:r.data,isPaused:d}):Ns(i)?i({closeToast:r.closeToast,toastProps:r,data:r.data,isPaused:d}):i}function E0({closeToast:i,theme:r,ariaLabel:d="close"}){return Lt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:o=>{o.stopPropagation(),i(!0)},"aria-label":d},Lt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Lt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function T0({delay:i,isRunning:r,closeToast:d,type:o="default",hide:f,className:h,controlledProgress:p,progress:y,rtl:x,isIn:_,theme:b}){let C=f||p&&y===0,k={animationDuration:`${i}ms`,animationPlayState:r?"running":"paused"};p&&(k.transform=`scaleX(${y})`);let I=Di("Toastify__progress-bar",p?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${b}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":x}),w=Ns(h)?h({rtl:x,type:o,defaultClassName:I}):Di(I,h),M={[p&&y>=1?"onTransitionEnd":"onAnimationEnd"]:p&&y<1?null:()=>{_&&d()}};return Lt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":C},Lt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${b} Toastify__progress-bar--${o}`}),Lt.createElement("div",{role:"progressbar","aria-hidden":C?"true":"false","aria-label":"notification timer",className:w,style:k,...M}))}var k0=1,Gg=()=>`${k0++}`;function M0(i,r,d){let o=1,f=0,h=[],p=[],y=r,x=new Map,_=new Set,b=$=>(_.add($),()=>_.delete($)),C=()=>{p=Array.from(x.values()),_.forEach($=>$())},k=({containerId:$,toastId:J,updateId:ne})=>{let te=$?$!==i:i!==1,Ce=x.has(J)&&ne==null;return te||Ce},I=($,J)=>{x.forEach(ne=>{var te;(J==null||J===ne.props.toastId)&&((te=ne.toggle)==null||te.call(ne,$))})},w=$=>{var J,ne;(ne=(J=$.props)==null?void 0:J.onClose)==null||ne.call(J,$.removalReason),$.isActive=!1},M=$=>{if($==null)x.forEach(w);else{let J=x.get($);J&&w(J)}C()},H=()=>{f-=h.length,h=[]},L=$=>{var J,ne;let{toastId:te,updateId:Ce}=$.props,me=Ce==null;$.staleId&&x.delete($.staleId),$.isActive=!0,x.set(te,$),C(),d(Vp($,me?"added":"updated")),me&&((ne=(J=$.props).onOpen)==null||ne.call(J))};return{id:i,props:y,observe:b,toggle:I,removeToast:M,toasts:x,clearQueue:H,buildToast:($,J)=>{if(k(J))return;let{toastId:ne,updateId:te,data:Ce,staleId:me,delay:ue}=J,be=te==null;be&&f++;let P={...y,style:y.toastStyle,key:o++,...Object.fromEntries(Object.entries(J).filter(([He,Le])=>Le!=null)),toastId:ne,updateId:te,data:Ce,isIn:!1,className:zu(J.className||y.toastClassName),progressClassName:zu(J.progressClassName||y.progressClassName),autoClose:J.isLoading?!1:D0(J.autoClose,y.autoClose),closeToast(He){x.get(ne).removalReason=He,M(ne)},deleteToast(){let He=x.get(ne);if(He!=null){if(d(Vp(He,"removed")),x.delete(ne),f--,f<0&&(f=0),h.length>0){L(h.shift());return}C()}}};P.closeButton=y.closeButton,J.closeButton===!1||qu(J.closeButton)?P.closeButton=J.closeButton:J.closeButton===!0&&(P.closeButton=qu(y.closeButton)?y.closeButton:!0);let fe={content:$,props:P,staleId:me};y.limit&&y.limit>0&&f>y.limit&&be?h.push(fe):wr(ue)?setTimeout(()=>{L(fe)},ue):L(fe)},setProps($){y=$},setToggle:($,J)=>{let ne=x.get($);ne&&(ne.toggle=J)},isToastActive:$=>{var J;return(J=x.get($))==null?void 0:J.isActive},getSnapshot:()=>p}}var Qa=new Map,Sr=[],Pu=new Set,R0=i=>Pu.forEach(r=>r(i)),Yg=()=>Qa.size>0;function L0(){Sr.forEach(i=>Zg(i.content,i.options)),Sr=[]}var H0=(i,{containerId:r})=>{var d;return(d=Qa.get(r||1))==null?void 0:d.toasts.get(i)};function Xg(i,r){var d;if(r)return!!((d=Qa.get(r))!=null&&d.isToastActive(i));let o=!1;return Qa.forEach(f=>{f.isToastActive(i)&&(o=!0)}),o}function O0(i){if(!Yg()){Sr=Sr.filter(r=>i!=null&&r.options.toastId!==i);return}if(i==null||C0(i))Qa.forEach(r=>{r.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let r=Qa.get(i.containerId);r?r.removeToast(i.id):Qa.forEach(d=>{d.removeToast(i.id)})}}var I0=(i={})=>{Qa.forEach(r=>{r.props.limit&&(!i.containerId||r.id===i.containerId)&&r.clearQueue()})};function Zg(i,r){qu(i)&&(Yg()||Sr.push({content:i,options:r}),Qa.forEach(d=>{d.buildToast(i,r)}))}function U0(i){var r;(r=Qa.get(i.containerId||1))==null||r.setToggle(i.id,i.fn)}function Qg(i,r){Qa.forEach(d=>{(r==null||!(r!=null&&r.containerId)||r?.containerId===d.id)&&d.toggle(i,r?.id)})}function J0(i){let r=i.containerId||1;return{subscribe(d){let o=M0(r,i,R0);Qa.set(r,o);let f=o.observe(d);return L0(),()=>{f(),Qa.delete(r)}},setProps(d){var o;(o=Qa.get(r))==null||o.setProps(d)},getSnapshot(){var d;return(d=Qa.get(r))==null?void 0:d.getSnapshot()}}}function B0(i){return Pu.add(i),()=>{Pu.delete(i)}}function z0(i){return i&&(wi(i.toastId)||wr(i.toastId))?i.toastId:Gg()}function Er(i,r){return Zg(i,r),r.toastId}function xc(i,r){return{...r,type:r&&r.type||i,toastId:z0(r)}}function yc(i){return(r,d)=>Er(r,xc(i,d))}function Ye(i,r){return Er(i,xc("default",r))}Ye.loading=(i,r)=>Er(i,xc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...r}));function q0(i,{pending:r,error:d,success:o},f){let h;r&&(h=wi(r)?Ye.loading(r,f):Ye.loading(r.render,{...f,...r}));let p={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},y=(_,b,C)=>{if(b==null){Ye.dismiss(h);return}let k={type:_,...p,...f,data:C},I=wi(b)?{render:b}:b;return h?Ye.update(h,{...k,...I}):Ye(I.render,{...k,...I}),C},x=Ns(i)?i():i;return x.then(_=>y("success",o,_)).catch(_=>y("error",d,_)),x}Ye.promise=q0;Ye.success=yc("success");Ye.info=yc("info");Ye.error=yc("error");Ye.warning=yc("warning");Ye.warn=Ye.warning;Ye.dark=(i,r)=>Er(i,xc("default",{theme:"dark",...r}));function P0(i){O0(i)}Ye.dismiss=P0;Ye.clearWaitingQueue=I0;Ye.isActive=Xg;Ye.update=(i,r={})=>{let d=H0(i,r);if(d){let{props:o,content:f}=d,h={delay:100,...o,...r,toastId:r.toastId||i,updateId:Gg()};h.toastId!==i&&(h.staleId=i);let p=h.render||f;delete h.render,Er(p,h)}};Ye.done=i=>{Ye.update(i,{progress:1})};Ye.onChange=B0;Ye.play=i=>Qg(!0,i);Ye.pause=i=>Qg(!1,i);function $0(i){var r;let{subscribe:d,getSnapshot:o,setProps:f}=u.useRef(J0(i)).current;f(i);let h=(r=u.useSyncExternalStore(d,o,o))==null?void 0:r.slice();function p(y){if(!h)return[];let x=new Map;return i.newestOnTop&&h.reverse(),h.forEach(_=>{let{position:b}=_.props;x.has(b)||x.set(b,[]),x.get(b).push(_)}),Array.from(x,_=>y(_[0],_[1]))}return{getToastToRender:p,isToastActive:Xg,count:h?.length}}function F0(i){let[r,d]=u.useState(!1),[o,f]=u.useState(!1),h=u.useRef(null),p=u.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:y,pauseOnHover:x,closeToast:_,onClick:b,closeOnClick:C}=i;U0({id:i.toastId,containerId:i.containerId,fn:d}),u.useEffect(()=>{if(i.pauseOnFocusLoss)return k(),()=>{I()}},[i.pauseOnFocusLoss]);function k(){document.hasFocus()||L(),window.addEventListener("focus",H),window.addEventListener("blur",L)}function I(){window.removeEventListener("focus",H),window.removeEventListener("blur",L)}function w(me){if(i.draggable===!0||i.draggable===me.pointerType){$();let ue=h.current;p.canCloseOnClick=!0,p.canDrag=!0,ue.style.transition="none",i.draggableDirection==="x"?(p.start=me.clientX,p.removalDistance=ue.offsetWidth*(i.draggablePercent/100)):(p.start=me.clientY,p.removalDistance=ue.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function M(me){let{top:ue,bottom:be,left:P,right:fe}=h.current.getBoundingClientRect();me.nativeEvent.type!=="touchend"&&i.pauseOnHover&&me.clientX>=P&&me.clientX<=fe&&me.clientY>=ue&&me.clientY<=be?L():H()}function H(){d(!0)}function L(){d(!1)}function $(){p.didMove=!1,document.addEventListener("pointermove",ne),document.addEventListener("pointerup",te)}function J(){document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",te)}function ne(me){let ue=h.current;if(p.canDrag&&ue){p.didMove=!0,r&&L(),i.draggableDirection==="x"?p.delta=me.clientX-p.start:p.delta=me.clientY-p.start,p.start!==me.clientX&&(p.canCloseOnClick=!1);let be=i.draggableDirection==="x"?`${p.delta}px, var(--y)`:`0, calc(${p.delta}px + var(--y))`;ue.style.transform=`translate3d(${be},0)`,ue.style.opacity=`${1-Math.abs(p.delta/p.removalDistance)}`}}function te(){J();let me=h.current;if(p.canDrag&&p.didMove&&me){if(p.canDrag=!1,Math.abs(p.delta)>p.removalDistance){f(!0),i.closeToast(!0),i.collapseAll();return}me.style.transition="transform 0.2s, opacity 0.2s",me.style.removeProperty("transform"),me.style.removeProperty("opacity")}}let Ce={onPointerDown:w,onPointerUp:M};return y&&x&&(Ce.onMouseEnter=L,i.stacked||(Ce.onMouseLeave=H)),C&&(Ce.onClick=me=>{b&&b(me),p.canCloseOnClick&&_(!0)}),{playToast:H,pauseToast:L,isRunning:r,preventExitTransition:o,toastRef:h,eventHandlers:Ce}}var V0=typeof window<"u"?u.useLayoutEffect:u.useEffect,vc=({theme:i,type:r,isLoading:d,...o})=>Lt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${r})`,...o});function G0(i){return Lt.createElement(vc,{...i},Lt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Y0(i){return Lt.createElement(vc,{...i},Lt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function X0(i){return Lt.createElement(vc,{...i},Lt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Z0(i){return Lt.createElement(vc,{...i},Lt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Q0(){return Lt.createElement("div",{className:"Toastify__spinner"})}var $u={info:Y0,warning:G0,success:X0,error:Z0,spinner:Q0},K0=i=>i in $u;function W0({theme:i,type:r,isLoading:d,icon:o}){let f=null,h={theme:i,type:r};return o===!1||(Ns(o)?f=o({...h,isLoading:d}):u.isValidElement(o)?f=u.cloneElement(o,h):d?f=$u.spinner():K0(r)&&(f=$u[r](h))),f}var ej=i=>{let{isRunning:r,preventExitTransition:d,toastRef:o,eventHandlers:f,playToast:h}=F0(i),{closeButton:p,children:y,autoClose:x,onClick:_,type:b,hideProgressBar:C,closeToast:k,transition:I,position:w,className:M,style:H,progressClassName:L,updateId:$,role:J,progress:ne,rtl:te,toastId:Ce,deleteToast:me,isIn:ue,isLoading:be,closeOnClick:P,theme:fe,ariaLabel:He}=i,Le=Di("Toastify__toast",`Toastify__toast-theme--${fe}`,`Toastify__toast--${b}`,{"Toastify__toast--rtl":te},{"Toastify__toast--close-on-click":P}),ye=Ns(M)?M({rtl:te,position:w,type:b,defaultClassName:Le}):Di(Le,M),X=W0(i),T=!!ne||!x,A={closeToast:k,type:b,theme:fe},V=null;return p===!1||(Ns(p)?V=p(A):u.isValidElement(p)?V=u.cloneElement(p,A):V=E0(A)),Lt.createElement(I,{isIn:ue,done:me,position:w,preventExitTransition:d,nodeRef:o,playToast:h},Lt.createElement("div",{id:Ce,tabIndex:0,onClick:_,"data-in":ue,className:ye,...f,style:H,ref:o,...ue&&{role:J,"aria-label":He}},X!=null&&Lt.createElement("div",{className:Di("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!be})},X),Vg(y,i,!r),V,!i.customProgressBar&&Lt.createElement(T0,{...$&&!T?{key:`p-${$}`}:{},rtl:te,theme:fe,delay:x,isRunning:r,isIn:ue,closeToast:k,hide:C,type:b,className:L,controlledProgress:T,progress:ne||0})))},tj=(i,r=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:r}),aj=w0(tj("bounce",!0)),nj={position:"top-right",transition:aj,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function sj(i){let r={...nj,...i},d=i.stacked,[o,f]=u.useState(!0),h=u.useRef(null),{getToastToRender:p,isToastActive:y,count:x}=$0(r),{className:_,style:b,rtl:C,containerId:k,hotKeys:I}=r;function w(H){let L=Di("Toastify__toast-container",`Toastify__toast-container--${H}`,{"Toastify__toast-container--rtl":C});return Ns(_)?_({position:H,rtl:C,defaultClassName:L}):Di(L,zu(_))}function M(){d&&(f(!0),Ye.play())}return V0(()=>{var H;if(d){let L=h.current.querySelectorAll('[data-in="true"]'),$=12,J=(H=r.position)==null?void 0:H.includes("top"),ne=0,te=0;Array.from(L).reverse().forEach((Ce,me)=>{let ue=Ce;ue.classList.add("Toastify__toast--stacked"),me>0&&(ue.dataset.collapsed=`${o}`),ue.dataset.pos||(ue.dataset.pos=J?"top":"bot");let be=ne*(o?.2:1)+(o?0:$*me);ue.style.setProperty("--y",`${J?be:be*-1}px`),ue.style.setProperty("--g",`${$}`),ue.style.setProperty("--s",`${1-(o?te:0)}`),ne+=ue.offsetHeight,te+=.025})}},[o,x,d]),u.useEffect(()=>{function H(L){var $;let J=h.current;I(L)&&(($=J.querySelector('[tabIndex="0"]'))==null||$.focus(),f(!1),Ye.pause()),L.key==="Escape"&&(document.activeElement===J||J!=null&&J.contains(document.activeElement))&&(f(!0),Ye.play())}return document.addEventListener("keydown",H),()=>{document.removeEventListener("keydown",H)}},[I]),Lt.createElement("section",{ref:h,className:"Toastify",id:k,onMouseEnter:()=>{d&&(f(!1),Ye.pause())},onMouseLeave:M,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":r["aria-label"]},p((H,L)=>{let $=L.length?{...b}:{...b,pointerEvents:"none"};return Lt.createElement("div",{tabIndex:-1,className:w(H),"data-stacked":d,style:$,key:`c-${H}`},L.map(({content:J,props:ne})=>Lt.createElement(ej,{...ne,stacked:d,collapseAll:M,isIn:y(ne.toastId,ne.containerId),key:`t-${ne.key}`},J)))}))}const ij=()=>{const i="https://udayerp.com/pms/server/api/",[r,d]=u.useState(null),{selectedNode:o,refreshTree:f,selectNode:h,clearSelection:p,updateExecutionStatus:y,clearExecutionStatus:x}=u.useContext(Ti),{JCD_schedule_List:_,refreshJCDSchedules:b}=u.useContext(pc),{jobTypesList:C,refreshJobTypes:k}=u.useContext(Jg),{user:I}=u.useContext(Va),{profiles:w}=u.useContext(ai),{shipsList:M,refreshShipsList:H,setShipsList:L}=u.useContext(ss),{mainCategoryList:$,refreshMainCategoryList:J}=u.useContext(Bg),{subCategoryList:ne,refreshSubCategoryList:te}=u.useContext(zg),{secondSubCategoryList:Ce,refreshSecondSubCategoryList:me}=u.useContext(qg),{thirdSubCategoryList:ue,refreshThirdSubCategoryList:be}=u.useContext(Pg),{employeeList:P,refreshEmployeeList:fe}=u.useContext(_c),{designationList:He,refreshDesignationList:Le}=u.useContext(vl),{plannedJobList:ye,refreshPlannedJobs:X,activeJobStatusMap:T}=u.useContext(gc),{JCD_ship_wise_group_combinations_list:A,RefreshJCD_ship_wise_group_combinations:V}=u.useContext(lf),{refreshExtendedJobsList:K,extendedJobsList:j}=u.useContext(rf),{officeStaffList:B,refreshOfficeStaffList:ae}=u.useContext(Ei),[U,ie]=u.useState(!1),[De,ee]=u.useState("view_jcd");u.useEffect(()=>{ee("view_jcd"),h(null),tt(!0),Qt(!1),pa(!1),vn(null),qe([]),Ot(!1),ws(),Le(),fe(),b(),J(),te(),me(),be(),H(),f(),k(),K(),window.scrollTo(0,0)},[]),u.useEffect(()=>{console.log("JCD_ship_wise_group_combinations_list : ",A)},[A]);const[oe,je]=u.useState({jcd_name:"",JTH_ID:"",SHA_ID:"",criticality:"",job_generation_type:[],operational_interval:"",time_scale:"",km_interval:"",periodic_interval:"",jcd_category:"",jcd_instruction_manual:null,jcd_check_list:[],status:"1",deactivated_by:"",deactivated_on:"",job_will_generate_on:[],lest_executed_status:"",consumable_spare1:"",consumable_spare2:"",consumable_spare3:"",consumable_spare4:"",consumable_spare5:"",consumable_spare6:"",consumable_spare7:"",consumable_spare8:"",consumable_spare9:"",consumable_spare10:"",executed_by:"",secondary_desg:"",first_verified_by:"",second_verified_by:"",pre_execution_image_required:"0",post_execution_image_required:"0",video_of_execution_required:"0",pdf_file_for_execution_required:"0",extension_authority:"",jcd_applied_cat:"",jcd_applied_sub_cat:"",jcd_applied_2nd_sub_cat:"",jcd_applied_3rd_sub_cat:"",jcd_applied_part:""}),[Be,ct]=u.useState(!1),[We,ke]=u.useState([""]),[Q,we]=u.useState(!1),[Ze,it]=u.useState([""]),[kt,tt]=u.useState(!0),[St,Qt]=u.useState(!1),[oa,cn]=u.useState(null),[_t,Me]=u.useState(null),[Ga,$e]=u.useState(null),[Mt,pa]=u.useState(!1),[Jt,vn]=u.useState(null),[ga,qe]=u.useState([]),[ve,nt]=u.useState([]),[he,Nt]=u.useState([]),[Na,Ot]=u.useState(!1),[_a,Ca]=u.useState(!1),[va,ca]=u.useState(!1),[Vn,Ya]=u.useState(!1),[dn,Ka]=u.useState({}),[Wa,un]=u.useState({}),[en,Da]=u.useState(""),[ia,la]=u.useState(!1),[Rn,bn]=u.useState(!1),[ki,ni]=u.useState(!1),[Ln,fn]=u.useState([]),[ht,Ra]=u.useState(!1),[Kt,da]=u.useState([]),[tn,Bt]=u.useState(!1),[Hn,is]=u.useState(null),[ua,ba]=u.useState(0),[Gn,jn]=u.useState(!1),[Et,si]=u.useState(null),[On,hn]=u.useState(!1),[Aa,Sn]=u.useState(!1),[In,Ja]=u.useState(null),[ls,Ds]=u.useState(""),[Mi,Yn]=u.useState({}),[N,re]=u.useState([]),[Ne,Te]=u.useState(""),[Re,le]=u.useState(""),[Se,Oe]=u.useState({}),[pe,lt]=u.useState({}),[rt,xt]=u.useState(null),[It,Ba]=u.useState(null),[Gt,aa]=u.useState(!1),[st,Xa]=u.useState(null),[Wt,La]=u.useState(0),[Xn,Zn]=u.useState(!1),[S,Y]=u.useState(1),[Ae,z]=u.useState(!0),[_e,Ee]=u.useState(!1),[Xe,Fe]=u.useState(!1),[ze,mt]=u.useState(!1),[pt,Qe]=u.useState(1),[Tt,za]=u.useState(!1),[rs,Ge]=u.useState({x:0,y:0}),[Yt,Nn]=u.useState({x:0,y:0}),[fa,qa]=u.useState(!1),[As,os]=u.useState(!1),[bc,bl]=u.useState(0),[Tr,ii]=u.useState(0),[jl,kr]=u.useState(0),[cf,df]=u.useState(!1),[uf,Mr]=u.useState(100),jc=u.useRef(null),[et,Ri]=u.useState({preImage:null,postImage:null,video:null,document:null});u.useEffect(()=>{Vn&&ba(0)},[Vn]),u.useEffect(()=>{(async()=>await X())()},[va]),u.useEffect(()=>{if((async()=>await ae())(),I.emp_type==1)Da(I.ship_id);else{const m=B.filter(D=>D.user_id==I.UHA_ID)[0].allocated_ships,R=M.filter(D=>m.includes(D.SHA_ID));console.log("ships ::::: ",R),L(R)}},[I]),u.useEffect(()=>{(async()=>{if(De==="active_jobs"&&o?.data?.activeJobCount){const R=o.data.activeJobCount.filter(D=>D.activeJobs?.job_status===1||D.activeJobs?.job_status===2||D.activeJobs?.job_status===3);for(const D of R)await Ui(D.activeJobs)}})()},[De,o]);const bt=I?.emp_type===1,Ha=m=>{const{name:R,value:D,type:ce,checked:Ie}=m.target;bt||je(ce==="checkbox"&&R==="job_generation_type"?Ve=>{let Ue=[...Ve.job_generation_type];const ft=D.includes(",")?D.split(",").map(Pe=>Pe.trim()):[D];return Ie?ft.forEach(Pe=>{Ue.includes(Pe)||Ue.push(Pe)}):Ue=Ue.filter(Pe=>!ft.includes(Pe)),{...Ve,job_generation_type:Ue}}:ce==="checkbox"?Ve=>{const Ue=[...Ve.job_will_generate_on];if(Ie)Ue.push(D);else{const ft=Ue.indexOf(D);ft>-1&&Ue.splice(ft,1)}return{...Ve,job_will_generate_on:Ue}}:Ve=>({...Ve,[R]:D}))},Rr=m=>{if(bt)return;const R=m.target.files[0];console.log("file in jcd page 2 : ",R),je(D=>({...D,jcd_instruction_manual:R}))},Sc=(m,R)=>{if(bt)return;const D=[...We];D[m]=R,ke(D)},Nc=()=>{bt||We.length>=10||ke([...We,""])},Cc=m=>{if(bt||We.length<=1)return;const R=We.filter((D,ce)=>ce!==m);ke(R)},Dc=()=>{bt||Ze.length>=10||it([...Ze,""])},Sl=m=>{if(bt||Ze.length<=1)return;const R=Ze.filter((ce,Ie)=>Ie!==m);it(R);const D=`consumable_spare${m+1}`;je(ce=>({...ce,[D]:""}))},Ac=async m=>{if(m.preventDefault(),bt){Ye.warning("You are in view-only mode and cannot edit.");return}if(oe.job_generation_type.length===0){Ye.warning("Please select at least one Job Generation Type.");return}const R=new FormData;oe.jcd_instruction_manual&&R.append("jcd_instruction_manual",oe.jcd_instruction_manual);let D={...oe};const ce=Ie=>Ie===""||Ie===null||Ie===void 0?null:Ie;if(D.km_interval=ce(D.km_interval),D.operational_interval=ce(D.operational_interval),D.periodic_interval=ce(D.periodic_interval),D.time_scale=ce(D.time_scale),Array.isArray(D.job_generation_type)){const Ie=D.job_generation_type.flatMap(Ve=>Ve.includes(",")?Ve.split(",").map(Ue=>Ue.trim()):[Ve]).filter(Ve=>["1","2","3"].includes(Ve));D.job_generation_type=[...new Set(Ie)].join(",")}else D.job_generation_type="";oe.status==="2"&&(D.deactivated_by=I.UHA_ID,D.deactivated_on=new Date().toISOString().split("T")[0]),D.jcd_check_list=Be?We:[],Ze.forEach((Ie,Ve)=>{const Ue=`consumable_spare${Ve+1}`;D[Ue]=oe[Ue]||""});for(let Ie=Ze.length;Ie<10;Ie++)D[`consumable_spare${Ie+1}`]="";D.jcd_applied_cat=o?.data?.CHA_ID??null,D.jcd_applied_sub_cat=o?.data?.SCHA_ID??null,D.jcd_applied_2nd_sub_cat=o?.data?.SSCHA_ID??null,D.jcd_applied_3rd_sub_cat=o?.data?.TSCHA_ID??null,D.inserted_by=I.UHA_ID,D.inserted_on=new Date().toISOString().split("T")[0],Object.keys(D).forEach(Ie=>{Ie!=="jcd_instruction_manual"&&R.append(Ie,D[Ie])});try{kt?(is(D),Ca(!0)):(await Je.put(`${i}updateJCDScheduleById`,R,{headers:{"Content-Type":"multipart/form-data"}})).status===200&&(Ye.success("JCD updated successfully!"),ws(),await Hr())}catch(Ie){console.error(Ie),Ye.error("Error saving JCD. Check console for details.")}},ws=()=>{je({jcd_name:"",JTH_ID:"",SHA_ID:"",criticality:"",job_generation_type:[],operational_interval:"",time_scale:"",km_interval:"",periodic_interval:"",jcd_category:"",jcd_instruction_manual:null,jcd_check_list:[],status:"1",deactivated_by:"",deactivated_on:"",job_will_generate_on:[],lest_executed_status:"",consumable_spare1:"",consumable_spare2:"",consumable_spare3:"",consumable_spare4:"",consumable_spare5:"",consumable_spare6:"",consumable_spare7:"",consumable_spare8:"",consumable_spare9:"",consumable_spare10:"",executed_by:"",secondary_desg:"",first_verified_by:"",second_verified_by:"",pre_execution_image_required:"0",post_execution_image_required:"0",video_of_execution_required:"0",pdf_file_for_execution_required:"0",extension_authority:"",jcd_applied_cat:"",jcd_applied_sub_cat:"",jcd_applied_2nd_sub_cat:"",jcd_applied_3rd_sub_cat:"",jcd_applied_part:""}),ct(!1),ke([""]),we(!1),it([""]),tt(!0),Qt(!1)},wc=m=>{const R=Lr(m);cn(m),ee("new_jcd"),je(R),tt(!1),Qt(!0)},Lr=m=>{let R=[];return m.job_generation_type&&(Array.isArray(m.job_generation_type)?R=m.job_generation_type:typeof m.job_generation_type=="string"&&(R=m.job_generation_type.split(",").map(D=>D.trim()))),R=R.filter(D=>D==="1"||D==="2"||D==="3"),{jcd_name:m.jcd_name||null,jcd_id:m.jcd_id||null,JTH_ID:m.JTH_ID||null,SHA_ID:m.SHA_ID||null,criticality:m.criticality??null,job_generation_type:R,operational_interval:m.operational_interval??null,time_scale:m.time_scale??null,km_interval:m.km_interval??null,periodic_interval:m.periodic_interval??null,jcd_category:m.jcd_category??null,jcd_instruction_manual:m.jcd_instruction_manual??null,jcd_check_list:m.jcd_check_list??null,status:m.status??"1",deactivated_by:m.deactivated_by??null,deactivated_on:m.deactivated_on??null,job_will_generate_on:m.job_will_generate_on?Array.isArray(m.job_will_generate_on)?m.job_will_generate_on:[m.job_will_generate_on]:null,lest_executed_status:m.lest_executed_status??null,consumable_spare1:m.consumable_spare1??null,consumable_spare2:m.consumable_spare2??null,consumable_spare3:m.consumable_spare3??null,consumable_spare4:m.consumable_spare4??null,consumable_spare5:m.consumable_spare5??null,consumable_spare6:m.consumable_spare6??null,consumable_spare7:m.consumable_spare7??null,consumable_spare8:m.consumable_spare8??null,consumable_spare9:m.consumable_spare9??null,consumable_spare10:m.consumable_spare10??null,executed_by:m.executed_by??null,secondary_desg:m.secondary_desg??null,first_verified_by:m.first_verified_by??null,second_verified_by:m.second_verified_by??null,extension_authority:m.extension_authority??null,pre_execution_image_required:m?.pre_execution_image_required??0,post_execution_image_required:m?.post_execution_image_required??0,video_of_execution_required:m?.video_of_execution_required??0,pdf_file_for_execution_required:m?.pdf_file_for_execution_required??0,jcd_applied_cat:m.jcd_applied_cat??null,jcd_applied_sub_cat:m.jcd_applied_sub_cat??null,jcd_applied_2nd_sub_cat:m.jcd_applied_2nd_sub_cat??null,jcd_applied_3rd_sub_cat:m.jcd_applied_3rd_sub_cat??null,jcd_applied_part:m.jcd_applied_part??null}},Ec=async()=>{if((ga.length===0||Na==!1)&&Jt.length>0){Ye.warning("Please select at least one ship to update.");return}const R={...{...oe},jcd_id:oa.jcd_id,SHA_ID:ga.map(D=>D.SHA_ID).join(",")};try{(await Je.put(`${i}updateJCDScheduleById`,R)).status===200&&(Ye.success("JCD updated successfully across selected ships!"),ws(),b(),pa(!1),qe([]))}catch(D){console.error(D),Ye.error("Failed to update JCD. 463")}},Tc={1:"Generated - Awaiting Acknowledgment",2:"Not Acknowledged",3:"Acknowledged - Ready for Execution",4:"Executed - Completed",5:"First Verification Done",6:"Second Verification Done",7:"Extension Requested",8:"Extension Accepted"};u.useEffect(()=>{(async()=>(await b(),await Le(),await fe(),await X()))()},[De]);const Li=u.useMemo(()=>_t?M?.filter(m=>A.some(R=>R.SHA_ID===m.SHA_ID&&R.jcds?.toString().includes(_t.jcd_id)))||[]:[],[_t,M,A]);u.useEffect(()=>{Da("")},[o]);const Hr=async()=>{try{ie(!0),await Promise.all([Le(),fe(),b(),J(),te(),me(),be(),H(),f(),k(),K(),X(),V(),ae()]),console.log("All data refreshed successfully")}catch(m){console.error("Error refreshing data:",m),Ye.error("Failed to refresh some data")}finally{ie(!1)}},kc=async(m,R)=>{if(!m){Ye.warning("No JCD ID provided for unlinking");return}if(!R){Ye.warning("No JCD ID provided for unlinking");return}const D=M.filter(Ue=>Ue.SHA_ID==R)[0]?.ship_name;await X(),await b();const ce=_.filter(Ue=>Ue.jcd_id==m&&Ue.SHA_ID==R)[0]?.JCDSHA_ID;if(ye.filter(Ue=>Ue.jcd_id==ce)[0]?.JPHA_ID){Ye.error("Active Job is Open Currently, Complete it First then You can able to Unlink it..");return}if(confirm(`Are you sure you want to unlink this JCD (${m}) from the ${D}?`))try{const Ue={SHA_ID:R,JCD_ID:m},ft=await Je.post(`${i}unlinkJCDFromShipAndSchedule`,Ue);if(ft.status===200||ft.status===201)Ye.success(`Successfully unlinked JCD: ${m}`),await b(),await V(),await f(),setAssignedJCDCheckList(Pe=>Pe.filter(zt=>zt!==m));else throw new Error("Unlink failed with status: "+ft.status)}catch(Ue){console.error(" Error during unlinking:",Ue),Ye.error("Failed to unlink JCD. Please try again.")}},Mc=async()=>{if(!_t?.jcd_id){Ye.error("No JCD selected for suspension");return}if(!Kt||Kt.length===0){Ye.error("No ships selected for suspension");return}try{const m=await Je.put(`${i}suspendJCDFromShips`,{JCD_ID:_t.jcd_id,SHA_IDs:Kt,suspended_by:I.UHA_ID,suspended_on:new Date().toISOString().split("T")[0]});if(m.status===200||m.status===201)Ye.success("JCD suspended successfully from selected ships!"),await b(),await X(),await V(),await f(),Ra(!1),da([]);else throw new Error("Suspend failed with status: "+m.status)}catch(m){console.error(" Error during suspension:",m),Ye.error("Failed to suspend JCD. Please try again.")}},Hi=(m,R)=>{Ri(D=>({...D,[m]:R}))},Oi=m=>{Ri(R=>({...R,[m]:null}))},Nl=()=>{const m=[];return Et?.pre_execution_image_required==1&&m.push(et.preImage),Et?.post_execution_image_required==1&&m.push(et.postImage),Et?.video_of_execution_required==1&&m.push(et.video),Et?.pdf_file_for_execution_required==1&&m.push(et.document),m.every(R=>R!==null)},Ii=async()=>{if(!Nl()){Ye.error("Please complete all required fields");return}try{const m=new FormData;et.preImage&&m.append("pre_execution_image",et.preImage),et.postImage&&m.append("post_execution_image",et.postImage),et.video&&m.append("execution_video",et.video),et.document&&m.append("pdf_document",et.document),m.append("jobId",It?.JPHA_ID),m.append("jcdId",It?.jcd_id),m.append("completedBy",I.UHA_ID),m.append("shipId",It?.SHA_ID),m.append("ship_name",M.find(D=>D.SHA_ID===It?.SHA_ID)?.ship_name||"Unknown Ship"),(await Je.post(`${i}completeJobWithRequirements`,m,{headers:{"Content-Type":"multipart/form-data"}})).status===200&&(Ye.success("Job completed successfully!"),x&&x(It?.JPHA_ID),hn(!1),Ri({preImage:null,postImage:null,video:null,document:null}),Yn(D=>({...D,[It?.JPHA_ID]:{started:!1,completed:!0}})),xt(null),lt(D=>({...D,[It?.JPHA_ID]:null})),await Hr())}catch(m){console.error("Error completing job:",m),Ye.error("Failed to complete job. Please try again.")}},li=async m=>{try{const R="https://udayerp.com/pms/server/api/",D=await Ui(m);if(D?.isLocked&&D.lockedBy!==I.UHA_ID){alert("This job is already locked by another user. Please try again later.");return}const Ie=await(await fetch(`${R}acknowledgeJobWithLock`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({job_id:m.JPHA_ID,jcd_id:m.jcd_id,ship_id:m.SHA_ID,user_id:I.UHA_ID})})).json();if(Ie.success)alert("Job acknowledged successfully! You now have the lock."),await X(),await Ui(m),await f(),Yn(Ve=>({...Ve,[m.JPHA_ID]:{...Ve[m.JPHA_ID],acknowledged:!0}}));else throw new Error(Ie.message||"Failed to acknowledge job")}catch(R){console.error("Error acknowledging job:",R),alert("Error acknowledging job: "+R.message)}},Or=m=>({1:"Ship Sealing",2:"Ship On Dock",3:"Ship Inactive",4:"Ship Under Repair (Dry Dock)",5:"Ship at Sea"})[m]||`Condition ${m}`,Ir=m=>({1:"hours",2:"days",3:"weeks",4:"months"})[m]||"units",Ur=(m,R)=>{const D={runningHours:null,kmInterval:null,periodic:null,conditional:null},ce=new Date;let Ie=[];if(m.job_generation_type&&(typeof m.job_generation_type=="string"?Ie=m.job_generation_type.split(",").map(Ve=>Ve.trim()):Array.isArray(m.job_generation_type)&&(Ie=m.job_generation_type)),Ie.includes("1")&&m.operational_interval&&parseInt(m.operational_interval)>0){const Ve=parseInt(m.operational_interval),Ue=m.time_scale;let ft=new Date(R);switch(Ue){case"1":ft.setTime(ft.getTime()+Ve*60*60*1e3);break;case"2":ft.setDate(ft.getDate()+Ve);break;case"3":ft.setDate(ft.getDate()+Ve*7);break;case"4":ft.setMonth(ft.getMonth()+Ve);break;default:ft.setDate(ft.getDate()+Ve)}const Pe=Math.ceil((ft-ce)/(1e3*60*60*24)),zt=ft<=ce;D.runningHours={type:"running_hours",value:ft.toLocaleDateString("en-GB"),date:ft,label:`After ${Ve} ${Ir(Ue)}`,interval:Ve,timeScale:Ue,daysUntil:Pe,isOverdue:zt}}if(Ie.includes("2")&&m.km_interval&&parseInt(m.km_interval)>0){const Ve=parseInt(m.km_interval);D.kmInterval={type:"km",value:`After Every ${Ve} NM traveled`,label:`After Every ${Ve} NM`,interval:Ve,unit:"NM"}}if(Ie.includes("3")&&m.periodic_interval&&parseInt(m.periodic_interval)>0){const Ve=parseInt(m.periodic_interval),Ue=new Date(R);Ue.setDate(Ue.getDate()+Ve);const ft=Math.ceil((Ue-ce)/(1e3*60*60*24)),Pe=Ue<=ce;D.periodic={type:"periodic",value:Ue.toLocaleDateString("en-GB"),date:Ue,label:`After Every ${Ve} days`,interval:Ve,unit:"days",daysUntil:ft,isOverdue:Pe}}if(m.job_will_generate_on&&m.job_will_generate_on.toString().length>0){let Ve=[];typeof m.job_will_generate_on=="string"?Ve=m.job_will_generate_on.split(",").map(Ue=>Ue.trim()):Array.isArray(m.job_will_generate_on)&&(Ve=m.job_will_generate_on),Ve.length>0&&(D.conditional={type:"conditional",conditions:Ve.map(Ue=>({value:`When ${Or(Ue)}`,label:Or(Ue),condition:Ue})),hasConditions:!0})}return D.runningHours||D.kmInterval||D.periodic||D.conditional?D:null},Cl=u.useMemo(()=>{if(!o)return[];const m=[];return _.filter(D=>D.jcd_applied_cat===o.data.CHA_ID||D.jcd_applied_sub_cat===o.data.SCHA_ID||D.jcd_applied_2nd_sub_cat===o.data.SSCHA_ID||D.jcd_applied_3rd_sub_cat===o.data.TSCHA_ID).forEach(D=>{if(ye.find(Pe=>Pe.jcd_id===D.JCDSHA_ID&&Pe.job_status>=1&&Pe.job_status<=5))return;const Ie=ye.filter(Pe=>Pe.jcd_id===D.jcd_id&&Pe.job_status==6),Ve=Ie.length>0?Ie.sort((Pe,zt)=>new Date(zt.executed_dt||zt.generated_on)-new Date(Pe.executed_dt||Pe.generated_on))[0]:null;let Ue;Ve&&Ve.executed_dt?Ue=new Date(Ve.executed_dt):Ve&&Ve.generated_on?Ue=new Date(Ve.generated_on):Ue=new Date(D.inserted_on||D.created_on||new Date);const ft=Ur(D,Ue);ft&&m.push({jcd:D,lastExecutionDate:Ue,nextGenerationInfo:ft,latestCompletedJob:Ve,jcdId:D.jcd_id,shipId:D.SHA_ID})}),m},[o,_,ye]),Dl=u.useMemo(()=>{let m=Cl;return Ne&&(m=m.filter(R=>R.jcd.SHA_ID==Ne)),Re&&(m=m.filter(R=>R.jcd.jcd_name?.toLowerCase().includes(Re.toLowerCase())||R.jcd.jcd_id?.toLowerCase().includes(Re.toLowerCase()))),m},[Cl,Ne,Re]),Al=(m,R)=>m?R==="km"?t.jsxs("div",{style:{textAlign:"left"},children:[t.jsx("div",{className:"status-badge info",style:{fontSize:"0.8rem"},children:m.value}),t.jsx("br",{}),t.jsx("small",{style:{color:"#059669",fontSize:"0.7rem"},children:m.label})]}):t.jsxs("div",{style:{textAlign:"left"},children:[t.jsxs("div",{className:`status-badge ${m.isOverdue?"overdue":"info"}`,style:{fontSize:"0.8rem"},children:[m.value,m.isOverdue&&" "]}),m.daysUntil!==void 0&&t.jsx("small",{style:{color:m.isOverdue?"#ef4444":"#666",fontSize:"0.7rem",fontWeight:m.isOverdue?"bold":"normal"},children:m.isOverdue?`(OVERDUE by ${Math.abs(m.daysUntil)} days)`:`(in ${m.daysUntil} days)`}),t.jsx("br",{}),t.jsx("small",{style:{color:m.isOverdue?"#ef4444":"#059669",fontSize:"0.7rem"},children:m.label})]}):t.jsx("span",{className:"text-muted",children:"-"}),Es=()=>Dl.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:12,style:{textAlign:"center",padding:"20px"},children:"No upcoming jobs found for the selected criteria"})}):Dl.map((m,R)=>{const{jcd:D,latestCompletedJob:ce,nextGenerationInfo:Ie}=m,Ve=yt=>{if(!yt)return"--";const Xt=[$.find(jt=>jt.CHA_ID==yt.jcd_applied_cat),ne.find(jt=>jt.SCHA_ID==yt.jcd_applied_sub_cat&&jt.CHA_ID==yt.jcd_applied_cat),Ce.find(jt=>jt.SSCHA_ID==yt.jcd_applied_2nd_sub_cat&&jt.SCHA_ID==yt.jcd_applied_sub_cat&&jt.CHA_ID==yt.jcd_applied_cat),ue.find(jt=>jt.TSCHA_ID==yt.jcd_applied_3rd_sub_cat&&jt.SSCHA_ID==yt.jcd_applied_2nd_sub_cat&&jt.SCHA_ID==yt.jcd_applied_sub_cat&&jt.CHA_ID==yt.jcd_applied_cat)],Cn=Xt.find(jt=>jt)?.category_name||Xt.find(jt=>jt)?.sub_category_name||Xt.find(jt=>jt)?.second_sub_cat_name||Xt.find(jt=>jt)?.third_sub_cat_name||"--";return t.jsxs(t.Fragment,{children:[Cn,t.jsx("br",{}),t.jsx("span",{style:{fontSize:"0.8rem",fontStyle:"italic",color:"green"},children:yt?.jcd_name||"Loading Job Name"})]})},Ue=yt=>{if(!yt)return"No previous assignment";const Xt=P.find(jt=>jt.UHA_ID==yt?.issued_to)?.emp_name||"Not Assigned",Cn=P.find(jt=>jt.UHA_ID==yt?.secondary_issued_to)?.emp_name;return t.jsxs(t.Fragment,{children:["1. ",Xt," ",t.jsx("br",{}),Cn?t.jsxs(t.Fragment,{children:["2. ",Cn]}):t.jsx("small",{style:{color:"#666",fontSize:"0.7rem"},children:"(No secondary crew)"})]})},ft=yt=>yt?.job_type==1?"Serviceable":"Replaceable",Pe=yt=>{const Xt=yt?.criticality==1?"High":"Normal";return t.jsx("span",{className:`status-badge ${Xt==="High"?"overdue":"success"}`,children:Xt})},zt=yt=>{if(!yt)return"Never";try{return new Date(yt).toLocaleDateString()}catch{return"Invalid Date"}};return t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("input",{type:"checkbox"})}),t.jsx("td",{children:D.jcd_id}),t.jsx("td",{children:Ve(D)}),t.jsx("td",{children:Al(Ie?.runningHours,"running_hours")}),t.jsx("td",{children:Ie?.kmInterval?t.jsx("div",{style:{textAlign:"left"},children:t.jsxs("small",{style:{color:"#059669",fontSize:"0.7rem"},children:["(",Ie.kmInterval.label,")"]})}):t.jsx("span",{className:"text-muted",children:"-"})}),t.jsx("td",{children:Al(Ie?.periodic,"periodic")}),t.jsx("td",{children:Ie?.conditional?t.jsx("div",{style:{textAlign:"left"},children:Ie.conditional.conditions.map((yt,Xt)=>t.jsx("div",{style:{marginBottom:"4px"},children:t.jsx("span",{className:"status-badge info",style:{fontSize:"0.7rem"},children:yt.value})},Xt))}):t.jsx("span",{className:"text-muted",children:"-"})}),t.jsx("td",{children:Ue(ce)}),t.jsxs("td",{children:[zt(m.lastExecutionDate),t.jsx("br",{}),t.jsx("small",{style:{color:"#666",fontSize:"0.7rem"},children:ce?"Last completed":"JCD created"})]}),t.jsx("td",{children:ft(D)}),t.jsx("td",{children:Pe(D)}),t.jsx("td",{children:t.jsx("div",{className:"action-buttons",children:t.jsx("button",{className:"btn-primary",children:"Details"})})})]},D.jcd_id)}),Ui=async m=>{try{const D=await fetch(`https://udayerp.com/pms/server/api/checkJobLock/${m.JPHA_ID}/${m.jcd_id}/${I.UHA_ID}`);if(!D.ok)throw new Error(`HTTP ${D.status}: ${D.statusText}`);const ce=await D.json();if(ce.success)return Oe(Ie=>({...Ie,[m.JPHA_ID]:{...ce.data,lockedByUser:P.find(Ve=>Ve.UHA_ID==ce.data.lockedBy)?.emp_name||"Unknown"}})),ce.data}catch(R){console.error("Error checking job lock status:",R),Oe(D=>({...D,[m.JPHA_ID]:{isLocked:!1,lockedBy:null,currentUserHasLock:!1,lockedAt:null}}))}},Rc=m=>m.issued_to===I.UHA_ID||m.secondary_issued_to===I.UHA_ID,Lc=m=>{const R=Se[m.JPHA_ID]||{},D=m.job_status,ce=rt===m.JPHA_ID;return t.jsxs("span",{className:`status-badge status-${D}`,children:[Tc[D]||"In Progress",R.isLocked&&" ",ce&&" (In Progress)",D===1&&!m.acknowledged_by&&t.jsx("span",{style:{color:"red",fontSize:"10px",display:"block"},children:"(Awaiting Acknowledgment)"})]})},wl=m=>{const R=Se[m.activeJobs?.JPHA_ID]||{},D=Rc(m.activeJobs),ce=m.activeJobs?.job_status;return{canAcknowledge:D&&(ce===1||ce===2)&&!R.isLocked,canExecute:D&&ce===3&&R.currentUserHasLock,canRequestExtension:D&&R.currentUserHasLock&&ce!==4&&ce!==5&&ce!==6,hasLock:R.currentUserHasLock,isLocked:R.isLocked,lockedByUser:R.lockedByUser,isAssigned:D,jobStatus:ce}},Jr=async m=>{try{const ce=await(await fetch("https://udayerp.com/pms/server/api/acquireJobLockForExtension",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({job_id:m.activeJobs.JPHA_ID,jcd_id:m.activeJobs.jcd_id,ship_id:m.activeJobs.SHA_ID,user_id:I.UHA_ID})})).json();if(ce.success)return Ye.success("Job lock acquired! You can now request an extension."),await Ui(m.activeJobs),!0;throw new Error(ce.message||"Failed to acquire lock")}catch(R){return console.error("Error acquiring lock:",R),Ye.error("Error acquiring job lock: "+R.message),!1}},Ts=async m=>{try{const R=wl(m),D=m.activeJobs?.job_status;if(D===4||D===5||D===6){Ye.info("Cannot request extension - job is under verification process");return}if(!R.isAssigned){Ye.error("You are not assigned to this job.");return}if(console.log("permissions :: ",R),!R.hasLock)if(R.isLocked){Ye.info(`This job is currently locked by ${R.lockedByUser||"another user"}. Only the person who locked the job can request extensions.`);return}else{if(window.confirm("You need to acquire the job lock to request an extension. Would you like to acquire the lock now?")&&await Jr(m)){const zt=m?.relatedJCD?.criticality,yt=M.filter(jt=>jt.SHA_ID==m?.activeJobs?.SHA_ID)[0]?.ship_name,Xt=P.filter(jt=>jt.UHA_ID==I.UHA_ID)[0]?.emp_name;window.confirm(`Hey ${Xt} This is a ${zt==1?"CRITICAL":"Non-Critical"} Job on '${yt}', So Do you really want to request extension, Because They may reject it..`)&&(bn(!0),$e(m),la(!0))}return}const ce=m?.relatedJCD?.criticality,Ie=M.filter(ft=>ft.SHA_ID==m?.activeJobs?.SHA_ID)[0]?.ship_name,Ve=P.filter(ft=>ft.UHA_ID==I.UHA_ID)[0]?.emp_name;window.confirm(`Hey ${Ve} This is a ${ce==1?"CRITICAL":"Non-Critical"} Job on '${Ie}', So Do you really want to request extension, Because They may reject it..`)&&(bn(!0),$e(m),la(!0))}catch(R){console.error("Error checking extension permissions:",R),Ye.error("Error checking job permissions")}},an=(m,R,D)=>{if(!m)return;let ce=[],Ie="";if(R==="preImage")ce=et.preImage,Ie="Pre-Execution Images";else if(R==="postImage")ce=et.postImage,Ie="Post-Execution Images";else{const Ue=m.previewUrl||URL.createObjectURL(m),ft=m.name?.split(".").pop().toLowerCase();let Pe="image";ft?.includes("video")||m.type?.includes("video")?Pe="video":ft?.includes("pdf")||m.type?.includes("pdf")?Pe="pdf":(ft?.includes("image")||m.type?.includes("image"))&&(Pe="image"),Xa({type:Pe,url:Ue,name:m.name||"Preview File"}),aa(!0),La(0);return}const Ve=ce.map((Ue,ft)=>{const Pe=Ue.name?.split(".").pop().toLowerCase();let zt="image";return Pe?.includes("video")||Ue.type?.includes("video")?zt="video":Pe?.includes("pdf")||Ue.type?.includes("pdf")?zt="pdf":(Pe?.includes("image")||Ue.type?.includes("image"))&&(zt="image"),{type:zt,url:Ue.previewUrl||URL.createObjectURL(Ue.file),name:`${Ie} - ${ft+1}`,originalFile:Ue}});Xa({type:"group",mediaList:Ve,groupName:Ie}),aa(!0),La(D)},Br=()=>{aa(!1),Xa(null)},ri=m=>{La(R=>{let D=[];st?.type==="group"&&st.mediaList?D=st.mediaList:D=qr;const ce=m==="next"?Math.min(R+1,D.length-1):Math.max(R-1,0);return El(),ce})},El=()=>{Zn(!1),Y(1),z(!0),Ee(!1)},Ji=m=>{m==="in"?Y(R=>Math.min(R+.25,3)):m==="out"?Y(R=>Math.max(R-.25,.5)):(Y(1),Zn(!1))},Bi=()=>{Oc.type==="image"&&(Zn(!Xn),Y(Xn?1:2))},Tl=()=>{let m=null;if(st?.type==="group"&&st.mediaList?m=st.mediaList[Wt]:m=st,m?.url){const R=document.createElement("a");R.href=m.url,R.download=m.name||"download",document.body.appendChild(R),R.click(),document.body.removeChild(R)}},oi=()=>{z(!1),Ee(!1)},ci=()=>{z(!1),Ee(!0)},zr=m=>{if(!fa||pt<=1)return;const R=m.clientX-rs.x,D=m.clientY-rs.y,ce=document.querySelector(".image-container");if(ce){const Ie=ce.getBoundingClientRect(),Ve=(pt-1)*Ie.width/2,Ue=(pt-1)*Ie.height/2;Nn({x:Math.max(Math.min(R,Ve),-Ve),y:Math.max(Math.min(D,Ue),-Ue)})}},Hc=()=>{qa(!1)};u.useEffect(()=>{const m=D=>{zr(D)},R=()=>{Hc()};return fa&&(document.addEventListener("mousemove",m),document.addEventListener("mouseup",R)),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",R)}},[fa,rs,pt]),u.useEffect(()=>{pt<=1&&Nn({x:0,y:0})},[pt]),u.useEffect(()=>{const m=jc.current;if(!m)return;const R=()=>{ii(m.currentTime),bl(m.currentTime/m.duration*100)},D=()=>{kr(m.duration)},ce=()=>{os(!1)};return m.addEventListener("timeupdate",R),m.addEventListener("loadedmetadata",D),m.addEventListener("ended",ce),()=>{m.removeEventListener("timeupdate",R),m.removeEventListener("loadedmetadata",D),m.removeEventListener("ended",ce)}},[Wt]);const qr=u.useMemo(()=>[et.preImage?{type:"image",url:et.preImage.previewUrl,name:"Pre-Execution Image"}:null,et.postImage?{type:"image",url:et.postImage.previewUrl,name:"Post-Execution Image"}:null,et.video?{type:"video",url:et.video.previewUrl,name:"Execution Video"}:null,et.document?{type:"pdf",url:et.document.previewUrl,name:"PDF Document"}:null].filter(Boolean),[et]),Oc=qr[Wt]||null;return t.jsxs("div",{id:"JCD_Page_main_root_container",children:[t.jsxs("div",{id:"JCD_Page_main_root_container_left_side_container",children:[t.jsx("p",{id:"note_about_component_heirarchy",children:"Change in background color indicates component selection"}),t.jsx(jr,{})]}),t.jsxs("div",{id:"JCD_Page_main_root_container_right_side_container",children:[t.jsx("div",{id:"JCD_Page_main_root_container_right_side_container_top_section",children:[{key:"new_jcd",label:"New JCD"},{key:"view_jcd",label:"View JCDs"},{key:"active_jobs",label:"Active Jobs"},{key:"completed_jobs",label:"Completed Jobs"},{key:"upcoming_jobs",label:"Upcoming Jobs"}].map(({key:m,label:R},D)=>w?.find(Ie=>I?.profile_ids?.includes(Ie.PROFILE_ID))?.process_ids.includes(`P_JCD_000${D+1}`)?t.jsx("button",{className:"JCD_Page_main_root_container_right_side_container_top_section_btns",onClick:()=>ee(m),style:{backgroundColor:De===m?"royalblue":"white",color:De===m?"white":"black"},children:R},m):null)}),t.jsxs("div",{id:"JCD_Page_main_root_container_right_side_container_bottom_section",children:[De==="new_jcd"&&(o?t.jsxs("div",{className:"active_tab_main_container",children:[t.jsx("h1",{children:"New JCD Form"}),t.jsx("div",{id:"JCD_configuration_form_container_in_jcd_page",children:w?.filter(m=>I?.profile_ids?.includes(m.PROFILE_ID))[0]?.form_ids.includes("F_JCD_001")&&t.jsxs("form",{onSubmit:Ac,className:"jcd-form",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Selected Component:"}),t.jsx("div",{className:"selected-component",children:t.jsx("i",{style:{color:"#94a3b8"},children:o.data.label})})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{children:["JCD Name ",t.jsx("span",{style:{color:"red"},children:"*"})]}),t.jsx("input",{type:"text",name:"jcd_name",value:oe.jcd_name||"",onChange:Ha,placeholder:"Enter JCD Name",disabled:bt,required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{children:["Choose Universaly Active Job Type ",t.jsx("span",{style:{color:"red"},children:"*"})]}),t.jsxs("select",{name:"JTH_ID",value:oe.JTH_ID,onChange:Ha,required:!0,disabled:bt,className:"form-control",children:[t.jsx("option",{value:"",children:"Select Job Type"}),C.filter(m=>m.JTH_status!=0).map(m=>t.jsx("option",{value:m.JTH_ID,children:m.JTH_job_type},m.JTH_ID))]})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{children:["Criticality ",t.jsx("span",{style:{color:"red"},children:"*"})]}),t.jsx("div",{className:"radio-group",children:["Critical","Non-critical"].map((m,R)=>t.jsxs("label",{children:[t.jsx("input",{type:"radio",name:"criticality",value:R+1,checked:oe.criticality==R+1,onChange:Ha,disabled:bt,required:!0}),m,m=="Non-critical"&&t.jsx("small",{style:{color:"crimson",marginLeft:"8px"},children:"(Max Allowed Extensions - 3)"})]},m))})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{children:["Job Will Generate On Which Thresholds ",t.jsx("span",{style:{color:"red"},children:"*"})]}),t.jsx("div",{className:"checkbox-group",children:[{value:"1",label:"Operational Time"},{value:"2",label:"KM"},{value:"3",label:"Periodic Days"}].map(({value:m,label:R})=>t.jsxs("div",{className:"checkbox-with-fields",children:[t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",value:m,checked:oe.job_generation_type.includes(m),onChange:Ha,name:"job_generation_type",disabled:bt}),R]}),m==="1"&&oe.job_generation_type.includes("1")&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Operational Interval"}),t.jsx("input",{type:"number",name:"operational_interval",value:oe.operational_interval,onChange:Ha,className:"form-control",disabled:bt})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Time Scale"}),t.jsxs("select",{name:"time_scale",value:oe.time_scale,onChange:Ha,className:"form-control",disabled:bt,children:[t.jsx("option",{value:"",children:"Select Scale"}),t.jsx("option",{value:"1",children:"Hours"}),t.jsx("option",{value:"2",children:"Days"}),t.jsx("option",{value:"3",children:"Weeks"})]})]})]}),m==="2"&&oe.job_generation_type.includes("2")&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"KM Interval"}),t.jsx("input",{type:"number",name:"km_interval",value:oe.km_interval,onChange:Ha,className:"form-control",disabled:bt})]}),m==="3"&&oe.job_generation_type.includes("3")&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Periodic Interval (Days)"}),t.jsx("input",{type:"number",name:"periodic_interval",value:oe.periodic_interval,onChange:Ha,className:"form-control",disabled:bt})]})]},m))})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{children:["Servicable Or Replaceable ",t.jsx("span",{style:{color:"red"},children:"*"})]}),t.jsxs("select",{name:"jcd_category",value:oe.jcd_category,onChange:Ha,required:!0,disabled:bt,className:"form-control",children:[t.jsx("option",{value:"",children:"Select"}),t.jsx("option",{value:"1",children:"Servicable"}),t.jsx("option",{value:"2",children:"Replaceable"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Instruction Manual For Execution Of This Job"}),t.jsxs("div",{className:"file-input-container",children:[t.jsx("input",{type:"file",name:"jcd_instruction_manual",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:Rr,disabled:bt,style:{display:"none"},id:"instruction-manual-input"}),t.jsx("label",{htmlFor:"instruction-manual-input",className:"file-input-label",style:{display:"inline-block",padding:"10px 15px",backgroundColor:"#007bff",color:"white",borderRadius:"4px",cursor:bt?"not-allowed":"pointer",opacity:bt?.6:1},children:"Choose file"})]}),oe.jcd_instruction_manual&&t.jsxs("div",{className:"file-name",style:{marginTop:"8px",fontSize:"14px",color:"#666"},children:[" ",oe.jcd_instruction_manual.name,!bt&&t.jsx("button",{type:"button",onClick:()=>je(m=>({...m,jcd_instruction_manual:null})),style:{marginLeft:"10px",color:"red",background:"none",border:"none",cursor:"pointer"},children:""})]})]}),t.jsx("div",{className:"form-group checkbox-group",children:t.jsxs("label",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[t.jsx("input",{type:"checkbox",checked:Be,onChange:m=>{ct(m.target.checked),ke([])},disabled:bt,style:{width:"18px",height:"18px",margin:"5px"}}),"Want To Add checklist to ensure quality work?"]})}),Be&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{children:["Checklist Items ",t.jsx("span",{style:{color:"red"},children:"*"})]}),t.jsx("div",{className:"checklist-container",children:(We.length>0?We:[""]).map((m,R)=>t.jsxs("div",{className:"checklist-item",children:[t.jsx("input",{type:"text",value:m,onChange:D=>Sc(R,D.target.value),placeholder:`Checklist ${R+1}`,className:"form-control",disabled:bt,required:Be}),t.jsx("button",{type:"button",onClick:()=>Cc(R),disabled:bt,children:"Remove"})]},R))})]}),t.jsx("button",{type:"button",onClick:Nc,className:"add-button",disabled:bt,children:"+ Add Checklist Item"})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{children:["Check Location Status for Job Generation ",t.jsx("span",{style:{color:"red"},children:"*"})]}),t.jsx("div",{className:"checkbox-group",children:[1,2,3,4].map(m=>t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",value:m,checked:oe.job_will_generate_on.includes(m.toString()),onChange:Ha,name:"job_will_generate_on",disabled:bt}),["Sealing","On Dock","Inactive","Under Repair"][m-1]]},m))})]}),[{key:"executed_by",label:"Select Primary Responsible Designation To Do This Job"},{key:"secondary_desg",label:"Select Secondary Responsible Designation To Do This Job"},{key:"first_verified_by",label:"This Job Will Primary Verified By Which Designation"},{key:"second_verified_by",label:"This Job Will Secondary Verified By Which Designation"},{key:"extension_authority",label:"Which Designation will going to Approve Extension Request"}].map(({key:m,label:R})=>t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{children:[R," ",m!="secondary_desg"&&t.jsx("span",{style:{color:"red"},children:"*"})]}),t.jsxs("select",{name:m,value:oe[m]||"",onChange:Ha,disabled:bt,className:"form-control",required:m!=="extension_authority",children:[t.jsx("option",{value:"",children:"Select"}),He.map(D=>t.jsx("option",{value:D.DSGH_ID,children:D.desg_name},D.DSGH_ID))]})]},m)),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{children:["Pre Job Execution Image Required ? ",t.jsx("span",{style:{color:"red"},children:"*"})]}),[1,0].map(m=>t.jsxs("label",{children:[t.jsx("input",{type:"radio",name:"pre_execution_image_required",value:m,checked:oe.pre_execution_image_required==m,onChange:Ha,disabled:bt}),m?"Yes":"No"]},m))]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{children:["Post Job Execution Image Required ? ",t.jsx("span",{style:{color:"red"},children:"*"})]}),[1,0].map(m=>t.jsxs("label",{children:[t.jsx("input",{type:"radio",name:"post_execution_image_required",value:m,checked:oe.post_execution_image_required==m,onChange:Ha,disabled:bt}),m?"Yes":"No"]},m))]}),oe.jcd_category==="2"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"form-group",children:t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:Q,onChange:m=>we(m.target.checked),disabled:bt}),"Need consumable spares?"]})}),Q&&t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{style:{fontWeight:"bold",display:"block",marginBottom:"8px"},children:["Consumable Spares ",t.jsx("span",{style:{color:"red"},children:"*"})]}),t.jsx("div",{className:"checklist-container",children:Ze.map((m,R)=>{const D=`consumable_spare${R+1}`;return t.jsxs("div",{className:"checklist-item",children:[t.jsx("input",{type:"text",placeholder:`Spare ${R+1}`,value:oe[D],onChange:ce=>je(Ie=>({...Ie,[D]:ce.target.value})),disabled:bt,className:"form-control",required:Q==!0}),t.jsx("button",{type:"button",onClick:()=>Sl(R),disabled:bt,children:"Remove"})]},D)})}),Ze.length<10&&t.jsx("button",{type:"button",onClick:Dc,className:"add-button",disabled:bt,children:"+ Add More"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{children:["PDF Document Required ? ",t.jsx("span",{style:{color:"red"},children:"*"})]}),[1,0].map(m=>t.jsxs("label",{children:[t.jsx("input",{type:"radio",name:"pdf_file_for_execution_required",value:m,checked:oe.pdf_file_for_execution_required==m,onChange:Ha,disabled:bt}),m?"Yes":"No"]},m))]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{children:["Execution Video Required ? ",t.jsx("span",{style:{color:"red"},children:"*"})]}),[1,0].map(m=>t.jsxs("label",{children:[t.jsx("input",{type:"radio",name:"video_of_execution_required",value:m,checked:oe.video_of_execution_required==m,onChange:Ha,disabled:bt}),m?"Yes":"No"]},m))]}),t.jsxs("div",{className:"form-actions",children:[w?.filter(m=>I?.profile_ids?.includes(m.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0008")&&t.jsx("button",{type:"submit",disabled:St,children:bt?"View Only":"Create"}),w?.filter(m=>I?.profile_ids?.includes(m.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0009")&&t.jsx("button",{type:"submit",disabled:kt,children:bt?"View Only":"Update"}),w?.filter(m=>I?.profile_ids?.includes(m.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0010")&&t.jsx("button",{type:"button",onClick:ws,disabled:bt,children:"Reset"})]})]})})]}):t.jsx("p",{children:"No Component Selected Yet !!"})),De=="view_jcd"&&(o?t.jsxs("div",{className:"active_tab_main_container",children:[t.jsx("h1",{children:De.replace("_"," ").toUpperCase()}),t.jsxs("p",{style:{color:"grey",fontStyle:"italic",fontFamily:"cursive"},children:["Selected Component - ",t.jsx("h2",{style:{color:"grey",fontStyle:"italic",display:"inline-block",fontFamily:"cursive"},children:o.data.label})]}),t.jsx("div",{id:"view_jcd_on_component_main_table_container",children:t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Sr."}),t.jsx("th",{children:"JCD NAME"}),t.jsx("th",{children:"GEN. RULE"}),I.emp_type==2&&t.jsxs(t.Fragment,{children:[t.jsx("th",{children:"OPERATIONS"}),t.jsx("th",{children:"No Of Ships Attached"})]})]})}),t.jsx("tbody",{children:o.data.jcdCount.length>0?t.jsx(t.Fragment,{children:o.data.jcdCount.filter(m=>m.SHA_ID==null).map((m,R)=>t.jsxs("tr",{children:[t.jsx("td",{children:R+1}),t.jsx("td",{children:m.jcd_name}),t.jsxs("td",{children:["KM=",m.km_interval||"--",", HR=",m.operational_interval||"--",", IDEAL=",m.periodic_interval||"--"]}),t.jsxs("td",{className:"btn-container",children:[w?.filter(D=>I?.profile_ids?.includes(D.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0011")&&t.jsx("button",{className:"btn-edit",onClick:()=>{wc(m)},children:"Edit"}),w?.filter(D=>I?.profile_ids?.includes(D.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0012")&&t.jsx("button",{className:"btn-suspend",onClick:()=>{Ra(!0),Me(m),da([])},children:"Suspend"})]}),I.emp_type==2&&t.jsx("td",{id:"affected_ships_count_by_jcd_td",style:{cursor:"pointer",fontWeight:"800"},onClick:async()=>{console.log("selectedJCDForViewShips : ",m),Me(m),ca(!0)},children:_.filter(D=>{if(D.jcd_id==m.jcd_id&&D.SHA_ID!=null&&D.status==1)return D}).length})]}))}):t.jsx("p",{children:"NO JCDs Configure for Component"})})]})})]}):t.jsx("p",{children:"No Component Selected Yet !!"})),De==="active_jobs"&&t.jsx(t.Fragment,{children:o?t.jsxs("div",{className:"active_tab_main_container",children:[t.jsx("h1",{children:De.replace("_"," ").toUpperCase()}),t.jsxs("p",{style:{color:"grey",fontStyle:"italic",fontFamily:"cursive"},children:["Selected Component -"," ",t.jsx("h2",{style:{color:"grey",fontStyle:"italic",display:"inline-block",fontFamily:"cursive"},children:o.data.label})]}),I.emp_type==2&&t.jsx("div",{id:"select-ship-active-jobs-tab",children:t.jsxs("select",{style:{backgroundColor:"white",border:"1px solid black",borderRadius:"10px",color:"gray",width:"fit-content",marginTop:"20px"},value:en,onChange:m=>Da(m.target.value),children:[t.jsx("option",{value:"",children:"All Ships"}),Array.isArray(M)&&M.map(m=>t.jsx("option",{value:m.SHA_ID,children:m.ship_name},m.SHA_ID))]})}),t.jsx("div",{id:"view_jcd_on_component_main_table_container",children:t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{}),t.jsx("th",{children:w?.filter(m=>I?.profile_ids?.includes(m.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0016")&&t.jsx(t.Fragment,{children:"Raise Ext."})}),t.jsx("th",{children:"Sr."}),t.jsx("th",{children:"Location Name"}),t.jsx("th",{children:"Active Job NAME"}),t.jsx("th",{children:"Job Category"}),t.jsx("th",{children:"Assign TO"}),t.jsx("th",{children:"Criticality"}),t.jsx("th",{children:"Triggered By (GEN. RULE)"}),t.jsx("th",{children:"1St Verification Authority"}),t.jsx("th",{children:"2nd Verification Authority"}),t.jsx("th",{children:"Current Job Status"}),t.jsx("th",{children:"Completed Till"}),t.jsx("th",{children:"Old Assigned To"}),t.jsx("th",{children:"Primary Assign Desgnation"}),t.jsx("th",{children:"Secondary Assign Desgnation"}),t.jsx("th",{children:"OVERDUE STATUS"}),t.jsx("th",{children:"Generated On"}),t.jsx("th",{children:"Extention Authority"}),t.jsx("th",{children:"Extention Authority Designation"}),t.jsx("th",{children:"Current Extention Count"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Array.isArray(o.data.activeJobCount)&&o.data.activeJobCount.length>0?o.data.activeJobCount.filter(m=>en?m.activeJobs.SHA_ID==en:!0).map((m,R)=>{console.log("employeeList ::: ",P);const D=M?.find(Pe=>Pe.SHA_ID===m.activeJobs.SHA_ID),ce=P?.find(Pe=>Pe.UHA_ID===m.activeJobs.issued_to);console.log("issuedTo ::: , ",ce);const Ie=P?.find(Pe=>Pe.UHA_ID===m.activeJobs.first_verification_by),Ve=P?.find(Pe=>Pe.UHA_ID===m.activeJobs.second_verification_by),Ue=ye.filter(Pe=>Pe.JPTA_ID==m.activeJobs.JPTA_ID)[0]?.job_status;return console.log("job_status ::: ",Ue),[m.activeJobs.ext1,m.activeJobs.ext2,m.activeJobs.ext3].filter(Boolean).some(Pe=>j.find(yt=>yt.JEDA_ID===Pe)?.ext_request_status===1),t.jsxs("tr",{children:[t.jsx("td",{children:w?.filter(Pe=>I?.profile_ids?.includes(Pe.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0015")&&t.jsx("button",{type:"button","aria-label":"Contact",title:"Contact",onClick:()=>{bn(!1),$e(m),la(!0)},style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",borderRadius:"50%",border:"none",cursor:"pointer",background:"linear-gradient(135deg,#2563eb,#22c55e)",color:"#fff",outline:"none"},children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[t.jsx("path",{d:"M20 14.5c0 1.657-1.79 3-4 3H9l-5 4V6.5C4 4.843 5.79 3.5 8 3.5h8c2.21 0 4 1.343 4 3v8z",stroke:"currentColor",strokeWidth:"1.6",fill:"currentColor",fillOpacity:".14"}),t.jsx("circle",{cx:"9",cy:"11",r:"1.2",fill:"currentColor"}),t.jsx("circle",{cx:"12",cy:"11",r:"1.2",fill:"currentColor"}),t.jsx("circle",{cx:"15",cy:"11",r:"1.2",fill:"currentColor"})]})})}),t.jsx("td",{children:w?.filter(Pe=>I?.profile_ids?.includes(Pe.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0015")&&t.jsx("div",{className:"extension-request-container",children:(()=>{const Pe=wl(m),zt=m.activeJobs?.job_status,yt=[m.activeJobs.ext1,m.activeJobs.ext2,m.activeJobs.ext3].filter(Boolean),Xt=yt.some(Pr=>j.find(Ms=>Ms.JEDA_ID===Pr)?.ext_request_status===1),jt=yt.length>=3;return zt===4||zt===5||zt===6?t.jsxs("div",{className:"verification-status-message",style:{padding:"8px",backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"4px",textAlign:"center"},children:[t.jsx("div",{style:{color:"#856404",fontSize:"12px",fontWeight:"500"},children:"Under Verification"}),t.jsx("div",{style:{color:"#856404",fontSize:"11px",marginTop:"2px"},children:"Extensions not allowed"})]}):Pe.isLocked&&!Pe.hasLock?t.jsxs("div",{className:"lock-status-message",style:{padding:"8px",backgroundColor:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"4px",textAlign:"center"},children:[t.jsx("div",{style:{color:"#6c757d",fontSize:"12px"},children:" Locked by:"}),t.jsx("div",{style:{fontWeight:"bold",color:"#495057"},children:Pe.lockedByUser||"Another user"}),t.jsx("div",{style:{color:"#6c757d",fontSize:"11px",marginTop:"4px"},children:"Only this person can request extensions"})]}):Pe.hasLock?t.jsx("button",{onClick:()=>Ts(m),disabled:Xt||jt,style:{cursor:Xt||jt?"not-allowed":"pointer",opacity:Xt||jt?.5:1,padding:"6px 12px",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:500,backgroundColor:Xt||jt?"#6c757d":"#007bff",color:"white",transition:"all 0.3s ease"},title:Xt?"Active extension request pending":jt?"Maximum extension attempts reached":"Request extension",children:Xt?"Extension Pending":jt?"Max Extensions":"Raise Extension"}):t.jsx("button",{onClick:()=>Ts(m),style:{padding:"6px 12px",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:500,backgroundColor:"#28a745",color:"white",cursor:"pointer"},title:"Acquire lock to request extension",children:"Acquire Lock"})})()})}),t.jsx("td",{children:R+1}),t.jsx("td",{children:D?.ship_name||"Unknown Ship"}),t.jsx("td",{children:m.relatedJCD?.jcd_name||"N/A"}),t.jsx("td",{children:m.relatedJCD?.jcd_category==1?"Servicable":"Replacable"}),t.jsx("td",{children:ce?.emp_name||"N/A"}),t.jsx("td",{children:m.relatedJCD?.criticality==1?"Critical":"Not Critical"}),t.jsx("td",{children:"GEN. RULE"}),t.jsx("td",{children:Ie?.emp_name||"N/A"}),t.jsx("td",{children:Ve?.emp_name||"N/A"}),t.jsx("td",{children:Lc(m.activeJobs)}),t.jsx("td",{children:m.activeJobs.job_completed_till?m.activeJobs.job_completed_till.split("T")[0].split("-").reverse().join("-"):"N/A"}),t.jsx("td",{children:m?.activeJobs?.old_issued_to?.length>0?t.jsx("button",{style:{backgroundColor:"transparent",cursor:"pointer",border:"none",textDecoration:"underline"},onClick:()=>{let Pe=[];try{Pe=m.activeJobs?.old_issued_to?JSON.parse(m.activeJobs.old_issued_to):[]}catch(zt){console.error(" Error parsing old_issued_to JSON:",zt),Pe=[]}fn(zt=>[...zt,...Pe]),ni(!0)},children:"See Details"}):t.jsx(t.Fragment,{children:"No Previous Employees"})}),t.jsx("td",{children:He.filter(Pe=>Pe.DSGH_ID==m.relatedJCD?.executed_by)[0]?.desg_name||"N/A"}),t.jsx("td",{children:He.filter(Pe=>Pe.DSGH_ID==m.relatedJCD?.secondary_desg)[0]?.desg_name||"N/A"}),t.jsx("td",{children:(()=>{const Pe=new Date(m.activeJobs?.job_completed_till),zt=new Date;if(zt<=Pe)return t.jsx(t.Fragment,{children:"Not Overdue Yet"});{const yt=zt-Pe,Xt=Math.floor(yt/(1e3*60*60*24));return t.jsxs("p",{style:{color:"crimson"},children:[Xt," days overdue"]})}})()}),t.jsx("td",{children:m?.activeJobs?.generated_on?.split("T")[0]?.split("-")?.reverse()?.join("-")||"N/A"}),t.jsx("td",{children:P.filter(Pe=>Pe.UHA_ID==m?.activeJobs?.extensions_authority)[0]?.emp_name||"N/A"}),t.jsx("td",{children:He.filter(Pe=>Pe.DSGH_ID==m?.relatedJCD?.extension_authority)[0]?.desg_name||"N/A"}),t.jsx("td",{style:{cursor:"pointer"},onClick:()=>{Bt(!0),d(m.activeJobs)},children:[m.activeJobs?.ext1,m.activeJobs?.ext2,m.activeJobs?.ext3].filter(Pe=>Pe!=null&&Pe!=="").length}),t.jsx("td",{children:"Details"})]},m.activeJobs.job_id||R)}):t.jsx("tr",{children:t.jsx("td",{colSpan:11,style:{textAlign:"left"},children:"NO Active Jobs for Component"})})})]})})]}):t.jsx("p",{children:"No Component Selected Yet !!"})}),De=="completed_jobs"&&t.jsx(t.Fragment,{children:o?t.jsxs("div",{className:"active_tab_main_container",children:[t.jsx("h1",{children:De.replace("_"," ").toUpperCase()}),t.jsxs("p",{style:{color:"grey",fontStyle:"italic",fontFamily:"cursive"},children:["Selected Component - ",t.jsx("h2",{style:{color:"grey",fontStyle:"italic",display:"inline-block",fontFamily:"cursive"},children:o.data.label})]}),t.jsx("div",{id:"view_jcd_on_component_main_table_container",children:t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Sr."}),t.jsx("th",{children:"Location Name"}),t.jsx("th",{children:"Completed Job NAME"}),t.jsx("th",{children:"Exicuted By"}),t.jsx("th",{children:"Completed On"}),t.jsx("th",{children:"1St Verification Done By"}),t.jsx("th",{children:"2nd Verification Done By"}),t.jsx("th",{children:"Extension Authority"}),t.jsx("th",{children:"Triggered By (GEN. RULE)"}),t.jsx("th",{children:"Criticality"}),t.jsx("th",{children:"Job Category"}),w?.filter(m=>I?.profile_ids?.includes(m.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0017")&&t.jsx("th",{children:"GEN. Report"})]})}),t.jsx("tbody",{children:o.data.executedJobs.length>0&&P.length>0?t.jsx(t.Fragment,{children:o.data.executedJobs.map((m,R)=>t.jsxs("tr",{children:[t.jsx("td",{children:R+1}),t.jsx("td",{children:M.filter(D=>D.SHA_ID==ye.filter(ce=>ce.JPHA_ID==m.executedJobs.JPHA_ID)[0].SHA_ID)[0].ship_name}),t.jsx("td",{children:m.relatedJCD.jcd_name}),t.jsx("td",{children:P.filter(D=>{const ce=ye.filter(Ie=>Ie.JPHA_ID==m.executedJobs.JPHA_ID)[0].issued_to;if(D.UHA_ID==ce)return D})[0]?.emp_name}),t.jsx("td",{children:ye.filter(D=>D.JPHA_ID==m.executedJobs.JPHA_ID)[0]?.executed_dt?.split("T")[0]?.split("-")?.reverse()?.join("-")||"N/A"}),t.jsx("td",{children:P.filter(D=>D.UHA_ID==ye.filter(ce=>ce.JPHA_ID==m.executedJobs.JPHA_ID)[0].first_verification_by)[0]?.emp_name}),t.jsx("td",{children:P.filter(D=>D.UHA_ID==ye.filter(ce=>ce.JPHA_ID==m.executedJobs.JPHA_ID)[0].second_verification_by)[0]?.emp_name}),t.jsx("td",{children:"Extension Authority"}),t.jsx("td",{children:"Triggered By (GEN. RULE)"}),t.jsx("td",{children:_.filter(D=>D.JCDSHA_ID==m.executedJobs.jcd_id)[0].criticality==1?"Critical":"Not Critical"}),t.jsx("td",{children:_.filter(D=>D.JCDSHA_ID==m.executedJobs.jcd_id)[0].job_category==1?"Servicable":"Replacable"}),w?.filter(D=>I?.profile_ids?.includes(D.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0017")&&t.jsx("td",{children:t.jsx("button",{onClick:()=>{Ye.info("Working On this")},children:""})})]}))}):t.jsx("td",{colSpan:12,style:{textAlign:"left"},children:"NO Completed Jobs for Component"})})]})})]}):t.jsx("p",{children:"No Component Selected Yet !!"})}),De==="upcoming_jobs"&&t.jsxs("div",{className:"active_tab_main_container",children:[t.jsx("h1",{children:De.replace("_"," ").toUpperCase()}),t.jsxs("div",{className:"ship-filter-container",style:{marginBottom:"20px"},children:[t.jsx("label",{htmlFor:"upcoming-ship-select",style:{marginRight:"10px",fontWeight:"bold"},children:"Select Location:"}),t.jsxs("select",{id:"upcoming-ship-select",value:Ne,onChange:m=>Te(m.target.value),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #ddd",minWidth:"200px"},children:[t.jsx("option",{value:"",children:"All Ships"}),Array.isArray(M)&&M.map(m=>t.jsx("option",{value:m.SHA_ID,children:m.ship_name},m.SHA_ID))]}),t.jsx("div",{className:"search-box",style:{marginLeft:"20px",display:"inline-block"},children:t.jsx("input",{type:"text",placeholder:"Search JCD...",value:Re,onChange:m=>le(m.target.value),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #ddd",minWidth:"250px"}})})]}),t.jsx("div",{id:"view_jcd_on_component_main_table_container",children:t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Select"}),t.jsx("th",{children:"JCD ID"}),t.jsx("th",{children:"Component"}),t.jsx("th",{children:"Running Hours Interval"}),t.jsx("th",{children:"KM Interval"}),t.jsx("th",{children:"Periodic Interval"}),t.jsx("th",{children:"Conditional Generation"}),t.jsx("th",{children:"Responsible Crew"}),t.jsx("th",{children:"Last Generated On"}),t.jsx("th",{children:"Job Type"}),t.jsx("th",{children:"Priority"}),t.jsx("th",{children:"Actions"})]})}),t.jsx("tbody",{children:Es()})]})})]})]})]}),Mt&&t.jsxs("div",{id:"display-linked-ships-with-jcd-main-container-wrapper",children:[t.jsx("div",{id:"display-linked-ships-with-jcd-main-container",children:t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{}),t.jsx("th",{children:"SHIP CODE"}),t.jsx("th",{children:"JCD NAME"}),t.jsx("th",{children:"GEN. ON. CAT"}),t.jsx("th",{children:"GEN. ON. SUB-CAT"}),t.jsx("th",{children:"GEN. ON. 2ND-SUB-CAT"}),t.jsx("th",{children:"GEN. ON. 3RD-SUB-CAT"}),t.jsx("th",{children:"GEN. RULE"})]})}),t.jsx("tbody",{children:Jt.length>0&&P.length>0?Jt.map(m=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("input",{type:"checkbox",name:"affectedShipsInJcdUpdation",checked:ga.some(R=>R.SHA_ID===m.SHA_ID),onChange:R=>{R.target.checked?qe(D=>[...D,m]):qe(D=>D.filter(ce=>ce.SHA_ID!==m.SHA_ID))}})}),t.jsx("td",{children:M.filter(R=>R.SHA_ID==m.SHA_ID)[0]?.ship_name}),t.jsx("td",{children:m.jcd_name||"Name Not Mention"}),t.jsx("td",{children:$?.filter(R=>R.CHA_ID==m.jcd_applied_cat)[0]?.category_name||"N/A"}),t.jsx("td",{children:ne?.filter(R=>R.SCHA_ID==m.jcd_applied_sub_cat)[0]?.sub_category_name||"N/A"}),t.jsx("td",{children:Ce?.filter(R=>R.SSCHA_ID==m.jcd_applied_2nd_sub_cat)[0]?.second_sub_cat_name||"N/A"}),t.jsx("td",{children:ue?.filter(R=>R.TSCHA_ID==m.jcd_applied_3rd_sub_cat)[0]?.third_sub_cat_name||"N/A"}),t.jsxs("td",{children:[" KM=",m.km_interval||"?",", HR=",m.operational_interval||"?",", IDEAL=",m.periodic_interval||"?"," "]})]})):t.jsxs("tr",{children:[t.jsx("td",{}),t.jsx("td",{children:"No Linkage With Any Ship"})]})})]})}),t.jsxs("p",{children:[t.jsx("input",{type:"checkbox",name:"agreementForChanges",id:"",onChange:m=>{m.target.checked?Ot(!0):Ot(!1)}})," I have Confirm, I read all documents and I am reponsible For any thing happen after this change"]}),t.jsxs("div",{children:[t.jsx("button",{onClick:()=>{pa(!1)},children:"Close"}),t.jsx("button",{onClick:()=>{Ec()},children:"Confirm"})]})]}),_a&&t.jsx("div",{id:"link-JCD-To-Ship-At-Config-Time-main-container",children:t.jsxs("div",{id:"link-JCD-To-Ship-At-Config-Time-content-container",children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Link JCD to Ships"}),t.jsx("p",{children:"Select ships and set the start date for this JCD"})]}),t.jsx("div",{className:"table-container",children:t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsxs("th",{style:{alignContent:"center",justifyItems:"center",justifyContent:"center",textAlign:"center"},children:["Check All ",t.jsx("input",{type:"checkbox",id:"select-all-ships",onChange:m=>{m.target.checked?M?.forEach(R=>{nt(D=>[...D,R])}):M?.forEach(R=>{nt(D=>D.filter(ce=>ce.SHA_ID!==R.SHA_ID))})}})]}),t.jsx("th",{style:{textAlign:"center"},children:"Location Name"}),t.jsx("th",{style:{textAlign:"center"},children:"Applied From"})]})}),t.jsx("tbody",{children:M.map(m=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("input",{type:"checkbox",className:"ship-checkbox","data-ship-id":m.SHA_ID,checked:ve.some(R=>R.SHA_ID===m.SHA_ID),onChange:R=>{R.target.checked?nt(D=>[...D,m]):nt(D=>D.filter(ce=>ce.SHA_ID!==m.SHA_ID))}})}),t.jsx("td",{children:m.ship_name}),t.jsx("td",{children:t.jsx("input",{type:"date",className:"applied-from-date","data-ship-id":m.SHA_ID})})]},m.SHA_ID))})]})}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>{nt([]),Ca(!1)},children:"Cancel"}),t.jsx("button",{type:"button",className:"btn-confirm",onClick:async()=>{const m=ve.map(D=>{const ce=document.querySelector(`.applied-from-date[data-ship-id="${D.SHA_ID}"]`)?.value||null;return{ship_id:D.SHA_ID,applied_from:ce}});console.log("shipAppliedFromCombination : ",m);const R={updatedDataNewJcd:Hn,ship_appliedFromCombination:m};await Je.post(`${i}addJcdWithShip_AppliedFrom`,R).then(async D=>{D.status==201&&(Ye.success("JCD created and Linked successfully! "),ws(),ke([""]),ct(!1),we(!1),Ca(!1),nt([]),await Promise.all([b(),X(),Le(),fe(),J(),te(),me(),be(),H(),f(),k()]),p(),ee("view_jcd"))}).catch(D=>{console.error("Error in addJcdWithShip_AppliedFrom:",D),Ye.error("Failed to create JCD. Server error.")})},children:"Confirm & Save"})]})]})}),va&&_t&&t.jsx("div",{id:"link-JCD-To-Ship-At-Config-Time-main-container",children:t.jsxs("div",{id:"link-JCD-To-Ship-At-view-jcd-content-container",children:[t.jsxs("div",{id:"link-JCD-To-Ship-At-view-jcd-content-top-container",children:[t.jsxs("h3",{children:["Selected JCD Name : ",_t.jcd_name]}),t.jsx("h3",{children:"Assigned Ships"}),t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"SR."}),t.jsx("th",{children:"SHIP NAME"}),t.jsx("th",{children:"ACTIVE FROM"}),t.jsx("th",{children:"Active Job No"}),t.jsx("th",{children:"Job Status"}),w?.filter(m=>I?.profile_ids?.includes(m.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0014")&&t.jsx("th",{children:"OPERATION"})]})}),t.jsx("tbody",{children:M?.filter(m=>A.some(R=>R.SHA_ID===m.SHA_ID&&R.jcds?.toString().includes(_t.jcd_id))).length>0?M.filter(m=>A.some(R=>R.SHA_ID===m.SHA_ID&&R.jcds?.toString().includes(_t.jcd_id))).map((m,R)=>{const D=_.find(ce=>ce.jcd_id===_t.jcd_id&&ce.SHA_ID===m.SHA_ID);return t.jsxs("tr",{children:[t.jsx("td",{children:R+1}),t.jsx("td",{children:m.ship_name}),t.jsx("td",{children:D?D.jcd_applied_from?.split("T")[0].split("-").reverse().join("-")||D.inserted_on?.split("T")[0].split("-").reverse().join("-"):"N/A"}),t.jsx("td",{children:ye.filter(ce=>{if(console.log(`${ce.jcd_id} == ${D.JCDSHA_ID}`),ce.jcd_id==D.JCDSHA_ID)return ce})[0]?.JPHA_ID||"No Active Job"}),t.jsx("td",{children:T[ye.filter(ce=>{if(console.log(`${ce.jcd_id} == ${D.JCDSHA_ID}`),ce.jcd_id==D.JCDSHA_ID)return ce})[0]?.job_status]||"--"}),w?.filter(ce=>I?.profile_ids?.includes(ce.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0014")&&t.jsx("td",{children:t.jsx("button",{onClick:()=>{kc(_t.jcd_id,m.SHA_ID)},className:"action-btn delete",children:""})})]},R+""+m.JSCA_ID)}):t.jsx("tr",{children:t.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"Not Linked With Any Ship"})})})]})})]}),t.jsxs("div",{id:"link-JCD-To-Ship-At-view-jcd-content-bottom-container",children:[t.jsx("h3",{children:"Un-Assigned Ships"}),t.jsx("div",{className:"table-scroll-container",children:t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{}),t.jsx("th",{children:"SR."}),t.jsx("th",{children:"SHIP NAME"}),t.jsx("th",{children:"SHIP CODE"})]})}),t.jsx("tbody",{children:M?.filter(m=>!A.some(R=>R.SHA_ID===m.SHA_ID&&R.jcds?.toString().includes(_t.jcd_id))).length>0?M.filter(m=>!A.some(R=>R.SHA_ID===m.SHA_ID&&R.jcds?.toString().includes(_t.jcd_id))).map((m,R)=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("input",{type:"checkbox",style:{width:"fit-content",cursor:"pointer"},onChange:D=>{D.target.checked?Nt(ce=>[...ce,m]):Nt(ce=>ce.filter(Ie=>Ie.SHA_ID!==m.SHA_ID))},checked:he.includes(m)})}),t.jsx("td",{children:R+1}),t.jsx("td",{children:m.ship_name}),t.jsx("td",{children:m.ship_code})]},R+""+m.JSCA_ID)):t.jsx("tr",{children:t.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"All Ships Are Already Linked"})})})]})})]}),t.jsxs("div",{className:"modal-footer",style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"20px"},children:[w?.filter(m=>I?.profile_ids?.includes(m.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0013")&&t.jsx("button",{type:"button",className:"btn-primary",disabled:he.length===0,style:{cursor:he.length===0?"not-allowed":"pointer",opacity:he.length===0?".5":"1"},onClick:()=>{Ya(!0)},children:"Link Selected JCDs"}),t.jsx("button",{type:"button",className:"btn-primary",onClick:()=>{ca(!1),Me(null),Nt([]),Ya(!1),un({}),ba(0)},children:"Close"})]})]})}),Vn&&he.length>0&&t.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:99999,overflowY:"auto",padding:"20px"},onClick:m=>{m.target===m.currentTarget&&Ya(!1)},children:t.jsxs("div",{style:{background:"white",borderRadius:"12px",width:"90%",maxWidth:"640px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 10px 30px rgba(0,0,0,0.3)",border:"1px solid #e0e0e0"},children:[t.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid #eee",textAlign:"center",backgroundColor:"#f8f9fa",borderRadius:"12px 12px 0 0"},children:[t.jsx("h2",{style:{margin:0,color:"#333",fontSize:"1.5rem"},children:"Link JCD to Ships"}),t.jsxs("p",{style:{margin:"8px 0 0",color:"#666",fontSize:"0.9rem"},children:["Step ",ua+1," of ",he.length]})]}),t.jsx("div",{style:{padding:"30px"},children:(()=>{const m=he[ua],R=Wa[m.SHA_ID]||!1;return t.jsxs("div",{children:[t.jsx("h3",{style:{color:"#1a1a1a",marginBottom:"10px"},children:m.ship_name}),t.jsxs("p",{style:{color:"#555",marginBottom:"20px"},children:[t.jsx("strong",{children:"Ship Code:"})," ",m.ship_code]}),t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("label",{htmlFor:`applied-from-${m.SHA_ID}`,style:{display:"block",marginBottom:"6px",fontWeight:"500",color:"#333"},children:"Applied From"}),t.jsx("input",{type:"date",value:dn[m.SHA_ID]||"",onChange:D=>{Ka(ce=>({...ce,[m.SHA_ID]:D.target.value}))},style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #ccc",fontSize:"1rem",color:"gray"},required:!0})]}),t.jsxs("div",{style:{marginBottom:"24px",padding:"14px",border:`1px solid ${R?"#28a745":"#ddd"}`,borderRadius:"8px",backgroundColor:"#f9f9f9",transition:"border 0.2s"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"10px",cursor:"pointer",userSelect:"none"},children:[t.jsx("input",{type:"checkbox",checked:R,onChange:D=>{un(ce=>({...ce,[m.SHA_ID]:D.target.checked}))},style:{marginTop:"4px",width:"fit-content"}}),t.jsx("span",{style:{fontSize:"0.95rem",color:"#444"},children:t.jsx("i",{children:"I confirm I have reviewed this ship and am responsible for linking this JCD."})})]}),!R&&t.jsx("small",{style:{color:"#d9534f",display:"block",marginTop:"6px"},children:"* This is required"})]})]})})()}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"20px 30px",borderTop:"1px solid #eee",backgroundColor:"#f8f9fa",borderRadius:"0 0 12px 12px",gap:"12px",flexWrap:"wrap"},children:[t.jsx("button",{type:"button",onClick:()=>ba(m=>Math.max(m-1,0)),disabled:ua===0,style:{padding:"10px 16px",backgroundColor:ua===0?"#e9ecef":"#007bff",color:ua===0?"#6c757d":"white",border:"none",borderRadius:"6px",cursor:ua===0?"not-allowed":"pointer",fontSize:"14px",fontWeight:"500"},children:" Back"}),t.jsx("button",{onClick:()=>{Ya(!1),un({}),Ka({})},style:{marginLeft:"auto",padding:"10px 20px",backgroundColor:"#d00b0bff",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",minWidth:"120px"},children:"Close"}),ua<he.length-1?t.jsx("button",{type:"button",onClick:()=>{const m=he[ua];if(document.getElementById(`applied-from-${m.SHA_ID}`)?.value,!Wa[m.SHA_ID]){Ye.warning("Please confirm for this ship before proceeding.");return}ba(D=>D+1)},style:{marginLeft:"auto",padding:"10px 16px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Next "}):t.jsx("button",{type:"button",onClick:async()=>{if(!he.every(ce=>Wa[ce.SHA_ID])){Ye.warning("Please confirm for all ships before submission.");return}const R=he.map(ce=>({ship_id:ce.SHA_ID,applied_from:dn[ce.SHA_ID]||null}));console.log("Submitting payload:",{updatedDataNewJcd:_t,ship_appliedFromCombination:R});try{const ce=await Je.post(`${i}linkExistingJCDWithShips`,formData,{headers:{"Content-Type":"multipart/form-data"}});console.log("Hii result : ",ce),Ye.success("JCD successfully linked to all ships!"),ws(),ke([""]),ct(!1),we(!1),Ca(!1),nt([]),b(),X(),Le(),V()}catch(ce){console.error(ce),Ye.error("Failed to link JCD to ships. Please try again.")}finally{Ya(!1),Nt([]),un({}),Ka({})}},style:{marginLeft:"auto",padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",minWidth:"120px"},children:"Submit All"})]})]})}),ht&&_t&&t.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:99999,overflowY:"auto",padding:"20px",backdropFilter:"blur(5px)"},onClick:m=>{m.target===m.currentTarget&&Ra(!1)},children:t.jsxs("div",{style:{background:"white",borderRadius:"12px",width:"90%",maxWidth:"720px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 10px 30px rgba(0,0,0,0.3)",border:"1px solid #e0e0e0"},children:[t.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid #eee",backgroundColor:"#f8f9fa",borderRadius:"12px 12px 0 0"},children:[t.jsx("h2",{style:{margin:"0",color:"#333",fontSize:"1.5rem"},children:"Suspend JCD from Ships"}),t.jsxs("p",{style:{margin:"8px 0 0",color:"#666",fontSize:"0.9rem"},children:["Selected JCD: ",t.jsx("strong",{children:_t.jcd_name})]})]}),t.jsxs("div",{style:{padding:"20px"},children:[t.jsx("p",{style:{marginBottom:"15px",color:"#555"},children:"Select ships to suspend this JCD from:"}),t.jsx("div",{className:"table-scroll-container",style:{maxHeight:"400px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"8px",marginBottom:"20px"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.95rem"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{backgroundColor:"#f1f1f1",position:"sticky",top:0,zIndex:1,textAlign:"center"},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left",width:"60px"},children:t.jsx("input",{type:"checkbox",checked:Kt.length===Li.length,onChange:m=>{m.target.checked?da(Li.map(R=>R.SHA_ID)):da([])}})}),t.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"SHIP NAME"}),t.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Active JOB NO."}),t.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Active JOB"})]})}),t.jsx("tbody",{children:Li.length>0?Li.map(m=>{const R=_?.find(Ie=>Ie.line_no===0&&Ie.JCDSHA_ID===_t?.JCDSHA_ID)?.jcd_id,D=_?.find(Ie=>Ie.jcd_id===R&&Ie.SHA_ID===m.SHA_ID)?.JCDSHA_ID,ce=ye.find(Ie=>Ie.jcd_id===D&&Ie.SHA_ID===m.SHA_ID);return t.jsxs("tr",{style:{borderBottom:"1px solid #eee",backgroundColor:Kt.includes(m.SHA_ID)?"#f0f8ff":"white"},children:[t.jsx("td",{style:{padding:"10px",textAlign:"center"},children:t.jsx("input",{type:"checkbox",checked:Kt.includes(m.SHA_ID),onChange:Ie=>{Ie.target.checked?da(Ve=>[...Ve,m.SHA_ID]):da(Ve=>Ve.filter(Ue=>Ue!==m.SHA_ID))}})}),t.jsx("td",{style:{padding:"10px"},children:m.ship_name}),t.jsx("td",{style:{padding:"10px"},children:ce?.JPHA_ID||"No Active Job"}),t.jsx("td",{style:{padding:"10px"},children:ce?T[ce.job_status]:"--"})]},m.SHA_ID)}):t.jsx("tr",{children:t.jsx("td",{colSpan:"4",style:{textAlign:"center",padding:"20px",color:"#999",fontStyle:"italic"},children:"No ships are currently linked with this JCD."})})})]})})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",padding:"20px",borderTop:"1px solid #eee",backgroundColor:"#f8f9fa",borderRadius:"0 0 12px 12px"},children:[t.jsx("button",{type:"button",onClick:()=>{Ra(!1),da([])},style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Cancel"}),t.jsxs("button",{type:"button",disabled:Kt.length===0,onClick:async()=>{if(Kt.length===0)return;const m=Kt.filter(D=>{const ce=_?.find(Ue=>Ue.line_no===0&&Ue.JCDSHA_ID===_t?.JCDSHA_ID)?.jcd_id,Ie=_?.find(Ue=>Ue.jcd_id===ce&&Ue.SHA_ID===D)?.JCDSHA_ID;return ye.find(Ue=>Ue.jcd_id===Ie&&Ue.SHA_ID===D)?.JPHA_ID});if(m.length>0){Ye.error(`Cannot suspend. ${m.length} selected ship(s) still have an active job. Complete it first.`);return}window.confirm(`Are you sure you want to suspend this JCD from ${Kt.length} ship(s)?`)&&await Mc()},style:{padding:"10px 20px",backgroundColor:Kt.length>0?"#d9534f":"#e9ecef",color:"white",border:"none",borderRadius:"6px",cursor:Kt.length>0?"pointer":"not-allowed",fontSize:"14px",fontWeight:"600"},children:["Suspend (",Kt.length,")"]})]})]})}),ki&&t.jsxs("div",{id:"old-detials-popup-main-container",children:[t.jsx("div",{id:"old-detials-popup-content-container",children:t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"SR"}),t.jsx("th",{children:"EMPLOYEE NAME"}),t.jsx("th",{children:"DESIGNATION"}),t.jsx("th",{children:"ACKNOWLEDGE DATE"})]})}),t.jsx("tbody",{children:Ln.length>0?Ln.map((m,R)=>t.jsxs("tr",{children:[t.jsx("td",{style:{textAlign:"center"},children:R+1}),t.jsx("td",{style:{textAlign:"center"},children:P.filter(D=>D.UHA_ID==m.emp_id)[0]?.emp_name||"Emp Name NOT Present In DB"}),t.jsx("td",{style:{textAlign:"center"},children:He.filter(D=>D.DSGH_ID==m.desg_id)[0]?.desg_name||"Designation Name Not Present in DB"}),t.jsx("td",{style:{textAlign:"center"},children:m.acknoledge_dt?.split("-").reverse().join("-")})]},R)):t.jsx("tr",{children:t.jsx("td",{colSpan:4,children:"No Old Employees"})})})]})}),t.jsx("button",{onClick:()=>{fn([]),ni(!1)},children:"Close"})]}),tn&&t.jsx("div",{className:"modern-extension-modal-overlay",children:t.jsxs("div",{className:"modern-extension-modal",children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("div",{className:"header-content",children:[t.jsx("h2",{children:"Extension Request Details"}),t.jsxs("p",{children:["Job: ",r?.JPHA_ID||"N/A"]})]}),t.jsx("button",{className:"close-button",onClick:()=>Bt(!1),children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2"})})})]}),t.jsx("div",{className:"modal-content",children:r&&j.length>0?t.jsx("div",{className:"table-container",children:t.jsxs("table",{className:"modern-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:"action-col",children:"Actions"}),t.jsx("th",{className:"sr-col",children:"#"}),t.jsx("th",{children:"Extension Authority"}),t.jsx("th",{children:"Authority Designation"}),t.jsx("th",{children:"Requested By"}),t.jsx("th",{children:"Requester Designation"}),t.jsx("th",{children:"Request Date"}),t.jsx("th",{className:"status-col",children:"Status"}),t.jsx("th",{children:"Job Generated"}),t.jsx("th",{children:"Job Status at Approval"}),t.jsx("th",{children:"Overdue Count"}),t.jsx("th",{children:"New Deadline"})]})}),t.jsx("tbody",{children:j.filter(m=>m.JPTA_ID==r.JPHA_ID)?.map((m,R)=>t.jsxs("tr",{className:"table-row",children:[t.jsx("td",{className:"action-cell",children:t.jsx("button",{className:"icon-button chat-button",onClick:()=>Ye.info("Open communication panel..."),title:"Open Communication",children:t.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",children:[t.jsx("path",{d:"M20 14.5c0 1.657-1.79 3-4 3H9l-5 4V6.5C4 4.843 5.79 3.5 8 3.5h8c2.21 0 4 1.343 4 3v8z",stroke:"currentColor",strokeWidth:"1.6",fill:"currentColor",fillOpacity:".14"}),t.jsx("circle",{cx:"9",cy:"11",r:"1.2",fill:"currentColor"}),t.jsx("circle",{cx:"12",cy:"11",r:"1.2",fill:"currentColor"}),t.jsx("circle",{cx:"15",cy:"11",r:"1.2",fill:"currentColor"})]})})}),t.jsx("td",{className:"sr-cell",children:R+1}),t.jsx("td",{children:P.find(D=>D.UHA_ID==m?.approve_authority_id)?.emp_name||"N/A"}),t.jsx("td",{children:He.find(D=>D.DSGH_ID==m?.approve_authority_desg)?.desg_name||"N/A"}),t.jsx("td",{children:P.find(D=>D.UHA_ID==m?.requested_by)?.emp_name||"N/A"}),t.jsx("td",{children:He.find(D=>D.DSGH_ID==P.find(ce=>ce.UHA_ID==m?.requested_by)?.DSGH_ID)?.desg_name||"N/A"}),t.jsx("td",{children:m.requested_on.split("T")[0].split("-").reverse().join("-")}),t.jsx("td",{className:"status-cell",children:t.jsx("span",{className:`status-badge status-${m.ext_request_status}`,children:m.ext_request_status===1?"Requested":m.ext_request_status===2?"Approved":m.ext_request_status===3?"Rejected":""})}),t.jsx("td",{children:r.generated_on.split("T")[0].split("-").reverse().join("-")}),t.jsx("td",{children:T[r.job_status]||"N/A"}),t.jsx("td",{children:(()=>{const D=new Date(r.job_completed_till),Ie=new Date(m.requested_on)-D,Ve=Math.ceil(Ie/(1e3*60*60*24));return Ve>0?`${Ve} days`:"Not Overdue"})()}),t.jsx("td",{children:m.new_execution_deadline?.split("T")[0].split("-").reverse().join("-")||"N/A"})]},m.JEDA_ID))})]})}):t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-icon",children:""}),t.jsx("h3",{children:"No Extension Requests"}),t.jsx("p",{children:"No extension requests found for this job."})]})}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{className:"btn-secondary",onClick:()=>Bt(!1),children:"Close"})})]})}),ia&&t.jsx("div",{id:"Communication_model_wrapper",children:t.jsxs("div",{className:"communication-modal-inner",children:[t.jsx(S0,{jcd:Ga,isOpenByExtention:Rn,onClose:()=>la(!1),refreshJCDPage:b,refreshTree:f,refreshPlannedJobs:X}),t.jsx("button",{style:{borderRadius:"50%",border:"none",backgroundColor:"rgba(232, 65, 65, 1)",color:"white",fontSize:"1.1rem",fontWeight:400,cursor:"pointer",marginTop:"10px",alignSelf:"stretch",margin:"10px 20px",padding:"5px 10px",position:"absolute",top:"11px",right:"-2px"},onClick:()=>{la(!1),K(),console.log("selectedNode before refresh tree.. : ",o),f(),X(),console.log("selectedNode after refresh tree.. : ",o)},children:""})]})}),Gn&&t.jsxs("div",{className:"modern-jcd-requirements-overlay",children:[console.log("selectedJCDForExecution :: ",Et),t.jsxs("div",{className:"modern-jcd-requirements-modal",children:[t.jsxs("div",{className:"requirements-header",children:[t.jsxs("div",{className:"header-content",children:[t.jsx("h2",{children:"Job Execution Requirements"}),t.jsx("p",{children:"Review requirements before starting execution"})]}),t.jsx("button",{className:"close-button",onClick:()=>jn(!1),children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2"})})})]}),t.jsxs("div",{className:"requirements-content",children:[t.jsxs("div",{className:"requirements-grid",children:[t.jsxs("div",{className:"requirement-card",children:[t.jsx("div",{className:"requirement-icon",children:t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:t.jsx("path",{d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),t.jsxs("div",{className:"requirement-info",children:[t.jsx("h3",{children:"Pre-Execution Image"}),t.jsx("p",{children:"Capture image before starting the job"})]}),t.jsx("div",{className:`requirement-status ${Et?.pre_execution_image_required==1?"required":"not-required"}`,children:Et?.pre_execution_image_required==1?"Required":"Not Required"})]}),t.jsxs("div",{className:"requirement-card",children:[t.jsx("div",{className:"requirement-icon",children:t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:t.jsx("path",{d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),t.jsxs("div",{className:"requirement-info",children:[t.jsx("h3",{children:"Post-Execution Image"}),t.jsx("p",{children:"Capture image after completing the job"})]}),t.jsx("div",{className:`requirement-status ${Et?.post_execution_image_required==1?"required":"not-required"}`,children:Et?.post_execution_image_required==1?"Required":"Not Required"})]}),t.jsxs("div",{className:"requirement-card",children:[t.jsx("div",{className:"requirement-icon",children:t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:t.jsx("path",{d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14v-4zM5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),t.jsxs("div",{className:"requirement-info",children:[t.jsx("h3",{children:"Execution Video"}),t.jsx("p",{children:"Record video of the execution process"})]}),t.jsx("div",{className:`requirement-status ${Et?.video_of_execution_required==1?"required":"not-required"}`,children:Et?.video_of_execution_required==1?"Required":"Not Required"})]})]}),t.jsx("div",{className:"additional-info",children:t.jsxs("div",{className:"info-item",children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:t.jsx("path",{d:"M12 16v-4m0-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),t.jsx("span",{children:"Ensure all required media is captured for verification"})]})})]}),t.jsxs("div",{className:"requirements-footer",children:[t.jsx("button",{className:"btn-secondary",onClick:()=>jn(!1),children:"Cancel"}),t.jsx("button",{className:"btn-primary",onClick:()=>{console.log("Starting execution..."),jn(!1)},children:"Start Execution"})]})]})]}),On&&t.jsx("div",{className:"modern-requirements-popup-overlay",children:t.jsxs("div",{className:"modern-requirements-popup",children:[t.jsxs("div",{className:"requirements-popup-header",children:[t.jsxs("div",{className:"header-content",children:[t.jsx("h2",{children:"Job Completion Requirements"}),t.jsx("p",{children:"Please provide all required media and files to complete this job"})]}),t.jsx("button",{className:"close-button",onClick:()=>hn(!1),children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2"})})})]}),t.jsxs("div",{className:"requirements-popup-content",children:[Et?.pre_execution_image_required==1&&t.jsxs("div",{className:"requirement-section",children:[t.jsxs("div",{className:"requirement-header",children:[t.jsxs("div",{className:"requirement-title",children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px"},children:t.jsx("path",{d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),t.jsxs("h3",{children:["Pre-Execution Image ",t.jsx("span",{className:"required-star",children:"*"})]})]}),t.jsx("span",{className:"requirement-badge required",children:"Required"})]}),t.jsx("p",{className:"requirement-description",children:"Capture image before starting the job execution"}),t.jsxs("div",{className:"file-upload-area",children:[t.jsx("input",{type:"file",id:"pre-execution-image",accept:"image/*",className:"file-input",onChange:m=>Hi("preImage",m.target.files[0])}),t.jsxs("label",{htmlFor:"pre-execution-image",className:"file-upload-label",children:[t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px"},children:t.jsx("path",{d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Upload Pre-Execution Image"]}),et.preImage&&t.jsxs("div",{className:"uploaded-file",children:[t.jsxs("span",{children:[" ",et.preImage.name]}),t.jsx("button",{onClick:()=>Oi("preImage"),children:"Remove"})]})]})]}),Et?.post_execution_image_required==1&&t.jsxs("div",{className:"requirement-section",children:[t.jsxs("div",{className:"requirement-header",children:[t.jsxs("div",{className:"requirement-title",children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px"},children:t.jsx("path",{d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),t.jsxs("h3",{children:["Post-Execution Image ",t.jsx("span",{className:"required-star",children:"*"})]})]}),t.jsx("span",{className:"requirement-badge required",children:"Required"})]}),t.jsx("p",{className:"requirement-description",children:"Capture image after completing the job execution"}),t.jsxs("div",{className:"file-upload-area",children:[t.jsx("input",{type:"file",id:"post-execution-image",accept:"image/*",className:"file-input",onChange:m=>Hi("postImage",m.target.files[0])}),t.jsxs("label",{htmlFor:"post-execution-image",className:"file-upload-label",children:[t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px"},children:t.jsx("path",{d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Upload Post-Execution Image"]}),et.postImage&&t.jsxs("div",{className:"uploaded-file",children:[t.jsxs("span",{children:[" ",et.postImage.name]}),t.jsx("button",{onClick:()=>Oi("postImage"),children:"Remove"})]})]})]}),Et?.video_of_execution_required==1&&t.jsxs("div",{className:"requirement-section",children:[t.jsxs("div",{className:"requirement-header",children:[t.jsxs("div",{className:"requirement-title",children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px"},children:t.jsx("path",{d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14v-4zM5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),t.jsxs("h3",{children:["Execution Video ",t.jsx("span",{className:"required-star",children:"*"})]})]}),t.jsx("span",{className:"requirement-badge required",children:"Required"})]}),t.jsx("p",{className:"requirement-description",children:"Record video of the complete execution process"}),t.jsxs("div",{className:"file-upload-area",children:[t.jsx("input",{type:"file",id:"execution-video",accept:"video/*",className:"file-input",onChange:m=>Hi("video",m.target.files[0])}),t.jsxs("label",{htmlFor:"execution-video",className:"file-upload-label",children:[t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px"},children:t.jsx("path",{d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Upload Execution Video"]}),et.video&&t.jsxs("div",{className:"uploaded-file",children:[t.jsxs("span",{children:[" ",et.video.name]}),t.jsx("button",{onClick:()=>Oi("video"),children:"Remove"})]})]})]}),Et?.pdf_file_for_execution_required==1&&t.jsxs("div",{className:"requirement-section",children:[t.jsxs("div",{className:"requirement-header",children:[t.jsxs("div",{className:"requirement-title",children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px"},children:t.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),t.jsxs("h3",{children:["PDF Document ",t.jsx("span",{className:"required-star",children:"*"})]})]}),t.jsx("span",{className:"requirement-badge required",children:"Required"})]}),t.jsx("p",{className:"requirement-description",children:"Upload PDF document related to this job"}),t.jsxs("div",{className:"file-upload-area",children:[t.jsx("input",{type:"file",id:"pdf-file",accept:".pdf",className:"file-input",onChange:m=>Hi("document",m.target.files[0])}),t.jsxs("label",{htmlFor:"pdf-file",className:"file-upload-label",children:[t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px"},children:t.jsx("path",{d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Upload PDF Document"]}),et.document&&t.jsxs("div",{className:"uploaded-file",children:[t.jsxs("span",{children:[" ",et.document.name]}),t.jsx("button",{onClick:()=>Oi("document"),children:"Remove"})]})]})]}),!Nl()&&t.jsxs("div",{className:"validation-message",children:[t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px"},children:t.jsx("path",{d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Please complete all required fields marked with ",t.jsx("span",{className:"required-star",children:"*"})]})]}),t.jsxs("div",{className:"requirements-popup-footer",children:[t.jsx("button",{className:"btn-secondary",onClick:()=>{hn(!1),Ri({preImage:null,postImage:null,video:null,document:null})},children:"Cancel"}),t.jsx("button",{className:"btn-primary",onClick:async()=>{await Ii()},disabled:!Nl(),children:"Complete Job"})]})]})}),Aa&&In&&t.jsx("div",{className:"modern-popup-overlay",children:t.jsxs("div",{className:"modern-popup",children:[t.jsxs("div",{className:"popup-header",children:[t.jsx("h2",{children:"Confirm Acknowledgment"}),t.jsx("button",{className:"close-button",onClick:()=>{Sn(!1),Ja(null)},children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2"})})})]}),t.jsxs("div",{className:"popup-content",children:[t.jsx("p",{children:"Are you sure you want to acknowledge this job?"}),t.jsxs("div",{className:"job-details",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Job:"})," ",Et?.jcd_name]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Ship:"})," ",M.find(m=>m.SHA_ID===In.SHA_ID)?.ship_name]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Role:"})," ",ls==="primary"?"Primary":"Secondary"," Assignee"]})]})]}),t.jsxs("div",{className:"popup-footer",children:[t.jsx("button",{className:"btn-secondary",onClick:()=>{Sn(!1),Ja(null)},children:"Cancel"}),t.jsx("button",{className:"btn-primary",onClick:()=>li(In),children:"Confirm Acknowledgment"})]})]})}),Gt&&st&&t.jsx("div",{className:"media-preview-overlay",onClick:Br,children:t.jsxs("div",{className:"media-preview-container",onClick:m=>m.stopPropagation(),children:[t.jsxs("div",{className:"media-preview-header",children:[t.jsx("div",{className:"media-info",children:st?.groupName?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"media-icon",children:""}),t.jsx("span",{className:"media-name",children:st.groupName})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"media-icon",children:[st?.type==="image"&&"",st?.type==="video"&&"",st?.type==="pdf"&&""]}),t.jsx("span",{className:"media-name",children:st?.name})]})}),t.jsxs("div",{className:"media-controls",children:[t.jsx("button",{className:"download-btn",onClick:Tl,title:"Download",children:""}),t.jsx("button",{className:"close-preview-btn",onClick:Br,title:"Close",children:""})]})]}),t.jsxs("div",{className:"media-content",children:[Ae&&t.jsxs("div",{className:"media-loading",children:[t.jsx("div",{className:"loading-spinner"}),t.jsx("span",{children:"Loading media..."})]}),_e&&t.jsxs("div",{className:"media-error",children:[t.jsx("div",{className:"error-icon",children:""}),t.jsx("span",{children:"Failed to load media"})]}),!_e&&t.jsxs(t.Fragment,{children:[st?.type==="group"&&st.mediaList&&t.jsx("img",{src:st.mediaList[Wt]?.url,alt:`${st.groupName} - ${Wt+1}`,className:`preview-image ${Xn?"zoomed":""}`,style:{transform:`scale(${S})`},onClick:Bi,onLoad:oi,onError:ci}),st?.type!=="group"&&t.jsxs(t.Fragment,{children:[st?.type==="image"&&t.jsx("img",{src:st.url,alt:"Preview",className:`preview-image ${Xn?"zoomed":""}`,style:{transform:`scale(${S})`},onClick:Bi,onLoad:oi,onError:ci}),st?.type==="video"&&t.jsx("video",{src:st.url,controls:!0,className:"preview-video",onLoadStart:oi,onError:ci}),st?.type==="pdf"&&t.jsx("iframe",{src:st.url,className:"preview-pdf",onLoad:oi,onError:ci,title:"PDF Preview"})]})]}),(st?.type==="image"||st?.type==="group")&&!Ae&&!_e&&t.jsxs("div",{className:"zoom-controls",children:[t.jsx("button",{className:"zoom-btn",onClick:()=>Ji("out"),disabled:S<=.5,children:""}),t.jsxs("div",{className:"zoom-level",children:[Math.round(S*100),"%"]}),t.jsx("button",{className:"zoom-btn",onClick:()=>Ji("in"),disabled:S>=3,children:"+"}),t.jsx("button",{className:"zoom-btn",onClick:()=>Ji("reset"),children:""})]})]}),st?.type==="group"&&st.mediaList&&st.mediaList.length>1&&t.jsxs("div",{className:"media-navigation",children:[t.jsx("button",{className:"nav-btn",onClick:()=>ri("prev"),disabled:Wt===0,children:""}),t.jsxs("div",{className:"media-counter",children:[Wt+1," / ",st.mediaList.length]}),t.jsx("button",{className:"nav-btn",onClick:()=>ri("next"),disabled:Wt===st.mediaList.length-1,children:""})]}),st?.type==="group"&&st.mediaList&&st.mediaList.length>1&&t.jsx("div",{className:"media-thumbnails",children:st.mediaList.map((m,R)=>t.jsx("img",{src:m.url,alt:`Thumbnail ${R+1}`,className:`thumbnail ${R===Wt?"active":""}`,onClick:()=>{La(R),El()}},R))})]})}),Xe&&t.jsx("div",{className:"modern-requirements-popup-overlay",style:{zIndex:"999999999999"},children:t.jsxs("div",{className:"modern-requirements-popup",style:{maxWidth:"1000px",maxHeight:"90vh"},children:[t.jsxs("div",{className:"requirements-popup-header",children:[t.jsxs("div",{className:"header-content",children:[t.jsx("h2",{children:"Confirm Job Completion"}),t.jsx("p",{children:"Please review all details before completing the job"})]}),t.jsx("button",{className:"close-button",onClick:()=>Fe(!1),children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2"})})})]}),t.jsxs("div",{className:"confirmation-content",children:[t.jsxs("div",{className:"confirmation-section",children:[t.jsx("h3",{className:"section-title",children:"Job Information"}),t.jsxs("div",{className:"info-grid-enhanced",children:[t.jsxs("div",{className:"info-row",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-label",children:"Job ID:"}),t.jsx("span",{className:"info-value",children:It?.JPHA_ID||"N/A"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-label",children:"JCD Name:"}),t.jsx("span",{className:"info-value",children:Et?.jcd_name||"N/A"})]})]}),t.jsxs("div",{className:"info-row",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-label",children:"Generated On:"}),t.jsx("span",{className:"info-value",children:It?.generated_on?new Date(It.generated_on).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-label",children:"Executed By:"}),t.jsx("span",{className:"info-value",children:I?.emp_name||"N/A"})]})]}),t.jsxs("div",{className:"info-row",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-label",children:"Component:"}),t.jsx("span",{className:"info-value",children:(()=>{const m=getComponentHierarchyForJCD(Et);return m?`${m.component_name||"No#"}`:"N/A"})()})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("span",{className:"info-label",children:"Criticality:"}),t.jsx("span",{className:`info-value ${Et?.criticality==1?"critical":"normal"}`,children:Et?.criticality==1?"Critical":"Normal"})]})]})]})]}),t.jsxs("div",{className:"confirmation-section",children:[t.jsx("h3",{className:"section-title",children:"Uploaded Files"}),t.jsxs("div",{className:"uploads-preview-grid",children:[Et?.pre_execution_image_required===1&&t.jsxs("div",{className:"upload-preview-item",children:[t.jsxs("div",{className:"preview-header",children:[t.jsx("span",{className:"upload-label",children:"Pre-Execution Images"}),t.jsx("span",{className:`upload-status ${et.preImage.length>0?"uploaded":"missing"}`,children:et.preImage.length>0?` Uploaded (${et.preImage.length})`:" Missing"})]}),et.preImage.length>0?t.jsx("div",{className:"multiple-file-preview-container",children:et.preImage.map((m,R)=>t.jsxs("div",{className:"file-preview-wrapper",children:[t.jsxs("div",{className:"preview-wrapper",children:[t.jsx("img",{src:m.previewUrl,alt:`Pre-Execution ${R+1}`,className:"file-preview",onClick:()=>an(m,"preImage",R)}),t.jsx("div",{className:"preview-overlay",children:t.jsx("button",{className:"preview-btn",onClick:()=>an(m,"preImage",R),children:" View"})})]}),t.jsxs("div",{className:"file-info",children:[t.jsxs("span",{className:"file-name",children:["Image ",R+1]}),t.jsxs("span",{className:"file-size",children:[(m.file.size/1024/1024).toFixed(2)," MB"]})]})]},R))}):t.jsx("div",{className:"file-missing",children:t.jsx("span",{children:"No files uploaded"})})]}),Et?.post_execution_image_required===1&&t.jsxs("div",{className:"upload-preview-item",children:[t.jsxs("div",{className:"preview-header",children:[t.jsx("span",{className:"upload-label",children:"Post-Execution Images"}),t.jsx("span",{className:`upload-status ${et.postImage.length>0?"uploaded":"missing"}`,children:et.postImage.length>0?` Uploaded (${et.postImage.length})`:" Missing"})]}),et.postImage.length>0?t.jsx("div",{className:"multiple-file-preview-container",children:et.postImage.map((m,R)=>t.jsxs("div",{className:"file-preview-wrapper",children:[t.jsxs("div",{className:"preview-wrapper",children:[t.jsx("img",{src:m.previewUrl,alt:`Post-Execution ${R+1}`,className:"file-preview",onClick:()=>an(m,"postImage",R)}),t.jsx("div",{className:"preview-overlay",children:t.jsx("button",{className:"preview-btn",onClick:()=>an(m,"postImage",R),children:" View"})})]}),t.jsxs("div",{className:"file-info",children:[t.jsxs("span",{className:"file-name",children:["Image ",R+1]}),t.jsxs("span",{className:"file-size",children:[(m.file.size/1024/1024).toFixed(2)," MB"]})]})]},R))}):t.jsx("div",{className:"file-missing",children:t.jsx("span",{children:"No files uploaded"})})]}),Et?.video_of_execution_required===1&&t.jsxs("div",{className:"upload-preview-item",children:[t.jsxs("div",{className:"preview-header",children:[t.jsx("span",{className:"upload-label",children:"Execution Video"}),t.jsx("span",{className:`upload-status ${et.video?"uploaded":"missing"}`,children:et.video?" Uploaded":" Missing"})]}),et.video?t.jsxs("div",{className:"file-preview-container",children:[t.jsxs("div",{className:"preview-wrapper",children:[t.jsx("video",{src:et.video.previewUrl,className:"file-preview video-preview",onClick:()=>an(et.video)}),t.jsx("div",{className:"preview-overlay",children:t.jsx("button",{className:"preview-btn",onClick:()=>an(et.video),children:" Play"})})]}),t.jsxs("div",{className:"file-info",children:[t.jsx("span",{className:"file-name",children:et.video.name}),t.jsxs("span",{className:"file-size",children:[(et.video.file.size/1024/1024).toFixed(2)," MB"]})]})]}):t.jsx("div",{className:"file-missing",children:t.jsx("span",{children:"No file uploaded"})})]}),Et?.pdf_file_for_execution_required===1&&t.jsxs("div",{className:"upload-preview-item",children:[t.jsxs("div",{className:"preview-header",children:[t.jsx("span",{className:"upload-label",children:"PDF Document"}),t.jsx("span",{className:`upload-status ${et.document?"uploaded":"missing"}`,children:et.document?" Uploaded":" Missing"})]}),et.document?t.jsxs("div",{className:"file-preview-container",children:[t.jsxs("div",{className:"preview-wrapper pdf-preview",children:[t.jsxs("div",{className:"pdf-preview-content",onClick:()=>an(et.document),children:[t.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",children:[t.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z",stroke:"currentColor",strokeWidth:"2"}),t.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8",stroke:"currentColor",strokeWidth:"2"})]}),t.jsx("span",{children:"PDF Document"})]}),t.jsx("div",{className:"preview-overlay",children:t.jsx("button",{className:"preview-btn",onClick:()=>an(et.document),children:" View"})})]}),t.jsxs("div",{className:"file-info",children:[t.jsx("span",{className:"file-name",children:et.document.name}),t.jsxs("span",{className:"file-size",children:[(et.document.file.size/1024/1024).toFixed(2)," MB"]})]})]}):t.jsx("div",{className:"file-missing",children:t.jsx("span",{children:"No file uploaded"})})]})]})]}),t.jsxs("div",{className:"confirmation-section",children:[t.jsx("h3",{className:"section-title",children:"Consumable Spares Used"}),t.jsx("div",{className:"spares-summary",children:Ze.filter(m=>m.name&&m.quantity>0).length>0?t.jsxs("div",{className:"spares-list-enhanced",children:[t.jsxs("div",{className:"spares-header",children:[t.jsx("span",{children:"Spare Name"}),t.jsx("span",{children:"Quantity"})]}),Ze.filter(m=>m.name&&m.quantity>0).map((m,R)=>t.jsxs("div",{className:"spare-item-enhanced",children:[t.jsx("span",{className:"spare-name",children:m.name}),t.jsxs("span",{className:"spare-quantity",children:[m.quantity," units"]})]},R)),t.jsxs("div",{className:"spares-total-enhanced",children:[t.jsxs("span",{children:["Total Spares: ",Ze.filter(m=>m.name&&m.quantity>0).length]}),t.jsxs("span",{children:["Total Quantity: ",Ze.reduce((m,R)=>m+(R.quantity||0),0)," units"]})]})]}):t.jsxs("div",{className:"no-spares-enhanced",children:[t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:t.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",stroke:"currentColor",strokeWidth:"2"})}),t.jsx("span",{children:"No consumable spares recorded"})]})})]}),t.jsxs("div",{className:"confirmation-section",children:[t.jsx("h3",{className:"section-title",children:"Documentation"}),t.jsxs("div",{className:"notes-summary-enhanced",children:[t.jsxs("div",{className:"note-item-enhanced",children:[t.jsxs("div",{className:"note-header",children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:t.jsx("path",{d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",stroke:"currentColor",strokeWidth:"2"})}),t.jsx("span",{className:"note-label",children:"Service Notes"}),t.jsxs("span",{className:`word-count-badge ${isServiceNoteValid()?"valid":"invalid"}`,children:[serviceNote.split(/\s+/).filter(m=>m.length>0).length,"/100 words"]})]}),t.jsx("div",{className:"note-content-enhanced",children:t.jsx("p",{children:serviceNote||"No service notes provided"})})]}),I.emp_type==2&&t.jsxs("div",{className:"note-item-enhanced",children:[t.jsxs("div",{className:"note-header",children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:t.jsx("path",{d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z",stroke:"currentColor",strokeWidth:"2"})}),t.jsx("span",{className:"note-label",children:"Remarks"}),t.jsxs("span",{className:`word-count-badge ${isRemarksValid()?"valid":"invalid"}`,children:[remarks.split(/\s+/).filter(m=>m.length>0).length,"/100 words"]})]}),t.jsx("div",{className:"note-content-enhanced",children:t.jsx("p",{children:remarks||"No remarks provided"})})]})]})]})]}),t.jsx("div",{className:"requirements-popup-footer",children:t.jsxs("div",{className:"footer-actions",children:[t.jsx("button",{className:"btn-secondary",onClick:()=>Fe(!1),children:"Back to Edit"}),t.jsxs("button",{className:"btn-primary",onClick:async()=>{Fe(!1),await Ii()},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px"},children:t.jsx("path",{d:"M20 6L9 17l-5-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Confirm & Complete Job"]})]})})]})})]})},lj="https://udayerp.com/pms/server/api/",of=u.createContext(),rj=({children:i})=>{const[r,d]=u.useState([]),[o,f]=u.useState(!0),[h,p]=u.useState(null),y=async()=>{f(!0),p(null);try{const x=await fetch(`${lj}getDepartments`);if(!x.ok)throw new Error("Failed to fetch departments");const _=await x.json();console.log("data : ",_),d(_)}catch(x){console.error("Failed to fetch departments:",x),p(x.message)}finally{f(!1)}};return u.useEffect(()=>{y()},[]),t.jsx(of.Provider,{value:{departmentsList:r,refreshDepartments:y,loading:o,error:h},children:i})},oj="https://udayerp.com/pms/server/api/",Kg=u.createContext({designationsList:[],refreshDesignations:()=>{},loading:!1,error:null}),cj=({children:i})=>{const{departmentsList:r}=u.useContext(of),[d,o]=u.useState([]),[f,h]=u.useState(!0),[p,y]=u.useState(null),x=async()=>{h(!0),y(null);try{const _=await fetch(`${oj}getDesignations`);if(!_.ok)throw new Error("Failed to fetch designations");const b=await _.json();console.log("data of designations : ",b),o(b)}catch(_){console.error("Failed to fetch designations:",_),y(_.message)}finally{h(!1)}};return u.useEffect(()=>{r.length>0&&x()},[r]),t.jsx(Kg.Provider,{value:{designationsList:d,refreshDesignations:x,loading:f,error:p},children:i})},ei="https://udayerp.com/pms/server/api/",dj=()=>{const{designationsList:i}=u.useContext(Kg),{usersList:r,refreshUsers:d}=u.useContext(af),{shipsList:o}=u.useContext(nf),{departmentsList:f}=u.useContext(of),{officeStaffList:h,refreshOfficeStaffList:p}=u.useContext(Ei),{crewData:y,refreshCrewData:x}=u.useContext(mc),{user:_}=u.useContext(Va),{profiles:b}=u.useContext(ai),{employeeList:C}=u.useContext(_c),{plannedJobList:k,refreshPlannedJobs:I,activeJobStatusMap:w}=u.useContext(gc),{JCD_schedule_List:M,refreshJCDSchedules:H}=u.useContext(pc),[L,$]=u.useState("office"),[J,ne]=u.useState(""),[te,Ce]=u.useState(""),[me,ue]=u.useState(""),[be,P]=u.useState(""),[fe,He]=u.useState(null),[Le,ye]=u.useState([{id:1,first_name:"",last_name:"",middle_name:"",gender:"",mobile_no:"",country_code:"+91",user_type:"",user_email:"",user_status:1,date_of_joining:""}]),[X,T]=u.useState(0),[A,V]=u.useState(!1),[K,j]=u.useState(""),[B,ae]=u.useState({}),[U,ie]=u.useState({SCCA_ID:"",ship_id:L,desg_id:"",reporting_to_desg:"",dept_id:"",user_id:"",reporting_to_user:"",allocate_by:"",deboarding_done_by:"",date_of_allocation:"",date_of_boarding:"",place_of_boarding:"",expected_deboarding_date:"",crew_status:"",actual_deboarding_on:null,replacing_to_user:""}),[De,ee]=u.useState({first_name:"",last_name:"",middle_name:"",gender:null,mobile_no:"",user_type:null,current_pin:"",pin_refreshed_on:null,old_pins:null,otp_at:null,mobile_sim_country_code:"",pin_inactive_on:null,pin_inactive_by:null,user_status:1,user_email:""}),[oe,je]=u.useState({first_name:"",last_name:"",middle_name:"",gender:null,mobile_no:"",user_type:null,current_pin:"",pin_refreshed_on:null,old_pins:null,otp_at:null,mobile_sim_country_code:"",pin_inactive_on:null,pin_inactive_by:null,user_status:1,user_email:""}),[Be,ct]=u.useState({}),[We,ke]=u.useState({}),[Q,we]=u.useState(""),[Ze,it]=u.useState([]),[kt,tt]=u.useState([]),[St,Qt]=u.useState("office"),[oa,cn]=u.useState([]),[_t,Me]=u.useState({}),[Ga,$e]=u.useState({}),[Mt,pa]=u.useState({}),[Jt,vn]=u.useState([]),[ga,qe]=u.useState("SELECT USER"),[ve,nt]=u.useState({}),[he,Nt]=u.useState(null),[Na,Ot]=u.useState(!1),[_a,Ca]=u.useState(!1),[va,ca]=u.useState(!1),[Vn,Ya]=u.useState(!1),[dn,Ka]=u.useState(!1),[Wa,un]=u.useState({assigned:[],paused:[]}),[en,Da]=u.useState([]),[ia,la]=u.useState("auto_priority_based"),[Rn,bn]=u.useState(!1),[ki,ni]=u.useState({}),[Ln,fn]=u.useState([]),[ht,Ra]=u.useState(null),Kt=[{code:"+1",name:"United States / Canada"},{code:"+44",name:"United Kingdom"},{code:"+91",name:"India"},{code:"+61",name:"Australia"},{code:"+81",name:"Japan"},{code:"+86",name:"China"},{code:"+49",name:"Germany"},{code:"+33",name:"France"},{code:"+39",name:"Italy"},{code:"+7",name:"Russia"},{code:"+27",name:"South Africa"},{code:"+971",name:"UAE"},{code:"+966",name:"Saudi Arabia"},{code:"+92",name:"Pakistan"},{code:"+880",name:"Bangladesh"},{code:"+94",name:"Sri Lanka"},{code:"+977",name:"Nepal"},{code:"+93",name:"Afghanistan"},{code:"+55",name:"Brazil"},{code:"+34",name:"Spain"},{code:"+62",name:"Indonesia"},{code:"+63",name:"Philippines"},{code:"+60",name:"Malaysia"},{code:"+65",name:"Singapore"},{code:"+852",name:"Hong Kong"},{code:"+853",name:"Macau"},{code:"+82",name:"South Korea"},{code:"+90",name:"Turkey"},{code:"+98",name:"Iran"}],[da,tn]=u.useState(""),[Bt,Hn]=u.useState(""),[is,ua]=u.useState("Kindly Confirm with MR. Gaurav Ship in charge"),[ba,Gn]=u.useState("");u.useEffect(()=>{(()=>{const Y={};o.forEach(z=>{const _e=y.filter(Fe=>Fe.ship_id===z.SHA_ID&&Fe.crew_status===1).length,Ee=h.filter(Fe=>Fe.ship_id===z.SHA_ID).length,Xe=_e+Ee;Y[z.SHA_ID]={totalAllocated:Xe,shipCrew:_e,officeStaff:Ee,departments:[...new Set([...y.filter(Fe=>Fe.ship_id===z.SHA_ID).map(Fe=>Fe.dept_id),...h.filter(Fe=>Fe.ship_id===z.SHA_ID).map(Fe=>Fe.dept_id)])].length}});const Ae=h.filter(z=>!z.ship_id).length;Y.office={totalAllocated:Ae,shipCrew:0,officeStaff:Ae,departments:[...new Set(h.filter(z=>!z.ship_id).map(z=>z.dept_id))].length},ae(Y)})()},[y,h,o]);const jn=()=>t.jsx("div",{className:"enhanced-ship-selector",children:t.jsxs("select",{value:St,onChange:In,className:"ship-select",children:[o.map(S=>{const Y=B[S.SHA_ID]||{departments:0};return t.jsxs("option",{value:S.SHA_ID,children:[S.ship_name,"  ",Y.departments," depts"]},S.SHA_ID)}),t.jsxs("option",{value:"office",children:["Office ",B.office?.totalAllocated||0," staff  ",B.office?.departments||0," depts"]})]})}),Et=()=>{const S=Y=>{if(!Y)return{positions:0,allocated:0,vacant:0};f.find(Ee=>Ee.DEPT_ID===Y);const Ae=_t[Y]||[];let z=0,_e=0;return Ae.forEach(Ee=>{const Xe=Ee.no_of_positions||0,Fe=Ga[Ee.DSGH_ID]?.length||0;z+=Xe,_e+=Fe}),{positions:z,allocated:_e,vacant:z-_e}};return t.jsxs("div",{className:"dept-tabs",children:[t.jsxs("button",{className:`tab-buttons ${ga==="SELECT USER"?"active":""}`,children:[t.jsx("span",{onClick:()=>Ja("SELECT USER"),id:"modal-close-btn",style:{color:"red",visibility:he?"visible":"hidden",position:"absolute",top:2,right:4,fontSize:"10px"},children:""}),he?`${he.first_name} ${he.last_name}`:"SELECT USER"]}),oa.map(Y=>{const Ae=S(Y.DEPT_ID);return t.jsxs("button",{className:`tab-buttons ${ga===Y.dept_name?"active":""}`,onClick:()=>Ja(Y.dept_name),children:[t.jsx("span",{className:"dept-name",children:Y.dept_name}),t.jsxs("span",{className:"dept-stats",children:[Ae.allocated,"/",Ae.positions,"  ",Ae.vacant," vacant"]})]},Y.DEPT_ID)})]})},si=S=>{const Y=oa.find(z=>z.dept_name===S);return Y?(_t[Y.DEPT_ID]||[]).map(z=>{const _e=ve[z.DSGH_ID]||!1,Ee=Ga[z.DSGH_ID]||[],Xe=Math.max(0,(z.no_of_positions||0)-Ee.length),Fe=z.no_of_positions?Math.round(Ee.length/z.no_of_positions*100):0;return t.jsxs("div",{className:`designation-card enhanced ${_e?"expanded":""}`,children:[t.jsxs("div",{className:"designation-header",onClick:()=>ls(z.DSGH_ID),children:[t.jsxs("div",{className:"designation-info",children:[t.jsxs("div",{className:"desg-title-section",children:[t.jsx("strong",{className:"desg-name",children:z.desg_name}),t.jsx("span",{className:"desg-code",children:z.desg_code})]}),t.jsxs("div",{className:"position-stats",children:[t.jsx("div",{className:"utilization-bar",children:t.jsx("div",{className:"utilization-fill",style:{width:`${Fe}%`},title:`${Fe}% utilized`})}),t.jsxs("span",{className:"post-count",children:[Ee.length," / ",z.no_of_positions||0," positions",Xe>0&&t.jsxs("span",{className:"vacant-alert",children:["  ",Xe," VACANT"]})]})]})]}),t.jsx("button",{className:"expand-toggle",children:_e?"":""})]}),_e&&t.jsxs("div",{className:"designation-content",children:[Ee.length>0&&t.jsxs("div",{className:"allocated-section",children:[t.jsxs("h4",{children:[" Currently Allocated (",Ee.length,")"]}),Ee.map(ze=>{const mt=Mt[ze.user_id]||{first_name:"Unknown",last_name:""},pt=!!ze.OSCA_ID;return t.jsxs("div",{className:"assigned-user enhanced",children:[t.jsxs("div",{className:"user-avatar-small",children:[mt.first_name?.charAt(0),mt.last_name?.charAt(0)]}),t.jsxs("div",{className:"user-info",children:[t.jsxs("p",{className:"user-name",children:[t.jsxs("strong",{children:[mt.first_name," ",mt.last_name]}),t.jsx("span",{className:"allocation-type",children:pt?"Office":"Ship Crew"})]}),t.jsxs("p",{className:"allocation-dates",children:[t.jsxs("span",{className:"date-item",children:["Allocated: ",ze.date_of_allocation?.split("T")[0]?.split("-")?.reverse()?.join("/")]}),ze.expected_deboarding_date&&t.jsxs("span",{className:"date-item",children:["Expected Deboard: ",ze.expected_deboarding_date?.split("T")[0]?.split("-")?.reverse()?.join("/")]})]}),t.jsxs("p",{className:"user-contact",children:[" ",mt.email,"   ",mt.mobile_no]})]}),t.jsx("div",{className:"action-buttons",children:ze.SCCA_ID?b?.some(Qe=>_?.profile_ids?.includes(Qe.PROFILE_ID)&&Qe.process_ids.includes("P_UAT_0005"))&&t.jsx("button",{className:"deboard-btn",onClick:()=>{ca(!0),Ra(ze)},children:"De-Board"}):b?.some(Qe=>_?.profile_ids?.includes(Qe.PROFILE_ID)&&Qe.process_ids.includes("P_UAT_0004"))&&t.jsx("button",{className:"deboard-btn",onClick:()=>{ca(!0),Ra(ze)},children:"Suspend"})})]},ze.SCCA_ID||ze.OSCA_ID)})]}),Xe>0&&t.jsxs("div",{className:"vacant-section",children:[t.jsxs("h4",{children:[" Vacant Positions (",Xe,")"]}),Array.from({length:Xe}).map((ze,mt)=>t.jsxs("div",{className:"vacant-slot enhanced",children:[t.jsxs("div",{className:"vacant-info",children:[t.jsx("span",{className:"vacant-icon"}),t.jsxs("div",{children:[t.jsxs("p",{className:"vacant-title",children:["Vacant Position #",mt+1]}),t.jsx("p",{className:"vacant-description",children:"Ready for immediate allocation"})]})]}),b?.some(pt=>_?.profile_ids?.includes(pt.PROFILE_ID)&&pt.process_ids.includes("P_UAT_0003"))&&t.jsx("button",{className:"allocate-btn primary",onClick:()=>{$(St),ne(Y.DEPT_ID),Ce(z.DSGH_ID),ke({}),Ot(!0)},children:"Allocate Now"})]},mt))]}),Ee.length===0&&Xe===0&&t.jsx("div",{className:"no-positions",children:t.jsx("p",{children:"No positions defined for this designation"})})]})]},z.DSGH_ID)}):null};u.useEffect(()=>{if(!St)return;(()=>{try{const Y=St==="office"?f.filter(Qe=>Qe.ship_id===null):f.filter(Qe=>Qe.ship_id===St);cn(Y),qe("SELECT USER"),Nt(null);const Ae={};Y.forEach(Qe=>{Ae[Qe.DEPT_ID]=i.filter(Tt=>Tt.DEPT_ID===Qe.DEPT_ID)||[]}),Me(Ae);let z=[];St==="office"?(z=h.map(Qe=>({...Qe,ship_id:null,crew_status:1,desg_id:Qe.desg_id,user_id:Qe.user_id,dept_id:Qe.dept_id})),tt(z)):(z=y.filter(Qe=>Qe.ship_id===St&&Qe.crew_status==1),it(z));const _e={},Ee={};z.forEach(Qe=>{_e[Qe.desg_id]||(_e[Qe.desg_id]=[]),_e[Qe.desg_id].push(Qe);const Tt=r.find(za=>za.UHA_ID==Qe.user_id);Tt&&(Ee[Tt.UHA_ID]={UHA_ID:Tt.UHA_ID,first_name:Tt.first_name,last_name:Tt.last_name,email:Tt.email||"",mobile_no:Tt.mobile_no||"",duty_level:Tt.duty_level||"Level-1",ideal_since:Tt.ideal_since||"",allocated_profiles:Tt.allocated_profiles||"Master"})}),$e(_e),pa(Ee);const Xe=[...y.filter(Qe=>Qe.crew_status===1),...h],Fe=[...y.filter(Qe=>Qe.crew_status===3),...h.filter(Qe=>Qe.staff_status===3)],ze=new Set(Xe.map(Qe=>Qe.user_id)),mt=new Set(Fe.map(Qe=>Qe.user_id)),pt=r.map(Qe=>({...Qe,isAllocated:ze.has(Qe.UHA_ID),hasPlannedAllocation:mt.has(Qe.UHA_ID),ship_id:Xe.find(Tt=>Tt.user_id===Qe.UHA_ID)?.ship_id||null}));vn(pt)}catch(Y){console.error("Error processing allocation data:",Y)}})()},[St,f,i,r,y,h]),u.useEffect(()=>{},[Ga]);const On=Jt.filter(S=>{const Y=`${S.first_name} ${S.last_name}`.toLowerCase(),Ae=o.find(z=>z.SHA_ID===S.ship_id)?.ship_name?.toLowerCase()||"";return Y.includes(Q.toLowerCase())||Ae.includes(Q.toLowerCase())}),hn=()=>{$(St),ne(""),Ce(""),ue(""),P(""),tn(""),Hn(""),ua("Kindly Confirm with MR. Gaurav Ship in charge"),ie({SCCA_ID:"",ship_id:St,desg_id:"",reporting_to_desg:"",dept_id:"",user_id:"",reporting_to_user:"",allocate_by:"",deboarding_done_by:"",date_of_allocation:"",date_of_boarding:"",place_of_boarding:"",expected_deboarding_date:"",crew_status:"",actual_deboarding_on:null,replacing_to_user:""}),ke({})},Aa=()=>{Ot(!1),hn()},Sn=S=>{Nt(S),qe(`SELECTED: ${S.first_name} ${S.last_name}`)},In=S=>{Qt(S.target.value),$(S.target.value),ne(""),Ce(""),ue("")},Ja=S=>{qe(S),S==="SELECT USER"&&Nt(null)},ls=S=>{nt(Y=>({...Y,[S]:!Y[S]}))},Ds=()=>{He(null),Ra(null),Gn("")},Mi=()=>{ca(!1),Ds()},Yn=async()=>{const S={ship_id:ht?.ship_id||null,dept_id:ht.dept_id,desg_id:ht.desg_id,user_id:fe||null,replacing_to_user:ht.user_id,date_of_boarding:ht.date_of_boarding,date_of_deboarding:new Date().toISOString().split("T")[0],place_of_boarding:ht.place_of_boarding||"Office",place_of_deboarding:ht.place_of_boarding||"Office",expected_deboarding_date:be,expected_onboarding_date:ba,allocate_by:_.UHA_ID};console.log("Deboard Payload:",S);try{const Y=await Je.post(`${ei}deboardUser`,S);Y.data.success&&(Y.data.deboardingType==="planned_with_successor"?alert("Deboard successful! Successor allocation planned and will activate on first login."):(alert("Deboard successful! User fully deboarded."),Y.data.reportData&&N(Y.data.reportData)),ca(!1),He(""),Gn(""),x(),p(),I&&I())}catch(Y){console.error("Deboard error:",Y),alert("Something went wrong")}},N=S=>{const{crewOverview:Y,completedJobs:Ae,activeJobs:z}=S,_e=document.createElement("div");_e.style.cssText=`
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.8);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 10000;
    `;const Ee=document.createElement("div");Ee.style.cssText=`
        background: white;
        padding: 20px;
        border-radius: 8px;
        width: 90%;
        height: 90%;
        overflow: auto;
        position: relative;
    `;const Xe=document.createElement("div");Xe.style.cssText=`
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 2px solid #007bff;
    `;const Fe=document.createElement("h2");Fe.textContent=`Crew Deboarding Report - ${Y.userName}`,Fe.style.margin="0";const ze=document.createElement("div");ze.style.cssText=`
        display: flex;
        gap: 10px;
    `;const mt=document.createElement("button");mt.textContent=" Print Report",mt.style.cssText=`
        padding: 8px 16px;
        background: #007bff;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    `,mt.onclick=()=>window.print();const pt=document.createElement("button");pt.textContent=" Download PDF",pt.style.cssText=`
        padding: 8px 16px;
        background: #28a745;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    `,pt.onclick=()=>Ne(S);const Qe=document.createElement("button");Qe.textContent=" Close",Qe.style.cssText=`
        padding: 8px 16px;
        background: #dc3545;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    `,Qe.onclick=()=>document.body.removeChild(_e);const Tt=document.createElement("div");Tt.id="emailStatus",Tt.style.cssText=`
        padding: 10px;
        margin: 10px 0;
        border-radius: 4px;
        background: #d4edda;
        color: #155724;
        display: none;
    `,ze.appendChild(mt),ze.appendChild(pt),ze.appendChild(Qe),Xe.appendChild(Fe),Xe.appendChild(ze),Ee.appendChild(Xe),Ee.appendChild(Tt);const za=document.createElement("div");za.id="reportContent",za.innerHTML=re(Y,Ae,z),Ee.appendChild(za),_e.appendChild(Ee),document.body.appendChild(_e),Te(S)},re=(S,Y,Ae)=>`
        <div class="report-content">
            <!-- Section 1: Crew Overview -->
            <div class="section">
                <h2>Crew Overview</h2>
                <table>
                    <tr><th>Field</th><th>Value</th></tr>
                    <tr><td>User Name</td><td>${S.userName||"N/A"}</td></tr>
                    <tr><td>Location Name</td><td>${S.shipName||"N/A"}</td></tr>
                    <tr><td>Department</td><td>${S.department||"N/A"}</td></tr>
                    <tr><td>Designation</td><td>${S.designation||"N/A"}</td></tr>
                    <tr><td>Date of Boarding</td><td>${S.dateOfBoarding||"N/A"}</td></tr>
                    <tr><td>Place of Boarding</td><td>${S.placeOfBoarding||"N/A"}</td></tr>
                    <tr><td>Boarding Done By</td><td>${S.boardingDoneBy||"N/A"}</td></tr>
                    <tr><td>Expected Deboarding Date</td><td>${S.expectedDeboardingDate||"N/A"}</td></tr>
                    <tr><td>Actual Deboarding Date</td><td>${S.actualDeboardingDate||"N/A"}</td></tr>
                    <tr><td>Deboarding Done By</td><td>${S.deboardingDoneBy||"N/A"}</td></tr>
                    <tr><td>Reporting To</td><td>${S.reportingTo||"N/A"}</td></tr>
                    <tr><td>No. of Approval Pending</td><td>${S.approvalPending||0}</td></tr>
                    <tr><td>No. of Acknowledged Jobs</td><td>${S.acknowledgedJobs||0}</td></tr>
                    <tr><td>No. of Not Acknowledged Jobs</td><td>${S.notAcknowledgedJobs||0}</td></tr>
                    <tr><td>No. of Completed Jobs</td><td>${S.completedJobs||0}</td></tr>
                    <tr><td>No. of Failed Jobs</td><td>${S.failedJobs||0}</td></tr>
                    <tr><td>No. of Overdue Jobs</td><td>${S.overdueJobs||0}</td></tr>
                </table>
            </div>
            
            <!-- Section 2: Completed Jobs -->
            <div class="section">
                <h2>Completed Jobs (${Y.length})</h2>
                ${Y.length>0?`
                <table class="completed-jobs-table">
                    <tr>
                        <th>Job Name</th>
                        <th>Job No</th>
                        <th>Generated On</th>
                        <th>Completed On</th>
                        <th>Expected Days</th>
                        <th>Actual Days</th>
                        <th>Attempts</th>
                        <th>Extensions</th>
                        <th>First Verification</th>
                        <th>Second Verification</th>
                        <th>Extension Authority</th>
                    </tr>
                    ${Y.map(z=>`
                        <tr>
                            <td>${z.jobName||"N/A"}</td>
                            <td>${z.jobNo||"N/A"}</td>
                            <td>${z.generatedOn||"N/A"}</td>
                            <td>${z.completedOn||"N/A"}</td>
                            <td>${z.expectedDaysForCompletion||"N/A"}</td>
                            <td>${z.daysNeedToComplete||"N/A"}</td>
                            <td>${z.noOfAttempt||0}</td>
                            <td>${z.noOfExtensions||0}</td>
                            <td>
                                <strong>${z.firstVerificationAuthority||"N/A"}</strong><br>
                                <small>Expected: ${z.expectedDaysOfVerification||3} days</small><br>
                                <small>Actual: ${z.timeTakenForFirstVerification||0} days</small>
                            </td>
                            <td>
                                <strong>${z.secondVerificationAuthority||"N/A"}</strong><br>
                                <small>Expected: ${z.expectedDaysOfVerification||3} days</small><br>
                                <small>Actual: ${z.timeTakenForSecondVerification||0} days</small>
                            </td>
                            <td>${z.extensionAuthority||"N/A"}</td>
                        </tr>
                    `).join("")}
                </table>
                `:"<p>No completed jobs found.</p>"}
            </div>
            
            <!-- Section 3: Active Jobs -->
            <div class="section">
                <h2>Active Jobs (${Ae.length})</h2>
                ${Ae.length>0?`
                <table class="active-jobs-table">
                    <tr>
                        <th>Job Name</th>
                        <th>Job No</th>
                        <th>Generated On</th>
                        <th>Expected Days</th>
                        <th>Current Attempts</th>
                        <th>Current Extensions</th>
                        <th>First Verification</th>
                        <th>Second Verification</th>
                        <th>Extension Authority</th>
                        <th>Verification Status</th>
                        <th>Job Status</th>
                        <th>Expected Completion</th>
                    </tr>
                    ${Ae.map(z=>`
                        <tr>
                            <td>${z.jobName||"N/A"}</td>
                            <td>${z.jobNo||"N/A"}</td>
                            <td>${z.generatedOn||"N/A"}</td>
                            <td>${z.expectedDaysForCompletion||"N/A"}</td>
                            <td>${z.currentNoOfAttempt||0}</td>
                            <td>${z.currentNoOfExtensions||0}</td>
                            <td>
                                <strong>${z.firstVerificationAuthority||"N/A"}</strong><br>
                                ${z.firstVerificationDate?`
                                <small>Expected: ${z.expectedDaysOfVerification||3} days</small><br>
                                <small>Actual: ${z.timeTakenForFirstVerification||0} days</small>
                                `:"<small>Pending</small>"}
                            </td>
                            <td>
                                <strong>${z.secondVerificationAuthority||"N/A"}</strong><br>
                                ${z.secondVerificationDate?`
                                <small>Expected: ${z.expectedDaysOfVerification||3} days</small><br>
                                <small>Actual: ${z.timeTakenForSecondVerification||0} days</small>
                                `:"<small>Pending</small>"}
                            </td>
                            <td>${z.extensionAuthority||"N/A"}</td>
                            <td>
                                ${z.verificationStatus||"N/A"}<br>
                                ${z.firstIntimationDate?`<small>First Intimation: ${z.firstIntimationDate}</small><br>`:""}
                                ${z.firstVerificationDate?`<small>First Done: ${z.firstVerificationDate}</small><br>`:""}
                                ${z.secondIntimationDate?`<small>Second Intimation: ${z.secondIntimationDate}</small><br>`:""}
                                ${z.secondVerificationDate?`<small>Second Done: ${z.secondVerificationDate}</small>`:""}
                            </td>
                            <td>${z.jobStatusDescription||"N/A"}</td>
                            <td>${z.expectedCompletionDate||"N/A"}</td>
                        </tr>
                    `).join("")}
                </table>
                `:"<p>No active jobs found.</p>"}
            </div>

            <!-- Section 4: Performance Summary -->
            <div class="section">
                <h2>Performance Summary</h2>
                <table>
                    <tr><th>Metric</th><th>Value</th></tr>
                    <tr><td>Total Jobs Handled</td><td>${(S.acknowledgedJobs||0)+(S.completedJobs||0)+(S.failedJobs||0)+(Ae.length||0)}</td></tr>
                    <tr><td>Completion Rate</td><td>${((S.completedJobs||0)/((S.acknowledgedJobs||0)+(S.completedJobs||0)+(S.failedJobs||0))*100||0).toFixed(2)}%</td></tr>
                    <tr><td>Average Extensions per Job</td><td>${Y.length>0?(Y.reduce((z,_e)=>z+(_e.noOfExtensions||0),0)/Y.length).toFixed(2):"0"}</td></tr>
                    <tr><td>Average Attempts per Job</td><td>${Y.length>0?(Y.reduce((z,_e)=>z+(_e.noOfAttempt||0),0)/Y.length).toFixed(2):"0"}</td></tr>
                    ${Ae.length>0?`
                    <tr><td>Average First Verification Time</td><td>${(Ae.filter(z=>z.timeTakenForFirstVerification).reduce((z,_e)=>z+(_e.timeTakenForFirstVerification||0),0)/Ae.filter(z=>z.timeTakenForFirstVerification).length||0).toFixed(2)} days</td></tr>
                    `:""}
                </table>
            </div>
        </div>
        
        <style>
            .section { margin-bottom: 30px; border: 1px solid #ddd; padding: 15px; }
            .section h2 { background: #f5f5f5; padding: 10px; margin: -15px -15px 15px -15px; }
            table { width: 100%; border-collapse: collapse; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            th { background-color: #f2f2f2; }
            .completed-jobs-table th, .active-jobs-table th { font-size: 12px; }
            .completed-jobs-table td, .active-jobs-table td { font-size: 11px; }
            
            @media print {
                button { display: none !important; }
                .modal { background: white !important; }
                .modal-content { 
                    width: 100% !important; 
                    height: auto !important;
                    box-shadow: none !important;
                }
            }
        </style>
    `,Ne=async S=>{try{const{crewOverview:Y,completedJobs:Ae,activeJobs:z}=S;if(typeof html2pdf<"u"){const _e=document.getElementById("reportContent"),Ee={margin:10,filename:`Crew_Deboarding_Report_${Y.userName}_${new Date().toISOString().split("T")[0]}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};await html2pdf().set(Ee).from(_e).save()}else window.print()}catch(Y){console.error("PDF generation failed:",Y),alert("PDF generation failed. Using print instead."),window.print()}},Te=async S=>{try{const Y=document.getElementById("emailStatus");Y.style.display="block",Y.textContent=" Sending email notifications to Fleet Manager and Superintendent...",Y.style.background="#fff3cd",Y.style.color="#856404",(await Je.post(`${ei}sendCrewReportEmail`,{reportData:S,shipId:ht?.ship_id,crewName:S.crewOverview.userName})).data.success?(Y.textContent=" Report sent successfully to Fleet Manager and Superintendent",Y.style.background="#d4edda",Y.style.color="#155724"):(Y.textContent=" Failed to send email notifications",Y.style.background="#f8d7da",Y.style.color="#721c24")}catch(Y){console.error("Email notification failed:",Y);const Ae=document.getElementById("emailStatus");Ae.style.display="block",Ae.textContent=" Failed to send email notifications",Ae.style.background="#f8d7da",Ae.style.color="#721c24"}},Re=async()=>{if(!he){alert("No user selected for allocation.");return}await x();const S=y.find(z=>z.user_id===he.UHA_ID&&(z.crew_status===1||z.crew_status===3));await p();const Y=kt.find(z=>z.user_id===he.UHA_ID);if(S){alert(`User is already allocated to ship "${o.find(z=>z.SHA_ID===S.ship_id)?.ship_name||"N/A"}". Cannot allocate again.`);return}if(Y){alert("User is already allocated as Office Staff. Cannot allocate again.");return}const Ae={ship_id:L==="office"?null:L,dept_id:J,desg_id:te,user_id:he.UHA_ID,replacing_to_user:U.replacing_to_user?.startsWith("vacant")?null:U.replacing_to_user,date_of_boarding:da,place_of_boarding:Bt,crew_status:3,allocate_by:_.UHA_ID,date_of_allocation:new Date().toISOString().split("T")[0],expected_deboarding_date:be,replaced_users_deboarding_done_by:_.UHA_ID,SCCA_ID:null};console.log("Allocation Payload:",Ae);try{const z=await fetch(`${ei}allocatedDuty`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ae)});if(z.ok){const _e=await z.json();console.log("Allocation successful:",_e),alert("Duty allocation Planned successfully!"),x(),p(),ue(""),tn(""),Hn(""),ua("Kindly Confirm with MR. Gaurav Ship in charge"),hn(),Ot(!1)}else{const _e=await z.json();console.error("Allocation failed:",_e),Ye.error("Position Is Occupied. Please try Try On different Position.")}}catch(z){console.error("Network error during allocation:",z),alert("Network error. Please check your connection.")}},le=()=>{if(!he)return null;const S="+"+he.mobile_sim_country_code,Y=Kt.some(Ge=>Ge.code===S)?Kt:[{code:S,name:"Selected User Country"},...Kt];let Ae="Not Assigned Yet",z="Not Assigned Yet",_e="",Ee="",Xe="",Fe="",ze="",mt=!1,pt=!1,Qe=null;const Tt=[...y.filter(Ge=>Ge.user_id===he.UHA_ID),...h.filter(Ge=>Ge.user_id===he.UHA_ID)];let za=Tt.find(Ge=>Ge.crew_status===1||Ge.staff_status===1),rs=Tt.find(Ge=>Ge.crew_status===3||Ge.staff_status===3);if(za){const Ge=za;mt=!!Ge.OSCA_ID,Ae=i.find(Yt=>Yt.DSGH_ID===Ge.desg_id)?.desg_code||"N/A",mt?(z="Office",_e=Ge.date_of_allocation?.split("T")[0]||"N/A",Ee=Ge.date_of_boarding?.split("T")[0]||"N/A",Xe=Ge.expected_deboarding_date?.split("T")[0]||"N/A",Fe="Office"):(z=o.find(Yt=>Yt.SHA_ID===Ge.ship_id)?.ship_name||"N/A",_e=Ge.date_of_allocation?.split("T")[0]||"",Ee=Ge.date_of_boarding?.split("T")[0]||"",Xe=Ge.expected_deboarding_date?.split("T")[0]||"",Fe=Ge.place_of_boarding||"")}else if(rs){pt=!0;const Ge=rs;mt=!!Ge.OSCA_ID,Ae=i.find(Yt=>Yt.DSGH_ID===Ge.desg_id)?.desg_code||"N/A",mt?(z="Office (Planned)",_e=Ge.date_of_allocation?.split("T")[0]||"N/A",Ee=Ge.date_of_boarding?.split("T")[0]||"N/A",Xe=Ge.expected_deboarding_date?.split("T")[0]||"N/A",Fe="Office"):(z=`${o.find(Yt=>Yt.SHA_ID===Ge.ship_id)?.ship_name||"N/A"} (Planned)`,_e=Ge.date_of_allocation?.split("T")[0]||"",Ee=Ge.date_of_boarding?.split("T")[0]||"",Xe=Ge.expected_deboarding_date?.split("T")[0]||"",Fe=Ge.place_of_boarding||""),Qe={ship_name:o.find(Yt=>Yt.SHA_ID===Ge.ship_id)?.ship_name||"Office",dept_name:f.find(Yt=>Yt.DEPT_ID===Ge.dept_id)?.dept_name||"N/A",desg_name:i.find(Yt=>Yt.DSGH_ID===Ge.desg_id)?.desg_name||"N/A",date_of_boarding:Ge.date_of_boarding?.split("T")[0]||"N/A",expected_deboarding_date:Ge.expected_deboarding_date?.split("T")[0]||"N/A"}}else{const Ge=y.filter(Nn=>Nn.user_id===he.UHA_ID&&Nn.crew_status===2&&Nn.actual_deboarding_on);let Yt=null;if(Ge.length>0){const Nn=new Date,fa=Ge.map(qa=>new Date(qa.actual_deboarding_on)).filter(qa=>!isNaN(qa));fa.length>0&&(Yt=fa.reduce((qa,As)=>{const os=Math.abs(Nn-qa);return Math.abs(Nn-As)<os?As:qa},fa[0]))}ze=Yt?Yt.toISOString().split("T")[0]:"New Joiner (No Previous Data..)"}return t.jsxs("div",{className:"selected-user-form",children:[t.jsxs("div",{className:"user-info-grid",style:{position:"relative"},children:[b?.filter(Ge=>_?.profile_ids?.includes(Ge.PROFILE_ID))[0]?.process_ids.includes("P_UAT_0002")&&t.jsx("button",{id:"selected-user-form-edit-details-button",onClick:()=>Ca(!0),children:"Edit Details"}),t.jsx("div",{className:"form-section-header",children:t.jsx("h4",{children:"Basic Information"})}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"First Name"}),t.jsx("input",{type:"text",value:he.first_name,placeholder:"Enter First Name",readOnly:!_a,onChange:Ge=>Nt({...he,first_name:Ge.target.value})}),he.first_name===""&&Be.first_name&&t.jsx("p",{className:"error-text",children:Be.first_name})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Last Name"}),t.jsx("input",{type:"text",value:he.last_name,placeholder:"Enter Last Name",readOnly:!_a,onChange:Ge=>Nt({...he,last_name:Ge.target.value})}),he.last_name===""&&Be.last_name&&t.jsx("p",{className:"error-text",children:Be.last_name})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Email"}),t.jsx("input",{type:"email",value:he.user_email,placeholder:he.user_email,readOnly:!_a,onChange:Ge=>Nt({...he,user_email:Ge.target.value})}),he.user_email===""&&Be.user_email&&t.jsx("p",{className:"error-text",children:Be.user_email})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Mobile No"}),t.jsxs("div",{className:"mobile-input",children:[t.jsx("select",{disabled:!_a,value:"+"+he.mobile_sim_country_code,onChange:Ge=>Nt({...he,mobile_sim_country_code:Ge.target.value.replace("+","")}),children:Y.map(Ge=>t.jsx("option",{value:Ge.code,title:Ge.name,children:Ge.code},Ge.code))}),t.jsx("input",{type:"number",value:he.mobile_no,placeholder:he.mobile_no,readOnly:!_a,onChange:Ge=>Nt({...he,mobile_no:Ge.target.value})})]}),he.mobile_no===""&&Be.mobile_no&&t.jsx("p",{className:"error-text",children:Be.mobile_no})]}),t.jsx("div",{className:"form-section-header",children:t.jsx("h4",{children:"Allocation Status"})}),t.jsxs("div",{className:"form-group full-width",children:[t.jsx("label",{children:"Current Status"}),t.jsxs("div",{className:`status-display-badge ${he.isAllocated?"status-active":he.hasPlannedAllocation?"status-planned":"status-available"}`,children:[he.isAllocated?"ACTIVELY ALLOCATED":he.hasPlannedAllocation?"PLANNED ALLOCATION":"AVAILABLE FOR ALLOCATION",pt&&t.jsx("span",{className:"status-note",children:"(Will activate on first login after boarding date)"})]})]}),!he.isAllocated&&!he.hasPlannedAllocation&&t.jsx(t.Fragment,{children:ze==="New Joiner (No Previous Data..)"?t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Ideal Since"}),t.jsx("input",{type:"text",readOnly:!0,value:ze})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Ideal Since"}),t.jsx("input",{type:"date",readOnly:!0,value:ze})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Last Ship"}),t.jsx("input",{type:"text",readOnly:!0,value:o.find(Ge=>Ge.SHA_ID==y.find(Yt=>Yt.user_id==he.UHA_ID&&Yt.crew_status==2&&Yt.actual_deboarding_on?.split("T")[0]==ze)?.ship_id)?.ship_name||"N/A"})]})]})}),pt&&Qe&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"form-section-header",children:t.jsx("h4",{children:" Planned Allocation Details"})}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Planned Location"}),t.jsx("input",{type:"text",readOnly:!0,value:Qe.ship_name,style:{backgroundColor:"#fff3cd",color:"#856404"}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Planned Department"}),t.jsx("input",{type:"text",readOnly:!0,value:Qe.dept_name,style:{backgroundColor:"#fff3cd",color:"#856404"}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Planned Designation"}),t.jsx("input",{type:"text",readOnly:!0,value:Qe.desg_name,style:{backgroundColor:"#fff3cd",color:"#856404"}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Scheduled Boarding Date"}),t.jsx("input",{type:"date",readOnly:!0,value:Qe.date_of_boarding,style:{backgroundColor:"#fff3cd",color:"#856404"}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Expected Deboarding Date"}),t.jsx("input",{type:"date",readOnly:!0,value:Qe.expected_deboarding_date,style:{backgroundColor:"#fff3cd",color:"#856404"}})]})]}),he.isAllocated&&!mt&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"form-section-header",children:t.jsx("h4",{children:"Current Allocation Details"})}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Allocated Ship"}),t.jsx("input",{type:"text",readOnly:!0,value:z})]}),he.isAllocated&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Allocated Profile"}),t.jsx("input",{type:"text",readOnly:!0,value:Ae})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Date Of Allocation"}),t.jsx("input",{type:"date",disabled:!0,value:_e})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Date Of Boarding"}),t.jsx("input",{type:"date",disabled:!0,value:Ee})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Expected Date Of De-Boarding"}),t.jsx("input",{type:"date",disabled:!0,value:Xe})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Place Of Boarding"}),t.jsx("input",{type:"text",disabled:!0,value:Fe})]})]}),he.isAllocated&&mt&&t.jsxs("div",{className:"form-group",children:[t.jsx("label",{children:"Allocation Type"}),t.jsx("input",{type:"text",readOnly:!0,value:"Office Staff"})]})]}),t.jsxs("div",{className:"action-buttons-container",children:[_a?t.jsx("button",{className:"bulk-allocate-btn",onClick:Se,children:"Save Changes"}):!he.isAllocated&&!he.hasPlannedAllocation&&b?.filter(Ge=>_?.profile_ids?.includes(Ge.PROFILE_ID))[0]?.process_ids.includes("P_UAT_0003")&&t.jsx("button",{className:"bulk-allocate-btn",onClick:()=>{$(St),Ot(!0)},children:"Allocate Duty"}),b?.filter(Ge=>_?.profile_ids?.includes(Ge.PROFILE_ID))[0]?.process_ids.includes("P_UAT_0002")&&t.jsx("button",{className:"btn-cancel",disabled:!_a,onClick:()=>Ca(!1),style:{cursor:_a?"pointer":"not-allowed",opacity:_a?1:.5},children:"Cancel"})]})]})},Se=async()=>{const{first_name:S,last_name:Y,user_email:Ae,mobile_sim_country_code:z,mobile_no:_e}=he,Ee={};if((!S||S.trim()==="")&&(Ee.first_name="First name cannot be empty"),(!Y||Y.trim()==="")&&(Ee.last_name="Last name cannot be empty"),!Ae||Ae.trim()===""?Ee.user_email="Email cannot be empty":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Ae)||(Ee.user_email="Please enter a valid email"),!_e||_e.trim()===""?Ee.mobile_no="Mobile number cannot be empty":_e.length<10&&(Ee.mobile_no="Mobile number must be at least 10 digits"),Object.keys(Ee).length>0){ct(Ee);return}ct({});const Xe={first_name:S.trim(),last_name:Y.trim(),user_email:Ae.trim(),mobile_sim_country_code:z,mobile_no:_e.trim()};console.log("Update Payload:",Xe);try{const Fe=await Je.put(`${ei}updateUser/${he.UHA_ID}`,Xe);console.log("User updated:",Fe.data),Ye.success("User details updated successfully!"),Ca(!1),await d(),await x(),await p();const ze={...he,...Xe};Nt(ze)}catch(Fe){if(console.error("Update failed:",Fe),Fe.response){const ze=Fe.response.data?.message||"Failed to update user details";Ye.error(`Update failed: ${ze}`),Fe.response.status===400?Fe.response.data.errors&&ct(Fe.response.data.errors):Fe.response.status===404?Ye.error("User not found"):Fe.response.status===500&&Ye.error("Server error. Please try again later.")}else Fe.request?Ye.error("Network error. Please check your connection."):Ye.error("An unexpected error occurred.")}finally{}},Oe=()=>{const S={};return U.ship_id||(S.ship_id="Please select a ship"),U.dept_id||(S.dept_id="Please select a department"),U.desg_id||(S.desg_id="Please select a designation"),U.replacing_to_user||(S.replacing_to_user="Please select a person to replace"),U.date_of_boarding||(S.date_of_boarding="Please select a date"),U.place_of_boarding||(S.place_of_boarding="Please enter duty location"),ke(S),Object.keys(S).length===0},pe=()=>{const S={id:Date.now(),first_name:"",last_name:"",middle_name:"",gender:"",mobile_no:"",user_type:"",user_email:"",user_status:1,date_of_joining:""};ye(Y=>[...Y,S]),T(Le.length)},lt=S=>{Le.length!==1&&(ye(Y=>Y.filter((Ae,z)=>z!==S)),X>=S&&X>0&&T(Y=>Y-1))},rt=(S,Y,Ae)=>{ye(z=>z.map((_e,Ee)=>Ee===S?{..._e,[Y]:Ae}:_e))},xt=S=>/^\d{10}$/.test(S),It=async S=>{S.preventDefault();let Y=[];const Ae=Le.filter(_e=>_e.first_name&&_e.last_name&&_e.mobile_no&&xt(_e.mobile_no)&&_e.user_email&&_e.user_type);if(Le.filter(_e=>_e.mobile_no&&!xt(_e.mobile_no)).length>0){alert("Please enter valid 10-digit mobile numbers for all users");return}if(Ae.length===0){alert("Please fill in all required fields for at least one user");return}try{for(const Ee of Ae){const Xe={first_name:Ee.first_name.trim(),last_name:Ee.last_name.trim(),middle_name:Ee.middle_name?.trim()||"",gender:Ee.gender?Ee.gender=="Male"||Ee.gender=="male"?1:2:null,mobile_no:Ee.mobile_no,mobile_sim_country_code:Ee.country_code?Ee.country_code.replace("+",""):"91",user_type:parseInt(Ee.user_type)||1,user_email:Ee.user_email.trim(),user_status:Ee.user_status||1,date_of_joining:Ee.date_of_joining||null,current_pin:"000000"};Y.push(Xe)}console.log("Sending users to backend:",Y);const _e=await Je.post(`${ei}add-multiple-users`,{users:Y});_e.data.success?(alert(`Successfully added ${Ae.length} user${Ae.length!==1?"s":""}!`),console.log("Added users:",_e.data.data),A&&L&&J&&te&&K&&await Ba(_e.data.data),Ya(!1),V(!1),j(""),ye([{id:1,first_name:"",last_name:"",middle_name:"",gender:"",mobile_no:"",country_code:"+91",user_type:"",user_email:"",user_status:1,date_of_joining:""}]),T(0),d&&d()):alert(`Error: ${_e.data.message}`)}catch(_e){console.error("Error adding users:",_e),alert(`Error adding users: ${_e.response?.data?.message||_e.message}`)}},Ba=async S=>{try{const Y=S.map(async z=>{const _e={ship_id:L==="office"?null:L,dept_id:J,desg_id:te,user_id:z.UHA_ID,replacing_to_user:null,date_of_boarding:K,place_of_boarding:Bt||"Ship",crew_status:1,allocate_by:z.UHA_ID,date_of_allocation:new Date().toISOString().split("T")[0],expected_deboarding_date:be||null,replaced_users_deboarding_done_by:z.UHA_ID,SCCA_ID:null};return console.log("Allocating existing ship user:",_e),(await Je.post(`${ei}allocatedDuty`,_e)).data}),Ae=await Promise.all(Y);console.log("Allocation results for existing ship users:",Ae),alert(`Successfully allocated ${S.length} user${S.length!==1?"s":""} to the ship!`),x(),p()}catch(Y){console.error("Error allocating existing ship users:",Y),alert("Users were added but allocation failed. Please allocate them manually.")}},Gt=async()=>{try{if(console.log(" Starting deboarding process with job redistribution..."),!ht?.user_id||!ht?.ship_id){alert("Missing deboarded user or ship details.");return}const S={deboardedUserId:ht.user_id,successorId:fe||null,shipId:ht.ship_id,jobDistributionPlan:Wa};console.log(" Redistribution Payload:",S),console.log(" Calling job redistribution API...");const Y=await Je.post(`${ei}redistributeJobsAfterDeboarding`,S);if(!Y.data.success)throw new Error(`Job redistribution failed: ${Y.data.message}`);console.log(" Job redistribution completed successfully.");const Ae={ship_id:ht.ship_id,dept_id:ht.dept_id,desg_id:ht.desg_id,user_id:fe||null,replacing_to_user:ht.user_id,date_of_boarding:ht.date_of_boarding,date_of_deboarding:new Date().toISOString().split("T")[0],place_of_boarding:ht.place_of_boarding||"Office",place_of_deboarding:ht.place_of_boarding||"Office",expected_deboarding_date:be,expected_onboarding_date:ba,allocate_by:_?.UHA_ID,jobs_already_redistributed:!0};console.log(" Deboard Payload:",Ae),console.log(" Calling deboard API...");const z=await Je.post(`${ei}deboardUser`,Ae);if(!z.data.success)throw new Error(`Deboard failed: ${z.data.message}`);z.data.deboardingType==="planned_with_successor"?alert(" Deboard successful! Successor allocation planned and will activate on first login."):(alert(" Deboard successful! User fully deboarded and jobs redistributed."),z.data.reportData&&N(z.data.reportData)),Ka(!1),ca(!1),He(""),Gn(""),un({assigned:[],paused:[]}),x?.(),p?.(),I?.(),console.log(" Deboarding and job redistribution flow completed.")}catch(S){console.error(" Error during deboarding with job distribution:",S),alert(`Error during deboarding process: ${S.message}`)}},aa=u.useCallback(()=>{if(!ht?.ship_id||!ht?.desg_id)return[];const{ship_id:S,dept_id:Y,desg_id:Ae,user_id:z}=ht,_e=i.find(ze=>ze.DSGH_ID===Ae&&ze.DEPT_ID===Y&&ze.SHA_ID===S),Ee=_e?parseInt(_e.no_of_positions||1):1,Xe=y.filter(ze=>ze.ship_id===S&&ze.crew_status===1&&ze.user_id!==z);let Fe=[];if(Ee>1)Fe=Xe.filter(ze=>ze.desg_id===Ae);else{const ze=[...new Set(en.filter(pt=>pt.issued_to===z&&pt.secondary_issued_to).map(pt=>pt.secondary_issued_to).filter(Boolean))],mt=[...new Set(y.filter(pt=>ze.includes(pt.user_id)&&pt.ship_id===S&&pt.crew_status===1).map(pt=>pt.desg_id))];Fe=Xe.filter(pt=>mt.includes(pt.desg_id))}return Fe.map(ze=>({...ze,userDetails:Mt[ze.user_id],designation:i.find(mt=>mt.DSGH_ID===ze.desg_id)}))},[ht,y,Mt,i,en]);u.useEffect(()=>{(async()=>{dn&&await H()})()},[dn]);const st=(S,Y)=>{un(Ae=>{const{assigned:z=[],paused:_e=[]}=Ae,Ee=S.JPHA_ID,Xe=z.filter(ze=>ze.JPHA_ID!==Ee),Fe=_e.filter(ze=>ze.JPHA_ID!==Ee);return Y==="paused"?Fe.push({JPHA_ID:Ee}):Xe.push({JPHA_ID:Ee,targetUser:Y}),{assigned:Xe,paused:Fe}})},Xa=u.useCallback(S=>{if(!Wa)return null;const{assigned:Y=[],paused:Ae=[]}=Wa,z=S.JPHA_ID,_e=Y.find(Xe=>Xe.JPHA_ID===z);return _e?{assignedTo:"other_crew",targetUser:_e.targetUser}:Ae.find(Xe=>Xe.JPHA_ID===z)?{assignedTo:"paused"}:null},[Wa]),Wt=u.useCallback(async()=>{if(!en.length)return t.jsx("tr",{children:t.jsx("td",{colSpan:"7",style:{textAlign:"center",padding:"40px"},children:"No active jobs found for this user"})});const S=await aa();return en.map((Y,Ae)=>{const z=Xa(Y),_e=z?.assignedTo||"paused",Ee=z?.targetUser||null,Xe=M.find(ze=>ze.JCDSHA_ID==Y.jcd_id),Fe=Xe?.criticality==1?"high":"low";return t.jsxs("tr",{children:[t.jsx("td",{children:Y.JPHA_ID||"N/A"}),t.jsx("td",{children:Xe?.jcd_name||"Unnamed Job"}),t.jsx("td",{children:t.jsx("span",{className:`priority-badge priority-${(Fe||"medium").toLowerCase()}`,children:Xe?.criticality==1?"Critical":"Not-Critical"})}),t.jsx("td",{children:Y?.job_completed_till?(Y?.job_completed_till).split("T")[0].split("-").reverse().join("/"):"N/A"}),t.jsx("td",{children:t.jsx("span",{className:`status-badge status-${(Y.status||"pending").toLowerCase().replace(" ","-")}`,children:w[Y.job_status]||"Pending"})}),t.jsx("td",{children:_e==="successor"&&fe?t.jsx("span",{style:{color:"#4299e1"},children:Mt[fe]?.first_name}):_e==="other_crew"&&Ee?t.jsx("span",{style:{color:"#48bb78"},children:Mt[Ee]?.first_name}):t.jsx("span",{style:{color:"#ed8936"},children:"Paused"})}),t.jsx("td",{children:t.jsx("div",{className:"job-assignment-controls",children:t.jsxs("select",{className:`assignment-select ${_e==="successor"?"successor":_e==="other_crew"?"other-crew":"paused"}`,value:Ee||_e,onChange:ze=>st(Y,ze.target.value),children:[t.jsx("option",{value:"paused",children:"Suspend Job"}),S.map(ze=>t.jsxs("option",{value:ze.user_id,children:["Assign to ",ze.userDetails?.first_name," (",ze.designation?.desg_name,")"]},ze.user_id))]})})})]},Y.JPHA_ID||Ae)})},[en,M,fe,Mt,w,aa,Xa,st]);u.useEffect(()=>{(async()=>{if(dn&&ht)try{await I();const Y=k.filter(z=>z.job_status!=6&&z.issued_to===ht.user_id);Da(Y);const Ae=Xn(Y,ia);un(Ae)}catch(Y){console.error("Error fetching active jobs:",Y),Da([])}})()},[dn,ht,ia]);const La=()=>en.length||0,Xn=async(S,Y="auto_priority_based")=>{const Ae=await aa(),z={successor:[],otherCrew:{},paused:[]};if(fe)S.forEach(_e=>{z.successor.push({..._e,assignedTo:"successor",targetUser:fe,reason:"Auto-assigned to successor"})});else if(Y==="auto_priority_based"&&Ae.length>0){const _e=S.filter(Xe=>M.find(ze=>ze.JCDSHA_ID==Xe.jcd_id)?.criticality==1),Ee=S.filter(Xe=>M.find(ze=>ze.JCDSHA_ID==Xe.jcd_id)?.criticality!=1);_e.forEach((Xe,Fe)=>{const ze=Fe%Ae.length,mt=Ae[ze];z.otherCrew[mt.user_id]||(z.otherCrew[mt.user_id]=[]),z.otherCrew[mt.user_id].push({...Xe,assignedTo:"other_crew",targetUser:mt.user_id,reason:"Critical job - auto-assigned"})}),Ee.forEach((Xe,Fe)=>{const ze=Fe%Ae.length,mt=Ae[ze];z.otherCrew[mt.user_id]||(z.otherCrew[mt.user_id]=[]),z.otherCrew[mt.user_id].push({...Xe,assignedTo:"other_crew",targetUser:mt.user_id,reason:"Non-critical job - auto-assigned"})})}else Y==="equal_distribution"&&Ae.length>0?S.forEach((_e,Ee)=>{const Xe=Ee%Ae.length,Fe=Ae[Xe];z.otherCrew[Fe.user_id]||(z.otherCrew[Fe.user_id]=[]),z.otherCrew[Fe.user_id].push({..._e,assignedTo:"other_crew",targetUser:Fe.user_id,reason:"Equal distribution"})}):S.forEach(_e=>{z.paused.push({..._e,assignedTo:"paused",targetUser:null,reason:"No distribution strategy or available crew"})});return z},Zn=({user:S,onClick:Y})=>{const z=(()=>{if(S.isAllocated){console.log("user :: ",S);const Ee=[...y,...h].find(Xe=>Xe.user_id===S.UHA_ID&&(Xe.crew_status===1||!Xe.staff_status));if(Ee){console.log("allocation :: ",Ee);const Xe=!!Ee.ship_id,Fe=Xe?o.find(Tt=>Tt.SHA_ID===Ee.ship_id):null,ze=i.find(Tt=>Tt.DSGH_ID===Ee.desg_id),mt=f.find(Tt=>Tt.DEPT_ID===Ee.dept_id),pt=Xe?null:h.find(Tt=>Tt.user_id===S.UHA_ID)?.allocated_ships,Qe=pt?pt.split(",").map(Tt=>o.find(za=>za.SHA_ID===Tt)?.ship_name).filter(Boolean).join(", "):null;return{type:Xe?"Ship Crew":"Office Staff",location:Xe?Fe?.ship_name||"Ship Unavailable":Qe||"Head Office",designation:ze?.desg_name||"N/A",department:mt?.dept_name||"N/A",since:Ee.date_of_boarding?.split("T")[0]||"N/A",expectedDeboarding:Ee.expected_deboarding_date?.split("T")[0]||"Not set"}}}else if(S.hasPlannedAllocation)return{type:" Planned Allocation",location:"Pending",designation:"Pending",department:"Pending",since:"Future",expectedDeboarding:"Not set"};return{type:" Available",location:"Not Allocated",designation:"N/A",department:"N/A",since:"N/A",expectedDeboarding:"N/A"}})(),_e=S.isAllocated?"allocated":S.hasPlannedAllocation?"planned":"available";return t.jsxs("li",{className:`user-card ${_e}`,onClick:()=>Y(S),children:[t.jsxs("div",{className:"user-card-header",children:[t.jsxs("div",{className:"user-avatar",children:[S.first_name?.charAt(0),S.last_name?.charAt(0)]}),t.jsxs("div",{className:"user-basic-info",children:[t.jsxs("span",{className:"user-name",children:[S.first_name," ",S.last_name]}),t.jsx("span",{className:"user-email",children:S.user_email})]}),t.jsx("div",{className:`status-badge status-${_e}`,children:S.isAllocated?"ALLOCATED":S.hasPlannedAllocation?"PLANNED":"AVAILABLE"})]}),t.jsxs("div",{className:"user-card-footer",children:[t.jsxs("span",{className:"mobile-info",children:[" ",S.mobile_no]}),z.type==="Office Staff"?t.jsxs("span",{className:"mobile-info",title:z.location!=="Head Office"?`Allocated Ships: ${z.location}`:"Head Office",style:{cursor:z.location!=="Head Office"?"help":"default"},children:[" ",z.location!=="Head Office"?`${z.location.split(", ").length} Ship${z.location.split(", ").length>1?"s":""}`:z.location]}):t.jsxs("span",{className:"mobile-info",children:[" ",z.location]}),t.jsx("span",{className:"view-details",children:"Click for details "})]})]})};return t.jsxs("div",{className:"user-allocation-main",children:[t.jsxs("div",{className:"user-list-container",children:[t.jsx("header",{className:"user-list-header",children:t.jsx("h2",{children:" User / Staff / Crew Management"})}),t.jsx("div",{className:"search-box",children:t.jsx("div",{className:"search-wrapper",children:t.jsx("input",{type:"text",placeholder:" SEARCH CREW NAME / SHIP NAME / EMAIL",className:"search-input",value:Q,onChange:S=>we(S.target.value),style:{marginTop:"15px"}})})}),t.jsxs("div",{className:"user-table-header",children:[t.jsx("span",{className:"name-col",children:"USER DETAILS"}),t.jsx("span",{className:"status-col",children:"STATUS"})]}),t.jsx("ul",{className:"user-list",children:On.map(S=>t.jsx(Zn,{user:S,onClick:Sn},S.UHA_ID))}),t.jsx("div",{className:"action-footer",children:t.jsx("button",{title:"Add User",onClick:()=>{Ya(!0)},className:"add-user-btn",children:"+ Add New User"})})]}),t.jsxs("div",{className:"dept-desg-container",children:[t.jsx(jn,{}),t.jsx(Et,{}),t.jsx("div",{className:"designation-section",children:ga==="SELECT USER"&&!he?t.jsx("div",{className:"select-user-placeholder",children:t.jsxs("div",{className:"placeholder-content",children:[t.jsx("div",{className:"placeholder-icon",children:""}),t.jsx("h3",{children:"Select a User"}),t.jsx("p",{children:"Choose a user from the left panel to view details, edit information, or allocate duty"}),t.jsxs("div",{className:"placeholder-stats",children:[t.jsxs("span",{children:[On.length," users found"]}),t.jsx("span",{children:""}),t.jsxs("span",{children:[Jt.filter(S=>S.isAllocated).length," currently allocated"]}),t.jsx("span",{children:""}),t.jsxs("span",{children:[Jt.filter(S=>!S.isAllocated&&!S.hasPlannedAllocation).length," available"]})]})]})}):ga.startsWith("SELECTED:")?le():si(ga)})]}),Na&&he&&t.jsx("div",{className:"modern-modal-overlay allocate-duty-modal",children:t.jsxs("div",{className:"modern-user-modal allocate-duty-modal-content",children:[t.jsx("div",{className:"modern-modal-header",children:t.jsxs("div",{className:"modern-header-content",children:[t.jsxs("div",{className:"modern-title-section",children:[t.jsx("div",{className:"modern-modal-icon allocate-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor",strokeWidth:"2"}),t.jsx("path",{d:"M19 4H5C3.89543 4 3 4.89543 3 6V18C3 19.1046 3.89543 20 5 20H19C20.1046 20 21 19.1046 21 18V6C21 4.89543 20.1046 4 19 4Z",stroke:"currentColor",strokeWidth:"2"}),t.jsx("path",{d:"M16 2V6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),t.jsx("path",{d:"M8 2V6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}),t.jsxs("div",{className:"modern-title-text",children:[t.jsx("h2",{className:"modern-modal-title",children:"Allocate Duty Position"}),t.jsxs("p",{className:"modern-modal-subtitle",children:["Assigning duty to ",t.jsxs("span",{className:"user-highlight",children:[he.first_name," ",he.last_name]})]})]})]}),t.jsx("button",{className:"modern-close-button",onClick:Aa,children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}),t.jsxs("div",{className:"user-summary-card",children:[t.jsxs("div",{className:"user-avatar-large",children:[he.first_name?.charAt(0),he.last_name?.charAt(0)]}),t.jsxs("div",{className:"user-summary-info",children:[t.jsxs("h3",{children:[he.first_name," ",he.last_name]}),t.jsxs("div",{className:"user-details-grid",children:[t.jsxs("div",{className:"user-detail",children:[t.jsx("span",{className:"detail-label",children:"Email"}),t.jsx("span",{className:"detail-value",children:he.user_email})]}),t.jsxs("div",{className:"user-detail",children:[t.jsx("span",{className:"detail-label",children:"Mobile"}),t.jsx("span",{className:"detail-value",children:he.mobile_no})]}),t.jsxs("div",{className:"user-detail",children:[t.jsx("span",{className:"detail-label",children:"Status"}),t.jsx("span",{className:`status-badge ${he.isAllocated?"allocated":he.hasPlannedAllocation?"planned":"available"}`,children:he.isAllocated?"Allocated":he.hasPlannedAllocation?"Planned":"Available"})]})]})]})]}),t.jsx("div",{className:"modern-modal-content",children:t.jsx("div",{className:"allocation-form-section",children:t.jsxs("div",{className:"form-section-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("div",{className:"card-icon",children:""}),t.jsx("h4",{className:"card-title",children:"Duty Location & Position"})]}),t.jsxs("div",{className:"modern-form-grid",children:[t.jsxs("div",{className:"modern-form-group",children:[t.jsxs("label",{className:"modern-form-label required",children:[t.jsx("span",{className:"label-icon",children:""}),"Selected Location"]}),t.jsxs("div",{className:"select-wrapper",children:[t.jsxs("select",{value:L,onChange:S=>{$(S.target.value),ne(""),Ce(""),ue(""),ie(Y=>({...Y,ship_id:S.target.value}))},className:"modern-form-input",children:[t.jsx("option",{value:"",children:"Choose a location..."}),o.map(S=>t.jsx("option",{value:S.SHA_ID,children:S.ship_name},S.SHA_ID))]}),t.jsx("div",{className:"select-arrow",children:""})]}),We.ship_id&&t.jsxs("div",{className:"validation-message error",children:[t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),We.ship_id]})]}),t.jsxs("div",{className:"modern-form-group",children:[t.jsxs("label",{className:"modern-form-label required",children:[t.jsx("span",{className:"label-icon",children:""}),"Department"]}),t.jsxs("div",{className:"select-wrapper",children:[t.jsxs("select",{value:J,onChange:S=>{ne(S.target.value),Ce(""),ue(""),ie(Y=>({...Y,dept_id:S.target.value}))},disabled:!L,className:"modern-form-input",children:[t.jsx("option",{value:"",children:"Select Department"}),f.filter(S=>L==="office"?S.ship_id===null:S.ship_id===L).map(S=>t.jsx("option",{value:S.DEPT_ID,children:S.dept_name},S.DEPT_ID))]}),t.jsx("div",{className:"select-arrow",children:""})]}),We.dept_id&&t.jsxs("div",{className:"validation-message error",children:[t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),We.dept_id]})]}),t.jsxs("div",{className:"modern-form-group",children:[t.jsxs("label",{className:"modern-form-label required",children:[t.jsx("span",{className:"label-icon",children:""}),"Designation"]}),t.jsxs("div",{className:"select-wrapper",children:[t.jsxs("select",{value:te,onChange:S=>{Ce(S.target.value),ue(""),ie(Y=>({...Y,desg_id:S.target.value}))},disabled:!J,className:"modern-form-input",children:[t.jsx("option",{value:"",children:"Select Designation"}),i.filter(S=>S.DEPT_ID===J).map(S=>t.jsxs("option",{value:S.DSGH_ID,children:[S.desg_name," (",S.desg_code,")"]},S.DSGH_ID))]}),t.jsx("div",{className:"select-arrow",children:""})]}),We.desg_id&&t.jsxs("div",{className:"validation-message error",children:[t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),We.desg_id]})]}),t.jsxs("div",{className:"modern-form-group",children:[t.jsxs("label",{className:"modern-form-label required",children:[t.jsx("span",{className:"label-icon",children:""}),"Replacing Position"]}),t.jsxs("div",{className:"select-wrapper",children:[t.jsxs("select",{value:me,onChange:S=>{const Y=S.target.value;ue(Y),ie(Ae=>({...Ae,replacing_to_user:Y||null}))},disabled:!te,className:"modern-form-input",children:[t.jsx("option",{value:"",children:"Select Position"}),te&&(()=>{const S=i.find(_e=>_e.DSGH_ID==te)?.no_of_positions||0,Y=Ga[te]||[],Ae=[];Y.forEach(_e=>{if(_e?.user_id){const Ee=Mt[_e.user_id];Ee&&Ae.push(t.jsxs("option",{value:_e.user_id,children:[" ",Ee.first_name," ",Ee.last_name]},`user-${_e.user_id}`))}});const z=S-Y.length;for(let _e=0;_e<z;_e++)Ae.push(t.jsxs("option",{value:`vacant-${_e}`,children:[" Vacant Position #",_e+1]},`vacant-${_e}`));return Ae})()]}),t.jsx("div",{className:"select-arrow",children:""})]}),We.replacing_to_user&&t.jsxs("div",{className:"validation-message error",children:[t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),We.replacing_to_user]})]}),t.jsxs("div",{className:"modern-form-group",children:[t.jsxs("label",{className:"modern-form-label required",children:[t.jsx("span",{className:"label-icon",children:""}),"Boarding Date"]}),t.jsx("input",{type:"date",value:da,min:new Date().toISOString().split("T")[0],onChange:S=>{tn(S.target.value),ie(Y=>({...Y,date_of_boarding:S.target.value}))},className:"modern-form-input"}),We.date_of_boarding&&t.jsxs("div",{className:"validation-message error",children:[t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),We.date_of_boarding]})]}),t.jsxs("div",{className:"modern-form-group",children:[t.jsxs("label",{className:"modern-form-label",children:[t.jsx("span",{className:"label-icon",children:""}),"Expected Deboarding"]}),t.jsx("input",{type:"date",value:be,min:da||new Date().toISOString().split("T")[0],onChange:S=>{P(S.target.value),ie(Y=>({...Y,expected_deboarding_date:S.target.value}))},className:"modern-form-input"})]}),t.jsxs("div",{className:"modern-form-group full-width",children:[t.jsxs("label",{className:"modern-form-label required",children:[t.jsx("span",{className:"label-icon",children:""}),"Duty Location / Port"]}),t.jsx("input",{type:"text",value:Bt,placeholder:"Enter duty location or exchange port...",onChange:S=>{Hn(S.target.value),ie(Y=>({...Y,place_of_boarding:S.target.value}))},className:"modern-form-input"}),We.place_of_boarding&&t.jsxs("div",{className:"validation-message error",children:[t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),We.place_of_boarding]})]}),t.jsxs("div",{className:"modern-form-group full-width",children:[t.jsxs("label",{className:"modern-form-label",children:[t.jsx("span",{className:"label-icon",children:""}),"Joining Instructions"]}),t.jsx("textarea",{value:is,onChange:S=>{ua(S.target.value),ie(Y=>({...Y,crew_status:S.target.value}))},placeholder:"Enter any special instructions or notes for this allocation...",className:"modern-form-input textarea",rows:"3"}),t.jsx("div",{className:"helper-text",children:"This information will be shared with the user and relevant authorities"})]})]})]})})}),t.jsxs("div",{className:"modern-modal-footer",children:[t.jsx("div",{className:"footer-left",children:t.jsx("div",{className:"allocation-summary",children:t.jsxs("span",{className:"summary-text",children:["Ready to allocate ",t.jsxs("strong",{children:[he.first_name," ",he.last_name]})," to position"]})})}),t.jsxs("div",{className:"footer-right",children:[t.jsx("button",{type:"button",className:"modern-btn secondary",onClick:Aa,children:"Cancel"}),t.jsxs("button",{type:"button",className:"modern-btn primary allocate-action-btn",onClick:async()=>{Oe()&&await Re()},children:[t.jsx("span",{className:"btn-icon",children:""}),"Confirm Allocation"]})]})]})]})}),Na==!0&&!he&&t.jsx("div",{id:"warning-popup",children:t.jsxs("div",{id:"warning-popup-content",children:[t.jsx("button",{className:"popup-closee",onClick:()=>{Aa()},children:""}),t.jsx("div",{className:"warning-icon"}),t.jsx("p",{children:"Please select a user first to allocate duty"}),t.jsx("div",{className:"warning-popup-actions",children:t.jsx("button",{className:"warning-popup-ok-btn",onClick:()=>{Aa()},children:"Got It"})})]})}),va&&t.jsx("div",{className:"modal-overlay",children:t.jsxs("div",{className:"deboard-modal",children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("div",{className:"header-content",children:t.jsx("h2",{className:"modal-title",children:"Initiate Deboarding Process"})}),t.jsx("button",{className:"close-button",onClick:()=>{Mi()},children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),t.jsxs("div",{className:"modal-content",children:[t.jsx("p",{className:"instruction-text",children:"Select upcoming successor from available unallocated users:"}),t.jsxs("div",{className:"successor-selection-group",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"input-label",children:"Successor Selection"}),t.jsxs("div",{className:"successor-dropdown-wrapper",children:[t.jsxs("select",{className:"successor-dropdown",value:fe,onChange:S=>{console.log("e.target.value : ",S.target.value),He(S.target.value)},children:[t.jsx("option",{value:"",children:"Choose a successor..."}),Jt.filter(S=>{if(console.log("av ::: ",S),S.isAllocated||S.hasPlannedAllocation)return!1;const Y=ht?.OSCA_ID?2:1;if(S.user_type!==Y)return!1;let Ae=[];return S.isAllocated||S.hasPlannedAllocation?!1:(Ae.push(S),Ae.length>0)}).map(S=>t.jsxs("option",{value:S.UHA_ID,children:[S.first_name," ",S.last_name,"  ",S.duty_level||"Level-1","  Ex-Crew"]},S.UHA_ID))]}),t.jsx("div",{className:"dropdown-arrow",children:t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),fe&&t.jsxs("div",{className:"date-selection-group",children:[t.jsxs("div",{className:"date-row",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"date-label",children:"Expected Date of Deboarding"}),t.jsx("input",{type:"date",className:"date-input",value:be,min:new Date().toISOString().split("T")[0],onChange:S=>{P(S.target.value)}})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"date-label",children:"Successor's Expected Onboarding"}),t.jsx("input",{type:"date",className:"date-input",value:ba,min:new Date().toISOString().split("T")[0],onChange:S=>{Gn(S.target.value)}})]})]}),ba&&be&&new Date(ba)<new Date(be)&&t.jsx("div",{className:"validation-warning",children:" Successor onboarding should typically be on or after deboarding date"})]})]}),t.jsxs("div",{className:"deboarding-info-box",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M12 16V12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M12 8H12.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),t.jsx("span",{children:"Only previously deboarded crew members (crew_status = 2) matching the position requirements are shown"})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{className:"secondary-button",onClick:()=>ca(!1),children:"Cancel Process"}),t.jsxs("button",{className:"primary-button",onClick:()=>{fe?Yn():(ca(!1),Ka(!0))},children:[t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M20 6L9 17L4 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),fe?"Confirm Deboarding":"Plan Job Distribution"]})]})]})}),Vn&&t.jsx("div",{className:"modern-modal-overlay",children:t.jsxs("div",{className:"modern-user-modal",children:[t.jsxs("div",{className:"modern-modal-header",children:[t.jsxs("div",{className:"modern-header-content",children:[t.jsxs("div",{className:"modern-title-section",children:[t.jsx("div",{className:"modern-modal-icon",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z",stroke:"currentColor",strokeWidth:"2"}),t.jsx("path",{d:"M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z",stroke:"currentColor",strokeWidth:"2"})]})}),t.jsxs("div",{className:"modern-title-text",children:[t.jsx("h2",{className:"modern-modal-title",children:"Add Team Members"}),t.jsx("p",{className:"modern-modal-subtitle",children:"Add one or multiple users to your organization"})]})]}),t.jsx("button",{className:"modern-close-button",onClick:()=>{Ya(!1),V(!1),j("")},children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),t.jsx("div",{className:"user-tabs-container",children:t.jsxs("div",{className:"user-tabs-scroll",children:[Le.map((S,Y)=>t.jsxs("button",{className:`user-tab ${X===Y?"active":""}`,onClick:()=>T(Y),children:[t.jsx("span",{className:"tab-avatar",children:S.first_name?S.first_name.charAt(0).toUpperCase():"U"}),t.jsx("span",{className:"tab-name",children:S.first_name&&S.last_name?`${S.first_name} ${S.last_name}`:`User ${Y+1}`}),Le.length>1&&t.jsx("button",{className:"tab-remove",onClick:Ae=>{Ae.stopPropagation(),lt(Y)},children:t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]},S.id)),t.jsxs("button",{className:"user-tab add-tab",onClick:pe,children:[t.jsx("span",{className:"tab-avatar",children:"+"}),t.jsx("span",{className:"tab-name",children:"Add New"})]})]})})]}),t.jsxs("div",{className:"modern-modal-content",children:[t.jsx("div",{className:"user-type-section",children:t.jsxs("div",{className:"form-section-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("div",{className:"card-icon"}),t.jsx("h4",{className:"card-title",children:"User Type & Allocation"})]}),t.jsxs("div",{className:"user-type-options",children:[t.jsx("div",{className:"user-type-option",children:t.jsxs("label",{className:"user-type-label",children:[t.jsx("input",{type:"radio",name:"userType",value:"fresh",checked:!A,onChange:()=>V(!1),className:"radio-input"}),t.jsxs("div",{className:"option-content",children:[t.jsx("span",{className:"option-title",children:"Fresh User"}),t.jsx("span",{className:"option-description",children:"User is new and not currently allocated to any ship/office"}),t.jsxs("div",{className:"option-details",children:[t.jsx("span",{className:"detail-item",children:" Added to system only"}),t.jsx("span",{className:"detail-item",children:" Can be allocated later"}),t.jsx("span",{className:"detail-item",children:' Shows in "Available Users" list'})]})]})]})}),t.jsx("div",{className:"user-type-option",children:t.jsxs("label",{className:"user-type-label",children:[t.jsx("input",{type:"radio",name:"userType",value:"existing",checked:A,onChange:()=>V(!0),className:"radio-input"}),t.jsxs("div",{className:"option-content",children:[t.jsx("span",{className:"option-title",children:"Existing Ship User"}),t.jsx("span",{className:"option-description",children:"User is already working on a ship but not in the system"}),t.jsxs("div",{className:"option-details",children:[t.jsx("span",{className:"detail-item",children:" Added to system"}),t.jsx("span",{className:"detail-item",children:" Automatically allocated to ship"}),t.jsx("span",{className:"detail-item",children:" Past boarding dates allowed"})]})]})]})})]}),A&&t.jsxs("div",{className:"allocation-form",children:[t.jsx("div",{className:"form-divider",children:t.jsx("span",{children:"Ship Allocation Details"})}),t.jsxs("div",{className:"modern-form-grid",children:[t.jsxs("div",{className:"modern-form-group",children:[t.jsx("label",{className:"modern-form-label required",children:"Ship"}),t.jsxs("select",{className:"modern-form-input",value:L,onChange:S=>$(S.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select Location"}),o.map(S=>t.jsx("option",{value:S.SHA_ID,children:S.ship_name},S.SHA_ID))]})]}),t.jsxs("div",{className:"modern-form-group",children:[t.jsx("label",{className:"modern-form-label required",children:"Department"}),t.jsxs("select",{className:"modern-form-input",value:J,onChange:S=>ne(S.target.value),disabled:!L,required:!0,children:[t.jsx("option",{value:"",children:"Select Department"}),f.filter(S=>L==="office"?S.ship_id===null:S.ship_id===L).map(S=>t.jsx("option",{value:S.DEPT_ID,children:S.dept_name},S.DEPT_ID))]})]}),t.jsxs("div",{className:"modern-form-group",children:[t.jsx("label",{className:"modern-form-label required",children:"Designation"}),t.jsxs("select",{className:"modern-form-input",value:te,onChange:S=>Ce(S.target.value),disabled:!J,required:!0,children:[t.jsx("option",{value:"",children:"Select Designation"}),i.filter(S=>S.DEPT_ID===J).map(S=>t.jsx("option",{value:S.DSGH_ID,children:S.desg_name},S.DSGH_ID))]})]}),t.jsxs("div",{className:"modern-form-group",children:[t.jsx("label",{className:"modern-form-label required",children:"Actual Boarding Date"}),t.jsx("input",{type:"date",className:"modern-form-input",value:K,onChange:S=>j(S.target.value),max:new Date().toISOString().split("T")[0],required:!0}),t.jsx("p",{className:"helper-text",children:"Enter the actual date when the user joined the ship (past dates allowed)"})]}),t.jsxs("div",{className:"modern-form-group full-width",children:[t.jsx("label",{className:"modern-form-label",children:"Duty Location"}),t.jsx("input",{type:"text",className:"modern-form-input",value:Bt,onChange:S=>Hn(S.target.value),placeholder:"Enter duty location or port"})]}),t.jsxs("div",{className:"modern-form-group",children:[t.jsx("label",{className:"modern-form-label",children:"Expected Deboarding Date"}),t.jsx("input",{type:"date",className:"modern-form-input",value:be,onChange:S=>P(S.target.value),min:K||new Date().toISOString().split("T")[0]})]})]})]})]})}),t.jsx("form",{className:"modern-user-form",onSubmit:It,children:t.jsxs("div",{className:"user-form-section",children:[t.jsxs("div",{className:"section-header",children:[t.jsxs("h3",{className:"modern-section-title",children:["User ",X+1," Details",Le[X].first_name&&Le[X].last_name&&t.jsxs("span",{className:"user-name-badge",children:[Le[X].first_name," ",Le[X].last_name]})]}),t.jsx("div",{className:"form-progress",children:t.jsxs("span",{className:"progress-text",children:[X+1," of ",Le.length]})})]}),t.jsxs("div",{className:"form-section-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("div",{className:"card-icon",children:""}),t.jsx("h4",{className:"card-title",children:"Personal Information"})]}),t.jsxs("div",{className:"modern-form-grid",children:[t.jsxs("div",{className:"modern-form-group",children:[t.jsx("label",{className:"modern-form-label required",children:"First Name"}),t.jsx("input",{type:"text",className:"modern-form-input",value:Le[X].first_name,onChange:S=>rt(X,"first_name",S.target.value),placeholder:"Enter first name",required:!0})]}),t.jsxs("div",{className:"modern-form-group",children:[t.jsx("label",{className:"modern-form-label required",children:"Last Name"}),t.jsx("input",{type:"text",className:"modern-form-input",value:Le[X].last_name,onChange:S=>rt(X,"last_name",S.target.value),placeholder:"Enter last name",required:!0})]}),t.jsxs("div",{className:"modern-form-group",children:[t.jsx("label",{className:"modern-form-label",children:"Middle Name"}),t.jsx("input",{type:"text",className:"modern-form-input",value:Le[X].middle_name,onChange:S=>rt(X,"middle_name",S.target.value),placeholder:"Enter middle name"})]}),t.jsxs("div",{className:"modern-form-group",children:[t.jsx("label",{className:"modern-form-label",children:"Gender"}),t.jsxs("div",{className:"modern-select-wrapper",children:[t.jsxs("select",{className:"modern-form-input",value:Le[X].gender,onChange:S=>rt(X,"gender",S.target.value),children:[t.jsx("option",{value:"",children:"Select gender"}),t.jsx("option",{value:"male",children:"Male"}),t.jsx("option",{value:"female",children:"Female"}),t.jsx("option",{value:"other",children:"Other"})]}),t.jsx("div",{className:"select-arrow",children:""})]})]})]})]}),t.jsxs("div",{className:"form-section-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("div",{className:"card-icon",children:""}),t.jsx("h4",{className:"card-title",children:"Contact Information"})]}),t.jsxs("div",{className:"modern-form-grid",children:[t.jsxs("div",{className:"modern-form-group",children:[t.jsx("label",{className:"modern-form-label required",children:"Mobile Number"}),t.jsxs("div",{className:"modern-phone-input",children:[t.jsxs("select",{className:"country-code-select",value:Le[X].country_code||"+91",onChange:S=>rt(X,"country_code",S.target.value),children:[t.jsx("option",{value:"+91",children:" +91"}),t.jsx("option",{value:"+1",children:" +1"}),t.jsx("option",{value:"+44",children:" +44"}),t.jsx("option",{value:"+61",children:" +61"}),t.jsx("option",{value:"+971",children:" +971"}),t.jsx("option",{value:"+81",children:" +81"}),t.jsx("option",{value:"+49",children:" +49"})]}),t.jsx("input",{type:"tel",className:`modern-form-input ${Le[X].mobile_no&&!xt(Le[X].mobile_no)?"invalid":""}`,value:Le[X].mobile_no,onChange:S=>rt(X,"mobile_no",S.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"10-digit mobile number",maxLength:"10",required:!0})]}),Le[X].mobile_no&&!xt(Le[X].mobile_no)&&t.jsxs("div",{className:"validation-message",children:[t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"#ef4444",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Please enter a valid 10-digit mobile number"]})]}),t.jsxs("div",{className:"modern-form-group",children:[t.jsx("label",{className:"modern-form-label required",children:"User Type"}),t.jsxs("div",{className:"modern-select-wrapper",children:[t.jsxs("select",{className:"modern-form-input",value:Le[X].user_type,onChange:S=>rt(X,"user_type",S.target.value),required:!0,children:[t.jsx("option",{value:"",children:"Select type"}),t.jsx("option",{value:"1",children:" Crew Member"}),t.jsx("option",{value:"2",children:" Office Staff"})]}),t.jsx("div",{className:"select-arrow",children:""})]})]}),t.jsxs("div",{className:"modern-form-group full-width",children:[t.jsx("label",{className:"modern-form-label required",children:"Email Address"}),t.jsx("input",{type:"email",className:"modern-form-input",value:Le[X].user_email,onChange:S=>rt(X,"user_email",S.target.value),placeholder:"Enter email address",required:!0})]})]})]}),t.jsxs("div",{className:"form-section-card",children:[t.jsxs("div",{className:"card-header",children:[t.jsx("div",{className:"card-icon",children:""}),t.jsx("h4",{className:"card-title",children:"Employment Details"})]}),t.jsxs("div",{className:"modern-form-grid",children:[t.jsxs("div",{className:"modern-form-group",children:[t.jsx("label",{className:"modern-form-label",children:"Account Status"}),t.jsxs("div",{className:"status-toggle-modern",children:[t.jsxs("button",{type:"button",className:`status-option ${Le[X].user_status===1?"active":""}`,onClick:()=>rt(X,"user_status",1),children:[t.jsx("span",{className:"status-indicator active"}),"Active"]}),t.jsxs("button",{type:"button",className:`status-option ${Le[X].user_status===0?"active":""}`,onClick:()=>rt(X,"user_status",0),children:[t.jsx("span",{className:"status-indicator inactive"}),"Inactive"]})]})]}),t.jsxs("div",{className:"modern-form-group",children:[t.jsx("label",{className:"modern-form-label",children:"Date of Joining"}),t.jsx("input",{type:"date",className:"modern-form-input",value:Le[X].date_of_joining,onChange:S=>rt(X,"date_of_joining",S.target.value)})]})]})]})]})})]}),t.jsxs("div",{className:"modern-modal-footer",children:[t.jsx("div",{className:"footer-left",children:t.jsxs("span",{className:"users-count",children:[Le.length," user",Le.length!==1?"s":""," ready to add",A&&" and allocate to ship"]})}),t.jsxs("div",{className:"footer-right",children:[t.jsx("button",{type:"button",className:"modern-btn secondary",onClick:()=>{Ya(!1),V(!1),j("")},children:"Cancel"}),t.jsxs("button",{type:"button",className:"modern-btn primary",onClick:It,disabled:A&&(!L||!J||!te||!K),children:[t.jsx("span",{className:"btn-icon",children:""}),A?"Add & Allocate":"Add"," ",Le.length," User",Le.length!==1?"s":""]})]})]})]})}),dn&&t.jsx("div",{id:"show-deaboarding-users-active-jobs-with-job-assign-to-different-users-main-container",children:t.jsx("div",{id:"show-deaboarding-users-active-jobs-with-job-assign-to-different-users-content-container",children:t.jsxs("div",{className:"active-jobs-distribution-modal",children:[t.jsxs("div",{className:"distribution-modal-header",children:[t.jsx("h2",{children:"Job Distribution Plan - No Successor"}),t.jsx("p",{children:fe?`Distributing jobs from ${Mt[ht?.user_id]?.first_name} to ${Mt[fe]?.first_name}`:`Distributing ${La()} active jobs from ${Mt[ht?.user_id]?.first_name} to available crew members`}),t.jsx("button",{className:"close-modal-btn",onClick:()=>Ka(!1),children:""})]}),t.jsxs("div",{className:"scrollable-content",children:[t.jsxs("div",{className:"user-info-section",children:[t.jsxs("div",{className:"user-info-card",children:[t.jsx("h3",{children:"User Being Deboarded"}),t.jsxs("div",{className:"user-details-grid",children:[t.jsxs("div",{className:"user-detail",children:[t.jsx("span",{className:"label",children:"Name:"}),t.jsxs("span",{className:"value",children:[Mt[ht?.user_id]?.first_name||"N/A",Mt[ht?.user_id]?.last_name||""]})]}),t.jsxs("div",{className:"user-detail",children:[t.jsx("span",{className:"label",children:"Designation:"}),t.jsx("span",{className:"value",children:i.find(S=>S.DSGH_ID===ht?.desg_id)?.desg_name||"N/A"})]}),t.jsxs("div",{className:"user-detail",children:[t.jsx("span",{className:"label",children:"Department:"}),t.jsx("span",{className:"value",children:f.find(S=>S.DEPT_ID===ht?.dept_id)?.dept_name||"N/A"})]}),t.jsxs("div",{className:"user-detail",children:[t.jsx("span",{className:"label",children:"Total Active Jobs:"}),t.jsx("span",{className:"value badge",children:La()})]})]})]}),!fe&&t.jsxs("div",{className:"user-info-card warning-info",children:[t.jsx("h3",{children:" No Successor Selected"}),t.jsxs("div",{className:"user-details-grid",children:[t.jsxs("div",{className:"user-detail full-width",children:[t.jsx("span",{className:"label",children:"Distribution Mode:"}),t.jsx("span",{className:"value",children:"Jobs will be distributed to available crew members"})]}),t.jsxs("div",{className:"user-detail full-width",children:[t.jsx("span",{className:"label",children:"Note:"}),t.jsx("span",{className:"value",children:"Some jobs may be paused if no suitable crew members are available"})]})]})]})]}),t.jsxs("p",{className:"info-note",children:[" ",t.jsx("strong",{children:"Note:"})," If you do not select any crew member for one or more jobs, those jobs will be automatically handed over to the ",t.jsx("strong",{children:"secondary person"}),"."]}),t.jsxs("div",{className:"active-jobs-list-section",children:[t.jsx("h3",{children:"Active Jobs Assignment"}),t.jsx("div",{className:"jobs-table-container",children:t.jsxs("table",{className:"jobs-distribution-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"Job ID"}),t.jsx("th",{children:"Job Name"}),t.jsx("th",{children:"Priority"}),t.jsx("th",{children:"Due Date"}),t.jsx("th",{children:"Status"}),t.jsx("th",{children:"Assigned To"}),t.jsx("th",{children:"Assignment Control"})]})}),t.jsx("tbody",{children:Wt()})]})})]})]}),t.jsxs("div",{className:"distribution-actions",children:[t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"btn-secondary",onClick:()=>{Ka(!1),fe||ca(!0)},children:fe?"Cancel":"Back to Successor Selection"}),t.jsx("button",{className:"btn-primary",onClick:Gt,children:fe?"Confirm Deboarding & Distribute Jobs":"Confirm Deboarding & Execute Distribution"})]}),t.jsx("div",{className:"action-note",children:t.jsx("p",{children:fe?" Job distribution will be executed automatically upon confirmation":" Jobs will be distributed to selected crew members upon confirmation"})})]})]})})})]})},uj=u.lazy(()=>hl(()=>import("./Dashboard-CWCG8ibw.js"),__vite__mapDeps([0,1]))),fj=u.lazy(()=>hl(()=>import("./NotFound-D3WN9fIi.js"),__vite__mapDeps([2,3]))),hj=u.lazy(()=>hl(()=>import("./JTH_form-BWsqKyDe.js"),__vite__mapDeps([4,5]))),mj=u.lazy(()=>hl(()=>import("./JCD_creation_form-zrfztWxv.js"),__vite__mapDeps([6,7]))),pj=u.lazy(()=>hl(()=>import("./Component_meter_reinitializ-C-9UjBOz.js"),__vite__mapDeps([8,9]))),gj=u.lazy(()=>hl(()=>import("./DepartmentDesignation-dQrAU76v.js"),__vite__mapDeps([10,11]))),_j=()=>{const{user:i}=u.useContext(Va),{profiles:r}=u.useContext(ai),{shipsList:d}=u.useContext(ss),[o,f]=u.useState(null),[h,p]=u.useState([]),[y,x]=u.useState([]),[_,b]=u.useState([]),[C,k]=u.useState([]),[I,w]=u.useState([]),[M,H]=u.useState([]),L=($,J)=>{const te=($.profile_ids?.split(",")||[]).map(ue=>r?.find(be=>be.PROFILE_ID===ue)).filter(Boolean);if(!te.length)return;const me=te[0].process_ids?.split(",").filter(ue=>ue.includes(J))||[];switch(J){case"MLC":p(me);break;case"SHA":x(me);break;case"rhnm":b(me);break;case"JTH":k(me);break;case"JSCA":w(me);break;case"CMR":H(me);break}};return u.useEffect(()=>{(async()=>{i&&["MLC","SHA","rhnm","JTH","JSCA","CMR"].forEach(J=>L(i,J))})()},[i,r]),t.jsx(u.Suspense,{fallback:t.jsx($g,{}),children:t.jsxs(vy,{children:[t.jsx(ta,{path:"/",element:t.jsx(zn,{to:"/login"})}),t.jsx(ta,{path:"/login",element:t.jsx(Jb,{})}),t.jsx(ta,{path:"/SignUp",element:t.jsx(Bb,{})}),i?t.jsxs(t.Fragment,{children:[t.jsx(ta,{path:"/home",element:t.jsx(uj,{})}),t.jsx(ta,{path:"/department-designation",element:t.jsx(gj,{})}),C.includes("P_JTH_0001")&&t.jsx(ta,{path:"/JTH_form",element:t.jsx(hj,{})}),t.jsx(ta,{path:"/JCD_form",element:t.jsx(ij,{}),children:t.jsx(ta,{index:!0,element:t.jsx(mj,{})})}),h.includes("P_MLC_0001")&&t.jsx(ta,{path:"/MovementLogPage",element:t.jsx(Gb,{})}),i.emp_type===2&&y.includes("P_SHA_0001")&&t.jsx(ta,{path:"/ShipsManagement",element:t.jsx(Xb,{})}),_.includes("P_rhnm_0001")&&t.jsx(ta,{path:"/RH-NM",element:t.jsx(Qb,{})}),I.includes("P_JSCA_0001")&&t.jsx(ta,{path:"/jcd-ship-combination",element:t.jsx(f0,{})}),t.jsx(ta,{path:"/comp-meter-reinitializer",element:t.jsx(pj,{})}),t.jsx(ta,{path:"/user-allotment",element:t.jsx(dj,{})})]}):t.jsxs(t.Fragment,{children:[t.jsx(ta,{path:"/home",element:t.jsx(zn,{to:"/login"})}),t.jsx(ta,{path:"/JTH_form",element:t.jsx(zn,{to:"/login"})}),t.jsx(ta,{path:"/JCD_form",element:t.jsx(zn,{to:"/login"})}),t.jsx(ta,{path:"/MovementLogPage",element:t.jsx(zn,{to:"/login"})}),t.jsx(ta,{path:"/ShipsManagement",element:t.jsx(zn,{to:"/login"})}),t.jsx(ta,{path:"/RH-NM",element:t.jsx(zn,{to:"/login"})}),t.jsx(ta,{path:"/jcd-ship-combination",element:t.jsx(zn,{to:"/login"})}),t.jsx(ta,{path:"/comp-meter-reinitializer",element:t.jsx(zn,{to:"/login"})}),t.jsx(ta,{path:"/user-allotment",element:t.jsx(zn,{to:"/login"})}),t.jsx(ta,{path:"/department-designation",element:t.jsx(zn,{to:"/login"})})]}),t.jsx(ta,{path:"*",element:t.jsx(fj,{})})]})})},xj="/pms/assets/logo_with_name-5VV28lQ7.png",yj=()=>{const i=_l(),{user:r}=u.useContext(Va),{profiles:d}=u.useContext(ai),{shipsList:o}=u.useContext(ss),{designationList:f}=u.useContext(vl),[h,p]=u.useState(null),[y,x]=u.useState(null),[_,b]=u.useState({MLC:{formIDs:[],processIDs:[]},SHA:{formIDs:[],processIDs:[]},JCD:{formIDs:[],processIDs:[]},RHNM:{formIDs:[],processIDs:[]},JSCA:{formIDs:[],processIDs:[]},JTH:{formIDs:[],processIDs:[]},CMR:{formIDs:[],processIDs:[]}}),C=()=>i("/home");return u.useEffect(()=>{if(r&&f){const k=f.find(I=>I.DSGH_ID==r.emp_desg);x(k?.desg_name||null)}},[r,d]),t.jsx("header",{className:"navbar-corporate",children:t.jsxs("nav",{className:"navbar-corporate__container",children:[t.jsxs("div",{className:"navbar-corporate__brand",onClick:C,children:[t.jsx("img",{src:xj,alt:"Uday ERP Logo",className:"navbar-corporate__logo"}),t.jsxs("h2",{className:"navbar-corporate__title",children:[r?.emp_name,y&&t.jsxs("span",{className:"navbar-corporate__designation",children:["(",y,")"]})]})]}),t.jsxs("div",{className:"navbar-corporate__menu",children:[t.jsxs(qn,{className:"navbar-corporate__link",to:"/home",children:[t.jsx("span",{className:"navbar-corporate__link-icon",children:""}),"Dashboard"]}),d?.filter(k=>r?.profile_ids?.includes(k.PROFILE_ID))[0]?.process_ids?.includes("P_JTH_0001")&&t.jsxs(qn,{className:"navbar-corporate__link",to:"/JTH_form",children:[t.jsx("span",{className:"navbar-corporate__link-icon"}),"Job Types"]}),d?.filter(k=>r?.profile_ids?.includes(k.PROFILE_ID))[0]?.process_ids?.includes("P_JCD_0007")&&t.jsxs(qn,{className:"navbar-corporate__link",to:"/JCD_form",children:[t.jsx("span",{className:"navbar-corporate__link-icon"}),"JCD"]}),d?.filter(k=>r?.profile_ids?.includes(k.PROFILE_ID))[0]?.process_ids?.includes("P_MLC_0001")&&t.jsxs(qn,{className:"navbar-corporate__link",to:"/MovementLogPage",children:[t.jsx("span",{className:"navbar-corporate__link-icon"}),"Movement Log Config"]}),d?.filter(k=>r?.profile_ids?.includes(k.PROFILE_ID))[0]?.process_ids?.includes("P_SHA_0001")&&t.jsxs(qn,{className:"navbar-corporate__link",to:"/ShipsManagement",children:[t.jsx("span",{className:"navbar-corporate__link-icon"}),"Location Management"]}),console.log("access.RHNM.processIDs : ",_.RHNM.processIDs),d?.filter(k=>r?.profile_ids?.includes(k.PROFILE_ID))[0]?.process_ids?.includes("P_rhnm_0001")&&t.jsxs(qn,{className:"navbar-corporate__link",to:"/RH-NM",children:[t.jsx("span",{className:"navbar-corporate__link-icon"}),"R.H / N.M."]}),d?.filter(k=>r?.profile_ids?.includes(k.PROFILE_ID))[0]?.process_ids?.includes("P_JSCA_0001")&&t.jsxs(qn,{className:"navbar-corporate__link",to:"/jcd-ship-combination",children:[t.jsx("span",{className:"navbar-corporate__link-icon"}),"JCD-Location Link"]}),d?.filter(k=>r?.profile_ids?.includes(k.PROFILE_ID))[0]?.process_ids?.includes("P_CMR_0001")&&t.jsxs(qn,{className:"navbar-corporate__link",to:"/comp-meter-reinitializer",children:[t.jsx("span",{className:"navbar-corporate__link-icon"}),"Comp. Meter Re-Initiate"]}),d?.filter(k=>r?.profile_ids?.includes(k.PROFILE_ID))[0]?.process_ids?.includes("P_UAT_0001")&&t.jsxs(qn,{className:"navbar-corporate__link",to:"/user-allotment",children:[t.jsx("span",{className:"navbar-corporate__link-icon"}),"User Allotment"]}),t.jsxs(qn,{className:"navbar-corporate__link",to:"/department-designation",children:[t.jsx("span",{className:"navbar-corporate__link-icon"}),"Department & Designation"]})]})]})})},vj=()=>{const{user:i}=u.useContext(Va);return t.jsxs($y,{basename:"/pms",children:[i&&t.jsx(yj,{}),t.jsx(_j,{}),t.jsx(sj,{position:"top-right",autoClose:3e3,style:{zIndex:999999999}})]})},bj=u.createContext(),jj=({children:i})=>{const[r,d]=u.useState([]),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await Je.get(`${o}getAllExecutedJobs`);d(h.data)}catch(h){console.error("Failed to fetch executed Jobs :",h)}};return u.useEffect(()=>{f()},[]),t.jsx(bj.Provider,{value:{executedJobList:r,refreshExecutedJobs:f},children:i})},Sj=u.createContext(),Nj=({children:i})=>{const[r,d]=u.useState(!1),[o,f]=u.useState(!1),[h,p]=u.useState(!1),[y,x]=u.useState(!1),[_,b]=u.useState(!1);return t.jsx(Sj.Provider,{value:{setIsNewJCDClicked:d,setIsViewJCDClicked:f,setIsActiveJobsClicked:p,setIsCompletedJobsClicked:x,setIsUpcomingJobsClicked:b,isNewJCDClicked:r,isViewJCDClicked:o,isActiveJobsClicked:h,isCompletedJobsClicked:y,isUpcomingJobsClicked:_},children:i})},Cj=u.createContext(),Dj=({children:i})=>{const[r,d]=u.useState(!1);u.useEffect(()=>{const f=localStorage.getItem("theme"),h=window.matchMedia("(prefers-color-scheme: dark)").matches,p=f==="dark"||!f&&h;d(p),p&&document.documentElement.classList.add("dark")},[]);const o=()=>{d(f=>{const h=!f;return h?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",h?"dark":"light"),h})};return t.jsx(Cj.Provider,{value:{isDarkMode:r,toggleTheme:o},children:i})},Aj=u.createContext(),wj=({children:i})=>{const[r,d]=u.useState([]),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await Je.get(`${o}getAllFailedJobs`);d(h.data)}catch(h){console.error("Failed to fetch Failed Jobs :",h)}};return u.useEffect(()=>{f()},[]),t.jsx(Aj.Provider,{value:{failedJobsList:r,refreshFailedJobsList:f},children:i})};Ax.createRoot(document.getElementById("root")).render(t.jsx(Lb,{children:t.jsx(zb,{children:t.jsx(Eb,{children:t.jsx(h0,{children:t.jsx(Pb,{children:t.jsx(qb,{children:t.jsx(x0,{children:t.jsx($b,{children:t.jsx(jj,{children:t.jsx(Kb,{children:t.jsx(Nj,{children:t.jsx(Fb,{children:t.jsx(Vb,{children:t.jsx(Yb,{children:t.jsx(Dj,{children:t.jsx(Zb,{children:t.jsx(m0,{children:t.jsx(p0,{children:t.jsx(g0,{children:t.jsx(_0,{children:t.jsx(j0,{children:t.jsx(Ub,{children:t.jsx(rj,{children:t.jsx(cj,{children:t.jsx(Rb,{children:t.jsx(kb,{children:t.jsx(Ob,{children:t.jsx(wj,{children:t.jsx(vj,{})})})})})})})})})})})})})})})})})})})})})})})})})})})})}));export{_c as C,vl as D,bj as E,Yj as F,rf as J,Bg as M,Ei as O,ai as P,Ej as R,ss as S,Pg as T,Va as U,u as a,Fu as b,Di as c,mc as d,gc as e,Aj as f,Gp as g,pc as h,qg as i,zg as j,Hg as k,Ti as l,t as m,Je as n,lf as o,Jg as p,Lg as q,Nx as r,jr as s,of as t,Ye as y};
