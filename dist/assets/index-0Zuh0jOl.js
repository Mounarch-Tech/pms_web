const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-DR-lC-B4.js","assets/Dashboard-CuZN024b.css","assets/NotFound-BZ2PJ04c.js","assets/NotFound-ByNZH_Dg.css","assets/JTH_form-DEhoqox1.js","assets/JTH_form-UxBm5mUt.css","assets/JCD_creation_form-C1z4VLaM.js","assets/JCD_creation_form-D68H92eM.css","assets/Component_meter_reinitializ-CksVhJ4w.js","assets/Component_meter_reinitializ-CzkhZk28.css","assets/DepartmentDesignation-orL7_Y19.js","assets/DepartmentDesignation-z1vpzlRj.css"])))=>i.map(i=>d[i]);
function gx(i,r){for(var d=0;d<r.length;d++){const o=r[d];if(typeof o!="string"&&!Array.isArray(o)){for(const f in o)if(f!=="default"&&!(f in i)){const h=Object.getOwnPropertyDescriptor(o,f);h&&Object.defineProperty(i,f,h.get?h:{enumerable:!0,get:()=>o[f]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))o(f);new MutationObserver(f=>{for(const h of f)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function d(f){const h={};return f.integrity&&(h.integrity=f.integrity),f.referrerPolicy&&(h.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?h.credentials="include":f.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(f){if(f.ep)return;f.ep=!0;const h=d(f);fetch(f.href,h)}})();function Yp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ju={exports:{}},mr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp;function _x(){if(fp)return mr;fp=1;var i=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function d(o,f,h){var p=null;if(h!==void 0&&(p=""+h),f.key!==void 0&&(p=""+f.key),"key"in f){h={};for(var y in f)y!=="key"&&(h[y]=f[y])}else h=f;return f=h.ref,{$$typeof:i,type:o,key:p,ref:f!==void 0?f:null,props:h}}return mr.Fragment=r,mr.jsx=d,mr.jsxs=d,mr}var hp;function xx(){return hp||(hp=1,ju.exports=_x()),ju.exports}var a=xx(),Su={exports:{}},yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function yx(){if(mp)return yt;mp=1;var i=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),p=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.iterator;function k(j){return j===null||typeof j!="object"?null:(j=C&&j[C]||j["@@iterator"],typeof j=="function"?j:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,T={};function L(j,F,ae){this.props=j,this.context=F,this.refs=T,this.updater=ae||H}L.prototype.isReactComponent={},L.prototype.setState=function(j,F){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,F,"setState")},L.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function R(){}R.prototype=L.prototype;function $(j,F,ae){this.props=j,this.context=F,this.refs=T,this.updater=ae||H}var J=$.prototype=new R;J.constructor=$,D(J,L.prototype),J.isPureReactComponent=!0;var ie=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},we=Object.prototype.hasOwnProperty;function ge(j,F,ae,I,se,Ce){return ae=Ce.ref,{$$typeof:i,type:j,key:F,ref:ae!==void 0?ae:null,props:Ce}}function ue(j,F){return ge(j.type,F,void 0,void 0,void 0,j.props)}function je(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function P(j){var F={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ae){return F[ae]})}var U=/\/+/g;function Re(j,F){return typeof j=="object"&&j!==null&&j.key!=null?P(""+j.key):F.toString(36)}function Ne(){}function ve(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Ne,Ne):(j.status="pending",j.then(function(F){j.status==="pending"&&(j.status="fulfilled",j.value=F)},function(F){j.status==="pending"&&(j.status="rejected",j.reason=F)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Y(j,F,ae,I,se){var Ce=typeof j;(Ce==="undefined"||Ce==="boolean")&&(j=null);var ee=!1;if(j===null)ee=!0;else switch(Ce){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(j.$$typeof){case i:case r:ee=!0;break;case b:return ee=j._init,Y(ee(j._payload),F,ae,I,se)}}if(ee)return se=se(j),ee=I===""?"."+Re(j,0):I,ie(se)?(ae="",ee!=null&&(ae=ee.replace(U,"$&/")+"/"),Y(se,F,ae,"",function(ze){return ze})):se!=null&&(je(se)&&(se=ue(se,ae+(se.key==null||j&&j.key===se.key?"":(""+se.key).replace(U,"$&/")+"/")+ee)),F.push(se)),1;ee=0;var re=I===""?".":I+":";if(ie(j))for(var be=0;be<j.length;be++)I=j[be],Ce=re+Re(I,be),ee+=Y(I,F,ae,Ce,se);else if(be=k(j),typeof be=="function")for(j=be.call(j),be=0;!(I=j.next()).done;)I=I.value,Ce=re+Re(I,be++),ee+=Y(I,F,ae,Ce,se);else if(Ce==="object"){if(typeof j.then=="function")return Y(ve(j),F,ae,I,se);throw F=String(j),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return ee}function w(j,F,ae){if(j==null)return j;var I=[],se=0;return Y(j,I,"","",function(Ce){return F.call(ae,Ce,se++)}),I}function B(j){if(j._status===-1){var F=j._result;F=F(),F.then(function(ae){(j._status===0||j._status===-1)&&(j._status=1,j._result=ae)},function(ae){(j._status===0||j._status===-1)&&(j._status=2,j._result=ae)}),j._status===-1&&(j._status=0,j._result=F)}if(j._status===1)return j._result.default;throw j._result}var X=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function fe(){}return yt.Children={map:w,forEach:function(j,F,ae){w(j,function(){F.apply(this,arguments)},ae)},count:function(j){var F=0;return w(j,function(){F++}),F},toArray:function(j){return w(j,function(F){return F})||[]},only:function(j){if(!je(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},yt.Component=L,yt.Fragment=d,yt.Profiler=f,yt.PureComponent=$,yt.StrictMode=o,yt.Suspense=x,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,yt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return te.H.useMemoCache(j)}},yt.cache=function(j){return function(){return j.apply(null,arguments)}},yt.cloneElement=function(j,F,ae){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var I=D({},j.props),se=j.key,Ce=void 0;if(F!=null)for(ee in F.ref!==void 0&&(Ce=void 0),F.key!==void 0&&(se=""+F.key),F)!we.call(F,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&F.ref===void 0||(I[ee]=F[ee]);var ee=arguments.length-2;if(ee===1)I.children=ae;else if(1<ee){for(var re=Array(ee),be=0;be<ee;be++)re[be]=arguments[be+2];I.children=re}return ge(j.type,se,void 0,void 0,Ce,I)},yt.createContext=function(j){return j={$$typeof:p,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:h,_context:j},j},yt.createElement=function(j,F,ae){var I,se={},Ce=null;if(F!=null)for(I in F.key!==void 0&&(Ce=""+F.key),F)we.call(F,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(se[I]=F[I]);var ee=arguments.length-2;if(ee===1)se.children=ae;else if(1<ee){for(var re=Array(ee),be=0;be<ee;be++)re[be]=arguments[be+2];se.children=re}if(j&&j.defaultProps)for(I in ee=j.defaultProps,ee)se[I]===void 0&&(se[I]=ee[I]);return ge(j,Ce,void 0,void 0,null,se)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(j){return{$$typeof:y,render:j}},yt.isValidElement=je,yt.lazy=function(j){return{$$typeof:b,_payload:{_status:-1,_result:j},_init:B}},yt.memo=function(j,F){return{$$typeof:_,type:j,compare:F===void 0?null:F}},yt.startTransition=function(j){var F=te.T,ae={};te.T=ae;try{var I=j(),se=te.S;se!==null&&se(ae,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(fe,X)}catch(Ce){X(Ce)}finally{te.T=F}},yt.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},yt.use=function(j){return te.H.use(j)},yt.useActionState=function(j,F,ae){return te.H.useActionState(j,F,ae)},yt.useCallback=function(j,F){return te.H.useCallback(j,F)},yt.useContext=function(j){return te.H.useContext(j)},yt.useDebugValue=function(){},yt.useDeferredValue=function(j,F){return te.H.useDeferredValue(j,F)},yt.useEffect=function(j,F,ae){var I=te.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return I.useEffect(j,F)},yt.useId=function(){return te.H.useId()},yt.useImperativeHandle=function(j,F,ae){return te.H.useImperativeHandle(j,F,ae)},yt.useInsertionEffect=function(j,F){return te.H.useInsertionEffect(j,F)},yt.useLayoutEffect=function(j,F){return te.H.useLayoutEffect(j,F)},yt.useMemo=function(j,F){return te.H.useMemo(j,F)},yt.useOptimistic=function(j,F){return te.H.useOptimistic(j,F)},yt.useReducer=function(j,F,ae){return te.H.useReducer(j,F,ae)},yt.useRef=function(j){return te.H.useRef(j)},yt.useState=function(j){return te.H.useState(j)},yt.useSyncExternalStore=function(j,F,ae){return te.H.useSyncExternalStore(j,F,ae)},yt.useTransition=function(){return te.H.useTransition()},yt.version="19.1.0",yt}var pp;function Fu(){return pp||(pp=1,Su.exports=yx()),Su.exports}var u=Fu();const Rt=Yp(u),Ej=gx({__proto__:null,default:Rt},[u]);var Nu={exports:{}},pr={},Cu={exports:{}},Du={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function vx(){return gp||(gp=1,function(i){function r(w,B){var X=w.length;w.push(B);e:for(;0<X;){var fe=X-1>>>1,j=w[fe];if(0<f(j,B))w[fe]=B,w[X]=j,X=fe;else break e}}function d(w){return w.length===0?null:w[0]}function o(w){if(w.length===0)return null;var B=w[0],X=w.pop();if(X!==B){w[0]=X;e:for(var fe=0,j=w.length,F=j>>>1;fe<F;){var ae=2*(fe+1)-1,I=w[ae],se=ae+1,Ce=w[se];if(0>f(I,X))se<j&&0>f(Ce,I)?(w[fe]=Ce,w[se]=X,fe=se):(w[fe]=I,w[ae]=X,fe=ae);else if(se<j&&0>f(Ce,X))w[fe]=Ce,w[se]=X,fe=se;else break e}}return B}function f(w,B){var X=w.sortIndex-B.sortIndex;return X!==0?X:w.id-B.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var p=Date,y=p.now();i.unstable_now=function(){return p.now()-y}}var x=[],_=[],b=1,C=null,k=3,H=!1,D=!1,T=!1,L=!1,R=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ie(w){for(var B=d(_);B!==null;){if(B.callback===null)o(_);else if(B.startTime<=w)o(_),B.sortIndex=B.expirationTime,r(x,B);else break;B=d(_)}}function te(w){if(T=!1,ie(w),!D)if(d(x)!==null)D=!0,we||(we=!0,Re());else{var B=d(_);B!==null&&Y(te,B.startTime-w)}}var we=!1,ge=-1,ue=5,je=-1;function P(){return L?!0:!(i.unstable_now()-je<ue)}function U(){if(L=!1,we){var w=i.unstable_now();je=w;var B=!0;try{e:{D=!1,T&&(T=!1,$(ge),ge=-1),H=!0;var X=k;try{t:{for(ie(w),C=d(x);C!==null&&!(C.expirationTime>w&&P());){var fe=C.callback;if(typeof fe=="function"){C.callback=null,k=C.priorityLevel;var j=fe(C.expirationTime<=w);if(w=i.unstable_now(),typeof j=="function"){C.callback=j,ie(w),B=!0;break t}C===d(x)&&o(x),ie(w)}else o(x);C=d(x)}if(C!==null)B=!0;else{var F=d(_);F!==null&&Y(te,F.startTime-w),B=!1}}break e}finally{C=null,k=X,H=!1}B=void 0}}finally{B?Re():we=!1}}}var Re;if(typeof J=="function")Re=function(){J(U)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,ve=Ne.port2;Ne.port1.onmessage=U,Re=function(){ve.postMessage(null)}}else Re=function(){R(U,0)};function Y(w,B){ge=R(function(){w(i.unstable_now())},B)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(w){w.callback=null},i.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<w?Math.floor(1e3/w):5},i.unstable_getCurrentPriorityLevel=function(){return k},i.unstable_next=function(w){switch(k){case 1:case 2:case 3:var B=3;break;default:B=k}var X=k;k=B;try{return w()}finally{k=X}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(w,B){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var X=k;k=w;try{return B()}finally{k=X}},i.unstable_scheduleCallback=function(w,B,X){var fe=i.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?fe+X:fe):X=fe,w){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=X+j,w={id:b++,callback:B,priorityLevel:w,startTime:X,expirationTime:j,sortIndex:-1},X>fe?(w.sortIndex=X,r(_,w),d(x)===null&&w===d(_)&&(T?($(ge),ge=-1):T=!0,Y(te,X-fe))):(w.sortIndex=j,r(x,w),D||H||(D=!0,we||(we=!0,Re()))),w},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(w){var B=k;return function(){var X=k;k=B;try{return w.apply(this,arguments)}finally{k=X}}}}(Du)),Du}var _p;function bx(){return _p||(_p=1,Cu.exports=vx()),Cu.exports}var Au={exports:{}},qa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function jx(){if(xp)return qa;xp=1;var i=Fu();function r(x){var _="https://react.dev/errors/"+x;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+x+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var o={d:{f:d,r:function(){throw Error(r(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},f=Symbol.for("react.portal");function h(x,_,b){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:C==null?null:""+C,children:x,containerInfo:_,implementation:b}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(x,_){if(x==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return qa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,qa.createPortal=function(x,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(r(299));return h(x,_,null,b)},qa.flushSync=function(x){var _=p.T,b=o.p;try{if(p.T=null,o.p=2,x)return x()}finally{p.T=_,o.p=b,o.d.f()}},qa.preconnect=function(x,_){typeof x=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,o.d.C(x,_))},qa.prefetchDNS=function(x){typeof x=="string"&&o.d.D(x)},qa.preinit=function(x,_){if(typeof x=="string"&&_&&typeof _.as=="string"){var b=_.as,C=y(b,_.crossOrigin),k=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?o.d.S(x,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:C,integrity:k,fetchPriority:H}):b==="script"&&o.d.X(x,{crossOrigin:C,integrity:k,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},qa.preinitModule=function(x,_){if(typeof x=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=y(_.as,_.crossOrigin);o.d.M(x,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&o.d.M(x)},qa.preload=function(x,_){if(typeof x=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,C=y(b,_.crossOrigin);o.d.L(x,b,{crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},qa.preloadModule=function(x,_){if(typeof x=="string")if(_){var b=y(_.as,_.crossOrigin);o.d.m(x,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else o.d.m(x)},qa.requestFormReset=function(x){o.d.r(x)},qa.unstable_batchedUpdates=function(x,_){return x(_)},qa.useFormState=function(x,_,b){return p.H.useFormState(x,_,b)},qa.useFormStatus=function(){return p.H.useHostTransitionStatus()},qa.version="19.1.0",qa}var yp;function Sx(){if(yp)return Au.exports;yp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),Au.exports=jx(),Au.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function Nx(){if(vp)return pr;vp=1;var i=bx(),r=Fu(),d=Sx();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(o(188))}function x(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var c=l.alternate;if(c===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===n)return y(l),e;if(c===s)return y(l),t;c=c.sibling}throw Error(o(188))}if(n.return!==s.return)n=l,s=c;else{for(var g=!1,v=l.child;v;){if(v===n){g=!0,n=l,s=c;break}if(v===s){g=!0,s=l,n=c;break}v=v.sibling}if(!g){for(v=c.child;v;){if(v===n){g=!0,n=c,s=l;break}if(v===s){g=!0,s=c,n=l;break}v=v.sibling}if(!g)throw Error(o(189))}}if(n.alternate!==s)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,C=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),ge=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),je=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function Re(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Symbol.for("react.client.reference");function ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ne?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case L:return"Profiler";case T:return"StrictMode";case te:return"Suspense";case we:return"SuspenseList";case je:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case J:return(e.displayName||"Context")+".Provider";case $:return(e._context.displayName||"Context")+".Consumer";case ie:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ge:return t=e.displayName||null,t!==null?t:ve(e.type)||"Memo";case ue:t=e._payload,e=e._init;try{return ve(e(t))}catch{}}return null}var Y=Array.isArray,w=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},fe=[],j=-1;function F(e){return{current:e}}function ae(e){0>j||(e.current=fe[j],fe[j]=null,j--)}function I(e,t){j++,fe[j]=e.current,e.current=t}var se=F(null),Ce=F(null),ee=F(null),re=F(null);function be(e,t){switch(I(ee,t),I(Ce,e),I(se,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Bm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Bm(t),e=zm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ae(se),I(se,e)}function ze(){ae(se),ae(Ce),ae(ee)}function dt(e){e.memoizedState!==null&&I(re,e);var t=se.current,n=zm(t,e.type);t!==n&&(I(Ce,e),I(se,n))}function tt(e){Ce.current===e&&(ae(se),ae(Ce)),re.current===e&&(ae(re),cr._currentValue=X)}var Le=Object.prototype.hasOwnProperty,K=i.unstable_scheduleCallback,Te=i.unstable_cancelCallback,Ze=i.unstable_shouldYield,_e=i.unstable_requestPaint,Et=i.unstable_now,he=i.unstable_getCurrentPriorityLevel,bt=i.unstable_ImmediatePriority,$t=i.unstable_UserBlockingPriority,ia=i.unstable_NormalPriority,Fa=i.unstable_LowPriority,ft=i.unstable_IdlePriority,Oe=i.log,Je=i.unstable_setDisableYieldValue,ot=null,Qe=null;function kt(e){if(typeof Oe=="function"&&Je(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ot,e)}catch{}}var Mt=Math.clz32?Math.clz32:xa,Xt=Math.log,pa=Math.LN2;function xa(e){return e>>>=0,e===0?32:31-(Xt(e)/pa|0)|0}var Zt=256,Ta=4194304;function He(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function aa(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,c=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var v=s&134217727;return v!==0?(s=v&~c,s!==0?l=He(s):(g&=v,g!==0?l=He(g):n||(n=v&~e,n!==0&&(l=He(n))))):(v=s&~c,v!==0?l=He(v):g!==0?l=He(g):n||(n=s&~e,n!==0&&(l=He(n)))),l===0?0:t!==0&&t!==l&&(t&c)===0&&(c=l&-l,n=t&-t,c>=n||c===32&&(n&4194048)!==0)?t:l}function vn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function on(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Va(){var e=Zt;return Zt<<=1,(Zt&4194048)===0&&(Zt=256),e}function cn(){var e=Ta;return Ta<<=1,(Ta&62914560)===0&&(Ta=4194304),e}function Da(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ca(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vn(e,t,n,s,l,c){var g=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,E=e.expirationTimes,G=e.hiddenUpdates;for(n=g&~n;0<n;){var de=31-Mt(n),ye=1<<de;v[de]=0,E[de]=-1;var Q=G[de];if(Q!==null)for(G[de]=null,de=0;de<Q.length;de++){var W=Q[de];W!==null&&(W.lane&=-536870913)}n&=~ye}s!==0&&Ya(e,s,0),c!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=c&~(g&~t))}function Ya(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Mt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&4194090}function dn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Mt(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}function Qa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ka(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function un(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:lp(e.type))}function Wa(e,t){var n=B.p;try{return B.p=e,t()}finally{B.p=n}}var ja=Math.random().toString(36).slice(2),la="__reactFiber$"+ja,ra="__reactProps$"+ja,Rn="__reactContainer$"+ja,bn="__reactEvents$"+ja,ki="__reactListeners$"+ja,ni="__reactHandles$"+ja,Ln="__reactResources$"+ja,fn="__reactMarker$"+ja;function ht(e){delete e[la],delete e[ra],delete e[bn],delete e[ki],delete e[ni]}function ka(e){var t=e[la];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rn]||n[la]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fm(e);e!==null;){if(n=e[la])return n;e=Fm(e)}return t}e=n,n=e.parentNode}return null}function Qt(e){if(e=e[la]||e[Rn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function da(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function en(e){var t=e[Ln];return t||(t=e[Ln]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function It(e){e[fn]=!0}var On=new Set,is={};function ua(e,t){ya(e,t),ya(e+"Capture",t)}function ya(e,t){for(is[e]=t,e=0;e<t.length;e++)On.add(t[e])}var Yn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jn={},At={};function si(e){return Le.call(At,e)?!0:Le.call(jn,e)?!1:Yn.test(e)?At[e]=!0:(jn[e]=!0,!1)}function Hn(e,t,n){if(si(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function hn(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Sa(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}var Sn,In;function Ha(e){if(Sn===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sn=t&&t[1]||"",In=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sn+e+In}var ls=!1;function Ds(e,t){if(!e||ls)return"";ls=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(W){var Q=W}Reflect.construct(e,[],ye)}else{try{ye.call()}catch(W){Q=W}e.call(ye.prototype)}}else{try{throw Error()}catch(W){Q=W}(ye=e())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),g=c[0],v=c[1];if(g&&v){var E=g.split(`
`),G=v.split(`
`);for(l=s=0;s<E.length&&!E[s].includes("DetermineComponentFrameRoot");)s++;for(;l<G.length&&!G[l].includes("DetermineComponentFrameRoot");)l++;if(s===E.length||l===G.length)for(s=E.length-1,l=G.length-1;1<=s&&0<=l&&E[s]!==G[l];)l--;for(;1<=s&&0<=l;s--,l--)if(E[s]!==G[l]){if(s!==1||l!==1)do if(s--,l--,0>l||E[s]!==G[l]){var de=`
`+E[s].replace(" at new "," at ");return e.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",e.displayName)),de}while(1<=s&&0<=l);break}}}finally{ls=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ha(n):""}function Mi(e){switch(e.tag){case 26:case 27:case 5:return Ha(e.type);case 16:return Ha("Lazy");case 13:return Ha("Suspense");case 19:return Ha("SuspenseList");case 0:case 15:return Ds(e.type,!1);case 11:return Ds(e.type.render,!1);case 1:return Ds(e.type,!0);case 31:return Ha("Activity");default:return""}}function Gn(e){try{var t="";do t+=Mi(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function N(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function De(e){var t=oe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(g){s=""+g,c.call(this,g)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ke(e){e._valueTracker||(e._valueTracker=De(e))}function Me(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=oe(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function le(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Se=/[\n"\\]/g;function Ie(e){return e.replace(Se,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function me(e,t,n,s,l,c,g,v){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+N(t)):e.value!==""+N(t)&&(e.value=""+N(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?it(e,g,N(t)):n!=null?it(e,g,N(n)):s!=null&&e.removeAttribute("value"),l==null&&c!=null&&(e.defaultChecked=!!c),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+N(v):e.removeAttribute("name")}function st(e,t,n,s,l,c,g,v){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||n!=null){if(!(c!=="submit"&&c!=="reset"||t!=null))return;n=n!=null?""+N(n):"",t=t!=null?""+N(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}s=s??l,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=v?e.checked:!!s,e.defaultChecked=!!s,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function it(e,t,n){t==="number"&&le(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _t(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+N(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ot(e,t,n){if(t!=null&&(t=""+N(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+N(n):""}function Ia(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(o(92));if(Y(s)){if(1<s.length)throw Error(o(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=N(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s)}function Ft(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ta=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nt(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||ta.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ga(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var l in t)s=t[l],t.hasOwnProperty(l)&&n[l]!==s&&nt(e,l,s)}else for(var c in t)t.hasOwnProperty(c)&&nt(e,c,t[c])}function Kt(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ma=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zn(e){return Xn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var S=null;function Z(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ae=null,z=null;function xe(e){var t=Qt(e);if(t&&(e=t.stateNode)){var n=e[ra]||null;e:switch(e=t.stateNode,t.type){case"input":if(me(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ie(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=s[ra]||null;if(!l)throw Error(o(90));me(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&Me(s)}break e;case"textarea":Ot(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&_t(e,!!n.multiple,t,!1)}}}var Ee=!1;function Xe(e,t,n){if(Ee)return e(t,n);Ee=!0;try{var s=e(t);return s}finally{if(Ee=!1,(Ae!==null||z!==null)&&(So(),Ae&&(t=Ae,e=z,z=Ae=null,xe(t),e)))for(t=0;t<e.length;t++)xe(e[t])}}function Fe(e,t){var n=e.stateNode;if(n===null)return null;var s=n[ra]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var Pe=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mt=!1;if(Pe)try{var pt={};Object.defineProperty(pt,"passive",{get:function(){mt=!0}}),window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch{mt=!1}var Ke=null,wt=null,Ua=null;function rs(){if(Ua)return Ua;var e,t=wt,n=t.length,s,l="value"in Ke?Ke.value:Ke.textContent,c=l.length;for(e=0;e<n&&t[e]===l[e];e++);var g=n-e;for(s=1;s<=g&&t[n-s]===l[c-s];s++);return Ua=l.slice(e,1<s?1-s:void 0)}function Ye(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vt(){return!0}function Nn(){return!1}function fa(e){function t(n,s,l,c,g){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=c,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Vt:Nn,this.isPropagationStopped=Nn,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vt)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vt)},persist:function(){},isPersistent:Vt}),t}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},As=fa(Ja),os=b({},Ja,{view:0,detail:0}),bc=fa(os),bl,Tr,ii,jl=b({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ii&&(ii&&e.type==="mousemove"?(bl=e.screenX-ii.screenX,Tr=e.screenY-ii.screenY):Tr=bl=0,ii=e),bl)},movementY:function(e){return"movementY"in e?e.movementY:Tr}}),kr=fa(jl),cf=b({},jl,{dataTransfer:0}),df=fa(cf),uf=b({},os,{relatedTarget:0}),Mr=fa(uf),jc=b({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),et=fa(jc),Ri=b({},Ja,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jt=fa(Ri),Ba=b({},Ja,{data:0}),Rr=fa(Ba),Sc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dc(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cc[e])?!!t[e]:!1}function Sl(){return Dc}var Ac=b({},os,{key:function(e){if(e.key){var t=Sc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ye(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sl,charCode:function(e){return e.type==="keypress"?Ye(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ye(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ws=fa(Ac),wc=b({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lr=fa(wc),Ec=b({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sl}),Tc=fa(Ec),Li=b({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),Or=fa(Li),kc=b({},jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mc=fa(kc),Oi=b({},Ja,{newState:0,oldState:0}),Hi=fa(Oi),Nl=[9,13,27,32],Ii=Pe&&"CompositionEvent"in window,li=null;Pe&&"documentMode"in document&&(li=document.documentMode);var Hr=Pe&&"TextEvent"in window&&!li,Ir=Pe&&(!Ii||li&&8<li&&11>=li),Ur=" ",Cl=!1;function Dl(e,t){switch(e){case"keyup":return Nl.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Al(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Es=!1;function Ui(e,t){switch(e){case"compositionend":return Al(t);case"keypress":return t.which!==32?null:(Cl=!0,Ur);case"textInput":return e=t.data,e===Ur&&Cl?null:e;default:return null}}function Rc(e,t){if(Es)return e==="compositionend"||!Ii&&Dl(e,t)?(e=rs(),Ua=wt=Ke=null,Es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ir&&t.locale!=="ko"?null:t.data;default:return null}}var Lc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lc[e.type]:t==="textarea"}function Jr(e,t,n,s){Ae?z?z.push(s):z=[s]:Ae=s,t=Eo(t,"onChange"),0<t.length&&(n=new As("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Ts=null,tn=null;function Br(e){Om(e,0)}function ri(e){var t=da(e);if(Me(t))return e}function El(e,t){if(e==="change")return t}var Ji=!1;if(Pe){var Bi;if(Pe){var Tl="oninput"in document;if(!Tl){var oi=document.createElement("div");oi.setAttribute("oninput","return;"),Tl=typeof oi.oninput=="function"}Bi=Tl}else Bi=!1;Ji=Bi&&(!document.documentMode||9<document.documentMode)}function ci(){Ts&&(Ts.detachEvent("onpropertychange",zr),tn=Ts=null)}function zr(e){if(e.propertyName==="value"&&ri(tn)){var t=[];Jr(t,tn,e,Z(e)),Xe(Br,t)}}function Oc(e,t,n){e==="focusin"?(ci(),Ts=t,tn=n,Ts.attachEvent("onpropertychange",zr)):e==="focusout"&&ci()}function qr(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ri(tn)}function Hc(e,t){if(e==="click")return ri(t)}function m(e,t){if(e==="input"||e==="change")return ri(t)}function M(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var A=typeof Object.is=="function"?Object.is:M;function ce(e,t){if(A(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!Le.call(t,l)||!A(e[l],t[l]))return!1}return!0}function Ue(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ve(e,t){var n=Ue(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ue(n)}}function Be(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Be(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ut(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=le(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=le(e.document)}return t}function $e(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ut=Pe&&"documentMode"in document&&11>=document.documentMode,xt=null,Yt=null,Cn=null,vt=!1;function Pr(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vt||xt==null||xt!==le(s)||(s=xt,"selectionStart"in s&&$e(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Cn&&ce(Cn,s)||(Cn=s,s=Eo(Yt,"onSelect"),0<s.length&&(t=new As("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=xt)))}function ks(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ms={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Ic={},ff={};Pe&&(ff=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function di(e){if(Ic[e])return Ic[e];if(!Ms[e])return e;var t=Ms[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ff)return Ic[e]=t[n];return e}var hf=di("animationend"),mf=di("animationiteration"),pf=di("animationstart"),Kg=di("transitionrun"),Wg=di("transitionstart"),e_=di("transitioncancel"),gf=di("transitionend"),_f=new Map,Uc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uc.push("scrollEnd");function Un(e,t){_f.set(e,t),ua(t,[e])}var xf=new WeakMap;function Dn(e,t){if(typeof e=="object"&&e!==null){var n=xf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Gn(t)},xf.set(e,t),t)}return{value:e,source:t,stack:Gn(t)}}var An=[],zi=0,Jc=0;function $r(){for(var e=zi,t=Jc=zi=0;t<e;){var n=An[t];An[t++]=null;var s=An[t];An[t++]=null;var l=An[t];An[t++]=null;var c=An[t];if(An[t++]=null,s!==null&&l!==null){var g=s.pending;g===null?l.next=l:(l.next=g.next,g.next=l),s.pending=l}c!==0&&yf(n,l,c)}}function Fr(e,t,n,s){An[zi++]=e,An[zi++]=t,An[zi++]=n,An[zi++]=s,Jc|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Bc(e,t,n,s){return Fr(e,t,n,s),Vr(e)}function qi(e,t){return Fr(e,null,null,t),Vr(e)}function yf(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var l=!1,c=e.return;c!==null;)c.childLanes|=n,s=c.alternate,s!==null&&(s.childLanes|=n),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(l=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,l&&t!==null&&(l=31-Mt(n),e=c.hiddenUpdates,s=e[l],s===null?e[l]=[t]:s.push(t),t.lane=n|536870912),c):null}function Vr(e){if(50<tr)throw tr=0,Vd=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Pi={};function t_(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,t,n,s){return new t_(e,t,n,s)}function zc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cs(e,t){var n=e.alternate;return n===null?(n=mn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function vf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Yr(e,t,n,s,l,c){var g=0;if(s=e,typeof e=="function")zc(e)&&(g=1);else if(typeof e=="string")g=nx(e,n,se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case je:return e=mn(31,n,t,l),e.elementType=je,e.lanes=c,e;case D:return ui(n.children,l,c,t);case T:g=8,l|=24;break;case L:return e=mn(12,n,t,l|2),e.elementType=L,e.lanes=c,e;case te:return e=mn(13,n,t,l),e.elementType=te,e.lanes=c,e;case we:return e=mn(19,n,t,l),e.elementType=we,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:case J:g=10;break e;case $:g=9;break e;case ie:g=11;break e;case ge:g=14;break e;case ue:g=16,s=null;break e}g=29,n=Error(o(130,e===null?"null":typeof e,"")),s=null}return t=mn(g,n,t,l),t.elementType=e,t.type=s,t.lanes=c,t}function ui(e,t,n,s){return e=mn(7,e,s,t),e.lanes=n,e}function qc(e,t,n){return e=mn(6,e,null,t),e.lanes=n,e}function Pc(e,t,n){return t=mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $i=[],Fi=0,Gr=null,Xr=0,wn=[],En=0,fi=null,ds=1,us="";function hi(e,t){$i[Fi++]=Xr,$i[Fi++]=Gr,Gr=e,Xr=t}function bf(e,t,n){wn[En++]=ds,wn[En++]=us,wn[En++]=fi,fi=e;var s=ds;e=us;var l=32-Mt(s)-1;s&=~(1<<l),n+=1;var c=32-Mt(t)+l;if(30<c){var g=l-l%5;c=(s&(1<<g)-1).toString(32),s>>=g,l-=g,ds=1<<32-Mt(t)+l|n<<l|s,us=c+e}else ds=1<<c|n<<l|s,us=e}function $c(e){e.return!==null&&(hi(e,1),bf(e,1,0))}function Fc(e){for(;e===Gr;)Gr=$i[--Fi],$i[Fi]=null,Xr=$i[--Fi],$i[Fi]=null;for(;e===fi;)fi=wn[--En],wn[En]=null,us=wn[--En],wn[En]=null,ds=wn[--En],wn[En]=null}var Xa=null,ha=null,Ht=!1,mi=null,Qn=!1,Vc=Error(o(519));function pi(e){var t=Error(o(418,""));throw Rl(Dn(t,e)),Vc}function jf(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[la]=e,t[ra]=s,n){case"dialog":Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":case"embed":Dt("load",t);break;case"video":case"audio":for(n=0;n<nr.length;n++)Dt(nr[n],t);break;case"source":Dt("error",t);break;case"img":case"image":case"link":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"input":Dt("invalid",t),st(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),ke(t);break;case"select":Dt("invalid",t);break;case"textarea":Dt("invalid",t),Ia(t,s.value,s.defaultValue,s.children),ke(t)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||Jm(t.textContent,n)?(s.popover!=null&&(Dt("beforetoggle",t),Dt("toggle",t)),s.onScroll!=null&&Dt("scroll",t),s.onScrollEnd!=null&&Dt("scrollend",t),s.onClick!=null&&(t.onclick=To),t=!0):t=!1,t||pi(e)}function Sf(e){for(Xa=e.return;Xa;)switch(Xa.tag){case 5:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Xa=Xa.return}}function kl(e){if(e!==Xa)return!1;if(!Ht)return Sf(e),Ht=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||ou(e.type,e.memoizedProps)),n=!n),n&&ha&&pi(e),Sf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){ha=Bn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}ha=null}}else t===27?(t=ha,Gs(e.type)?(e=fu,fu=null,ha=e):ha=t):ha=Xa?Bn(e.stateNode.nextSibling):null;return!0}function Ml(){ha=Xa=null,Ht=!1}function Nf(){var e=mi;return e!==null&&(sn===null?sn=e:sn.push.apply(sn,e),mi=null),e}function Rl(e){mi===null?mi=[e]:mi.push(e)}var Yc=F(null),gi=null,fs=null;function Rs(e,t,n){I(Yc,t._currentValue),t._currentValue=n}function hs(e){e._currentValue=Yc.current,ae(Yc)}function Gc(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Xc(e,t,n,s){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var c=l.dependencies;if(c!==null){var g=l.child;c=c.firstContext;e:for(;c!==null;){var v=c;c=l;for(var E=0;E<t.length;E++)if(v.context===t[E]){c.lanes|=n,v=c.alternate,v!==null&&(v.lanes|=n),Gc(c.return,n,e),s||(g=null);break e}c=v.next}}else if(l.tag===18){if(g=l.return,g===null)throw Error(o(341));g.lanes|=n,c=g.alternate,c!==null&&(c.lanes|=n),Gc(g,n,e),g=null}else g=l.child;if(g!==null)g.return=l;else for(g=l;g!==null;){if(g===e){g=null;break}if(l=g.sibling,l!==null){l.return=g.return,g=l;break}g=g.return}l=g}}function Ll(e,t,n,s){e=null;for(var l=t,c=!1;l!==null;){if(!c){if((l.flags&524288)!==0)c=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var g=l.alternate;if(g===null)throw Error(o(387));if(g=g.memoizedProps,g!==null){var v=l.type;A(l.pendingProps.value,g.value)||(e!==null?e.push(v):e=[v])}}else if(l===re.current){if(g=l.alternate,g===null)throw Error(o(387));g.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(cr):e=[cr])}l=l.return}e!==null&&Xc(t,e,n,s),t.flags|=262144}function Zr(e){for(e=e.firstContext;e!==null;){if(!A(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _i(e){gi=e,fs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function za(e){return Cf(gi,e)}function Qr(e,t){return gi===null&&_i(e),Cf(e,t)}function Cf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},fs===null){if(e===null)throw Error(o(308));fs=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fs=fs.next=t;return n}var a_=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},n_=i.unstable_scheduleCallback,s_=i.unstable_NormalPriority,Na={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zc(){return{controller:new a_,data:new Map,refCount:0}}function Ol(e){e.refCount--,e.refCount===0&&n_(s_,function(){e.controller.abort()})}var Hl=null,Qc=0,Vi=0,Yi=null;function i_(e,t){if(Hl===null){var n=Hl=[];Qc=0,Vi=Wd(),Yi={status:"pending",value:void 0,then:function(s){n.push(s)}}}return Qc++,t.then(Df,Df),t}function Df(){if(--Qc===0&&Hl!==null){Yi!==null&&(Yi.status="fulfilled");var e=Hl;Hl=null,Vi=0,Yi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function l_(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var l=0;l<n.length;l++)(0,n[l])(t)},function(l){for(s.status="rejected",s.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),s}var Af=w.S;w.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&i_(e,t),Af!==null&&Af(e,t)};var xi=F(null);function Kc(){var e=xi.current;return e!==null?e:Wt.pooledCache}function Kr(e,t){t===null?I(xi,xi.current):I(xi,t.pool)}function wf(){var e=Kc();return e===null?null:{parent:Na._currentValue,pool:e}}var Il=Error(o(460)),Ef=Error(o(474)),Wr=Error(o(542)),Wc={then:function(){}};function Tf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function eo(){}function kf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(eo,eo),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rf(e),e;default:if(typeof t.status=="string")t.then(eo,eo);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=s}},function(s){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rf(e),e}throw Ul=t,Il}}var Ul=null;function Mf(){if(Ul===null)throw Error(o(459));var e=Ul;return Ul=null,e}function Rf(e){if(e===Il||e===Wr)throw Error(o(483))}var Ls=!1;function ed(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function td(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Os(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hs(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Jt&2)!==0){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,t=Vr(e),yf(e,null,n),t}return Fr(e,s,t,n),Vr(e)}function Jl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,dn(e,n)}}function ad(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var g={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};c===null?l=c=g:c=c.next=g,n=n.next}while(n!==null);c===null?l=c=t:c=c.next=t}else l=c=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var nd=!1;function Bl(){if(nd){var e=Yi;if(e!==null)throw e}}function zl(e,t,n,s){nd=!1;var l=e.updateQueue;Ls=!1;var c=l.firstBaseUpdate,g=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var E=v,G=E.next;E.next=null,g===null?c=G:g.next=G,g=E;var de=e.alternate;de!==null&&(de=de.updateQueue,v=de.lastBaseUpdate,v!==g&&(v===null?de.firstBaseUpdate=G:v.next=G,de.lastBaseUpdate=E))}if(c!==null){var ye=l.baseState;g=0,de=G=E=null,v=c;do{var Q=v.lane&-536870913,W=Q!==v.lane;if(W?(Tt&Q)===Q:(s&Q)===Q){Q!==0&&Q===Vi&&(nd=!0),de!==null&&(de=de.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ct=e,lt=v;Q=t;var Pt=n;switch(lt.tag){case 1:if(ct=lt.payload,typeof ct=="function"){ye=ct.call(Pt,ye,Q);break e}ye=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=lt.payload,Q=typeof ct=="function"?ct.call(Pt,ye,Q):ct,Q==null)break e;ye=b({},ye,Q);break e;case 2:Ls=!0}}Q=v.callback,Q!==null&&(e.flags|=64,W&&(e.flags|=8192),W=l.callbacks,W===null?l.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:v.tag,payload:v.payload,callback:v.callback,next:null},de===null?(G=de=W,E=ye):de=de.next=W,g|=Q;if(v=v.next,v===null){if(v=l.shared.pending,v===null)break;W=v,v=W.next,W.next=null,l.lastBaseUpdate=W,l.shared.pending=null}}while(!0);de===null&&(E=ye),l.baseState=E,l.firstBaseUpdate=G,l.lastBaseUpdate=de,c===null&&(l.shared.lanes=0),$s|=g,e.lanes=g,e.memoizedState=ye}}function Lf(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Of(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Lf(n[e],t)}var Gi=F(null),to=F(0);function Hf(e,t){e=vs,I(to,e),I(Gi,t),vs=e|t.baseLanes}function sd(){I(to,vs),I(Gi,Gi.current)}function id(){vs=to.current,ae(Gi),ae(to)}var Is=0,St=null,zt=null,va=null,ao=!1,Xi=!1,yi=!1,no=0,ql=0,Zi=null,r_=0;function ga(){throw Error(o(321))}function ld(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!A(e[n],t[n]))return!1;return!0}function rd(e,t,n,s,l,c){return Is=c,St=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w.H=e===null||e.memoizedState===null?yh:vh,yi=!1,c=n(s,l),yi=!1,Xi&&(c=Uf(t,n,s,l)),If(e),c}function If(e){w.H=co;var t=zt!==null&&zt.next!==null;if(Is=0,va=zt=St=null,ao=!1,ql=0,Zi=null,t)throw Error(o(300));e===null||Aa||(e=e.dependencies,e!==null&&Zr(e)&&(Aa=!0))}function Uf(e,t,n,s){St=e;var l=0;do{if(Xi&&(Zi=null),ql=0,Xi=!1,25<=l)throw Error(o(301));if(l+=1,va=zt=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}w.H=m_,c=t(n,s)}while(Xi);return c}function o_(){var e=w.H,t=e.useState()[0];return t=typeof t.then=="function"?Pl(t):t,e=e.useState()[0],(zt!==null?zt.memoizedState:null)!==e&&(St.flags|=1024),t}function od(){var e=no!==0;return no=0,e}function cd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function dd(e){if(ao){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ao=!1}Is=0,va=zt=St=null,Xi=!1,ql=no=0,Zi=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return va===null?St.memoizedState=va=e:va=va.next=e,va}function ba(){if(zt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=zt.next;var t=va===null?St.memoizedState:va.next;if(t!==null)va=t,zt=e;else{if(e===null)throw St.alternate===null?Error(o(467)):Error(o(310));zt=e,e={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},va===null?St.memoizedState=va=e:va=va.next=e}return va}function ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(e){var t=ql;return ql+=1,Zi===null&&(Zi=[]),e=kf(Zi,e,t),t=St,(va===null?t.memoizedState:va.next)===null&&(t=t.alternate,w.H=t===null||t.memoizedState===null?yh:vh),e}function so(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pl(e);if(e.$$typeof===J)return za(e)}throw Error(o(438,String(e)))}function fd(e){var t=null,n=St.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=St.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=ud(),St.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=P;return t.index++,n}function ms(e,t){return typeof t=="function"?t(e):t}function io(e){var t=ba();return hd(t,zt,e)}function hd(e,t,n){var s=e.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=n;var l=e.baseQueue,c=s.pending;if(c!==null){if(l!==null){var g=l.next;l.next=c.next,c.next=g}t.baseQueue=l=c,s.pending=null}if(c=e.baseState,l===null)e.memoizedState=c;else{t=l.next;var v=g=null,E=null,G=t,de=!1;do{var ye=G.lane&-536870913;if(ye!==G.lane?(Tt&ye)===ye:(Is&ye)===ye){var Q=G.revertLane;if(Q===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ye===Vi&&(de=!0);else if((Is&Q)===Q){G=G.next,Q===Vi&&(de=!0);continue}else ye={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},E===null?(v=E=ye,g=c):E=E.next=ye,St.lanes|=Q,$s|=Q;ye=G.action,yi&&n(c,ye),c=G.hasEagerState?G.eagerState:n(c,ye)}else Q={lane:ye,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},E===null?(v=E=Q,g=c):E=E.next=Q,St.lanes|=ye,$s|=ye;G=G.next}while(G!==null&&G!==t);if(E===null?g=c:E.next=v,!A(c,e.memoizedState)&&(Aa=!0,de&&(n=Yi,n!==null)))throw n;e.memoizedState=c,e.baseState=g,e.baseQueue=E,s.lastRenderedState=c}return l===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function md(e){var t=ba(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,c=t.memoizedState;if(l!==null){n.pending=null;var g=l=l.next;do c=e(c,g.action),g=g.next;while(g!==l);A(c,t.memoizedState)||(Aa=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,s]}function Jf(e,t,n){var s=St,l=ba(),c=Ht;if(c){if(n===void 0)throw Error(o(407));n=n()}else n=t();var g=!A((zt||l).memoizedState,n);g&&(l.memoizedState=n,Aa=!0),l=l.queue;var v=qf.bind(null,s,l,e);if($l(2048,8,v,[e]),l.getSnapshot!==t||g||va!==null&&va.memoizedState.tag&1){if(s.flags|=2048,Qi(9,lo(),zf.bind(null,s,l,n,t),null),Wt===null)throw Error(o(349));c||(Is&124)!==0||Bf(s,t,n)}return n}function Bf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=St.updateQueue,t===null?(t=ud(),St.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zf(e,t,n,s){t.value=n,t.getSnapshot=s,Pf(t)&&$f(e)}function qf(e,t,n){return n(function(){Pf(t)&&$f(e)})}function Pf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!A(e,n)}catch{return!0}}function $f(e){var t=qi(e,2);t!==null&&yn(t,e,2)}function pd(e){var t=an();if(typeof e=="function"){var n=e;if(e=n(),yi){kt(!0);try{n()}finally{kt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e},t}function Ff(e,t,n,s){return e.baseState=n,hd(e,zt,typeof s=="function"?s:ms)}function c_(e,t,n,s,l){if(oo(e))throw Error(o(485));if(e=t.action,e!==null){var c={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){c.listeners.push(g)}};w.T!==null?n(!0):c.isTransition=!1,s(c),n=t.pending,n===null?(c.next=t.pending=c,Vf(t,c)):(c.next=n.next,t.pending=n.next=c)}}function Vf(e,t){var n=t.action,s=t.payload,l=e.state;if(t.isTransition){var c=w.T,g={};w.T=g;try{var v=n(l,s),E=w.S;E!==null&&E(g,v),Yf(e,t,v)}catch(G){gd(e,t,G)}finally{w.T=c}}else try{c=n(l,s),Yf(e,t,c)}catch(G){gd(e,t,G)}}function Yf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){Gf(e,t,s)},function(s){return gd(e,t,s)}):Gf(e,t,n)}function Gf(e,t,n){t.status="fulfilled",t.value=n,Xf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Vf(e,n)))}function gd(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,Xf(t),t=t.next;while(t!==s)}e.action=null}function Xf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Zf(e,t){return t}function Qf(e,t){if(Ht){var n=Wt.formState;if(n!==null){e:{var s=St;if(Ht){if(ha){t:{for(var l=ha,c=Qn;l.nodeType!==8;){if(!c){l=null;break t}if(l=Bn(l.nextSibling),l===null){l=null;break t}}c=l.data,l=c==="F!"||c==="F"?l:null}if(l){ha=Bn(l.nextSibling),s=l.data==="F!";break e}}pi(s)}s=!1}s&&(t=n[0])}}return n=an(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zf,lastRenderedState:t},n.queue=s,n=gh.bind(null,St,s),s.dispatch=n,s=pd(!1),c=bd.bind(null,St,!1,s.queue),s=an(),l={state:t,dispatch:null,action:e,pending:null},s.queue=l,n=c_.bind(null,St,l,c,n),l.dispatch=n,s.memoizedState=e,[t,n,!1]}function Kf(e){var t=ba();return Wf(t,zt,e)}function Wf(e,t,n){if(t=hd(e,t,Zf)[0],e=io(ms)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Pl(t)}catch(g){throw g===Il?Wr:g}else s=t;t=ba();var l=t.queue,c=l.dispatch;return n!==t.memoizedState&&(St.flags|=2048,Qi(9,lo(),d_.bind(null,l,n),null)),[s,c,e]}function d_(e,t){e.action=t}function eh(e){var t=ba(),n=zt;if(n!==null)return Wf(t,n,e);ba(),t=t.memoizedState,n=ba();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function Qi(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=St.updateQueue,t===null&&(t=ud(),St.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function lo(){return{destroy:void 0,resource:void 0}}function th(){return ba().memoizedState}function ro(e,t,n,s){var l=an();s=s===void 0?null:s,St.flags|=e,l.memoizedState=Qi(1|t,lo(),n,s)}function $l(e,t,n,s){var l=ba();s=s===void 0?null:s;var c=l.memoizedState.inst;zt!==null&&s!==null&&ld(s,zt.memoizedState.deps)?l.memoizedState=Qi(t,c,n,s):(St.flags|=e,l.memoizedState=Qi(1|t,c,n,s))}function ah(e,t){ro(8390656,8,e,t)}function nh(e,t){$l(2048,8,e,t)}function sh(e,t){return $l(4,2,e,t)}function ih(e,t){return $l(4,4,e,t)}function lh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rh(e,t,n){n=n!=null?n.concat([e]):null,$l(4,4,lh.bind(null,t,e),n)}function _d(){}function oh(e,t){var n=ba();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&ld(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function ch(e,t){var n=ba();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&ld(t,s[1]))return s[0];if(s=e(),yi){kt(!0);try{e()}finally{kt(!1)}}return n.memoizedState=[s,t],s}function xd(e,t,n){return n===void 0||(Is&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=fm(),St.lanes|=e,$s|=e,n)}function dh(e,t,n,s){return A(n,t)?n:Gi.current!==null?(e=xd(e,n,s),A(e,t)||(Aa=!0),e):(Is&42)===0?(Aa=!0,e.memoizedState=n):(e=fm(),St.lanes|=e,$s|=e,t)}function uh(e,t,n,s,l){var c=B.p;B.p=c!==0&&8>c?c:8;var g=w.T,v={};w.T=v,bd(e,!1,t,n);try{var E=l(),G=w.S;if(G!==null&&G(v,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var de=l_(E,s);Fl(e,t,de,xn(e))}else Fl(e,t,s,xn(e))}catch(ye){Fl(e,t,{then:function(){},status:"rejected",reason:ye},xn())}finally{B.p=c,w.T=g}}function u_(){}function yd(e,t,n,s){if(e.tag!==5)throw Error(o(476));var l=fh(e).queue;uh(e,l,t,X,n===null?u_:function(){return hh(e),n(s)})}function fh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:X},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function hh(e){var t=fh(e).next.queue;Fl(e,t,{},xn())}function vd(){return za(cr)}function mh(){return ba().memoizedState}function ph(){return ba().memoizedState}function f_(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=xn();e=Os(n);var s=Hs(t,e,n);s!==null&&(yn(s,t,n),Jl(s,t,n)),t={cache:Zc()},e.payload=t;return}t=t.return}}function h_(e,t,n){var s=xn();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},oo(e)?_h(t,n):(n=Bc(e,t,n,s),n!==null&&(yn(n,e,s),xh(n,t,s)))}function gh(e,t,n){var s=xn();Fl(e,t,n,s)}function Fl(e,t,n,s){var l={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(oo(e))_h(t,l);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var g=t.lastRenderedState,v=c(g,n);if(l.hasEagerState=!0,l.eagerState=v,A(v,g))return Fr(e,t,l,0),Wt===null&&$r(),!1}catch{}finally{}if(n=Bc(e,t,l,s),n!==null)return yn(n,e,s),xh(n,t,s),!0}return!1}function bd(e,t,n,s){if(s={lane:2,revertLane:Wd(),action:s,hasEagerState:!1,eagerState:null,next:null},oo(e)){if(t)throw Error(o(479))}else t=Bc(e,n,s,2),t!==null&&yn(t,e,2)}function oo(e){var t=e.alternate;return e===St||t!==null&&t===St}function _h(e,t){Xi=ao=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xh(e,t,n){if((n&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,dn(e,n)}}var co={readContext:za,use:so,useCallback:ga,useContext:ga,useEffect:ga,useImperativeHandle:ga,useLayoutEffect:ga,useInsertionEffect:ga,useMemo:ga,useReducer:ga,useRef:ga,useState:ga,useDebugValue:ga,useDeferredValue:ga,useTransition:ga,useSyncExternalStore:ga,useId:ga,useHostTransitionStatus:ga,useFormState:ga,useActionState:ga,useOptimistic:ga,useMemoCache:ga,useCacheRefresh:ga},yh={readContext:za,use:so,useCallback:function(e,t){return an().memoizedState=[e,t===void 0?null:t],e},useContext:za,useEffect:ah,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ro(4194308,4,lh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ro(4194308,4,e,t)},useInsertionEffect:function(e,t){ro(4,2,e,t)},useMemo:function(e,t){var n=an();t=t===void 0?null:t;var s=e();if(yi){kt(!0);try{e()}finally{kt(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=an();if(n!==void 0){var l=n(t);if(yi){kt(!0);try{n(t)}finally{kt(!1)}}}else l=t;return s.memoizedState=s.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},s.queue=e,e=e.dispatch=h_.bind(null,St,e),[s.memoizedState,e]},useRef:function(e){var t=an();return e={current:e},t.memoizedState=e},useState:function(e){e=pd(e);var t=e.queue,n=gh.bind(null,St,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:_d,useDeferredValue:function(e,t){var n=an();return xd(n,e,t)},useTransition:function(){var e=pd(!1);return e=uh.bind(null,St,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=St,l=an();if(Ht){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Wt===null)throw Error(o(349));(Tt&124)!==0||Bf(s,t,n)}l.memoizedState=n;var c={value:n,getSnapshot:t};return l.queue=c,ah(qf.bind(null,s,c,e),[e]),s.flags|=2048,Qi(9,lo(),zf.bind(null,s,c,n,t),null),n},useId:function(){var e=an(),t=Wt.identifierPrefix;if(Ht){var n=us,s=ds;n=(s&~(1<<32-Mt(s)-1)).toString(32)+n,t=""+t+"R"+n,n=no++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=r_++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:vd,useFormState:Qf,useActionState:Qf,useOptimistic:function(e){var t=an();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=bd.bind(null,St,!0,n),n.dispatch=t,[e,t]},useMemoCache:fd,useCacheRefresh:function(){return an().memoizedState=f_.bind(null,St)}},vh={readContext:za,use:so,useCallback:oh,useContext:za,useEffect:nh,useImperativeHandle:rh,useInsertionEffect:sh,useLayoutEffect:ih,useMemo:ch,useReducer:io,useRef:th,useState:function(){return io(ms)},useDebugValue:_d,useDeferredValue:function(e,t){var n=ba();return dh(n,zt.memoizedState,e,t)},useTransition:function(){var e=io(ms)[0],t=ba().memoizedState;return[typeof e=="boolean"?e:Pl(e),t]},useSyncExternalStore:Jf,useId:mh,useHostTransitionStatus:vd,useFormState:Kf,useActionState:Kf,useOptimistic:function(e,t){var n=ba();return Ff(n,zt,e,t)},useMemoCache:fd,useCacheRefresh:ph},m_={readContext:za,use:so,useCallback:oh,useContext:za,useEffect:nh,useImperativeHandle:rh,useInsertionEffect:sh,useLayoutEffect:ih,useMemo:ch,useReducer:md,useRef:th,useState:function(){return md(ms)},useDebugValue:_d,useDeferredValue:function(e,t){var n=ba();return zt===null?xd(n,e,t):dh(n,zt.memoizedState,e,t)},useTransition:function(){var e=md(ms)[0],t=ba().memoizedState;return[typeof e=="boolean"?e:Pl(e),t]},useSyncExternalStore:Jf,useId:mh,useHostTransitionStatus:vd,useFormState:eh,useActionState:eh,useOptimistic:function(e,t){var n=ba();return zt!==null?Ff(n,zt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:fd,useCacheRefresh:ph},Ki=null,Vl=0;function uo(e){var t=Vl;return Vl+=1,Ki===null&&(Ki=[]),kf(Ki,e,t)}function Yl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function fo(e,t){throw t.$$typeof===C?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function bh(e){var t=e._init;return t(e._payload)}function jh(e){function t(q,O){if(e){var V=q.deletions;V===null?(q.deletions=[O],q.flags|=16):V.push(O)}}function n(q,O){if(!e)return null;for(;O!==null;)t(q,O),O=O.sibling;return null}function s(q){for(var O=new Map;q!==null;)q.key!==null?O.set(q.key,q):O.set(q.index,q),q=q.sibling;return O}function l(q,O){return q=cs(q,O),q.index=0,q.sibling=null,q}function c(q,O,V){return q.index=V,e?(V=q.alternate,V!==null?(V=V.index,V<O?(q.flags|=67108866,O):V):(q.flags|=67108866,O)):(q.flags|=1048576,O)}function g(q){return e&&q.alternate===null&&(q.flags|=67108866),q}function v(q,O,V,pe){return O===null||O.tag!==6?(O=qc(V,q.mode,pe),O.return=q,O):(O=l(O,V),O.return=q,O)}function E(q,O,V,pe){var We=V.type;return We===D?de(q,O,V.props.children,pe,V.key):O!==null&&(O.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===ue&&bh(We)===O.type)?(O=l(O,V.props),Yl(O,V),O.return=q,O):(O=Yr(V.type,V.key,V.props,null,q.mode,pe),Yl(O,V),O.return=q,O)}function G(q,O,V,pe){return O===null||O.tag!==4||O.stateNode.containerInfo!==V.containerInfo||O.stateNode.implementation!==V.implementation?(O=Pc(V,q.mode,pe),O.return=q,O):(O=l(O,V.children||[]),O.return=q,O)}function de(q,O,V,pe,We){return O===null||O.tag!==7?(O=ui(V,q.mode,pe,We),O.return=q,O):(O=l(O,V),O.return=q,O)}function ye(q,O,V){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=qc(""+O,q.mode,V),O.return=q,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case k:return V=Yr(O.type,O.key,O.props,null,q.mode,V),Yl(V,O),V.return=q,V;case H:return O=Pc(O,q.mode,V),O.return=q,O;case ue:var pe=O._init;return O=pe(O._payload),ye(q,O,V)}if(Y(O)||Re(O))return O=ui(O,q.mode,V,null),O.return=q,O;if(typeof O.then=="function")return ye(q,uo(O),V);if(O.$$typeof===J)return ye(q,Qr(q,O),V);fo(q,O)}return null}function Q(q,O,V,pe){var We=O!==null?O.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return We!==null?null:v(q,O,""+V,pe);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case k:return V.key===We?E(q,O,V,pe):null;case H:return V.key===We?G(q,O,V,pe):null;case ue:return We=V._init,V=We(V._payload),Q(q,O,V,pe)}if(Y(V)||Re(V))return We!==null?null:de(q,O,V,pe,null);if(typeof V.then=="function")return Q(q,O,uo(V),pe);if(V.$$typeof===J)return Q(q,O,Qr(q,V),pe);fo(q,V)}return null}function W(q,O,V,pe,We){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return q=q.get(V)||null,v(O,q,""+pe,We);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case k:return q=q.get(pe.key===null?V:pe.key)||null,E(O,q,pe,We);case H:return q=q.get(pe.key===null?V:pe.key)||null,G(O,q,pe,We);case ue:var Nt=pe._init;return pe=Nt(pe._payload),W(q,O,V,pe,We)}if(Y(pe)||Re(pe))return q=q.get(V)||null,de(O,q,pe,We,null);if(typeof pe.then=="function")return W(q,O,V,uo(pe),We);if(pe.$$typeof===J)return W(q,O,V,Qr(O,pe),We);fo(O,pe)}return null}function ct(q,O,V,pe){for(var We=null,Nt=null,at=O,rt=O=0,Ea=null;at!==null&&rt<V.length;rt++){at.index>rt?(Ea=at,at=null):Ea=at.sibling;var Lt=Q(q,at,V[rt],pe);if(Lt===null){at===null&&(at=Ea);break}e&&at&&Lt.alternate===null&&t(q,at),O=c(Lt,O,rt),Nt===null?We=Lt:Nt.sibling=Lt,Nt=Lt,at=Ea}if(rt===V.length)return n(q,at),Ht&&hi(q,rt),We;if(at===null){for(;rt<V.length;rt++)at=ye(q,V[rt],pe),at!==null&&(O=c(at,O,rt),Nt===null?We=at:Nt.sibling=at,Nt=at);return Ht&&hi(q,rt),We}for(at=s(at);rt<V.length;rt++)Ea=W(at,q,rt,V[rt],pe),Ea!==null&&(e&&Ea.alternate!==null&&at.delete(Ea.key===null?rt:Ea.key),O=c(Ea,O,rt),Nt===null?We=Ea:Nt.sibling=Ea,Nt=Ea);return e&&at.forEach(function(Ws){return t(q,Ws)}),Ht&&hi(q,rt),We}function lt(q,O,V,pe){if(V==null)throw Error(o(151));for(var We=null,Nt=null,at=O,rt=O=0,Ea=null,Lt=V.next();at!==null&&!Lt.done;rt++,Lt=V.next()){at.index>rt?(Ea=at,at=null):Ea=at.sibling;var Ws=Q(q,at,Lt.value,pe);if(Ws===null){at===null&&(at=Ea);break}e&&at&&Ws.alternate===null&&t(q,at),O=c(Ws,O,rt),Nt===null?We=Ws:Nt.sibling=Ws,Nt=Ws,at=Ea}if(Lt.done)return n(q,at),Ht&&hi(q,rt),We;if(at===null){for(;!Lt.done;rt++,Lt=V.next())Lt=ye(q,Lt.value,pe),Lt!==null&&(O=c(Lt,O,rt),Nt===null?We=Lt:Nt.sibling=Lt,Nt=Lt);return Ht&&hi(q,rt),We}for(at=s(at);!Lt.done;rt++,Lt=V.next())Lt=W(at,q,rt,Lt.value,pe),Lt!==null&&(e&&Lt.alternate!==null&&at.delete(Lt.key===null?rt:Lt.key),O=c(Lt,O,rt),Nt===null?We=Lt:Nt.sibling=Lt,Nt=Lt);return e&&at.forEach(function(px){return t(q,px)}),Ht&&hi(q,rt),We}function Pt(q,O,V,pe){if(typeof V=="object"&&V!==null&&V.type===D&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case k:e:{for(var We=V.key;O!==null;){if(O.key===We){if(We=V.type,We===D){if(O.tag===7){n(q,O.sibling),pe=l(O,V.props.children),pe.return=q,q=pe;break e}}else if(O.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===ue&&bh(We)===O.type){n(q,O.sibling),pe=l(O,V.props),Yl(pe,V),pe.return=q,q=pe;break e}n(q,O);break}else t(q,O);O=O.sibling}V.type===D?(pe=ui(V.props.children,q.mode,pe,V.key),pe.return=q,q=pe):(pe=Yr(V.type,V.key,V.props,null,q.mode,pe),Yl(pe,V),pe.return=q,q=pe)}return g(q);case H:e:{for(We=V.key;O!==null;){if(O.key===We)if(O.tag===4&&O.stateNode.containerInfo===V.containerInfo&&O.stateNode.implementation===V.implementation){n(q,O.sibling),pe=l(O,V.children||[]),pe.return=q,q=pe;break e}else{n(q,O);break}else t(q,O);O=O.sibling}pe=Pc(V,q.mode,pe),pe.return=q,q=pe}return g(q);case ue:return We=V._init,V=We(V._payload),Pt(q,O,V,pe)}if(Y(V))return ct(q,O,V,pe);if(Re(V)){if(We=Re(V),typeof We!="function")throw Error(o(150));return V=We.call(V),lt(q,O,V,pe)}if(typeof V.then=="function")return Pt(q,O,uo(V),pe);if(V.$$typeof===J)return Pt(q,O,Qr(q,V),pe);fo(q,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,O!==null&&O.tag===6?(n(q,O.sibling),pe=l(O,V),pe.return=q,q=pe):(n(q,O),pe=qc(V,q.mode,pe),pe.return=q,q=pe),g(q)):n(q,O)}return function(q,O,V,pe){try{Vl=0;var We=Pt(q,O,V,pe);return Ki=null,We}catch(at){if(at===Il||at===Wr)throw at;var Nt=mn(29,at,null,q.mode);return Nt.lanes=pe,Nt.return=q,Nt}finally{}}}var Wi=jh(!0),Sh=jh(!1),Tn=F(null),Kn=null;function Us(e){var t=e.alternate;I(Ca,Ca.current&1),I(Tn,e),Kn===null&&(t===null||Gi.current!==null||t.memoizedState!==null)&&(Kn=e)}function Nh(e){if(e.tag===22){if(I(Ca,Ca.current),I(Tn,e),Kn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Kn=e)}}else Js()}function Js(){I(Ca,Ca.current),I(Tn,Tn.current)}function ps(e){ae(Tn),Kn===e&&(Kn=null),ae(Ca)}var Ca=F(0);function ho(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||uu(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function jd(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:b({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Sd={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=xn(),l=Os(s);l.payload=t,n!=null&&(l.callback=n),t=Hs(e,l,s),t!==null&&(yn(t,e,s),Jl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=xn(),l=Os(s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Hs(e,l,s),t!==null&&(yn(t,e,s),Jl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xn(),s=Os(n);s.tag=2,t!=null&&(s.callback=t),t=Hs(e,s,n),t!==null&&(yn(t,e,n),Jl(t,e,n))}};function Ch(e,t,n,s,l,c,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,g):t.prototype&&t.prototype.isPureReactComponent?!ce(n,s)||!ce(l,c):!0}function Dh(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Sd.enqueueReplaceState(t,t.state,null)}function vi(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=b({},n));for(var l in e)n[l]===void 0&&(n[l]=e[l])}return n}var mo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ah(e){mo(e)}function wh(e){console.error(e)}function Eh(e){mo(e)}function po(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Th(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Nd(e,t,n){return n=Os(n),n.tag=3,n.payload={element:null},n.callback=function(){po(e,t)},n}function kh(e){return e=Os(e),e.tag=3,e}function Mh(e,t,n,s){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var c=s.value;e.payload=function(){return l(c)},e.callback=function(){Th(t,n,s)}}var g=n.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Th(t,n,s),typeof l!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})})}function p_(e,t,n,s,l){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&Ll(t,n,l,!0),n=Tn.current,n!==null){switch(n.tag){case 13:return Kn===null?Gd():n.alternate===null&&ma===0&&(ma=3),n.flags&=-257,n.flags|=65536,n.lanes=l,s===Wc?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),Zd(e,s,l)),!1;case 22:return n.flags|=65536,s===Wc?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),Zd(e,s,l)),!1}throw Error(o(435,n.tag))}return Zd(e,s,l),Gd(),!1}if(Ht)return t=Tn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,s!==Vc&&(e=Error(o(422),{cause:s}),Rl(Dn(e,n)))):(s!==Vc&&(t=Error(o(423),{cause:s}),Rl(Dn(t,n))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,s=Dn(s,n),l=Nd(e.stateNode,s,l),ad(e,l),ma!==4&&(ma=2)),!1;var c=Error(o(520),{cause:s});if(c=Dn(c,n),er===null?er=[c]:er.push(c),ma!==4&&(ma=2),t===null)return!0;s=Dn(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,e=Nd(n.stateNode,s,e),ad(n,e),!1;case 1:if(t=n.type,c=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Fs===null||!Fs.has(c))))return n.flags|=65536,l&=-l,n.lanes|=l,l=kh(l),Mh(l,e,n,s),ad(n,l),!1}n=n.return}while(n!==null);return!1}var Rh=Error(o(461)),Aa=!1;function Ra(e,t,n,s){t.child=e===null?Sh(t,null,n,s):Wi(t,e.child,n,s)}function Lh(e,t,n,s,l){n=n.render;var c=t.ref;if("ref"in s){var g={};for(var v in s)v!=="ref"&&(g[v]=s[v])}else g=s;return _i(t),s=rd(e,t,n,g,c,l),v=od(),e!==null&&!Aa?(cd(e,t,l),gs(e,t,l)):(Ht&&v&&$c(t),t.flags|=1,Ra(e,t,s,l),t.child)}function Oh(e,t,n,s,l){if(e===null){var c=n.type;return typeof c=="function"&&!zc(c)&&c.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=c,Hh(e,t,c,s,l)):(e=Yr(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Md(e,l)){var g=c.memoizedProps;if(n=n.compare,n=n!==null?n:ce,n(g,s)&&e.ref===t.ref)return gs(e,t,l)}return t.flags|=1,e=cs(c,s),e.ref=t.ref,e.return=t,t.child=e}function Hh(e,t,n,s,l){if(e!==null){var c=e.memoizedProps;if(ce(c,s)&&e.ref===t.ref)if(Aa=!1,t.pendingProps=s=c,Md(e,l))(e.flags&131072)!==0&&(Aa=!0);else return t.lanes=e.lanes,gs(e,t,l)}return Cd(e,t,n,s,l)}function Ih(e,t,n){var s=t.pendingProps,l=s.children,c=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((t.flags&128)!==0){if(s=c!==null?c.baseLanes|n:n,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;t.childLanes=c&~s}else t.childLanes=0,t.child=null;return Uh(e,t,s,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Kr(t,c!==null?c.cachePool:null),c!==null?Hf(t,c):sd(),Nh(t);else return t.lanes=t.childLanes=536870912,Uh(e,t,c!==null?c.baseLanes|n:n,n)}else c!==null?(Kr(t,c.cachePool),Hf(t,c),Js(),t.memoizedState=null):(e!==null&&Kr(t,null),sd(),Js());return Ra(e,t,l,n),t.child}function Uh(e,t,n,s){var l=Kc();return l=l===null?null:{parent:Na._currentValue,pool:l},t.memoizedState={baseLanes:n,cachePool:l},e!==null&&Kr(t,null),sd(),Nh(t),e!==null&&Ll(e,t,s,!0),null}function go(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Cd(e,t,n,s,l){return _i(t),n=rd(e,t,n,s,void 0,l),s=od(),e!==null&&!Aa?(cd(e,t,l),gs(e,t,l)):(Ht&&s&&$c(t),t.flags|=1,Ra(e,t,n,l),t.child)}function Jh(e,t,n,s,l,c){return _i(t),t.updateQueue=null,n=Uf(t,s,n,l),If(e),s=od(),e!==null&&!Aa?(cd(e,t,c),gs(e,t,c)):(Ht&&s&&$c(t),t.flags|=1,Ra(e,t,n,c),t.child)}function Bh(e,t,n,s,l){if(_i(t),t.stateNode===null){var c=Pi,g=n.contextType;typeof g=="object"&&g!==null&&(c=za(g)),c=new n(s,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Sd,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=s,c.state=t.memoizedState,c.refs={},ed(t),g=n.contextType,c.context=typeof g=="object"&&g!==null?za(g):Pi,c.state=t.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(jd(t,n,g,s),c.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(g=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),g!==c.state&&Sd.enqueueReplaceState(c,c.state,null),zl(t,s,c,l),Bl(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){c=t.stateNode;var v=t.memoizedProps,E=vi(n,v);c.props=E;var G=c.context,de=n.contextType;g=Pi,typeof de=="object"&&de!==null&&(g=za(de));var ye=n.getDerivedStateFromProps;de=typeof ye=="function"||typeof c.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,de||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(v||G!==g)&&Dh(t,c,s,g),Ls=!1;var Q=t.memoizedState;c.state=Q,zl(t,s,c,l),Bl(),G=t.memoizedState,v||Q!==G||Ls?(typeof ye=="function"&&(jd(t,n,ye,s),G=t.memoizedState),(E=Ls||Ch(t,n,E,s,Q,G,g))?(de||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=G),c.props=s,c.state=G,c.context=g,s=E):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,td(e,t),g=t.memoizedProps,de=vi(n,g),c.props=de,ye=t.pendingProps,Q=c.context,G=n.contextType,E=Pi,typeof G=="object"&&G!==null&&(E=za(G)),v=n.getDerivedStateFromProps,(G=typeof v=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g!==ye||Q!==E)&&Dh(t,c,s,E),Ls=!1,Q=t.memoizedState,c.state=Q,zl(t,s,c,l),Bl();var W=t.memoizedState;g!==ye||Q!==W||Ls||e!==null&&e.dependencies!==null&&Zr(e.dependencies)?(typeof v=="function"&&(jd(t,n,v,s),W=t.memoizedState),(de=Ls||Ch(t,n,de,s,Q,W,E)||e!==null&&e.dependencies!==null&&Zr(e.dependencies))?(G||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,W,E),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,W,E)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||g===e.memoizedProps&&Q===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&Q===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=W),c.props=s,c.state=W,c.context=E,s=de):(typeof c.componentDidUpdate!="function"||g===e.memoizedProps&&Q===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&Q===e.memoizedState||(t.flags|=1024),s=!1)}return c=s,go(e,t),s=(t.flags&128)!==0,c||s?(c=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&s?(t.child=Wi(t,e.child,null,l),t.child=Wi(t,null,n,l)):Ra(e,t,n,l),t.memoizedState=c.state,e=t.child):e=gs(e,t,l),e}function zh(e,t,n,s){return Ml(),t.flags|=256,Ra(e,t,n,s),t.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ad(e){return{baseLanes:e,cachePool:wf()}}function wd(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=kn),e}function qh(e,t,n){var s=t.pendingProps,l=!1,c=(t.flags&128)!==0,g;if((g=c)||(g=e!==null&&e.memoizedState===null?!1:(Ca.current&2)!==0),g&&(l=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ht){if(l?Us(t):Js(),Ht){var v=ha,E;if(E=v){e:{for(E=v,v=Qn;E.nodeType!==8;){if(!v){v=null;break e}if(E=Bn(E.nextSibling),E===null){v=null;break e}}v=E}v!==null?(t.memoizedState={dehydrated:v,treeContext:fi!==null?{id:ds,overflow:us}:null,retryLane:536870912,hydrationErrors:null},E=mn(18,null,null,0),E.stateNode=v,E.return=t,t.child=E,Xa=t,ha=null,E=!0):E=!1}E||pi(t)}if(v=t.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return uu(v)?t.lanes=32:t.lanes=536870912,null;ps(t)}return v=s.children,s=s.fallback,l?(Js(),l=t.mode,v=_o({mode:"hidden",children:v},l),s=ui(s,l,n,null),v.return=t,s.return=t,v.sibling=s,t.child=v,l=t.child,l.memoizedState=Ad(n),l.childLanes=wd(e,g,n),t.memoizedState=Dd,s):(Us(t),Ed(t,v))}if(E=e.memoizedState,E!==null&&(v=E.dehydrated,v!==null)){if(c)t.flags&256?(Us(t),t.flags&=-257,t=Td(e,t,n)):t.memoizedState!==null?(Js(),t.child=e.child,t.flags|=128,t=null):(Js(),l=s.fallback,v=t.mode,s=_o({mode:"visible",children:s.children},v),l=ui(l,v,n,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,Wi(t,e.child,null,n),s=t.child,s.memoizedState=Ad(n),s.childLanes=wd(e,g,n),t.memoizedState=Dd,t=l);else if(Us(t),uu(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var G=g.dgst;g=G,s=Error(o(419)),s.stack="",s.digest=g,Rl({value:s,source:null,stack:null}),t=Td(e,t,n)}else if(Aa||Ll(e,t,n,!1),g=(n&e.childLanes)!==0,Aa||g){if(g=Wt,g!==null&&(s=n&-n,s=(s&42)!==0?1:Qa(s),s=(s&(g.suspendedLanes|n))!==0?0:s,s!==0&&s!==E.retryLane))throw E.retryLane=s,qi(e,s),yn(g,e,s),Rh;v.data==="$?"||Gd(),t=Td(e,t,n)}else v.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=E.treeContext,ha=Bn(v.nextSibling),Xa=t,Ht=!0,mi=null,Qn=!1,e!==null&&(wn[En++]=ds,wn[En++]=us,wn[En++]=fi,ds=e.id,us=e.overflow,fi=t),t=Ed(t,s.children),t.flags|=4096);return t}return l?(Js(),l=s.fallback,v=t.mode,E=e.child,G=E.sibling,s=cs(E,{mode:"hidden",children:s.children}),s.subtreeFlags=E.subtreeFlags&65011712,G!==null?l=cs(G,l):(l=ui(l,v,n,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,v=e.child.memoizedState,v===null?v=Ad(n):(E=v.cachePool,E!==null?(G=Na._currentValue,E=E.parent!==G?{parent:G,pool:G}:E):E=wf(),v={baseLanes:v.baseLanes|n,cachePool:E}),l.memoizedState=v,l.childLanes=wd(e,g,n),t.memoizedState=Dd,s):(Us(t),n=e.child,e=n.sibling,n=cs(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=n,t.memoizedState=null,n)}function Ed(e,t){return t=_o({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function _o(e,t){return e=mn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Td(e,t,n){return Wi(t,e.child,null,n),e=Ed(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ph(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Gc(e.return,t,n)}function kd(e,t,n,s,l){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=s,c.tail=n,c.tailMode=l)}function $h(e,t,n){var s=t.pendingProps,l=s.revealOrder,c=s.tail;if(Ra(e,t,s.children,n),s=Ca.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ph(e,n,t);else if(e.tag===19)Ph(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(I(Ca,s),l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&ho(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),kd(t,!1,l,n,c);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&ho(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}kd(t,!0,n,null,c);break;case"together":kd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$s|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ll(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=cs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=cs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Md(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Zr(e)))}function g_(e,t,n){switch(t.tag){case 3:be(t,t.stateNode.containerInfo),Rs(t,Na,e.memoizedState.cache),Ml();break;case 27:case 5:dt(t);break;case 4:be(t,t.stateNode.containerInfo);break;case 10:Rs(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Us(t),t.flags|=128,null):(n&t.child.childLanes)!==0?qh(e,t,n):(Us(t),e=gs(e,t,n),e!==null?e.sibling:null);Us(t);break;case 19:var l=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(Ll(e,t,n,!1),s=(n&t.childLanes)!==0),l){if(s)return $h(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),I(Ca,Ca.current),s)break;return null;case 22:case 23:return t.lanes=0,Ih(e,t,n);case 24:Rs(t,Na,e.memoizedState.cache)}return gs(e,t,n)}function Fh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Aa=!0;else{if(!Md(e,n)&&(t.flags&128)===0)return Aa=!1,g_(e,t,n);Aa=(e.flags&131072)!==0}else Aa=!1,Ht&&(t.flags&1048576)!==0&&bf(t,Xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,l=s._init;if(s=l(s._payload),t.type=s,typeof s=="function")zc(s)?(e=vi(s,e),t.tag=1,t=Bh(null,t,s,e,n)):(t.tag=0,t=Cd(null,t,s,e,n));else{if(s!=null){if(l=s.$$typeof,l===ie){t.tag=11,t=Lh(null,t,s,e,n);break e}else if(l===ge){t.tag=14,t=Oh(null,t,s,e,n);break e}}throw t=ve(s)||s,Error(o(306,t,""))}}return t;case 0:return Cd(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,l=vi(s,t.pendingProps),Bh(e,t,s,l,n);case 3:e:{if(be(t,t.stateNode.containerInfo),e===null)throw Error(o(387));s=t.pendingProps;var c=t.memoizedState;l=c.element,td(e,t),zl(t,s,null,n);var g=t.memoizedState;if(s=g.cache,Rs(t,Na,s),s!==c.cache&&Xc(t,[Na],n,!0),Bl(),s=g.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=zh(e,t,s,n);break e}else if(s!==l){l=Dn(Error(o(424)),t),Rl(l),t=zh(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ha=Bn(e.firstChild),Xa=t,Ht=!0,mi=null,Qn=!0,n=Sh(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ml(),s===l){t=gs(e,t,n);break e}Ra(e,t,s,n)}t=t.child}return t;case 26:return go(e,t),e===null?(n=Xm(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ht||(n=t.type,e=t.pendingProps,s=ko(ee.current).createElement(n),s[la]=t,s[ra]=e,Oa(s,n,e),It(s),t.stateNode=s):t.memoizedState=Xm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return dt(t),e===null&&Ht&&(s=t.stateNode=Vm(t.type,t.pendingProps,ee.current),Xa=t,Qn=!0,l=ha,Gs(t.type)?(fu=l,ha=Bn(s.firstChild)):ha=l),Ra(e,t,t.pendingProps.children,n),go(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ht&&((l=s=ha)&&(s=$_(s,t.type,t.pendingProps,Qn),s!==null?(t.stateNode=s,Xa=t,ha=Bn(s.firstChild),Qn=!1,l=!0):l=!1),l||pi(t)),dt(t),l=t.type,c=t.pendingProps,g=e!==null?e.memoizedProps:null,s=c.children,ou(l,c)?s=null:g!==null&&ou(l,g)&&(t.flags|=32),t.memoizedState!==null&&(l=rd(e,t,o_,null,null,n),cr._currentValue=l),go(e,t),Ra(e,t,s,n),t.child;case 6:return e===null&&Ht&&((e=n=ha)&&(n=F_(n,t.pendingProps,Qn),n!==null?(t.stateNode=n,Xa=t,ha=null,e=!0):e=!1),e||pi(t)),null;case 13:return qh(e,t,n);case 4:return be(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Wi(t,null,s,n):Ra(e,t,s,n),t.child;case 11:return Lh(e,t,t.type,t.pendingProps,n);case 7:return Ra(e,t,t.pendingProps,n),t.child;case 8:return Ra(e,t,t.pendingProps.children,n),t.child;case 12:return Ra(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,Rs(t,t.type,s.value),Ra(e,t,s.children,n),t.child;case 9:return l=t.type._context,s=t.pendingProps.children,_i(t),l=za(l),s=s(l),t.flags|=1,Ra(e,t,s,n),t.child;case 14:return Oh(e,t,t.type,t.pendingProps,n);case 15:return Hh(e,t,t.type,t.pendingProps,n);case 19:return $h(e,t,n);case 31:return s=t.pendingProps,n=t.mode,s={mode:s.mode,children:s.children},e===null?(n=_o(s,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=cs(e.child,s),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ih(e,t,n);case 24:return _i(t),s=za(Na),e===null?(l=Kc(),l===null&&(l=Wt,c=Zc(),l.pooledCache=c,c.refCount++,c!==null&&(l.pooledCacheLanes|=n),l=c),t.memoizedState={parent:s,cache:l},ed(t),Rs(t,Na,l)):((e.lanes&n)!==0&&(td(e,t),zl(t,null,null,n),Bl()),l=e.memoizedState,c=t.memoizedState,l.parent!==s?(l={parent:s,cache:s},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),Rs(t,Na,s)):(s=c.cache,Rs(t,Na,s),s!==l.cache&&Xc(t,[Na],n,!0))),Ra(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function _s(e){e.flags|=4}function Vh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ep(t)){if(t=Tn.current,t!==null&&((Tt&4194048)===Tt?Kn!==null:(Tt&62914560)!==Tt&&(Tt&536870912)===0||t!==Kn))throw Ul=Wc,Ef;e.flags|=8192}}function xo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?cn():536870912,e.lanes|=t,nl|=t)}function Gl(e,t){if(!Ht)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function oa(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&65011712,s|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function __(e,t,n){var s=t.pendingProps;switch(Fc(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oa(t),null;case 1:return oa(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),hs(Na),ze(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(kl(t)?_s(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Nf())),oa(t),null;case 26:return n=t.memoizedState,e===null?(_s(t),n!==null?(oa(t),Vh(t,n)):(oa(t),t.flags&=-16777217)):n?n!==e.memoizedState?(_s(t),oa(t),Vh(t,n)):(oa(t),t.flags&=-16777217):(e.memoizedProps!==s&&_s(t),oa(t),t.flags&=-16777217),null;case 27:tt(t),n=ee.current;var l=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&_s(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return oa(t),null}e=se.current,kl(t)?jf(t):(e=Vm(l,s,n),t.stateNode=e,_s(t))}return oa(t),null;case 5:if(tt(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&_s(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return oa(t),null}if(e=se.current,kl(t))jf(t);else{switch(l=ko(ee.current),e){case 1:e=l.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=l.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?l.createElement("select",{is:s.is}):l.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?l.createElement(n,{is:s.is}):l.createElement(n)}}e[la]=t,e[ra]=s;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=e;e:switch(Oa(e,n,s),n){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&_s(t)}}return oa(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&_s(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(e=ee.current,kl(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,l=Xa,l!==null)switch(l.tag){case 27:case 5:s=l.memoizedProps}e[la]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||Jm(e.nodeValue,n)),e||pi(t)}else e=ko(e).createTextNode(s),e[la]=t,t.stateNode=e}return oa(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=kl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(o(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));l[la]=t}else Ml(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;oa(t),l=!1}else l=Nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(ps(t),t):(ps(t),null)}if(ps(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=s!==null,e=e!==null&&e.memoizedState!==null,n){s=t.child,l=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(l=s.alternate.memoizedState.cachePool.pool);var c=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),xo(t,t.updateQueue),oa(t),null;case 4:return ze(),e===null&&nu(t.stateNode.containerInfo),oa(t),null;case 10:return hs(t.type),oa(t),null;case 19:if(ae(Ca),l=t.memoizedState,l===null)return oa(t),null;if(s=(t.flags&128)!==0,c=l.rendering,c===null)if(s)Gl(l,!1);else{if(ma!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=ho(e),c!==null){for(t.flags|=128,Gl(l,!1),e=c.updateQueue,t.updateQueue=e,xo(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)vf(n,e),n=n.sibling;return I(Ca,Ca.current&1|2),t.child}e=e.sibling}l.tail!==null&&Et()>bo&&(t.flags|=128,s=!0,Gl(l,!1),t.lanes=4194304)}else{if(!s)if(e=ho(c),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,xo(t,e),Gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!Ht)return oa(t),null}else 2*Et()-l.renderingStartTime>bo&&n!==536870912&&(t.flags|=128,s=!0,Gl(l,!1),t.lanes=4194304);l.isBackwards?(c.sibling=t.child,t.child=c):(e=l.last,e!==null?e.sibling=c:t.child=c,l.last=c)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Et(),t.sibling=null,e=Ca.current,I(Ca,s?e&1|2:e&1),t):(oa(t),null);case 22:case 23:return ps(t),id(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(n&536870912)!==0&&(t.flags&128)===0&&(oa(t),t.subtreeFlags&6&&(t.flags|=8192)):oa(t),n=t.updateQueue,n!==null&&xo(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&ae(xi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),hs(Na),oa(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function x_(e,t){switch(Fc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hs(Na),ze(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return tt(t),null;case 13:if(ps(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Ml()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(Ca),null;case 4:return ze(),null;case 10:return hs(t.type),null;case 22:case 23:return ps(t),id(),e!==null&&ae(xi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return hs(Na),null;case 25:return null;default:return null}}function Yh(e,t){switch(Fc(t),t.tag){case 3:hs(Na),ze();break;case 26:case 27:case 5:tt(t);break;case 4:ze();break;case 13:ps(t);break;case 19:ae(Ca);break;case 10:hs(t.type);break;case 22:case 23:ps(t),id(),e!==null&&ae(xi);break;case 24:hs(Na)}}function Xl(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var l=s.next;n=l;do{if((n.tag&e)===e){s=void 0;var c=n.create,g=n.inst;s=c(),g.destroy=s}n=n.next}while(n!==l)}}catch(v){Gt(t,t.return,v)}}function Bs(e,t,n){try{var s=t.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&e)===e){var g=s.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,l=t;var E=n,G=v;try{G()}catch(de){Gt(l,E,de)}}}s=s.next}while(s!==c)}}catch(de){Gt(t,t.return,de)}}function Gh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Of(t,n)}catch(s){Gt(e,e.return,s)}}}function Xh(e,t,n){n.props=vi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){Gt(e,t,s)}}function Zl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(l){Gt(e,t,l)}}function Wn(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(l){Gt(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){Gt(e,t,l)}else n.current=null}function Zh(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(l){Gt(e,e.return,l)}}function Rd(e,t,n){try{var s=e.stateNode;J_(s,e.type,n,t),s[ra]=t}catch(l){Gt(e,e.return,l)}}function Qh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gs(e.type)||e.tag===4}function Ld(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Od(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=To));else if(s!==4&&(s===27&&Gs(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Od(e,t,n),e=e.sibling;e!==null;)Od(e,t,n),e=e.sibling}function yo(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&Gs(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(yo(e,t,n),e=e.sibling;e!==null;)yo(e,t,n),e=e.sibling}function Kh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);Oa(t,s,n),t[la]=e,t[ra]=n}catch(c){Gt(e,e.return,c)}}var xs=!1,_a=!1,Hd=!1,Wh=typeof WeakSet=="function"?WeakSet:Set,wa=null;function y_(e,t){if(e=e.containerInfo,lu=Io,e=ut(e),$e(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var g=0,v=-1,E=-1,G=0,de=0,ye=e,Q=null;t:for(;;){for(var W;ye!==n||l!==0&&ye.nodeType!==3||(v=g+l),ye!==c||s!==0&&ye.nodeType!==3||(E=g+s),ye.nodeType===3&&(g+=ye.nodeValue.length),(W=ye.firstChild)!==null;)Q=ye,ye=W;for(;;){if(ye===e)break t;if(Q===n&&++G===l&&(v=g),Q===c&&++de===s&&(E=g),(W=ye.nextSibling)!==null)break;ye=Q,Q=ye.parentNode}ye=W}n=v===-1||E===-1?null:{start:v,end:E}}else n=null}n=n||{start:0,end:0}}else n=null;for(ru={focusedElem:e,selectionRange:n},Io=!1,wa=t;wa!==null;)if(t=wa,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,wa=e;else for(;wa!==null;){switch(t=wa,c=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,n=t,l=c.memoizedProps,c=c.memoizedState,s=n.stateNode;try{var ct=vi(n.type,l,n.elementType===n.type);e=s.getSnapshotBeforeUpdate(ct,c),s.__reactInternalSnapshotBeforeUpdate=e}catch(lt){Gt(n,n.return,lt)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)du(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":du(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,wa=e;break}wa=t.return}}function em(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:zs(e,n),s&4&&Xl(5,n);break;case 1:if(zs(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(g){Gt(n,n.return,g)}else{var l=vi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Gt(n,n.return,g)}}s&64&&Gh(n),s&512&&Zl(n,n.return);break;case 3:if(zs(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Of(e,t)}catch(g){Gt(n,n.return,g)}}break;case 27:t===null&&s&4&&Kh(n);case 26:case 5:zs(e,n),t===null&&s&4&&Zh(n),s&512&&Zl(n,n.return);break;case 12:zs(e,n);break;case 13:zs(e,n),s&4&&nm(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=w_.bind(null,n),V_(e,n))));break;case 22:if(s=n.memoizedState!==null||xs,!s){t=t!==null&&t.memoizedState!==null||_a,l=xs;var c=_a;xs=s,(_a=t)&&!c?qs(e,n,(n.subtreeFlags&8772)!==0):zs(e,n),xs=l,_a=c}break;case 30:break;default:zs(e,n)}}function tm(e){var t=e.alternate;t!==null&&(e.alternate=null,tm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ht(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var na=null,nn=!1;function ys(e,t,n){for(n=n.child;n!==null;)am(e,t,n),n=n.sibling}function am(e,t,n){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ot,n)}catch{}switch(n.tag){case 26:_a||Wn(n,t),ys(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:_a||Wn(n,t);var s=na,l=nn;Gs(n.type)&&(na=n.stateNode,nn=!1),ys(e,t,n),ir(n.stateNode),na=s,nn=l;break;case 5:_a||Wn(n,t);case 6:if(s=na,l=nn,na=null,ys(e,t,n),na=s,nn=l,na!==null)if(nn)try{(na.nodeType===9?na.body:na.nodeName==="HTML"?na.ownerDocument.body:na).removeChild(n.stateNode)}catch(c){Gt(n,t,c)}else try{na.removeChild(n.stateNode)}catch(c){Gt(n,t,c)}break;case 18:na!==null&&(nn?(e=na,$m(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),hr(e)):$m(na,n.stateNode));break;case 4:s=na,l=nn,na=n.stateNode.containerInfo,nn=!0,ys(e,t,n),na=s,nn=l;break;case 0:case 11:case 14:case 15:_a||Bs(2,n,t),_a||Bs(4,n,t),ys(e,t,n);break;case 1:_a||(Wn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&Xh(n,t,s)),ys(e,t,n);break;case 21:ys(e,t,n);break;case 22:_a=(s=_a)||n.memoizedState!==null,ys(e,t,n),_a=s;break;default:ys(e,t,n)}}function nm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hr(e)}catch(n){Gt(t,t.return,n)}}function v_(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Wh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Wh),t;default:throw Error(o(435,e.tag))}}function Id(e,t){var n=v_(e);t.forEach(function(s){var l=E_.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}function pn(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s],c=e,g=t,v=g;e:for(;v!==null;){switch(v.tag){case 27:if(Gs(v.type)){na=v.stateNode,nn=!1;break e}break;case 5:na=v.stateNode,nn=!1;break e;case 3:case 4:na=v.stateNode.containerInfo,nn=!0;break e}v=v.return}if(na===null)throw Error(o(160));am(c,g,l),na=null,nn=!1,c=l.alternate,c!==null&&(c.return=null),l.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)sm(t,e),t=t.sibling}var Jn=null;function sm(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pn(t,e),gn(e),s&4&&(Bs(3,e,e.return),Xl(3,e),Bs(5,e,e.return));break;case 1:pn(t,e),gn(e),s&512&&(_a||n===null||Wn(n,n.return)),s&64&&xs&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var l=Jn;if(pn(t,e),gn(e),s&512&&(_a||n===null||Wn(n,n.return)),s&4){var c=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(s){case"title":c=l.getElementsByTagName("title")[0],(!c||c[fn]||c[la]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=l.createElement(s),l.head.insertBefore(c,l.querySelector("head > title"))),Oa(c,s,n),c[la]=e,It(c),s=c;break e;case"link":var g=Km("link","href",l).get(s+(n.href||""));if(g){for(var v=0;v<g.length;v++)if(c=g[v],c.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&c.getAttribute("rel")===(n.rel==null?null:n.rel)&&c.getAttribute("title")===(n.title==null?null:n.title)&&c.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){g.splice(v,1);break t}}c=l.createElement(s),Oa(c,s,n),l.head.appendChild(c);break;case"meta":if(g=Km("meta","content",l).get(s+(n.content||""))){for(v=0;v<g.length;v++)if(c=g[v],c.getAttribute("content")===(n.content==null?null:""+n.content)&&c.getAttribute("name")===(n.name==null?null:n.name)&&c.getAttribute("property")===(n.property==null?null:n.property)&&c.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&c.getAttribute("charset")===(n.charSet==null?null:n.charSet)){g.splice(v,1);break t}}c=l.createElement(s),Oa(c,s,n),l.head.appendChild(c);break;default:throw Error(o(468,s))}c[la]=e,It(c),s=c}e.stateNode=s}else Wm(l,e.type,e.stateNode);else e.stateNode=Qm(l,s,e.memoizedProps);else c!==s?(c===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):c.count--,s===null?Wm(l,e.type,e.stateNode):Qm(l,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Rd(e,e.memoizedProps,n.memoizedProps)}break;case 27:pn(t,e),gn(e),s&512&&(_a||n===null||Wn(n,n.return)),n!==null&&s&4&&Rd(e,e.memoizedProps,n.memoizedProps);break;case 5:if(pn(t,e),gn(e),s&512&&(_a||n===null||Wn(n,n.return)),e.flags&32){l=e.stateNode;try{Ft(l,"")}catch(W){Gt(e,e.return,W)}}s&4&&e.stateNode!=null&&(l=e.memoizedProps,Rd(e,l,n!==null?n.memoizedProps:l)),s&1024&&(Hd=!0);break;case 6:if(pn(t,e),gn(e),s&4){if(e.stateNode===null)throw Error(o(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(W){Gt(e,e.return,W)}}break;case 3:if(Lo=null,l=Jn,Jn=Mo(t.containerInfo),pn(t,e),Jn=l,gn(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{hr(t.containerInfo)}catch(W){Gt(e,e.return,W)}Hd&&(Hd=!1,im(e));break;case 4:s=Jn,Jn=Mo(e.stateNode.containerInfo),pn(t,e),gn(e),Jn=s;break;case 12:pn(t,e),gn(e);break;case 13:pn(t,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Pd=Et()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Id(e,s)));break;case 22:l=e.memoizedState!==null;var E=n!==null&&n.memoizedState!==null,G=xs,de=_a;if(xs=G||l,_a=de||E,pn(t,e),_a=de,xs=G,gn(e),s&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(n===null||E||xs||_a||bi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){E=n=t;try{if(c=E.stateNode,l)g=c.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=E.stateNode;var ye=E.memoizedProps.style,Q=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;v.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(W){Gt(E,E.return,W)}}}else if(t.tag===6){if(n===null){E=t;try{E.stateNode.nodeValue=l?"":E.memoizedProps}catch(W){Gt(E,E.return,W)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Id(e,n))));break;case 19:pn(t,e),gn(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Id(e,s)));break;case 30:break;case 21:break;default:pn(t,e),gn(e)}}function gn(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(Qh(s)){n=s;break}s=s.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var l=n.stateNode,c=Ld(e);yo(e,c,l);break;case 5:var g=n.stateNode;n.flags&32&&(Ft(g,""),n.flags&=-33);var v=Ld(e);yo(e,v,g);break;case 3:case 4:var E=n.stateNode.containerInfo,G=Ld(e);Od(e,G,E);break;default:throw Error(o(161))}}catch(de){Gt(e,e.return,de)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function im(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;im(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function zs(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)em(e,t.alternate,t),t=t.sibling}function bi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bs(4,t,t.return),bi(t);break;case 1:Wn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Xh(t,t.return,n),bi(t);break;case 27:ir(t.stateNode);case 26:case 5:Wn(t,t.return),bi(t);break;case 22:t.memoizedState===null&&bi(t);break;case 30:bi(t);break;default:bi(t)}e=e.sibling}}function qs(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,l=e,c=t,g=c.flags;switch(c.tag){case 0:case 11:case 15:qs(l,c,n),Xl(4,c);break;case 1:if(qs(l,c,n),s=c,l=s.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(G){Gt(s,s.return,G)}if(s=c,l=s.updateQueue,l!==null){var v=s.stateNode;try{var E=l.shared.hiddenCallbacks;if(E!==null)for(l.shared.hiddenCallbacks=null,l=0;l<E.length;l++)Lf(E[l],v)}catch(G){Gt(s,s.return,G)}}n&&g&64&&Gh(c),Zl(c,c.return);break;case 27:Kh(c);case 26:case 5:qs(l,c,n),n&&s===null&&g&4&&Zh(c),Zl(c,c.return);break;case 12:qs(l,c,n);break;case 13:qs(l,c,n),n&&g&4&&nm(l,c);break;case 22:c.memoizedState===null&&qs(l,c,n),Zl(c,c.return);break;case 30:break;default:qs(l,c,n)}t=t.sibling}}function Ud(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ol(n))}function Jd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ol(e))}function es(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lm(e,t,n,s),t=t.sibling}function lm(e,t,n,s){var l=t.flags;switch(t.tag){case 0:case 11:case 15:es(e,t,n,s),l&2048&&Xl(9,t);break;case 1:es(e,t,n,s);break;case 3:es(e,t,n,s),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ol(e)));break;case 12:if(l&2048){es(e,t,n,s),e=t.stateNode;try{var c=t.memoizedProps,g=c.id,v=c.onPostCommit;typeof v=="function"&&v(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Gt(t,t.return,E)}}else es(e,t,n,s);break;case 13:es(e,t,n,s);break;case 23:break;case 22:c=t.stateNode,g=t.alternate,t.memoizedState!==null?c._visibility&2?es(e,t,n,s):Ql(e,t):c._visibility&2?es(e,t,n,s):(c._visibility|=2,el(e,t,n,s,(t.subtreeFlags&10256)!==0)),l&2048&&Ud(g,t);break;case 24:es(e,t,n,s),l&2048&&Jd(t.alternate,t);break;default:es(e,t,n,s)}}function el(e,t,n,s,l){for(l=l&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,g=t,v=n,E=s,G=g.flags;switch(g.tag){case 0:case 11:case 15:el(c,g,v,E,l),Xl(8,g);break;case 23:break;case 22:var de=g.stateNode;g.memoizedState!==null?de._visibility&2?el(c,g,v,E,l):Ql(c,g):(de._visibility|=2,el(c,g,v,E,l)),l&&G&2048&&Ud(g.alternate,g);break;case 24:el(c,g,v,E,l),l&&G&2048&&Jd(g.alternate,g);break;default:el(c,g,v,E,l)}t=t.sibling}}function Ql(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,l=s.flags;switch(s.tag){case 22:Ql(n,s),l&2048&&Ud(s.alternate,s);break;case 24:Ql(n,s),l&2048&&Jd(s.alternate,s);break;default:Ql(n,s)}t=t.sibling}}var Kl=8192;function tl(e){if(e.subtreeFlags&Kl)for(e=e.child;e!==null;)rm(e),e=e.sibling}function rm(e){switch(e.tag){case 26:tl(e),e.flags&Kl&&e.memoizedState!==null&&ix(Jn,e.memoizedState,e.memoizedProps);break;case 5:tl(e);break;case 3:case 4:var t=Jn;Jn=Mo(e.stateNode.containerInfo),tl(e),Jn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Kl,Kl=16777216,tl(e),Kl=t):tl(e));break;default:tl(e)}}function om(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Wl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];wa=s,dm(s,e)}om(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cm(e),e=e.sibling}function cm(e){switch(e.tag){case 0:case 11:case 15:Wl(e),e.flags&2048&&Bs(9,e,e.return);break;case 3:Wl(e);break;case 12:Wl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,vo(e)):Wl(e);break;default:Wl(e)}}function vo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];wa=s,dm(s,e)}om(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bs(8,t,t.return),vo(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,vo(t));break;default:vo(t)}e=e.sibling}}function dm(e,t){for(;wa!==null;){var n=wa;switch(n.tag){case 0:case 11:case 15:Bs(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ol(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,wa=s;else e:for(n=e;wa!==null;){s=wa;var l=s.sibling,c=s.return;if(tm(s),s===n){wa=null;break e}if(l!==null){l.return=c,wa=l;break e}wa=c}}}var b_={getCacheForType:function(e){var t=za(Na),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},j_=typeof WeakMap=="function"?WeakMap:Map,Jt=0,Wt=null,Ct=null,Tt=0,Bt=0,_n=null,Ps=!1,al=!1,Bd=!1,vs=0,ma=0,$s=0,ji=0,zd=0,kn=0,nl=0,er=null,sn=null,qd=!1,Pd=0,bo=1/0,jo=null,Fs=null,La=0,Vs=null,sl=null,il=0,$d=0,Fd=null,um=null,tr=0,Vd=null;function xn(){if((Jt&2)!==0&&Tt!==0)return Tt&-Tt;if(w.T!==null){var e=Vi;return e!==0?e:Wd()}return un()}function fm(){kn===0&&(kn=(Tt&536870912)===0||Ht?Va():536870912);var e=Tn.current;return e!==null&&(e.flags|=32),kn}function yn(e,t,n){(e===Wt&&(Bt===2||Bt===9)||e.cancelPendingCommit!==null)&&(ll(e,0),Ys(e,Tt,kn,!1)),ca(e,n),((Jt&2)===0||e!==Wt)&&(e===Wt&&((Jt&2)===0&&(ji|=n),ma===4&&Ys(e,Tt,kn,!1)),ts(e))}function hm(e,t,n){if((Jt&6)!==0)throw Error(o(327));var s=!n&&(t&124)===0&&(t&e.expiredLanes)===0||vn(e,t),l=s?C_(e,t):Xd(e,t,!0),c=s;do{if(l===0){al&&!s&&Ys(e,t,0,!1);break}else{if(n=e.current.alternate,c&&!S_(n)){l=Xd(e,t,!1),c=!1;continue}if(l===2){if(c=t,e.errorRecoveryDisabledLanes&c)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var v=e;l=er;var E=v.current.memoizedState.isDehydrated;if(E&&(ll(v,g).flags|=256),g=Xd(v,g,!1),g!==2){if(Bd&&!E){v.errorRecoveryDisabledLanes|=c,ji|=c,l=4;break e}c=sn,sn=l,c!==null&&(sn===null?sn=c:sn.push.apply(sn,c))}l=g}if(c=!1,l!==2)continue}}if(l===1){ll(e,0),Ys(e,t,0,!0);break}e:{switch(s=e,c=l,c){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Ys(s,t,kn,!Ps);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(l=Pd+300-Et(),10<l)){if(Ys(s,t,kn,!Ps),aa(s,0,!0)!==0)break e;s.timeoutHandle=qm(mm.bind(null,s,n,sn,jo,qd,t,kn,ji,nl,Ps,c,2,-0,0),l);break e}mm(s,n,sn,jo,qd,t,kn,ji,nl,Ps,c,0,-0,0)}}break}while(!0);ts(e)}function mm(e,t,n,s,l,c,g,v,E,G,de,ye,Q,W){if(e.timeoutHandle=-1,ye=t.subtreeFlags,(ye&8192||(ye&16785408)===16785408)&&(or={stylesheets:null,count:0,unsuspend:sx},rm(t),ye=lx(),ye!==null)){e.cancelPendingCommit=ye(bm.bind(null,e,t,c,n,s,l,g,v,E,de,1,Q,W)),Ys(e,c,g,!G);return}bm(e,t,c,n,s,l,g,v,E)}function S_(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var l=n[s],c=l.getSnapshot;l=l.value;try{if(!A(c(),l))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ys(e,t,n,s){t&=~zd,t&=~ji,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var l=t;0<l;){var c=31-Mt(l),g=1<<c;s[c]=-1,l&=~g}n!==0&&Ya(e,n,t)}function So(){return(Jt&6)===0?(ar(0),!1):!0}function Yd(){if(Ct!==null){if(Bt===0)var e=Ct.return;else e=Ct,fs=gi=null,dd(e),Ki=null,Vl=0,e=Ct;for(;e!==null;)Yh(e.alternate,e),e=e.return;Ct=null}}function ll(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,z_(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Yd(),Wt=e,Ct=n=cs(e.current,null),Tt=t,Bt=0,_n=null,Ps=!1,al=vn(e,t),Bd=!1,nl=kn=zd=ji=$s=ma=0,sn=er=null,qd=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var l=31-Mt(s),c=1<<l;t|=e[l],s&=~c}return vs=t,$r(),n}function pm(e,t){St=null,w.H=co,t===Il||t===Wr?(t=Mf(),Bt=3):t===Ef?(t=Mf(),Bt=4):Bt=t===Rh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,_n=t,Ct===null&&(ma=1,po(e,Dn(t,e.current)))}function gm(){var e=w.H;return w.H=co,e===null?co:e}function _m(){var e=w.A;return w.A=b_,e}function Gd(){ma=4,Ps||(Tt&4194048)!==Tt&&Tn.current!==null||(al=!0),($s&134217727)===0&&(ji&134217727)===0||Wt===null||Ys(Wt,Tt,kn,!1)}function Xd(e,t,n){var s=Jt;Jt|=2;var l=gm(),c=_m();(Wt!==e||Tt!==t)&&(jo=null,ll(e,t)),t=!1;var g=ma;e:do try{if(Bt!==0&&Ct!==null){var v=Ct,E=_n;switch(Bt){case 8:Yd(),g=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(t=!0);var G=Bt;if(Bt=0,_n=null,rl(e,v,E,G),n&&al){g=0;break e}break;default:G=Bt,Bt=0,_n=null,rl(e,v,E,G)}}N_(),g=ma;break}catch(de){pm(e,de)}while(!0);return t&&e.shellSuspendCounter++,fs=gi=null,Jt=s,w.H=l,w.A=c,Ct===null&&(Wt=null,Tt=0,$r()),g}function N_(){for(;Ct!==null;)xm(Ct)}function C_(e,t){var n=Jt;Jt|=2;var s=gm(),l=_m();Wt!==e||Tt!==t?(jo=null,bo=Et()+500,ll(e,t)):al=vn(e,t);e:do try{if(Bt!==0&&Ct!==null){t=Ct;var c=_n;t:switch(Bt){case 1:Bt=0,_n=null,rl(e,t,c,1);break;case 2:case 9:if(Tf(c)){Bt=0,_n=null,ym(t);break}t=function(){Bt!==2&&Bt!==9||Wt!==e||(Bt=7),ts(e)},c.then(t,t);break e;case 3:Bt=7;break e;case 4:Bt=5;break e;case 7:Tf(c)?(Bt=0,_n=null,ym(t)):(Bt=0,_n=null,rl(e,t,c,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var v=Ct;if(!g||ep(g)){Bt=0,_n=null;var E=v.sibling;if(E!==null)Ct=E;else{var G=v.return;G!==null?(Ct=G,No(G)):Ct=null}break t}}Bt=0,_n=null,rl(e,t,c,5);break;case 6:Bt=0,_n=null,rl(e,t,c,6);break;case 8:Yd(),ma=6;break e;default:throw Error(o(462))}}D_();break}catch(de){pm(e,de)}while(!0);return fs=gi=null,w.H=s,w.A=l,Jt=n,Ct!==null?0:(Wt=null,Tt=0,$r(),ma)}function D_(){for(;Ct!==null&&!Ze();)xm(Ct)}function xm(e){var t=Fh(e.alternate,e,vs);e.memoizedProps=e.pendingProps,t===null?No(e):Ct=t}function ym(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Jh(n,t,t.pendingProps,t.type,void 0,Tt);break;case 11:t=Jh(n,t,t.pendingProps,t.type.render,t.ref,Tt);break;case 5:dd(t);default:Yh(n,t),t=Ct=vf(t,vs),t=Fh(n,t,vs)}e.memoizedProps=e.pendingProps,t===null?No(e):Ct=t}function rl(e,t,n,s){fs=gi=null,dd(t),Ki=null,Vl=0;var l=t.return;try{if(p_(e,l,t,n,Tt)){ma=1,po(e,Dn(n,e.current)),Ct=null;return}}catch(c){if(l!==null)throw Ct=l,c;ma=1,po(e,Dn(n,e.current)),Ct=null;return}t.flags&32768?(Ht||s===1?e=!0:al||(Tt&536870912)!==0?e=!1:(Ps=e=!0,(s===2||s===9||s===3||s===6)&&(s=Tn.current,s!==null&&s.tag===13&&(s.flags|=16384))),vm(t,e)):No(t)}function No(e){var t=e;do{if((t.flags&32768)!==0){vm(t,Ps);return}e=t.return;var n=__(t.alternate,t,vs);if(n!==null){Ct=n;return}if(t=t.sibling,t!==null){Ct=t;return}Ct=t=e}while(t!==null);ma===0&&(ma=5)}function vm(e,t){do{var n=x_(e.alternate,e);if(n!==null){n.flags&=32767,Ct=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=n}while(e!==null);ma=6,Ct=null}function bm(e,t,n,s,l,c,g,v,E){e.cancelPendingCommit=null;do Co();while(La!==0);if((Jt&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(c=t.lanes|t.childLanes,c|=Jc,Vn(e,n,c,g,v,E),e===Wt&&(Ct=Wt=null,Tt=0),sl=t,Vs=e,il=n,$d=c,Fd=l,um=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,T_(ia,function(){return Dm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=w.T,w.T=null,l=B.p,B.p=2,g=Jt,Jt|=4;try{y_(e,t,n)}finally{Jt=g,B.p=l,w.T=s}}La=1,jm(),Sm(),Nm()}}function jm(){if(La===1){La=0;var e=Vs,t=sl,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=w.T,w.T=null;var s=B.p;B.p=2;var l=Jt;Jt|=4;try{sm(t,e);var c=ru,g=ut(e.containerInfo),v=c.focusedElem,E=c.selectionRange;if(g!==v&&v&&v.ownerDocument&&Be(v.ownerDocument.documentElement,v)){if(E!==null&&$e(v)){var G=E.start,de=E.end;if(de===void 0&&(de=G),"selectionStart"in v)v.selectionStart=G,v.selectionEnd=Math.min(de,v.value.length);else{var ye=v.ownerDocument||document,Q=ye&&ye.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),ct=v.textContent.length,lt=Math.min(E.start,ct),Pt=E.end===void 0?lt:Math.min(E.end,ct);!W.extend&&lt>Pt&&(g=Pt,Pt=lt,lt=g);var q=Ve(v,lt),O=Ve(v,Pt);if(q&&O&&(W.rangeCount!==1||W.anchorNode!==q.node||W.anchorOffset!==q.offset||W.focusNode!==O.node||W.focusOffset!==O.offset)){var V=ye.createRange();V.setStart(q.node,q.offset),W.removeAllRanges(),lt>Pt?(W.addRange(V),W.extend(O.node,O.offset)):(V.setEnd(O.node,O.offset),W.addRange(V))}}}}for(ye=[],W=v;W=W.parentNode;)W.nodeType===1&&ye.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<ye.length;v++){var pe=ye[v];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}Io=!!lu,ru=lu=null}finally{Jt=l,B.p=s,w.T=n}}e.current=t,La=2}}function Sm(){if(La===2){La=0;var e=Vs,t=sl,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=w.T,w.T=null;var s=B.p;B.p=2;var l=Jt;Jt|=4;try{em(e,t.alternate,t)}finally{Jt=l,B.p=s,w.T=n}}La=3}}function Nm(){if(La===4||La===3){La=0,_e();var e=Vs,t=sl,n=il,s=um;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?La=5:(La=0,sl=Vs=null,Cm(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Fs=null),Ka(n),t=t.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ot,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=w.T,l=B.p,B.p=2,w.T=null;try{for(var c=e.onRecoverableError,g=0;g<s.length;g++){var v=s[g];c(v.value,{componentStack:v.stack})}}finally{w.T=t,B.p=l}}(il&3)!==0&&Co(),ts(e),l=e.pendingLanes,(n&4194090)!==0&&(l&42)!==0?e===Vd?tr++:(tr=0,Vd=e):tr=0,ar(0)}}function Cm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ol(t)))}function Co(e){return jm(),Sm(),Nm(),Dm()}function Dm(){if(La!==5)return!1;var e=Vs,t=$d;$d=0;var n=Ka(il),s=w.T,l=B.p;try{B.p=32>n?32:n,w.T=null,n=Fd,Fd=null;var c=Vs,g=il;if(La=0,sl=Vs=null,il=0,(Jt&6)!==0)throw Error(o(331));var v=Jt;if(Jt|=4,cm(c.current),lm(c,c.current,g,n),Jt=v,ar(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ot,c)}catch{}return!0}finally{B.p=l,w.T=s,Cm(e,t)}}function Am(e,t,n){t=Dn(n,t),t=Nd(e.stateNode,t,2),e=Hs(e,t,2),e!==null&&(ca(e,2),ts(e))}function Gt(e,t,n){if(e.tag===3)Am(e,e,n);else for(;t!==null;){if(t.tag===3){Am(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Fs===null||!Fs.has(s))){e=Dn(n,e),n=kh(2),s=Hs(t,n,2),s!==null&&(Mh(n,s,t,e),ca(s,2),ts(s));break}}t=t.return}}function Zd(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new j_;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(Bd=!0,l.add(n),e=A_.bind(null,e,t,n),t.then(e,e))}function A_(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Wt===e&&(Tt&n)===n&&(ma===4||ma===3&&(Tt&62914560)===Tt&&300>Et()-Pd?(Jt&2)===0&&ll(e,0):zd|=n,nl===Tt&&(nl=0)),ts(e)}function wm(e,t){t===0&&(t=cn()),e=qi(e,t),e!==null&&(ca(e,t),ts(e))}function w_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wm(e,n)}function E_(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(t),wm(e,n)}function T_(e,t){return K(e,t)}var Do=null,ol=null,Qd=!1,Ao=!1,Kd=!1,Si=0;function ts(e){e!==ol&&e.next===null&&(ol===null?Do=ol=e:ol=ol.next=e),Ao=!0,Qd||(Qd=!0,M_())}function ar(e,t){if(!Kd&&Ao){Kd=!0;do for(var n=!1,s=Do;s!==null;){if(e!==0){var l=s.pendingLanes;if(l===0)var c=0;else{var g=s.suspendedLanes,v=s.pingedLanes;c=(1<<31-Mt(42|e)+1)-1,c&=l&~(g&~v),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(n=!0,Mm(s,c))}else c=Tt,c=aa(s,s===Wt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(c&3)===0||vn(s,c)||(n=!0,Mm(s,c));s=s.next}while(n);Kd=!1}}function k_(){Em()}function Em(){Ao=Qd=!1;var e=0;Si!==0&&(B_()&&(e=Si),Si=0);for(var t=Et(),n=null,s=Do;s!==null;){var l=s.next,c=Tm(s,t);c===0?(s.next=null,n===null?Do=l:n.next=l,l===null&&(ol=n)):(n=s,(e!==0||(c&3)!==0)&&(Ao=!0)),s=l}ar(e)}function Tm(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var g=31-Mt(c),v=1<<g,E=l[g];E===-1?((v&n)===0||(v&s)!==0)&&(l[g]=on(v,t)):E<=t&&(e.expiredLanes|=v),c&=~v}if(t=Wt,n=Tt,n=aa(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(Bt===2||Bt===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Te(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||vn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&Te(s),Ka(n)){case 2:case 8:n=$t;break;case 32:n=ia;break;case 268435456:n=ft;break;default:n=ia}return s=km.bind(null,e),n=K(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&Te(s),e.callbackPriority=2,e.callbackNode=null,2}function km(e,t){if(La!==0&&La!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Co()&&e.callbackNode!==n)return null;var s=Tt;return s=aa(e,e===Wt?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(hm(e,s,t),Tm(e,Et()),e.callbackNode!=null&&e.callbackNode===n?km.bind(null,e):null)}function Mm(e,t){if(Co())return null;hm(e,t,!0)}function M_(){q_(function(){(Jt&6)!==0?K(bt,k_):Em()})}function Wd(){return Si===0&&(Si=Va()),Si}function Rm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zn(""+e)}function Lm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function R_(e,t,n,s,l){if(t==="submit"&&n&&n.stateNode===l){var c=Rm((l[ra]||null).action),g=s.submitter;g&&(t=(t=g[ra]||null)?Rm(t.formAction):g.getAttribute("formAction"),t!==null&&(c=t,g=null));var v=new As("action","action",null,s,l);e.push({event:v,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Si!==0){var E=g?Lm(l,g):new FormData(l);yd(n,{pending:!0,data:E,method:l.method,action:c},null,E)}}else typeof c=="function"&&(v.preventDefault(),E=g?Lm(l,g):new FormData(l),yd(n,{pending:!0,data:E,method:l.method,action:c},c,E))},currentTarget:l}]})}}for(var eu=0;eu<Uc.length;eu++){var tu=Uc[eu],L_=tu.toLowerCase(),O_=tu[0].toUpperCase()+tu.slice(1);Un(L_,"on"+O_)}Un(hf,"onAnimationEnd"),Un(mf,"onAnimationIteration"),Un(pf,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(Kg,"onTransitionRun"),Un(Wg,"onTransitionStart"),Un(e_,"onTransitionCancel"),Un(gf,"onTransitionEnd"),ya("onMouseEnter",["mouseout","mouseover"]),ya("onMouseLeave",["mouseout","mouseover"]),ya("onPointerEnter",["pointerout","pointerover"]),ya("onPointerLeave",["pointerout","pointerover"]),ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ua("onBeforeInput",["compositionend","keypress","textInput","paste"]),ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nr));function Om(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var g=s.length-1;0<=g;g--){var v=s[g],E=v.instance,G=v.currentTarget;if(v=v.listener,E!==c&&l.isPropagationStopped())break e;c=v,l.currentTarget=G;try{c(l)}catch(de){mo(de)}l.currentTarget=null,c=E}else for(g=0;g<s.length;g++){if(v=s[g],E=v.instance,G=v.currentTarget,v=v.listener,E!==c&&l.isPropagationStopped())break e;c=v,l.currentTarget=G;try{c(l)}catch(de){mo(de)}l.currentTarget=null,c=E}}}}function Dt(e,t){var n=t[bn];n===void 0&&(n=t[bn]=new Set);var s=e+"__bubble";n.has(s)||(Hm(t,e,2,!1),n.add(s))}function au(e,t,n){var s=0;t&&(s|=4),Hm(n,e,s,t)}var wo="_reactListening"+Math.random().toString(36).slice(2);function nu(e){if(!e[wo]){e[wo]=!0,On.forEach(function(n){n!=="selectionchange"&&(H_.has(n)||au(n,!1,e),au(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wo]||(t[wo]=!0,au("selectionchange",!1,t))}}function Hm(e,t,n,s){switch(lp(t)){case 2:var l=cx;break;case 8:l=dx;break;default:l=_u}n=l.bind(null,t,n,e),l=void 0,!mt||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function su(e,t,n,s,l){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var g=s.tag;if(g===3||g===4){var v=s.stateNode.containerInfo;if(v===l)break;if(g===4)for(g=s.return;g!==null;){var E=g.tag;if((E===3||E===4)&&g.stateNode.containerInfo===l)return;g=g.return}for(;v!==null;){if(g=ka(v),g===null)return;if(E=g.tag,E===5||E===6||E===26||E===27){s=c=g;continue e}v=v.parentNode}}s=s.return}Xe(function(){var G=c,de=Z(n),ye=[];e:{var Q=_f.get(e);if(Q!==void 0){var W=As,ct=e;switch(e){case"keypress":if(Ye(n)===0)break e;case"keydown":case"keyup":W=ws;break;case"focusin":ct="focus",W=Mr;break;case"focusout":ct="blur",W=Mr;break;case"beforeblur":case"afterblur":W=Mr;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=kr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Tc;break;case hf:case mf:case pf:W=et;break;case gf:W=Or;break;case"scroll":case"scrollend":W=bc;break;case"wheel":W=Mc;break;case"copy":case"cut":case"paste":W=jt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Lr;break;case"toggle":case"beforetoggle":W=Hi}var lt=(t&4)!==0,Pt=!lt&&(e==="scroll"||e==="scrollend"),q=lt?Q!==null?Q+"Capture":null:Q;lt=[];for(var O=G,V;O!==null;){var pe=O;if(V=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||V===null||q===null||(pe=Fe(O,q),pe!=null&&lt.push(sr(O,pe,V))),Pt)break;O=O.return}0<lt.length&&(Q=new W(Q,ct,null,n,de),ye.push({event:Q,listeners:lt}))}}if((t&7)===0){e:{if(Q=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",Q&&n!==S&&(ct=n.relatedTarget||n.fromElement)&&(ka(ct)||ct[Rn]))break e;if((W||Q)&&(Q=de.window===de?de:(Q=de.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(ct=n.relatedTarget||n.toElement,W=G,ct=ct?ka(ct):null,ct!==null&&(Pt=h(ct),lt=ct.tag,ct!==Pt||lt!==5&&lt!==27&&lt!==6)&&(ct=null)):(W=null,ct=G),W!==ct)){if(lt=kr,pe="onMouseLeave",q="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(lt=Lr,pe="onPointerLeave",q="onPointerEnter",O="pointer"),Pt=W==null?Q:da(W),V=ct==null?Q:da(ct),Q=new lt(pe,O+"leave",W,n,de),Q.target=Pt,Q.relatedTarget=V,pe=null,ka(de)===G&&(lt=new lt(q,O+"enter",ct,n,de),lt.target=V,lt.relatedTarget=Pt,pe=lt),Pt=pe,W&&ct)t:{for(lt=W,q=ct,O=0,V=lt;V;V=cl(V))O++;for(V=0,pe=q;pe;pe=cl(pe))V++;for(;0<O-V;)lt=cl(lt),O--;for(;0<V-O;)q=cl(q),V--;for(;O--;){if(lt===q||q!==null&&lt===q.alternate)break t;lt=cl(lt),q=cl(q)}lt=null}else lt=null;W!==null&&Im(ye,Q,W,lt,!1),ct!==null&&Pt!==null&&Im(ye,Pt,ct,lt,!0)}}e:{if(Q=G?da(G):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var We=El;else if(wl(Q))if(Ji)We=m;else{We=qr;var Nt=Oc}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&Kt(G.elementType)&&(We=El):We=Hc;if(We&&(We=We(e,G))){Jr(ye,We,n,de);break e}Nt&&Nt(e,Q,G),e==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&it(Q,"number",Q.value)}switch(Nt=G?da(G):window,e){case"focusin":(wl(Nt)||Nt.contentEditable==="true")&&(xt=Nt,Yt=G,Cn=null);break;case"focusout":Cn=Yt=xt=null;break;case"mousedown":vt=!0;break;case"contextmenu":case"mouseup":case"dragend":vt=!1,Pr(ye,n,de);break;case"selectionchange":if(Ut)break;case"keydown":case"keyup":Pr(ye,n,de)}var at;if(Ii)e:{switch(e){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else Es?Dl(e,n)&&(rt="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(rt="onCompositionStart");rt&&(Ir&&n.locale!=="ko"&&(Es||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Es&&(at=rs()):(Ke=de,wt="value"in Ke?Ke.value:Ke.textContent,Es=!0)),Nt=Eo(G,rt),0<Nt.length&&(rt=new Rr(rt,e,null,n,de),ye.push({event:rt,listeners:Nt}),at?rt.data=at:(at=Al(n),at!==null&&(rt.data=at)))),(at=Hr?Ui(e,n):Rc(e,n))&&(rt=Eo(G,"onBeforeInput"),0<rt.length&&(Nt=new Rr("onBeforeInput","beforeinput",null,n,de),ye.push({event:Nt,listeners:rt}),Nt.data=at)),R_(ye,e,G,n,de)}Om(ye,t)})}function sr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Eo(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,c=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||c===null||(l=Fe(e,n),l!=null&&s.unshift(sr(e,l,c)),l=Fe(e,t),l!=null&&s.push(sr(e,l,c))),e.tag===3)return s;e=e.return}return[]}function cl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Im(e,t,n,s,l){for(var c=t._reactName,g=[];n!==null&&n!==s;){var v=n,E=v.alternate,G=v.stateNode;if(v=v.tag,E!==null&&E===s)break;v!==5&&v!==26&&v!==27||G===null||(E=G,l?(G=Fe(n,c),G!=null&&g.unshift(sr(n,G,E))):l||(G=Fe(n,c),G!=null&&g.push(sr(n,G,E)))),n=n.return}g.length!==0&&e.push({event:t,listeners:g})}var I_=/\r\n?/g,U_=/\u0000|\uFFFD/g;function Um(e){return(typeof e=="string"?e:""+e).replace(I_,`
`).replace(U_,"")}function Jm(e,t){return t=Um(t),Um(e)===t}function To(){}function qt(e,t,n,s,l,c){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ft(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ft(e,""+s);break;case"className":hn(e,"class",s);break;case"tabIndex":hn(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(e,n,s);break;case"style":Ga(e,s,c);break;case"data":if(t!=="object"){hn(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Zn(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(n==="formAction"?(t!=="input"&&qt(e,t,"name",l.name,l,null),qt(e,t,"formEncType",l.formEncType,l,null),qt(e,t,"formMethod",l.formMethod,l,null),qt(e,t,"formTarget",l.formTarget,l,null)):(qt(e,t,"encType",l.encType,l,null),qt(e,t,"method",l.method,l,null),qt(e,t,"target",l.target,l,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Zn(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=To);break;case"onScroll":s!=null&&Dt("scroll",e);break;case"onScrollEnd":s!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(n=s.__html,n!=null){if(l.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=Zn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),Hn(e,"popover",s);break;case"xlinkActuate":Sa(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Sa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Sa(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Sa(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Sa(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Sa(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Sa(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Sa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Sa(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Hn(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ma.get(n)||n,Hn(e,n,s))}}function iu(e,t,n,s,l,c){switch(n){case"style":Ga(e,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(n=s.__html,n!=null){if(l.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof s=="string"?Ft(e,s):(typeof s=="number"||typeof s=="bigint")&&Ft(e,""+s);break;case"onScroll":s!=null&&Dt("scroll",e);break;case"onScrollEnd":s!=null&&Dt("scrollend",e);break;case"onClick":s!=null&&(e.onclick=To);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!is.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),c=e[ra]||null,c=c!=null?c[n]:null,typeof c=="function"&&e.removeEventListener(t,c,l),typeof s=="function")){typeof c!="function"&&c!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,l);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):Hn(e,n,s)}}}function Oa(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var s=!1,l=!1,c;for(c in n)if(n.hasOwnProperty(c)){var g=n[c];if(g!=null)switch(c){case"src":s=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:qt(e,t,c,g,n,null)}}l&&qt(e,t,"srcSet",n.srcSet,n,null),s&&qt(e,t,"src",n.src,n,null);return;case"input":Dt("invalid",e);var v=c=g=l=null,E=null,G=null;for(s in n)if(n.hasOwnProperty(s)){var de=n[s];if(de!=null)switch(s){case"name":l=de;break;case"type":g=de;break;case"checked":E=de;break;case"defaultChecked":G=de;break;case"value":c=de;break;case"defaultValue":v=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(o(137,t));break;default:qt(e,t,s,de,n,null)}}st(e,c,v,E,G,g,l,!1),ke(e);return;case"select":Dt("invalid",e),s=g=c=null;for(l in n)if(n.hasOwnProperty(l)&&(v=n[l],v!=null))switch(l){case"value":c=v;break;case"defaultValue":g=v;break;case"multiple":s=v;default:qt(e,t,l,v,n,null)}t=c,n=g,e.multiple=!!s,t!=null?_t(e,!!s,t,!1):n!=null&&_t(e,!!s,n,!0);return;case"textarea":Dt("invalid",e),c=l=s=null;for(g in n)if(n.hasOwnProperty(g)&&(v=n[g],v!=null))switch(g){case"value":s=v;break;case"defaultValue":l=v;break;case"children":c=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(o(91));break;default:qt(e,t,g,v,n,null)}Ia(e,s,l,c),ke(e);return;case"option":for(E in n)if(n.hasOwnProperty(E)&&(s=n[E],s!=null))switch(E){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:qt(e,t,E,s,n,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(s=0;s<nr.length;s++)Dt(nr[s],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in n)if(n.hasOwnProperty(G)&&(s=n[G],s!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:qt(e,t,G,s,n,null)}return;default:if(Kt(t)){for(de in n)n.hasOwnProperty(de)&&(s=n[de],s!==void 0&&iu(e,t,de,s,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(s=n[v],s!=null&&qt(e,t,v,s,n,null))}function J_(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,c=null,g=null,v=null,E=null,G=null,de=null;for(W in n){var ye=n[W];if(n.hasOwnProperty(W)&&ye!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":E=ye;default:s.hasOwnProperty(W)||qt(e,t,W,null,s,ye)}}for(var Q in s){var W=s[Q];if(ye=n[Q],s.hasOwnProperty(Q)&&(W!=null||ye!=null))switch(Q){case"type":c=W;break;case"name":l=W;break;case"checked":G=W;break;case"defaultChecked":de=W;break;case"value":g=W;break;case"defaultValue":v=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(o(137,t));break;default:W!==ye&&qt(e,t,Q,W,s,ye)}}me(e,g,v,E,G,de,c,l);return;case"select":W=g=v=Q=null;for(c in n)if(E=n[c],n.hasOwnProperty(c)&&E!=null)switch(c){case"value":break;case"multiple":W=E;default:s.hasOwnProperty(c)||qt(e,t,c,null,s,E)}for(l in s)if(c=s[l],E=n[l],s.hasOwnProperty(l)&&(c!=null||E!=null))switch(l){case"value":Q=c;break;case"defaultValue":v=c;break;case"multiple":g=c;default:c!==E&&qt(e,t,l,c,s,E)}t=v,n=g,s=W,Q!=null?_t(e,!!n,Q,!1):!!s!=!!n&&(t!=null?_t(e,!!n,t,!0):_t(e,!!n,n?[]:"",!1));return;case"textarea":W=Q=null;for(v in n)if(l=n[v],n.hasOwnProperty(v)&&l!=null&&!s.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:qt(e,t,v,null,s,l)}for(g in s)if(l=s[g],c=n[g],s.hasOwnProperty(g)&&(l!=null||c!=null))switch(g){case"value":Q=l;break;case"defaultValue":W=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(o(91));break;default:l!==c&&qt(e,t,g,l,s,c)}Ot(e,Q,W);return;case"option":for(var ct in n)if(Q=n[ct],n.hasOwnProperty(ct)&&Q!=null&&!s.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:qt(e,t,ct,null,s,Q)}for(E in s)if(Q=s[E],W=n[E],s.hasOwnProperty(E)&&Q!==W&&(Q!=null||W!=null))switch(E){case"selected":e.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:qt(e,t,E,Q,s,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lt in n)Q=n[lt],n.hasOwnProperty(lt)&&Q!=null&&!s.hasOwnProperty(lt)&&qt(e,t,lt,null,s,Q);for(G in s)if(Q=s[G],W=n[G],s.hasOwnProperty(G)&&Q!==W&&(Q!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(o(137,t));break;default:qt(e,t,G,Q,s,W)}return;default:if(Kt(t)){for(var Pt in n)Q=n[Pt],n.hasOwnProperty(Pt)&&Q!==void 0&&!s.hasOwnProperty(Pt)&&iu(e,t,Pt,void 0,s,Q);for(de in s)Q=s[de],W=n[de],!s.hasOwnProperty(de)||Q===W||Q===void 0&&W===void 0||iu(e,t,de,Q,s,W);return}}for(var q in n)Q=n[q],n.hasOwnProperty(q)&&Q!=null&&!s.hasOwnProperty(q)&&qt(e,t,q,null,s,Q);for(ye in s)Q=s[ye],W=n[ye],!s.hasOwnProperty(ye)||Q===W||Q==null&&W==null||qt(e,t,ye,Q,s,W)}var lu=null,ru=null;function ko(e){return e.nodeType===9?e:e.ownerDocument}function Bm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ou(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cu=null;function B_(){var e=window.event;return e&&e.type==="popstate"?e===cu?!1:(cu=e,!0):(cu=null,!1)}var qm=typeof setTimeout=="function"?setTimeout:void 0,z_=typeof clearTimeout=="function"?clearTimeout:void 0,Pm=typeof Promise=="function"?Promise:void 0,q_=typeof queueMicrotask=="function"?queueMicrotask:typeof Pm<"u"?function(e){return Pm.resolve(null).then(e).catch(P_)}:qm;function P_(e){setTimeout(function(){throw e})}function Gs(e){return e==="head"}function $m(e,t){var n=t,s=0,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"){if(0<s&&8>s){n=s;var g=e.ownerDocument;if(n&1&&ir(g.documentElement),n&2&&ir(g.body),n&4)for(n=g.head,ir(n),g=n.firstChild;g;){var v=g.nextSibling,E=g.nodeName;g[fn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&g.rel.toLowerCase()==="stylesheet"||n.removeChild(g),g=v}}if(l===0){e.removeChild(c),hr(t);return}l--}else n==="$"||n==="$?"||n==="$!"?l++:s=n.charCodeAt(0)-48;else s=0;n=c}while(n);hr(t)}function du(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":du(n),ht(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function $_(e,t,n,s){for(;e.nodeType===1;){var l=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[fn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function F_(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bn(e.nextSibling),e===null))return null;return e}function uu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function V_(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var fu=null;function Fm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Vm(e,t,n){switch(t=ko(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function ir(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ht(e)}var Mn=new Map,Ym=new Set;function Mo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bs=B.d;B.d={f:Y_,r:G_,D:X_,C:Z_,L:Q_,m:K_,X:ex,S:W_,M:tx};function Y_(){var e=bs.f(),t=So();return e||t}function G_(e){var t=Qt(e);t!==null&&t.tag===5&&t.type==="form"?hh(t):bs.r(e)}var dl=typeof document>"u"?null:document;function Gm(e,t,n){var s=dl;if(s&&typeof t=="string"&&t){var l=Ie(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),Ym.has(l)||(Ym.add(l),e={rel:e,crossOrigin:n,href:t},s.querySelector(l)===null&&(t=s.createElement("link"),Oa(t,"link",e),It(t),s.head.appendChild(t)))}}function X_(e){bs.D(e),Gm("dns-prefetch",e,null)}function Z_(e,t){bs.C(e,t),Gm("preconnect",e,t)}function Q_(e,t,n){bs.L(e,t,n);var s=dl;if(s&&e&&t){var l='link[rel="preload"][as="'+Ie(t)+'"]';t==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+Ie(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+Ie(n.imageSizes)+'"]')):l+='[href="'+Ie(e)+'"]';var c=l;switch(t){case"style":c=ul(e);break;case"script":c=fl(e)}Mn.has(c)||(e=b({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Mn.set(c,e),s.querySelector(l)!==null||t==="style"&&s.querySelector(lr(c))||t==="script"&&s.querySelector(rr(c))||(t=s.createElement("link"),Oa(t,"link",e),It(t),s.head.appendChild(t)))}}function K_(e,t){bs.m(e,t);var n=dl;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+Ie(s)+'"][href="'+Ie(e)+'"]',c=l;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=fl(e)}if(!Mn.has(c)&&(e=b({rel:"modulepreload",href:e},t),Mn.set(c,e),n.querySelector(l)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(rr(c)))return}s=n.createElement("link"),Oa(s,"link",e),It(s),n.head.appendChild(s)}}}function W_(e,t,n){bs.S(e,t,n);var s=dl;if(s&&e){var l=en(s).hoistableStyles,c=ul(e);t=t||"default";var g=l.get(c);if(!g){var v={loading:0,preload:null};if(g=s.querySelector(lr(c)))v.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Mn.get(c))&&hu(e,n);var E=g=s.createElement("link");It(E),Oa(E,"link",e),E._p=new Promise(function(G,de){E.onload=G,E.onerror=de}),E.addEventListener("load",function(){v.loading|=1}),E.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Ro(g,t,s)}g={type:"stylesheet",instance:g,count:1,state:v},l.set(c,g)}}}function ex(e,t){bs.X(e,t);var n=dl;if(n&&e){var s=en(n).hoistableScripts,l=fl(e),c=s.get(l);c||(c=n.querySelector(rr(l)),c||(e=b({src:e,async:!0},t),(t=Mn.get(l))&&mu(e,t),c=n.createElement("script"),It(c),Oa(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(l,c))}}function tx(e,t){bs.M(e,t);var n=dl;if(n&&e){var s=en(n).hoistableScripts,l=fl(e),c=s.get(l);c||(c=n.querySelector(rr(l)),c||(e=b({src:e,async:!0,type:"module"},t),(t=Mn.get(l))&&mu(e,t),c=n.createElement("script"),It(c),Oa(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(l,c))}}function Xm(e,t,n,s){var l=(l=ee.current)?Mo(l):null;if(!l)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ul(n.href),n=en(l).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ul(n.href);var c=en(l).hoistableStyles,g=c.get(e);if(g||(l=l.ownerDocument||l,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,g),(c=l.querySelector(lr(e)))&&!c._p&&(g.instance=c,g.state.loading=5),Mn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Mn.set(e,n),c||ax(l,e,n,g.state))),t&&s===null)throw Error(o(528,""));return g}if(t&&s!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=fl(n),n=en(l).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function ul(e){return'href="'+Ie(e)+'"'}function lr(e){return'link[rel="stylesheet"]['+e+"]"}function Zm(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function ax(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Oa(t,"link",n),It(t),e.head.appendChild(t))}function fl(e){return'[src="'+Ie(e)+'"]'}function rr(e){return"script[async]"+e}function Qm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Ie(n.href)+'"]');if(s)return t.instance=s,It(s),s;var l=b({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),It(s),Oa(s,"style",l),Ro(s,n.precedence,e),t.instance=s;case"stylesheet":l=ul(n.href);var c=e.querySelector(lr(l));if(c)return t.state.loading|=4,t.instance=c,It(c),c;s=Zm(n),(l=Mn.get(l))&&hu(s,l),c=(e.ownerDocument||e).createElement("link"),It(c);var g=c;return g._p=new Promise(function(v,E){g.onload=v,g.onerror=E}),Oa(c,"link",s),t.state.loading|=4,Ro(c,n.precedence,e),t.instance=c;case"script":return c=fl(n.src),(l=e.querySelector(rr(c)))?(t.instance=l,It(l),l):(s=n,(l=Mn.get(c))&&(s=b({},n),mu(s,l)),e=e.ownerDocument||e,l=e.createElement("script"),It(l),Oa(l,"link",s),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Ro(s,n.precedence,e));return t.instance}function Ro(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=s.length?s[s.length-1]:null,c=l,g=0;g<s.length;g++){var v=s[g];if(v.dataset.precedence===t)c=v;else if(c!==l)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function hu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function mu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Lo=null;function Km(e,t,n){if(Lo===null){var s=new Map,l=Lo=new Map;l.set(n,s)}else l=Lo,s=l.get(n),s||(s=new Map,l.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var c=n[l];if(!(c[fn]||c[la]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var g=c.getAttribute(t)||"";g=e+g;var v=s.get(g);v?v.push(c):s.set(g,[c])}}return s}function Wm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function nx(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ep(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var or=null;function sx(){}function ix(e,t,n){if(or===null)throw Error(o(475));var s=or;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var l=ul(n.href),c=e.querySelector(lr(l));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=Oo.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=c,It(c);return}c=e.ownerDocument||e,n=Zm(n),(l=Mn.get(l))&&hu(n,l),c=c.createElement("link"),It(c);var g=c;g._p=new Promise(function(v,E){g.onload=v,g.onerror=E}),Oa(c,"link",n),t.instance=c}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(s.count++,t=Oo.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function lx(){if(or===null)throw Error(o(475));var e=or;return e.stylesheets&&e.count===0&&pu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&pu(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Oo(){if(this.count--,this.count===0){if(this.stylesheets)pu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ho=null;function pu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ho=new Map,t.forEach(rx,e),Ho=null,Oo.call(e))}function rx(e,t){if(!(t.state.loading&4)){var n=Ho.get(e);if(n)var s=n.get(null);else{n=new Map,Ho.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<l.length;c++){var g=l[c];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(n.set(g.dataset.precedence,g),s=g)}s&&n.set(null,s)}l=t.instance,g=l.getAttribute("data-precedence"),c=n.get(g)||s,c===s&&n.set(null,l),n.set(g,l),this.count++,s=Oo.bind(this),l.addEventListener("load",s),l.addEventListener("error",s),c?c.parentNode.insertBefore(l,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var cr={$$typeof:J,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function ox(e,t,n,s,l,c,g,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.hiddenUpdates=Da(null),this.identifierPrefix=s,this.onUncaughtError=l,this.onCaughtError=c,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function tp(e,t,n,s,l,c,g,v,E,G,de,ye){return e=new ox(e,t,n,g,v,E,G,ye),t=1,c===!0&&(t|=24),c=mn(3,null,null,t),e.current=c,c.stateNode=e,t=Zc(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:s,isDehydrated:n,cache:t},ed(c),e}function ap(e){return e?(e=Pi,e):Pi}function np(e,t,n,s,l,c){l=ap(l),s.context===null?s.context=l:s.pendingContext=l,s=Os(t),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=Hs(e,s,t),n!==null&&(yn(n,e,t),Jl(n,e,t))}function sp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gu(e,t){sp(e,t),(e=e.alternate)&&sp(e,t)}function ip(e){if(e.tag===13){var t=qi(e,67108864);t!==null&&yn(t,e,67108864),gu(e,67108864)}}var Io=!0;function cx(e,t,n,s){var l=w.T;w.T=null;var c=B.p;try{B.p=2,_u(e,t,n,s)}finally{B.p=c,w.T=l}}function dx(e,t,n,s){var l=w.T;w.T=null;var c=B.p;try{B.p=8,_u(e,t,n,s)}finally{B.p=c,w.T=l}}function _u(e,t,n,s){if(Io){var l=xu(s);if(l===null)su(e,t,s,Uo,n),rp(e,s);else if(fx(l,e,t,n,s))s.stopPropagation();else if(rp(e,s),t&4&&-1<ux.indexOf(e)){for(;l!==null;){var c=Qt(l);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var g=He(c.pendingLanes);if(g!==0){var v=c;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var E=1<<31-Mt(g);v.entanglements[1]|=E,g&=~E}ts(c),(Jt&6)===0&&(bo=Et()+500,ar(0))}}break;case 13:v=qi(c,2),v!==null&&yn(v,c,2),So(),gu(c,2)}if(c=xu(s),c===null&&su(e,t,s,Uo,n),c===l)break;l=c}l!==null&&s.stopPropagation()}else su(e,t,s,null,n)}}function xu(e){return e=Z(e),yu(e)}var Uo=null;function yu(e){if(Uo=null,e=ka(e),e!==null){var t=h(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Uo=e,null}function lp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(he()){case bt:return 2;case $t:return 8;case ia:case Fa:return 32;case ft:return 268435456;default:return 32}default:return 32}}var vu=!1,Xs=null,Zs=null,Qs=null,dr=new Map,ur=new Map,Ks=[],ux="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rp(e,t){switch(e){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":dr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ur.delete(t.pointerId)}}function fr(e,t,n,s,l,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:c,targetContainers:[l]},t!==null&&(t=Qt(t),t!==null&&ip(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function fx(e,t,n,s,l){switch(t){case"focusin":return Xs=fr(Xs,e,t,n,s,l),!0;case"dragenter":return Zs=fr(Zs,e,t,n,s,l),!0;case"mouseover":return Qs=fr(Qs,e,t,n,s,l),!0;case"pointerover":var c=l.pointerId;return dr.set(c,fr(dr.get(c)||null,e,t,n,s,l)),!0;case"gotpointercapture":return c=l.pointerId,ur.set(c,fr(ur.get(c)||null,e,t,n,s,l)),!0}return!1}function op(e){var t=ka(e.target);if(t!==null){var n=h(t);if(n!==null){if(t=n.tag,t===13){if(t=p(n),t!==null){e.blockedOn=t,Wa(e.priority,function(){if(n.tag===13){var s=xn();s=Qa(s);var l=qi(n,s);l!==null&&yn(l,n,s),gu(n,s)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xu(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);S=s,n.target.dispatchEvent(s),S=null}else return t=Qt(n),t!==null&&ip(t),e.blockedOn=n,!1;t.shift()}return!0}function cp(e,t,n){Jo(e)&&n.delete(t)}function hx(){vu=!1,Xs!==null&&Jo(Xs)&&(Xs=null),Zs!==null&&Jo(Zs)&&(Zs=null),Qs!==null&&Jo(Qs)&&(Qs=null),dr.forEach(cp),ur.forEach(cp)}function Bo(e,t){e.blockedOn===t&&(e.blockedOn=null,vu||(vu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,hx)))}var zo=null;function dp(e){zo!==e&&(zo=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){zo===e&&(zo=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],l=e[t+2];if(typeof s!="function"){if(yu(s||n)===null)continue;break}var c=Qt(n);c!==null&&(e.splice(t,3),t-=3,yd(c,{pending:!0,data:l,method:n.method,action:s},s,l))}}))}function hr(e){function t(E){return Bo(E,e)}Xs!==null&&Bo(Xs,e),Zs!==null&&Bo(Zs,e),Qs!==null&&Bo(Qs,e),dr.forEach(t),ur.forEach(t);for(var n=0;n<Ks.length;n++){var s=Ks[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ks.length&&(n=Ks[0],n.blockedOn===null);)op(n),n.blockedOn===null&&Ks.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var l=n[s],c=n[s+1],g=l[ra]||null;if(typeof c=="function")g||dp(n);else if(g){var v=null;if(c&&c.hasAttribute("formAction")){if(l=c,g=c[ra]||null)v=g.formAction;else if(yu(l)!==null)continue}else v=g.action;typeof v=="function"?n[s+1]=v:(n.splice(s,3),s-=3),dp(n)}}}function bu(e){this._internalRoot=e}qo.prototype.render=bu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,s=xn();np(n,s,e,t,null,null)},qo.prototype.unmount=bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;np(e.current,2,null,e,null,null),So(),t[Rn]=null}};function qo(e){this._internalRoot=e}qo.prototype.unstable_scheduleHydration=function(e){if(e){var t=un();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ks.length&&t!==0&&t<Ks[n].priority;n++);Ks.splice(n,0,e),n===0&&op(e)}};var up=r.version;if(up!=="19.1.0")throw Error(o(527,up,"19.1.0"));B.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=x(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var mx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Po.isDisabled&&Po.supportsFiber)try{ot=Po.inject(mx),Qe=Po}catch{}}return pr.createRoot=function(e,t){if(!f(e))throw Error(o(299));var n=!1,s="",l=Ah,c=wh,g=Eh,v=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(v=t.unstable_transitionCallbacks)),t=tp(e,1,!1,null,null,n,s,l,c,g,v,null),e[Rn]=t.current,nu(e),new bu(t)},pr.hydrateRoot=function(e,t,n){if(!f(e))throw Error(o(299));var s=!1,l="",c=Ah,g=wh,v=Eh,E=null,G=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks),n.formState!==void 0&&(G=n.formState)),t=tp(e,1,!0,t,n??null,s,l,c,g,v,E,G),t.context=ap(null),n=t.current,s=xn(),s=Qa(s),l=Os(s),l.callback=null,Hs(n,l,s),n=s,t.current.lanes=n,ca(t,n),ts(t),e[Rn]=t.current,nu(e),new qo(t)},pr.version="19.1.0",pr}var bp;function Cx(){if(bp)return Nu.exports;bp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),Nu.exports=Nx(),Nu.exports}var Dx=Cx();const Ax="modulepreload",wx=function(i){return"/pms/"+i},jp={},hl=function(r,d,o){let f=Promise.resolve();if(d&&d.length>0){let x=function(_){return Promise.all(_.map(b=>Promise.resolve(b).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),y=p?.nonce||p?.getAttribute("nonce");f=x(d.map(_=>{if(_=wx(_),_ in jp)return;jp[_]=!0;const b=_.endsWith(".css"),C=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${C}`))return;const k=document.createElement("link");if(k.rel=b?"stylesheet":Ax,b||(k.as="script"),k.crossOrigin="",k.href=_,y&&k.setAttribute("nonce",y),document.head.appendChild(k),b)return new Promise((H,D)=>{k.addEventListener("load",H),k.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${_}`)))})}))}function h(p){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=p,window.dispatchEvent(y),!y.defaultPrevented)throw p}return f.then(p=>{for(const y of p||[])y.status==="rejected"&&h(y.reason);return r().catch(h)})};var gr={},Sp;function Ex(){if(Sp)return gr;Sp=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.parse=p,gr.serialize=_;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,d=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,f=Object.prototype.toString,h=(()=>{const k=function(){};return k.prototype=Object.create(null),k})();function p(k,H){const D=new h,T=k.length;if(T<2)return D;const L=H?.decode||b;let R=0;do{const $=k.indexOf("=",R);if($===-1)break;const J=k.indexOf(";",R),ie=J===-1?T:J;if($>ie){R=k.lastIndexOf(";",$-1)+1;continue}const te=y(k,R,$),we=x(k,$,te),ge=k.slice(te,we);if(D[ge]===void 0){let ue=y(k,$+1,ie),je=x(k,ie,ue);const P=L(k.slice(ue,je));D[ge]=P}R=ie+1}while(R<T);return D}function y(k,H,D){do{const T=k.charCodeAt(H);if(T!==32&&T!==9)return H}while(++H<D);return D}function x(k,H,D){for(;H>D;){const T=k.charCodeAt(--H);if(T!==32&&T!==9)return H+1}return D}function _(k,H,D){const T=D?.encode||encodeURIComponent;if(!i.test(k))throw new TypeError(`argument name is invalid: ${k}`);const L=T(H);if(!r.test(L))throw new TypeError(`argument val is invalid: ${H}`);let R=k+"="+L;if(!D)return R;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);R+="; Max-Age="+D.maxAge}if(D.domain){if(!d.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);R+="; Domain="+D.domain}if(D.path){if(!o.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);R+="; Path="+D.path}if(D.expires){if(!C(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);R+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(R+="; HttpOnly"),D.secure&&(R+="; Secure"),D.partitioned&&(R+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return R}function b(k){if(k.indexOf("%")===-1)return k;try{return decodeURIComponent(k)}catch{return k}}function C(k){return f.call(k)==="[object Date]"}return gr}Ex();var Np="popstate";function Tx(i={}){function r(o,f){let{pathname:h,search:p,hash:y}=o.location;return Ru("",{pathname:h,search:p,hash:y},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function d(o,f){return typeof f=="string"?f:yr(f)}return Mx(r,d,null,i)}function sa(i,r){if(i===!1||i===null||typeof i>"u")throw new Error(r)}function Pn(i,r){if(!i){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function kx(){return Math.random().toString(36).substring(2,10)}function Cp(i,r){return{usr:i.state,key:i.key,idx:r}}function Ru(i,r,d=null,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof r=="string"?ml(r):r,state:d,key:r&&r.key||o||kx()}}function yr({pathname:i="/",search:r="",hash:d=""}){return r&&r!=="?"&&(i+=r.charAt(0)==="?"?r:"?"+r),d&&d!=="#"&&(i+=d.charAt(0)==="#"?d:"#"+d),i}function ml(i){let r={};if(i){let d=i.indexOf("#");d>=0&&(r.hash=i.substring(d),i=i.substring(0,d));let o=i.indexOf("?");o>=0&&(r.search=i.substring(o),i=i.substring(0,o)),i&&(r.pathname=i)}return r}function Mx(i,r,d,o={}){let{window:f=document.defaultView,v5Compat:h=!1}=o,p=f.history,y="POP",x=null,_=b();_==null&&(_=0,p.replaceState({...p.state,idx:_},""));function b(){return(p.state||{idx:null}).idx}function C(){y="POP";let L=b(),R=L==null?null:L-_;_=L,x&&x({action:y,location:T.location,delta:R})}function k(L,R){y="PUSH";let $=Ru(T.location,L,R);_=b()+1;let J=Cp($,_),ie=T.createHref($);try{p.pushState(J,"",ie)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;f.location.assign(ie)}h&&x&&x({action:y,location:T.location,delta:1})}function H(L,R){y="REPLACE";let $=Ru(T.location,L,R);_=b();let J=Cp($,_),ie=T.createHref($);p.replaceState(J,"",ie),h&&x&&x({action:y,location:T.location,delta:0})}function D(L){return Rx(L)}let T={get action(){return y},get location(){return i(f,p)},listen(L){if(x)throw new Error("A history only accepts one active listener");return f.addEventListener(Np,C),x=L,()=>{f.removeEventListener(Np,C),x=null}},createHref(L){return r(f,L)},createURL:D,encodeLocation(L){let R=D(L);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:k,replace:H,go(L){return p.go(L)}};return T}function Rx(i,r=!1){let d="http://localhost";typeof window<"u"&&(d=window.location.origin!=="null"?window.location.origin:window.location.href),sa(d,"No window.location.(origin|href) available to create URL");let o=typeof i=="string"?i:yr(i);return o=o.replace(/ $/,"%20"),!r&&o.startsWith("//")&&(o=d+o),new URL(o,d)}function Gp(i,r,d="/"){return Lx(i,r,d,!1)}function Lx(i,r,d,o){let f=typeof r=="string"?ml(r):r,h=Ss(f.pathname||"/",d);if(h==null)return null;let p=Xp(i);Ox(p);let y=null;for(let x=0;y==null&&x<p.length;++x){let _=Vx(h);y=$x(p[x],_,o)}return y}function Xp(i,r=[],d=[],o=""){let f=(h,p,y)=>{let x={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};x.relativePath.startsWith("/")&&(sa(x.relativePath.startsWith(o),`Absolute route path "${x.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(o.length));let _=js([o,x.relativePath]),b=d.concat(x);h.children&&h.children.length>0&&(sa(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Xp(h.children,r,b,_)),!(h.path==null&&!h.index)&&r.push({path:_,score:qx(_,h.index),routesMeta:b})};return i.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))f(h,p);else for(let y of Zp(h.path))f(h,p,y)}),r}function Zp(i){let r=i.split("/");if(r.length===0)return[];let[d,...o]=r,f=d.endsWith("?"),h=d.replace(/\?$/,"");if(o.length===0)return f?[h,""]:[h];let p=Zp(o.join("/")),y=[];return y.push(...p.map(x=>x===""?h:[h,x].join("/"))),f&&y.push(...p),y.map(x=>i.startsWith("/")&&x===""?"/":x)}function Ox(i){i.sort((r,d)=>r.score!==d.score?d.score-r.score:Px(r.routesMeta.map(o=>o.childrenIndex),d.routesMeta.map(o=>o.childrenIndex)))}var Hx=/^:[\w-]+$/,Ix=3,Ux=2,Jx=1,Bx=10,zx=-2,Dp=i=>i==="*";function qx(i,r){let d=i.split("/"),o=d.length;return d.some(Dp)&&(o+=zx),r&&(o+=Ux),d.filter(f=>!Dp(f)).reduce((f,h)=>f+(Hx.test(h)?Ix:h===""?Jx:Bx),o)}function Px(i,r){return i.length===r.length&&i.slice(0,-1).every((o,f)=>o===r[f])?i[i.length-1]-r[r.length-1]:0}function $x(i,r,d=!1){let{routesMeta:o}=i,f={},h="/",p=[];for(let y=0;y<o.length;++y){let x=o[y],_=y===o.length-1,b=h==="/"?r:r.slice(h.length)||"/",C=ec({path:x.relativePath,caseSensitive:x.caseSensitive,end:_},b),k=x.route;if(!C&&_&&d&&!o[o.length-1].route.index&&(C=ec({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},b)),!C)return null;Object.assign(f,C.params),p.push({params:f,pathname:js([h,C.pathname]),pathnameBase:Zx(js([h,C.pathnameBase])),route:k}),C.pathnameBase!=="/"&&(h=js([h,C.pathnameBase]))}return p}function ec(i,r){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[d,o]=Fx(i.path,i.caseSensitive,i.end),f=r.match(d);if(!f)return null;let h=f[0],p=h.replace(/(.)\/+$/,"$1"),y=f.slice(1);return{params:o.reduce((_,{paramName:b,isOptional:C},k)=>{if(b==="*"){let D=y[k]||"";p=h.slice(0,h.length-D.length).replace(/(.)\/+$/,"$1")}const H=y[k];return C&&!H?_[b]=void 0:_[b]=(H||"").replace(/%2F/g,"/"),_},{}),pathname:h,pathnameBase:p,pattern:i}}function Fx(i,r=!1,d=!0){Pn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let o=[],f="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,y,x)=>(o.push({paramName:y,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),f+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):d?f+="\\/*$":i!==""&&i!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,r?void 0:"i"),o]}function Vx(i){try{return i.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Pn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),i}}function Ss(i,r){if(r==="/")return i;if(!i.toLowerCase().startsWith(r.toLowerCase()))return null;let d=r.endsWith("/")?r.length-1:r.length,o=i.charAt(d);return o&&o!=="/"?null:i.slice(d)||"/"}function Yx(i,r="/"){let{pathname:d,search:o="",hash:f=""}=typeof i=="string"?ml(i):i;return{pathname:d?d.startsWith("/")?d:Gx(d,r):r,search:Qx(o),hash:Kx(f)}}function Gx(i,r){let d=r.replace(/\/+$/,"").split("/");return i.split("/").forEach(f=>{f===".."?d.length>1&&d.pop():f!=="."&&d.push(f)}),d.length>1?d.join("/"):"/"}function wu(i,r,d,o){return`Cannot include a '${i}' character in a manually specified \`to.${r}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${d}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xx(i){return i.filter((r,d)=>d===0||r.route.path&&r.route.path.length>0)}function Vu(i){let r=Xx(i);return r.map((d,o)=>o===r.length-1?d.pathname:d.pathnameBase)}function Yu(i,r,d,o=!1){let f;typeof i=="string"?f=ml(i):(f={...i},sa(!f.pathname||!f.pathname.includes("?"),wu("?","pathname","search",f)),sa(!f.pathname||!f.pathname.includes("#"),wu("#","pathname","hash",f)),sa(!f.search||!f.search.includes("#"),wu("#","search","hash",f)));let h=i===""||f.pathname==="",p=h?"/":f.pathname,y;if(p==null)y=d;else{let C=r.length-1;if(!o&&p.startsWith("..")){let k=p.split("/");for(;k[0]==="..";)k.shift(),C-=1;f.pathname=k.join("/")}y=C>=0?r[C]:"/"}let x=Yx(f,y),_=p&&p!=="/"&&p.endsWith("/"),b=(h||p===".")&&d.endsWith("/");return!x.pathname.endsWith("/")&&(_||b)&&(x.pathname+="/"),x}var js=i=>i.join("/").replace(/\/\/+/g,"/"),Zx=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Qx=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Kx=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Wx(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Qp=["POST","PUT","PATCH","DELETE"];new Set(Qp);var ey=["GET",...Qp];new Set(ey);var pl=u.createContext(null);pl.displayName="DataRouter";var ic=u.createContext(null);ic.displayName="DataRouterState";var Kp=u.createContext({isTransitioning:!1});Kp.displayName="ViewTransition";var ty=u.createContext(new Map);ty.displayName="Fetchers";var ay=u.createContext(null);ay.displayName="Await";var $n=u.createContext(null);$n.displayName="Navigation";var Nr=u.createContext(null);Nr.displayName="Location";var ns=u.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var Gu=u.createContext(null);Gu.displayName="RouteError";function ny(i,{relative:r}={}){sa(gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:d,navigator:o}=u.useContext($n),{hash:f,pathname:h,search:p}=Cr(i,{relative:r}),y=h;return d!=="/"&&(y=h==="/"?d:js([d,h])),o.createHref({pathname:y,search:p,hash:f})}function gl(){return u.useContext(Nr)!=null}function ti(){return sa(gl(),"useLocation() may be used only in the context of a <Router> component."),u.useContext(Nr).location}var Wp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eg(i){u.useContext($n).static||u.useLayoutEffect(i)}function _l(){let{isDataRoute:i}=u.useContext(ns);return i?gy():sy()}function sy(){sa(gl(),"useNavigate() may be used only in the context of a <Router> component.");let i=u.useContext(pl),{basename:r,navigator:d}=u.useContext($n),{matches:o}=u.useContext(ns),{pathname:f}=ti(),h=JSON.stringify(Vu(o)),p=u.useRef(!1);return eg(()=>{p.current=!0}),u.useCallback((x,_={})=>{if(Pn(p.current,Wp),!p.current)return;if(typeof x=="number"){d.go(x);return}let b=Yu(x,JSON.parse(h),f,_.relative==="path");i==null&&r!=="/"&&(b.pathname=b.pathname==="/"?r:js([r,b.pathname])),(_.replace?d.replace:d.push)(b,_.state,_)},[r,d,h,f,i])}u.createContext(null);function Cr(i,{relative:r}={}){let{matches:d}=u.useContext(ns),{pathname:o}=ti(),f=JSON.stringify(Vu(d));return u.useMemo(()=>Yu(i,JSON.parse(f),o,r==="path"),[i,f,o,r])}function iy(i,r){return tg(i,r)}function tg(i,r,d,o){sa(gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=u.useContext($n),{matches:h}=u.useContext(ns),p=h[h.length-1],y=p?p.params:{},x=p?p.pathname:"/",_=p?p.pathnameBase:"/",b=p&&p.route;{let R=b&&b.path||"";ag(x,!b||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let C=ti(),k;if(r){let R=typeof r=="string"?ml(r):r;sa(_==="/"||R.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${R.pathname}" was given in the \`location\` prop.`),k=R}else k=C;let H=k.pathname||"/",D=H;if(_!=="/"){let R=_.replace(/^\//,"").split("/");D="/"+H.replace(/^\//,"").split("/").slice(R.length).join("/")}let T=Gp(i,{pathname:D});Pn(b||T!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Pn(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=dy(T&&T.map(R=>Object.assign({},R,{params:Object.assign({},y,R.params),pathname:js([_,f.encodeLocation?f.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?_:js([_,f.encodeLocation?f.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),h,d,o);return r&&L?u.createElement(Nr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},L):L}function ly(){let i=py(),r=Wx(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),d=i instanceof Error?i.stack:null,o="rgba(200,200,200, 0.5)",f={padding:"0.5rem",backgroundColor:o},h={padding:"2px 4px",backgroundColor:o},p=null;return console.error("Error handled by React Router default ErrorBoundary:",i),p=u.createElement(u.Fragment,null,u.createElement("p",null," Hey developer "),u.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",u.createElement("code",{style:h},"ErrorBoundary")," or"," ",u.createElement("code",{style:h},"errorElement")," prop on your route.")),u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},r),d?u.createElement("pre",{style:f},d):null,p)}var ry=u.createElement(ly,null),oy=class extends u.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,r){return r.location!==i.location||r.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:r.error,location:r.location,revalidation:i.revalidation||r.revalidation}}componentDidCatch(i,r){console.error("React Router caught the following error during render",i,r)}render(){return this.state.error!==void 0?u.createElement(ns.Provider,{value:this.props.routeContext},u.createElement(Gu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cy({routeContext:i,match:r,children:d}){let o=u.useContext(pl);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),u.createElement(ns.Provider,{value:i},d)}function dy(i,r=[],d=null,o=null){if(i==null){if(!d)return null;if(d.errors)i=d.matches;else if(r.length===0&&!d.initialized&&d.matches.length>0)i=d.matches;else return null}let f=i,h=d?.errors;if(h!=null){let x=f.findIndex(_=>_.route.id&&h?.[_.route.id]!==void 0);sa(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),f=f.slice(0,Math.min(f.length,x+1))}let p=!1,y=-1;if(d)for(let x=0;x<f.length;x++){let _=f[x];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(y=x),_.route.id){let{loaderData:b,errors:C}=d,k=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!C||C[_.route.id]===void 0);if(_.route.lazy||k){p=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}return f.reduceRight((x,_,b)=>{let C,k=!1,H=null,D=null;d&&(C=h&&_.route.id?h[_.route.id]:void 0,H=_.route.errorElement||ry,p&&(y<0&&b===0?(ag("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,D=null):y===b&&(k=!0,D=_.route.hydrateFallbackElement||null)));let T=r.concat(f.slice(0,b+1)),L=()=>{let R;return C?R=H:k?R=D:_.route.Component?R=u.createElement(_.route.Component,null):_.route.element?R=_.route.element:R=x,u.createElement(cy,{match:_,routeContext:{outlet:x,matches:T,isDataRoute:d!=null},children:R})};return d&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?u.createElement(oy,{location:d.location,revalidation:d.revalidation,component:H,error:C,children:L(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):L()},null)}function Xu(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uy(i){let r=u.useContext(pl);return sa(r,Xu(i)),r}function fy(i){let r=u.useContext(ic);return sa(r,Xu(i)),r}function hy(i){let r=u.useContext(ns);return sa(r,Xu(i)),r}function Zu(i){let r=hy(i),d=r.matches[r.matches.length-1];return sa(d.route.id,`${i} can only be used on routes that contain a unique "id"`),d.route.id}function my(){return Zu("useRouteId")}function py(){let i=u.useContext(Gu),r=fy("useRouteError"),d=Zu("useRouteError");return i!==void 0?i:r.errors?.[d]}function gy(){let{router:i}=uy("useNavigate"),r=Zu("useNavigate"),d=u.useRef(!1);return eg(()=>{d.current=!0}),u.useCallback(async(f,h={})=>{Pn(d.current,Wp),d.current&&(typeof f=="number"?i.navigate(f):await i.navigate(f,{fromRouteId:r,...h}))},[i,r])}var Ap={};function ag(i,r,d){!r&&!Ap[i]&&(Ap[i]=!0,Pn(!1,d))}u.memo(_y);function _y({routes:i,future:r,state:d}){return tg(i,void 0,d,r)}function zn({to:i,replace:r,state:d,relative:o}){sa(gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:f}=u.useContext($n);Pn(!f,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=u.useContext(ns),{pathname:p}=ti(),y=_l(),x=Yu(i,Vu(h),p,o==="path"),_=JSON.stringify(x);return u.useEffect(()=>{y(JSON.parse(_),{replace:r,state:d,relative:o})},[y,_,o,r,d]),null}function ea(i){sa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xy({basename:i="/",children:r=null,location:d,navigationType:o="POP",navigator:f,static:h=!1}){sa(!gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=i.replace(/^\/*/,"/"),y=u.useMemo(()=>({basename:p,navigator:f,static:h,future:{}}),[p,f,h]);typeof d=="string"&&(d=ml(d));let{pathname:x="/",search:_="",hash:b="",state:C=null,key:k="default"}=d,H=u.useMemo(()=>{let D=Ss(x,p);return D==null?null:{location:{pathname:D,search:_,hash:b,state:C,key:k},navigationType:o}},[p,x,_,b,C,k,o]);return Pn(H!=null,`<Router basename="${p}"> is not able to match the URL "${x}${_}${b}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:u.createElement($n.Provider,{value:y},u.createElement(Nr.Provider,{children:r,value:H}))}function yy({children:i,location:r}){return iy(Lu(i),r)}function Lu(i,r=[]){let d=[];return u.Children.forEach(i,(o,f)=>{if(!u.isValidElement(o))return;let h=[...r,f];if(o.type===u.Fragment){d.push.apply(d,Lu(o.props.children,h));return}sa(o.type===ea,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sa(!o.props.index||!o.props.children,"An index route cannot have child routes.");let p={id:o.props.id||h.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(p.children=Lu(o.props.children,h)),d.push(p)}),d}var Go="get",Xo="application/x-www-form-urlencoded";function lc(i){return i!=null&&typeof i.tagName=="string"}function vy(i){return lc(i)&&i.tagName.toLowerCase()==="button"}function by(i){return lc(i)&&i.tagName.toLowerCase()==="form"}function jy(i){return lc(i)&&i.tagName.toLowerCase()==="input"}function Sy(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Ny(i,r){return i.button===0&&(!r||r==="_self")&&!Sy(i)}var $o=null;function Cy(){if($o===null)try{new FormData(document.createElement("form"),0),$o=!1}catch{$o=!0}return $o}var Dy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eu(i){return i!=null&&!Dy.has(i)?(Pn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xo}"`),null):i}function Ay(i,r){let d,o,f,h,p;if(by(i)){let y=i.getAttribute("action");o=y?Ss(y,r):null,d=i.getAttribute("method")||Go,f=Eu(i.getAttribute("enctype"))||Xo,h=new FormData(i)}else if(vy(i)||jy(i)&&(i.type==="submit"||i.type==="image")){let y=i.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=i.getAttribute("formaction")||y.getAttribute("action");if(o=x?Ss(x,r):null,d=i.getAttribute("formmethod")||y.getAttribute("method")||Go,f=Eu(i.getAttribute("formenctype"))||Eu(y.getAttribute("enctype"))||Xo,h=new FormData(y,i),!Cy()){let{name:_,type:b,value:C}=i;if(b==="image"){let k=_?`${_}.`:"";h.append(`${k}x`,"0"),h.append(`${k}y`,"0")}else _&&h.append(_,C)}}else{if(lc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');d=Go,o=null,f=Xo,p=i}return h&&f==="text/plain"&&(p=h,h=void 0),{action:o,method:d.toLowerCase(),encType:f,formData:h,body:p}}function Qu(i,r){if(i===!1||i===null||typeof i>"u")throw new Error(r)}async function wy(i,r){if(i.id in r)return r[i.id];try{let d=await import(i.module);return r[i.id]=d,d}catch(d){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(d),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ey(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Ty(i,r,d){let o=await Promise.all(i.map(async f=>{let h=r.routes[f.route.id];if(h){let p=await wy(h,d);return p.links?p.links():[]}return[]}));return Ly(o.flat(1).filter(Ey).filter(f=>f.rel==="stylesheet"||f.rel==="preload").map(f=>f.rel==="stylesheet"?{...f,rel:"prefetch",as:"style"}:{...f,rel:"prefetch"}))}function wp(i,r,d,o,f,h){let p=(x,_)=>d[_]?x.route.id!==d[_].route.id:!0,y=(x,_)=>d[_].pathname!==x.pathname||d[_].route.path?.endsWith("*")&&d[_].params["*"]!==x.params["*"];return h==="assets"?r.filter((x,_)=>p(x,_)||y(x,_)):h==="data"?r.filter((x,_)=>{let b=o.routes[x.route.id];if(!b||!b.hasLoader)return!1;if(p(x,_)||y(x,_))return!0;if(x.route.shouldRevalidate){let C=x.route.shouldRevalidate({currentUrl:new URL(f.pathname+f.search+f.hash,window.origin),currentParams:d[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function ky(i,r,{includeHydrateFallback:d}={}){return My(i.map(o=>{let f=r.routes[o.route.id];if(!f)return[];let h=[f.module];return f.clientActionModule&&(h=h.concat(f.clientActionModule)),f.clientLoaderModule&&(h=h.concat(f.clientLoaderModule)),d&&f.hydrateFallbackModule&&(h=h.concat(f.hydrateFallbackModule)),f.imports&&(h=h.concat(f.imports)),h}).flat(1))}function My(i){return[...new Set(i)]}function Ry(i){let r={},d=Object.keys(i).sort();for(let o of d)r[o]=i[o];return r}function Ly(i,r){let d=new Set;return new Set(r),i.reduce((o,f)=>{let h=JSON.stringify(Ry(f));return d.has(h)||(d.add(h),o.push({key:h,link:f})),o},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Oy=new Set([100,101,204,205]);function Hy(i,r){let d=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return d.pathname==="/"?d.pathname="_root.data":r&&Ss(d.pathname,r)==="/"?d.pathname=`${r.replace(/\/$/,"")}/_root.data`:d.pathname=`${d.pathname.replace(/\/$/,"")}.data`,d}function ng(){let i=u.useContext(pl);return Qu(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Iy(){let i=u.useContext(ic);return Qu(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Ku=u.createContext(void 0);Ku.displayName="FrameworkContext";function sg(){let i=u.useContext(Ku);return Qu(i,"You must render this element inside a <HydratedRouter> element"),i}function Uy(i,r){let d=u.useContext(Ku),[o,f]=u.useState(!1),[h,p]=u.useState(!1),{onFocus:y,onBlur:x,onMouseEnter:_,onMouseLeave:b,onTouchStart:C}=r,k=u.useRef(null);u.useEffect(()=>{if(i==="render"&&p(!0),i==="viewport"){let T=R=>{R.forEach($=>{p($.isIntersecting)})},L=new IntersectionObserver(T,{threshold:.5});return k.current&&L.observe(k.current),()=>{L.disconnect()}}},[i]),u.useEffect(()=>{if(o){let T=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(T)}}},[o]);let H=()=>{f(!0)},D=()=>{f(!1),p(!1)};return d?i!=="intent"?[h,k,{}]:[h,k,{onFocus:_r(y,H),onBlur:_r(x,D),onMouseEnter:_r(_,H),onMouseLeave:_r(b,D),onTouchStart:_r(C,H)}]:[!1,k,{}]}function _r(i,r){return d=>{i&&i(d),d.defaultPrevented||r(d)}}function Jy({page:i,...r}){let{router:d}=ng(),o=u.useMemo(()=>Gp(d.routes,i,d.basename),[d.routes,i,d.basename]);return o?u.createElement(zy,{page:i,matches:o,...r}):null}function By(i){let{manifest:r,routeModules:d}=sg(),[o,f]=u.useState([]);return u.useEffect(()=>{let h=!1;return Ty(i,r,d).then(p=>{h||f(p)}),()=>{h=!0}},[i,r,d]),o}function zy({page:i,matches:r,...d}){let o=ti(),{manifest:f,routeModules:h}=sg(),{basename:p}=ng(),{loaderData:y,matches:x}=Iy(),_=u.useMemo(()=>wp(i,r,x,f,o,"data"),[i,r,x,f,o]),b=u.useMemo(()=>wp(i,r,x,f,o,"assets"),[i,r,x,f,o]),C=u.useMemo(()=>{if(i===o.pathname+o.search+o.hash)return[];let D=new Set,T=!1;if(r.forEach(R=>{let $=f.routes[R.route.id];!$||!$.hasLoader||(!_.some(J=>J.route.id===R.route.id)&&R.route.id in y&&h[R.route.id]?.shouldRevalidate||$.hasClientLoader?T=!0:D.add(R.route.id))}),D.size===0)return[];let L=Hy(i,p);return T&&D.size>0&&L.searchParams.set("_routes",r.filter(R=>D.has(R.route.id)).map(R=>R.route.id).join(",")),[L.pathname+L.search]},[p,y,o,f,_,r,i,h]),k=u.useMemo(()=>ky(b,f),[b,f]),H=By(b);return u.createElement(u.Fragment,null,C.map(D=>u.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...d})),k.map(D=>u.createElement("link",{key:D,rel:"modulepreload",href:D,...d})),H.map(({key:D,link:T})=>u.createElement("link",{key:D,...T})))}function qy(...i){return r=>{i.forEach(d=>{typeof d=="function"?d(r):d!=null&&(d.current=r)})}}var ig=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ig&&(window.__reactRouterVersion="7.6.2")}catch{}function Py({basename:i,children:r,window:d}){let o=u.useRef();o.current==null&&(o.current=Tx({window:d,v5Compat:!0}));let f=o.current,[h,p]=u.useState({action:f.action,location:f.location}),y=u.useCallback(x=>{u.startTransition(()=>p(x))},[p]);return u.useLayoutEffect(()=>f.listen(y),[f,y]),u.createElement(xy,{basename:i,children:r,location:h.location,navigationType:h.action,navigator:f})}var lg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rg=u.forwardRef(function({onClick:r,discover:d="render",prefetch:o="none",relative:f,reloadDocument:h,replace:p,state:y,target:x,to:_,preventScrollReset:b,viewTransition:C,...k},H){let{basename:D}=u.useContext($n),T=typeof _=="string"&&lg.test(_),L,R=!1;if(typeof _=="string"&&T&&(L=_,ig))try{let je=new URL(window.location.href),P=_.startsWith("//")?new URL(je.protocol+_):new URL(_),U=Ss(P.pathname,D);P.origin===je.origin&&U!=null?_=U+P.search+P.hash:R=!0}catch{Pn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=ny(_,{relative:f}),[J,ie,te]=Uy(o,k),we=Vy(_,{replace:p,state:y,target:x,preventScrollReset:b,relative:f,viewTransition:C});function ge(je){r&&r(je),je.defaultPrevented||we(je)}let ue=u.createElement("a",{...k,...te,href:L||$,onClick:R||h?r:ge,ref:qy(H,ie),target:x,"data-discover":!T&&d==="render"?"true":void 0});return J&&!T?u.createElement(u.Fragment,null,ue,u.createElement(Jy,{page:$})):ue});rg.displayName="Link";var qn=u.forwardRef(function({"aria-current":r="page",caseSensitive:d=!1,className:o="",end:f=!1,style:h,to:p,viewTransition:y,children:x,..._},b){let C=Cr(p,{relative:_.relative}),k=ti(),H=u.useContext(ic),{navigator:D,basename:T}=u.useContext($n),L=H!=null&&Qy(C)&&y===!0,R=D.encodeLocation?D.encodeLocation(C).pathname:C.pathname,$=k.pathname,J=H&&H.navigation&&H.navigation.location?H.navigation.location.pathname:null;d||($=$.toLowerCase(),J=J?J.toLowerCase():null,R=R.toLowerCase()),J&&T&&(J=Ss(J,T)||J);const ie=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let te=$===R||!f&&$.startsWith(R)&&$.charAt(ie)==="/",we=J!=null&&(J===R||!f&&J.startsWith(R)&&J.charAt(R.length)==="/"),ge={isActive:te,isPending:we,isTransitioning:L},ue=te?r:void 0,je;typeof o=="function"?je=o(ge):je=[o,te?"active":null,we?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let P=typeof h=="function"?h(ge):h;return u.createElement(rg,{..._,"aria-current":ue,className:je,ref:b,style:P,to:p,viewTransition:y},typeof x=="function"?x(ge):x)});qn.displayName="NavLink";var $y=u.forwardRef(({discover:i="render",fetcherKey:r,navigate:d,reloadDocument:o,replace:f,state:h,method:p=Go,action:y,onSubmit:x,relative:_,preventScrollReset:b,viewTransition:C,...k},H)=>{let D=Xy(),T=Zy(y,{relative:_}),L=p.toLowerCase()==="get"?"get":"post",R=typeof y=="string"&&lg.test(y),$=J=>{if(x&&x(J),J.defaultPrevented)return;J.preventDefault();let ie=J.nativeEvent.submitter,te=ie?.getAttribute("formmethod")||p;D(ie||J.currentTarget,{fetcherKey:r,method:te,navigate:d,replace:f,state:h,relative:_,preventScrollReset:b,viewTransition:C})};return u.createElement("form",{ref:H,method:L,action:T,onSubmit:o?x:$,...k,"data-discover":!R&&i==="render"?"true":void 0})});$y.displayName="Form";function Fy(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function og(i){let r=u.useContext(pl);return sa(r,Fy(i)),r}function Vy(i,{target:r,replace:d,state:o,preventScrollReset:f,relative:h,viewTransition:p}={}){let y=_l(),x=ti(),_=Cr(i,{relative:h});return u.useCallback(b=>{if(Ny(b,r)){b.preventDefault();let C=d!==void 0?d:yr(x)===yr(_);y(i,{replace:C,state:o,preventScrollReset:f,relative:h,viewTransition:p})}},[x,y,_,d,o,r,i,f,h,p])}var Yy=0,Gy=()=>`__${String(++Yy)}__`;function Xy(){let{router:i}=og("useSubmit"),{basename:r}=u.useContext($n),d=my();return u.useCallback(async(o,f={})=>{let{action:h,method:p,encType:y,formData:x,body:_}=Ay(o,r);if(f.navigate===!1){let b=f.fetcherKey||Gy();await i.fetch(b,d,f.action||h,{preventScrollReset:f.preventScrollReset,formData:x,body:_,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await i.navigate(f.action||h,{preventScrollReset:f.preventScrollReset,formData:x,body:_,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:d,flushSync:f.flushSync,viewTransition:f.viewTransition})},[i,r,d])}function Zy(i,{relative:r}={}){let{basename:d}=u.useContext($n),o=u.useContext(ns);sa(o,"useFormAction must be used inside a RouteContext");let[f]=o.matches.slice(-1),h={...Cr(i||".",{relative:r})},p=ti();if(i==null){h.search=p.search;let y=new URLSearchParams(h.search),x=y.getAll("index");if(x.some(b=>b==="")){y.delete("index"),x.filter(C=>C).forEach(C=>y.append("index",C));let b=y.toString();h.search=b?`?${b}`:""}}return(!i||i===".")&&f.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),d!=="/"&&(h.pathname=h.pathname==="/"?d:js([d,h.pathname])),yr(h)}function Qy(i,r={}){let d=u.useContext(Kp);sa(d!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=og("useViewTransitionState"),f=Cr(i,{relative:r.relative});if(!d.isTransitioning)return!1;let h=Ss(d.currentLocation.pathname,o)||d.currentLocation.pathname,p=Ss(d.nextLocation.pathname,o)||d.nextLocation.pathname;return ec(f.pathname,p)!=null||ec(f.pathname,h)!=null}[...Oy];function cg(i,r){return function(){return i.apply(r,arguments)}}const{toString:Ky}=Object.prototype,{getPrototypeOf:Wu}=Object,{iterator:rc,toStringTag:dg}=Symbol,oc=(i=>r=>{const d=Ky.call(r);return i[d]||(i[d]=d.slice(8,-1).toLowerCase())})(Object.create(null)),Fn=i=>(i=i.toLowerCase(),r=>oc(r)===i),cc=i=>r=>typeof r===i,{isArray:xl}=Array,vr=cc("undefined");function Wy(i){return i!==null&&!vr(i)&&i.constructor!==null&&!vr(i.constructor)&&ln(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const ug=Fn("ArrayBuffer");function ev(i){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(i):r=i&&i.buffer&&ug(i.buffer),r}const tv=cc("string"),ln=cc("function"),fg=cc("number"),dc=i=>i!==null&&typeof i=="object",av=i=>i===!0||i===!1,Zo=i=>{if(oc(i)!=="object")return!1;const r=Wu(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(dg in i)&&!(rc in i)},nv=Fn("Date"),sv=Fn("File"),iv=Fn("Blob"),lv=Fn("FileList"),rv=i=>dc(i)&&ln(i.pipe),ov=i=>{let r;return i&&(typeof FormData=="function"&&i instanceof FormData||ln(i.append)&&((r=oc(i))==="formdata"||r==="object"&&ln(i.toString)&&i.toString()==="[object FormData]"))},cv=Fn("URLSearchParams"),[dv,uv,fv,hv]=["ReadableStream","Request","Response","Headers"].map(Fn),mv=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dr(i,r,{allOwnKeys:d=!1}={}){if(i===null||typeof i>"u")return;let o,f;if(typeof i!="object"&&(i=[i]),xl(i))for(o=0,f=i.length;o<f;o++)r.call(null,i[o],o,i);else{const h=d?Object.getOwnPropertyNames(i):Object.keys(i),p=h.length;let y;for(o=0;o<p;o++)y=h[o],r.call(null,i[y],y,i)}}function hg(i,r){r=r.toLowerCase();const d=Object.keys(i);let o=d.length,f;for(;o-- >0;)if(f=d[o],r===f.toLowerCase())return f;return null}const Ni=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mg=i=>!vr(i)&&i!==Ni;function Ou(){const{caseless:i}=mg(this)&&this||{},r={},d=(o,f)=>{const h=i&&hg(r,f)||f;Zo(r[h])&&Zo(o)?r[h]=Ou(r[h],o):Zo(o)?r[h]=Ou({},o):xl(o)?r[h]=o.slice():r[h]=o};for(let o=0,f=arguments.length;o<f;o++)arguments[o]&&Dr(arguments[o],d);return r}const pv=(i,r,d,{allOwnKeys:o}={})=>(Dr(r,(f,h)=>{d&&ln(f)?i[h]=cg(f,d):i[h]=f},{allOwnKeys:o}),i),gv=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),_v=(i,r,d,o)=>{i.prototype=Object.create(r.prototype,o),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:r.prototype}),d&&Object.assign(i.prototype,d)},xv=(i,r,d,o)=>{let f,h,p;const y={};if(r=r||{},i==null)return r;do{for(f=Object.getOwnPropertyNames(i),h=f.length;h-- >0;)p=f[h],(!o||o(p,i,r))&&!y[p]&&(r[p]=i[p],y[p]=!0);i=d!==!1&&Wu(i)}while(i&&(!d||d(i,r))&&i!==Object.prototype);return r},yv=(i,r,d)=>{i=String(i),(d===void 0||d>i.length)&&(d=i.length),d-=r.length;const o=i.indexOf(r,d);return o!==-1&&o===d},vv=i=>{if(!i)return null;if(xl(i))return i;let r=i.length;if(!fg(r))return null;const d=new Array(r);for(;r-- >0;)d[r]=i[r];return d},bv=(i=>r=>i&&r instanceof i)(typeof Uint8Array<"u"&&Wu(Uint8Array)),jv=(i,r)=>{const o=(i&&i[rc]).call(i);let f;for(;(f=o.next())&&!f.done;){const h=f.value;r.call(i,h[0],h[1])}},Sv=(i,r)=>{let d;const o=[];for(;(d=i.exec(r))!==null;)o.push(d);return o},Nv=Fn("HTMLFormElement"),Cv=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(d,o,f){return o.toUpperCase()+f}),Ep=(({hasOwnProperty:i})=>(r,d)=>i.call(r,d))(Object.prototype),Dv=Fn("RegExp"),pg=(i,r)=>{const d=Object.getOwnPropertyDescriptors(i),o={};Dr(d,(f,h)=>{let p;(p=r(f,h,i))!==!1&&(o[h]=p||f)}),Object.defineProperties(i,o)},Av=i=>{pg(i,(r,d)=>{if(ln(i)&&["arguments","caller","callee"].indexOf(d)!==-1)return!1;const o=i[d];if(ln(o)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+d+"'")})}})},wv=(i,r)=>{const d={},o=f=>{f.forEach(h=>{d[h]=!0})};return xl(i)?o(i):o(String(i).split(r)),d},Ev=()=>{},Tv=(i,r)=>i!=null&&Number.isFinite(i=+i)?i:r;function kv(i){return!!(i&&ln(i.append)&&i[dg]==="FormData"&&i[rc])}const Mv=i=>{const r=new Array(10),d=(o,f)=>{if(dc(o)){if(r.indexOf(o)>=0)return;if(!("toJSON"in o)){r[f]=o;const h=xl(o)?[]:{};return Dr(o,(p,y)=>{const x=d(p,f+1);!vr(x)&&(h[y]=x)}),r[f]=void 0,h}}return o};return d(i,0)},Rv=Fn("AsyncFunction"),Lv=i=>i&&(dc(i)||ln(i))&&ln(i.then)&&ln(i.catch),gg=((i,r)=>i?setImmediate:r?((d,o)=>(Ni.addEventListener("message",({source:f,data:h})=>{f===Ni&&h===d&&o.length&&o.shift()()},!1),f=>{o.push(f),Ni.postMessage(d,"*")}))(`axios@${Math.random()}`,[]):d=>setTimeout(d))(typeof setImmediate=="function",ln(Ni.postMessage)),Ov=typeof queueMicrotask<"u"?queueMicrotask.bind(Ni):typeof process<"u"&&process.nextTick||gg,Hv=i=>i!=null&&ln(i[rc]),ne={isArray:xl,isArrayBuffer:ug,isBuffer:Wy,isFormData:ov,isArrayBufferView:ev,isString:tv,isNumber:fg,isBoolean:av,isObject:dc,isPlainObject:Zo,isReadableStream:dv,isRequest:uv,isResponse:fv,isHeaders:hv,isUndefined:vr,isDate:nv,isFile:sv,isBlob:iv,isRegExp:Dv,isFunction:ln,isStream:rv,isURLSearchParams:cv,isTypedArray:bv,isFileList:lv,forEach:Dr,merge:Ou,extend:pv,trim:mv,stripBOM:gv,inherits:_v,toFlatObject:xv,kindOf:oc,kindOfTest:Fn,endsWith:yv,toArray:vv,forEachEntry:jv,matchAll:Sv,isHTMLForm:Nv,hasOwnProperty:Ep,hasOwnProp:Ep,reduceDescriptors:pg,freezeMethods:Av,toObjectSet:wv,toCamelCase:Cv,noop:Ev,toFiniteNumber:Tv,findKey:hg,global:Ni,isContextDefined:mg,isSpecCompliantForm:kv,toJSONObject:Mv,isAsyncFn:Rv,isThenable:Lv,setImmediate:gg,asap:Ov,isIterable:Hv};function gt(i,r,d,o,f){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",r&&(this.code=r),d&&(this.config=d),o&&(this.request=o),f&&(this.response=f,this.status=f.status?f.status:null)}ne.inherits(gt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const _g=gt.prototype,xg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{xg[i]={value:i}});Object.defineProperties(gt,xg);Object.defineProperty(_g,"isAxiosError",{value:!0});gt.from=(i,r,d,o,f,h)=>{const p=Object.create(_g);return ne.toFlatObject(i,p,function(x){return x!==Error.prototype},y=>y!=="isAxiosError"),gt.call(p,i.message,r,d,o,f),p.cause=i,p.name=i.name,h&&Object.assign(p,h),p};const Iv=null;function Hu(i){return ne.isPlainObject(i)||ne.isArray(i)}function yg(i){return ne.endsWith(i,"[]")?i.slice(0,-2):i}function Tp(i,r,d){return i?i.concat(r).map(function(f,h){return f=yg(f),!d&&h?"["+f+"]":f}).join(d?".":""):r}function Uv(i){return ne.isArray(i)&&!i.some(Hu)}const Jv=ne.toFlatObject(ne,{},null,function(r){return/^is[A-Z]/.test(r)});function uc(i,r,d){if(!ne.isObject(i))throw new TypeError("target must be an object");r=r||new FormData,d=ne.toFlatObject(d,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,L){return!ne.isUndefined(L[T])});const o=d.metaTokens,f=d.visitor||b,h=d.dots,p=d.indexes,x=(d.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(r);if(!ne.isFunction(f))throw new TypeError("visitor must be a function");function _(D){if(D===null)return"";if(ne.isDate(D))return D.toISOString();if(ne.isBoolean(D))return D.toString();if(!x&&ne.isBlob(D))throw new gt("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(D)||ne.isTypedArray(D)?x&&typeof Blob=="function"?new Blob([D]):Buffer.from(D):D}function b(D,T,L){let R=D;if(D&&!L&&typeof D=="object"){if(ne.endsWith(T,"{}"))T=o?T:T.slice(0,-2),D=JSON.stringify(D);else if(ne.isArray(D)&&Uv(D)||(ne.isFileList(D)||ne.endsWith(T,"[]"))&&(R=ne.toArray(D)))return T=yg(T),R.forEach(function(J,ie){!(ne.isUndefined(J)||J===null)&&r.append(p===!0?Tp([T],ie,h):p===null?T:T+"[]",_(J))}),!1}return Hu(D)?!0:(r.append(Tp(L,T,h),_(D)),!1)}const C=[],k=Object.assign(Jv,{defaultVisitor:b,convertValue:_,isVisitable:Hu});function H(D,T){if(!ne.isUndefined(D)){if(C.indexOf(D)!==-1)throw Error("Circular reference detected in "+T.join("."));C.push(D),ne.forEach(D,function(R,$){(!(ne.isUndefined(R)||R===null)&&f.call(r,R,ne.isString($)?$.trim():$,T,k))===!0&&H(R,T?T.concat($):[$])}),C.pop()}}if(!ne.isObject(i))throw new TypeError("data must be an object");return H(i),r}function kp(i){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(o){return r[o]})}function ef(i,r){this._pairs=[],i&&uc(i,this,r)}const vg=ef.prototype;vg.append=function(r,d){this._pairs.push([r,d])};vg.toString=function(r){const d=r?function(o){return r.call(this,o,kp)}:kp;return this._pairs.map(function(f){return d(f[0])+"="+d(f[1])},"").join("&")};function Bv(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bg(i,r,d){if(!r)return i;const o=d&&d.encode||Bv;ne.isFunction(d)&&(d={serialize:d});const f=d&&d.serialize;let h;if(f?h=f(r,d):h=ne.isURLSearchParams(r)?r.toString():new ef(r,d).toString(o),h){const p=i.indexOf("#");p!==-1&&(i=i.slice(0,p)),i+=(i.indexOf("?")===-1?"?":"&")+h}return i}class Mp{constructor(){this.handlers=[]}use(r,d,o){return this.handlers.push({fulfilled:r,rejected:d,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){ne.forEach(this.handlers,function(o){o!==null&&r(o)})}}const jg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zv=typeof URLSearchParams<"u"?URLSearchParams:ef,qv=typeof FormData<"u"?FormData:null,Pv=typeof Blob<"u"?Blob:null,$v={isBrowser:!0,classes:{URLSearchParams:zv,FormData:qv,Blob:Pv},protocols:["http","https","file","blob","url","data"]},tf=typeof window<"u"&&typeof document<"u",Iu=typeof navigator=="object"&&navigator||void 0,Fv=tf&&(!Iu||["ReactNative","NativeScript","NS"].indexOf(Iu.product)<0),Vv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yv=tf&&window.location.href||"http://localhost",Gv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tf,hasStandardBrowserEnv:Fv,hasStandardBrowserWebWorkerEnv:Vv,navigator:Iu,origin:Yv},Symbol.toStringTag,{value:"Module"})),Pa={...Gv,...$v};function Xv(i,r){return uc(i,new Pa.classes.URLSearchParams,Object.assign({visitor:function(d,o,f,h){return Pa.isNode&&ne.isBuffer(d)?(this.append(o,d.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},r))}function Zv(i){return ne.matchAll(/\w+|\[(\w*)]/g,i).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Qv(i){const r={},d=Object.keys(i);let o;const f=d.length;let h;for(o=0;o<f;o++)h=d[o],r[h]=i[h];return r}function Sg(i){function r(d,o,f,h){let p=d[h++];if(p==="__proto__")return!0;const y=Number.isFinite(+p),x=h>=d.length;return p=!p&&ne.isArray(f)?f.length:p,x?(ne.hasOwnProp(f,p)?f[p]=[f[p],o]:f[p]=o,!y):((!f[p]||!ne.isObject(f[p]))&&(f[p]=[]),r(d,o,f[p],h)&&ne.isArray(f[p])&&(f[p]=Qv(f[p])),!y)}if(ne.isFormData(i)&&ne.isFunction(i.entries)){const d={};return ne.forEachEntry(i,(o,f)=>{r(Zv(o),f,d,0)}),d}return null}function Kv(i,r,d){if(ne.isString(i))try{return(r||JSON.parse)(i),ne.trim(i)}catch(o){if(o.name!=="SyntaxError")throw o}return(d||JSON.stringify)(i)}const Ar={transitional:jg,adapter:["xhr","http","fetch"],transformRequest:[function(r,d){const o=d.getContentType()||"",f=o.indexOf("application/json")>-1,h=ne.isObject(r);if(h&&ne.isHTMLForm(r)&&(r=new FormData(r)),ne.isFormData(r))return f?JSON.stringify(Sg(r)):r;if(ne.isArrayBuffer(r)||ne.isBuffer(r)||ne.isStream(r)||ne.isFile(r)||ne.isBlob(r)||ne.isReadableStream(r))return r;if(ne.isArrayBufferView(r))return r.buffer;if(ne.isURLSearchParams(r))return d.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let y;if(h){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Xv(r,this.formSerializer).toString();if((y=ne.isFileList(r))||o.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return uc(y?{"files[]":r}:r,x&&new x,this.formSerializer)}}return h||f?(d.setContentType("application/json",!1),Kv(r)):r}],transformResponse:[function(r){const d=this.transitional||Ar.transitional,o=d&&d.forcedJSONParsing,f=this.responseType==="json";if(ne.isResponse(r)||ne.isReadableStream(r))return r;if(r&&ne.isString(r)&&(o&&!this.responseType||f)){const p=!(d&&d.silentJSONParsing)&&f;try{return JSON.parse(r)}catch(y){if(p)throw y.name==="SyntaxError"?gt.from(y,gt.ERR_BAD_RESPONSE,this,null,this.response):y}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pa.classes.FormData,Blob:Pa.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],i=>{Ar.headers[i]={}});const Wv=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eb=i=>{const r={};let d,o,f;return i&&i.split(`
`).forEach(function(p){f=p.indexOf(":"),d=p.substring(0,f).trim().toLowerCase(),o=p.substring(f+1).trim(),!(!d||r[d]&&Wv[d])&&(d==="set-cookie"?r[d]?r[d].push(o):r[d]=[o]:r[d]=r[d]?r[d]+", "+o:o)}),r},Rp=Symbol("internals");function xr(i){return i&&String(i).trim().toLowerCase()}function Qo(i){return i===!1||i==null?i:ne.isArray(i)?i.map(Qo):String(i)}function tb(i){const r=Object.create(null),d=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=d.exec(i);)r[o[1]]=o[2];return r}const ab=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Tu(i,r,d,o,f){if(ne.isFunction(o))return o.call(this,r,d);if(f&&(r=d),!!ne.isString(r)){if(ne.isString(o))return r.indexOf(o)!==-1;if(ne.isRegExp(o))return o.test(r)}}function nb(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,d,o)=>d.toUpperCase()+o)}function sb(i,r){const d=ne.toCamelCase(" "+r);["get","set","has"].forEach(o=>{Object.defineProperty(i,o+d,{value:function(f,h,p){return this[o].call(this,r,f,h,p)},configurable:!0})})}let rn=class{constructor(r){r&&this.set(r)}set(r,d,o){const f=this;function h(y,x,_){const b=xr(x);if(!b)throw new Error("header name must be a non-empty string");const C=ne.findKey(f,b);(!C||f[C]===void 0||_===!0||_===void 0&&f[C]!==!1)&&(f[C||x]=Qo(y))}const p=(y,x)=>ne.forEach(y,(_,b)=>h(_,b,x));if(ne.isPlainObject(r)||r instanceof this.constructor)p(r,d);else if(ne.isString(r)&&(r=r.trim())&&!ab(r))p(eb(r),d);else if(ne.isObject(r)&&ne.isIterable(r)){let y={},x,_;for(const b of r){if(!ne.isArray(b))throw TypeError("Object iterator must return a key-value pair");y[_=b[0]]=(x=y[_])?ne.isArray(x)?[...x,b[1]]:[x,b[1]]:b[1]}p(y,d)}else r!=null&&h(d,r,o);return this}get(r,d){if(r=xr(r),r){const o=ne.findKey(this,r);if(o){const f=this[o];if(!d)return f;if(d===!0)return tb(f);if(ne.isFunction(d))return d.call(this,f,o);if(ne.isRegExp(d))return d.exec(f);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,d){if(r=xr(r),r){const o=ne.findKey(this,r);return!!(o&&this[o]!==void 0&&(!d||Tu(this,this[o],o,d)))}return!1}delete(r,d){const o=this;let f=!1;function h(p){if(p=xr(p),p){const y=ne.findKey(o,p);y&&(!d||Tu(o,o[y],y,d))&&(delete o[y],f=!0)}}return ne.isArray(r)?r.forEach(h):h(r),f}clear(r){const d=Object.keys(this);let o=d.length,f=!1;for(;o--;){const h=d[o];(!r||Tu(this,this[h],h,r,!0))&&(delete this[h],f=!0)}return f}normalize(r){const d=this,o={};return ne.forEach(this,(f,h)=>{const p=ne.findKey(o,h);if(p){d[p]=Qo(f),delete d[h];return}const y=r?nb(h):String(h).trim();y!==h&&delete d[h],d[y]=Qo(f),o[y]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const d=Object.create(null);return ne.forEach(this,(o,f)=>{o!=null&&o!==!1&&(d[f]=r&&ne.isArray(o)?o.join(", "):o)}),d}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,d])=>r+": "+d).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...d){const o=new this(r);return d.forEach(f=>o.set(f)),o}static accessor(r){const o=(this[Rp]=this[Rp]={accessors:{}}).accessors,f=this.prototype;function h(p){const y=xr(p);o[y]||(sb(f,p),o[y]=!0)}return ne.isArray(r)?r.forEach(h):h(r),this}};rn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(rn.prototype,({value:i},r)=>{let d=r[0].toUpperCase()+r.slice(1);return{get:()=>i,set(o){this[d]=o}}});ne.freezeMethods(rn);function ku(i,r){const d=this||Ar,o=r||d,f=rn.from(o.headers);let h=o.data;return ne.forEach(i,function(y){h=y.call(d,h,f.normalize(),r?r.status:void 0)}),f.normalize(),h}function Ng(i){return!!(i&&i.__CANCEL__)}function yl(i,r,d){gt.call(this,i??"canceled",gt.ERR_CANCELED,r,d),this.name="CanceledError"}ne.inherits(yl,gt,{__CANCEL__:!0});function Cg(i,r,d){const o=d.config.validateStatus;!d.status||!o||o(d.status)?i(d):r(new gt("Request failed with status code "+d.status,[gt.ERR_BAD_REQUEST,gt.ERR_BAD_RESPONSE][Math.floor(d.status/100)-4],d.config,d.request,d))}function ib(i){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return r&&r[1]||""}function lb(i,r){i=i||10;const d=new Array(i),o=new Array(i);let f=0,h=0,p;return r=r!==void 0?r:1e3,function(x){const _=Date.now(),b=o[h];p||(p=_),d[f]=x,o[f]=_;let C=h,k=0;for(;C!==f;)k+=d[C++],C=C%i;if(f=(f+1)%i,f===h&&(h=(h+1)%i),_-p<r)return;const H=b&&_-b;return H?Math.round(k*1e3/H):void 0}}function rb(i,r){let d=0,o=1e3/r,f,h;const p=(_,b=Date.now())=>{d=b,f=null,h&&(clearTimeout(h),h=null),i.apply(null,_)};return[(..._)=>{const b=Date.now(),C=b-d;C>=o?p(_,b):(f=_,h||(h=setTimeout(()=>{h=null,p(f)},o-C)))},()=>f&&p(f)]}const tc=(i,r,d=3)=>{let o=0;const f=lb(50,250);return rb(h=>{const p=h.loaded,y=h.lengthComputable?h.total:void 0,x=p-o,_=f(x),b=p<=y;o=p;const C={loaded:p,total:y,progress:y?p/y:void 0,bytes:x,rate:_||void 0,estimated:_&&y&&b?(y-p)/_:void 0,event:h,lengthComputable:y!=null,[r?"download":"upload"]:!0};i(C)},d)},Lp=(i,r)=>{const d=i!=null;return[o=>r[0]({lengthComputable:d,total:i,loaded:o}),r[1]]},Op=i=>(...r)=>ne.asap(()=>i(...r)),ob=Pa.hasStandardBrowserEnv?((i,r)=>d=>(d=new URL(d,Pa.origin),i.protocol===d.protocol&&i.host===d.host&&(r||i.port===d.port)))(new URL(Pa.origin),Pa.navigator&&/(msie|trident)/i.test(Pa.navigator.userAgent)):()=>!0,cb=Pa.hasStandardBrowserEnv?{write(i,r,d,o,f,h){const p=[i+"="+encodeURIComponent(r)];ne.isNumber(d)&&p.push("expires="+new Date(d).toGMTString()),ne.isString(o)&&p.push("path="+o),ne.isString(f)&&p.push("domain="+f),h===!0&&p.push("secure"),document.cookie=p.join("; ")},read(i){const r=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function db(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function ub(i,r){return r?i.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):i}function Dg(i,r,d){let o=!db(r);return i&&(o||d==!1)?ub(i,r):r}const Hp=i=>i instanceof rn?{...i}:i;function Ai(i,r){r=r||{};const d={};function o(_,b,C,k){return ne.isPlainObject(_)&&ne.isPlainObject(b)?ne.merge.call({caseless:k},_,b):ne.isPlainObject(b)?ne.merge({},b):ne.isArray(b)?b.slice():b}function f(_,b,C,k){if(ne.isUndefined(b)){if(!ne.isUndefined(_))return o(void 0,_,C,k)}else return o(_,b,C,k)}function h(_,b){if(!ne.isUndefined(b))return o(void 0,b)}function p(_,b){if(ne.isUndefined(b)){if(!ne.isUndefined(_))return o(void 0,_)}else return o(void 0,b)}function y(_,b,C){if(C in r)return o(_,b);if(C in i)return o(void 0,_)}const x={url:h,method:h,data:h,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:y,headers:(_,b,C)=>f(Hp(_),Hp(b),C,!0)};return ne.forEach(Object.keys(Object.assign({},i,r)),function(b){const C=x[b]||f,k=C(i[b],r[b],b);ne.isUndefined(k)&&C!==y||(d[b]=k)}),d}const Ag=i=>{const r=Ai({},i);let{data:d,withXSRFToken:o,xsrfHeaderName:f,xsrfCookieName:h,headers:p,auth:y}=r;r.headers=p=rn.from(p),r.url=bg(Dg(r.baseURL,r.url,r.allowAbsoluteUrls),i.params,i.paramsSerializer),y&&p.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):"")));let x;if(ne.isFormData(d)){if(Pa.hasStandardBrowserEnv||Pa.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if((x=p.getContentType())!==!1){const[_,...b]=x?x.split(";").map(C=>C.trim()).filter(Boolean):[];p.setContentType([_||"multipart/form-data",...b].join("; "))}}if(Pa.hasStandardBrowserEnv&&(o&&ne.isFunction(o)&&(o=o(r)),o||o!==!1&&ob(r.url))){const _=f&&h&&cb.read(h);_&&p.set(f,_)}return r},fb=typeof XMLHttpRequest<"u",hb=fb&&function(i){return new Promise(function(d,o){const f=Ag(i);let h=f.data;const p=rn.from(f.headers).normalize();let{responseType:y,onUploadProgress:x,onDownloadProgress:_}=f,b,C,k,H,D;function T(){H&&H(),D&&D(),f.cancelToken&&f.cancelToken.unsubscribe(b),f.signal&&f.signal.removeEventListener("abort",b)}let L=new XMLHttpRequest;L.open(f.method.toUpperCase(),f.url,!0),L.timeout=f.timeout;function R(){if(!L)return;const J=rn.from("getAllResponseHeaders"in L&&L.getAllResponseHeaders()),te={data:!y||y==="text"||y==="json"?L.responseText:L.response,status:L.status,statusText:L.statusText,headers:J,config:i,request:L};Cg(function(ge){d(ge),T()},function(ge){o(ge),T()},te),L=null}"onloadend"in L?L.onloadend=R:L.onreadystatechange=function(){!L||L.readyState!==4||L.status===0&&!(L.responseURL&&L.responseURL.indexOf("file:")===0)||setTimeout(R)},L.onabort=function(){L&&(o(new gt("Request aborted",gt.ECONNABORTED,i,L)),L=null)},L.onerror=function(){o(new gt("Network Error",gt.ERR_NETWORK,i,L)),L=null},L.ontimeout=function(){let ie=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded";const te=f.transitional||jg;f.timeoutErrorMessage&&(ie=f.timeoutErrorMessage),o(new gt(ie,te.clarifyTimeoutError?gt.ETIMEDOUT:gt.ECONNABORTED,i,L)),L=null},h===void 0&&p.setContentType(null),"setRequestHeader"in L&&ne.forEach(p.toJSON(),function(ie,te){L.setRequestHeader(te,ie)}),ne.isUndefined(f.withCredentials)||(L.withCredentials=!!f.withCredentials),y&&y!=="json"&&(L.responseType=f.responseType),_&&([k,D]=tc(_,!0),L.addEventListener("progress",k)),x&&L.upload&&([C,H]=tc(x),L.upload.addEventListener("progress",C),L.upload.addEventListener("loadend",H)),(f.cancelToken||f.signal)&&(b=J=>{L&&(o(!J||J.type?new yl(null,i,L):J),L.abort(),L=null)},f.cancelToken&&f.cancelToken.subscribe(b),f.signal&&(f.signal.aborted?b():f.signal.addEventListener("abort",b)));const $=ib(f.url);if($&&Pa.protocols.indexOf($)===-1){o(new gt("Unsupported protocol "+$+":",gt.ERR_BAD_REQUEST,i));return}L.send(h||null)})},mb=(i,r)=>{const{length:d}=i=i?i.filter(Boolean):[];if(r||d){let o=new AbortController,f;const h=function(_){if(!f){f=!0,y();const b=_ instanceof Error?_:this.reason;o.abort(b instanceof gt?b:new yl(b instanceof Error?b.message:b))}};let p=r&&setTimeout(()=>{p=null,h(new gt(`timeout ${r} of ms exceeded`,gt.ETIMEDOUT))},r);const y=()=>{i&&(p&&clearTimeout(p),p=null,i.forEach(_=>{_.unsubscribe?_.unsubscribe(h):_.removeEventListener("abort",h)}),i=null)};i.forEach(_=>_.addEventListener("abort",h));const{signal:x}=o;return x.unsubscribe=()=>ne.asap(y),x}},pb=function*(i,r){let d=i.byteLength;if(d<r){yield i;return}let o=0,f;for(;o<d;)f=o+r,yield i.slice(o,f),o=f},gb=async function*(i,r){for await(const d of _b(i))yield*pb(d,r)},_b=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const r=i.getReader();try{for(;;){const{done:d,value:o}=await r.read();if(d)break;yield o}}finally{await r.cancel()}},Ip=(i,r,d,o)=>{const f=gb(i,r);let h=0,p,y=x=>{p||(p=!0,o&&o(x))};return new ReadableStream({async pull(x){try{const{done:_,value:b}=await f.next();if(_){y(),x.close();return}let C=b.byteLength;if(d){let k=h+=C;d(k)}x.enqueue(new Uint8Array(b))}catch(_){throw y(_),_}},cancel(x){return y(x),f.return()}},{highWaterMark:2})},fc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",wg=fc&&typeof ReadableStream=="function",xb=fc&&(typeof TextEncoder=="function"?(i=>r=>i.encode(r))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),Eg=(i,...r)=>{try{return!!i(...r)}catch{return!1}},yb=wg&&Eg(()=>{let i=!1;const r=new Request(Pa.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!r}),Up=64*1024,Uu=wg&&Eg(()=>ne.isReadableStream(new Response("").body)),ac={stream:Uu&&(i=>i.body)};fc&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!ac[r]&&(ac[r]=ne.isFunction(i[r])?d=>d[r]():(d,o)=>{throw new gt(`Response type '${r}' is not supported`,gt.ERR_NOT_SUPPORT,o)})})})(new Response);const vb=async i=>{if(i==null)return 0;if(ne.isBlob(i))return i.size;if(ne.isSpecCompliantForm(i))return(await new Request(Pa.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(i)||ne.isArrayBuffer(i))return i.byteLength;if(ne.isURLSearchParams(i)&&(i=i+""),ne.isString(i))return(await xb(i)).byteLength},bb=async(i,r)=>{const d=ne.toFiniteNumber(i.getContentLength());return d??vb(r)},jb=fc&&(async i=>{let{url:r,method:d,data:o,signal:f,cancelToken:h,timeout:p,onDownloadProgress:y,onUploadProgress:x,responseType:_,headers:b,withCredentials:C="same-origin",fetchOptions:k}=Ag(i);_=_?(_+"").toLowerCase():"text";let H=mb([f,h&&h.toAbortSignal()],p),D;const T=H&&H.unsubscribe&&(()=>{H.unsubscribe()});let L;try{if(x&&yb&&d!=="get"&&d!=="head"&&(L=await bb(b,o))!==0){let te=new Request(r,{method:"POST",body:o,duplex:"half"}),we;if(ne.isFormData(o)&&(we=te.headers.get("content-type"))&&b.setContentType(we),te.body){const[ge,ue]=Lp(L,tc(Op(x)));o=Ip(te.body,Up,ge,ue)}}ne.isString(C)||(C=C?"include":"omit");const R="credentials"in Request.prototype;D=new Request(r,{...k,signal:H,method:d.toUpperCase(),headers:b.normalize().toJSON(),body:o,duplex:"half",credentials:R?C:void 0});let $=await fetch(D,k);const J=Uu&&(_==="stream"||_==="response");if(Uu&&(y||J&&T)){const te={};["status","statusText","headers"].forEach(je=>{te[je]=$[je]});const we=ne.toFiniteNumber($.headers.get("content-length")),[ge,ue]=y&&Lp(we,tc(Op(y),!0))||[];$=new Response(Ip($.body,Up,ge,()=>{ue&&ue(),T&&T()}),te)}_=_||"text";let ie=await ac[ne.findKey(ac,_)||"text"]($,i);return!J&&T&&T(),await new Promise((te,we)=>{Cg(te,we,{data:ie,headers:rn.from($.headers),status:$.status,statusText:$.statusText,config:i,request:D})})}catch(R){throw T&&T(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new gt("Network Error",gt.ERR_NETWORK,i,D),{cause:R.cause||R}):gt.from(R,R&&R.code,i,D)}}),Ju={http:Iv,xhr:hb,fetch:jb};ne.forEach(Ju,(i,r)=>{if(i){try{Object.defineProperty(i,"name",{value:r})}catch{}Object.defineProperty(i,"adapterName",{value:r})}});const Jp=i=>`- ${i}`,Sb=i=>ne.isFunction(i)||i===null||i===!1,Tg={getAdapter:i=>{i=ne.isArray(i)?i:[i];const{length:r}=i;let d,o;const f={};for(let h=0;h<r;h++){d=i[h];let p;if(o=d,!Sb(d)&&(o=Ju[(p=String(d)).toLowerCase()],o===void 0))throw new gt(`Unknown adapter '${p}'`);if(o)break;f[p||"#"+h]=o}if(!o){const h=Object.entries(f).map(([y,x])=>`adapter ${y} `+(x===!1?"is not supported by the environment":"is not available in the build"));let p=r?h.length>1?`since :
`+h.map(Jp).join(`
`):" "+Jp(h[0]):"as no adapter specified";throw new gt("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return o},adapters:Ju};function Mu(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new yl(null,i)}function Bp(i){return Mu(i),i.headers=rn.from(i.headers),i.data=ku.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),Tg.getAdapter(i.adapter||Ar.adapter)(i).then(function(o){return Mu(i),o.data=ku.call(i,i.transformResponse,o),o.headers=rn.from(o.headers),o},function(o){return Ng(o)||(Mu(i),o&&o.response&&(o.response.data=ku.call(i,i.transformResponse,o.response),o.response.headers=rn.from(o.response.headers))),Promise.reject(o)})}const kg="1.10.0",hc={};["object","boolean","number","function","string","symbol"].forEach((i,r)=>{hc[i]=function(o){return typeof o===i||"a"+(r<1?"n ":" ")+i}});const zp={};hc.transitional=function(r,d,o){function f(h,p){return"[Axios v"+kg+"] Transitional option '"+h+"'"+p+(o?". "+o:"")}return(h,p,y)=>{if(r===!1)throw new gt(f(p," has been removed"+(d?" in "+d:"")),gt.ERR_DEPRECATED);return d&&!zp[p]&&(zp[p]=!0,console.warn(f(p," has been deprecated since v"+d+" and will be removed in the near future"))),r?r(h,p,y):!0}};hc.spelling=function(r){return(d,o)=>(console.warn(`${o} is likely a misspelling of ${r}`),!0)};function Nb(i,r,d){if(typeof i!="object")throw new gt("options must be an object",gt.ERR_BAD_OPTION_VALUE);const o=Object.keys(i);let f=o.length;for(;f-- >0;){const h=o[f],p=r[h];if(p){const y=i[h],x=y===void 0||p(y,h,i);if(x!==!0)throw new gt("option "+h+" must be "+x,gt.ERR_BAD_OPTION_VALUE);continue}if(d!==!0)throw new gt("Unknown option "+h,gt.ERR_BAD_OPTION)}}const Ko={assertOptions:Nb,validators:hc},as=Ko.validators;let Ci=class{constructor(r){this.defaults=r||{},this.interceptors={request:new Mp,response:new Mp}}async request(r,d){try{return await this._request(r,d)}catch(o){if(o instanceof Error){let f={};Error.captureStackTrace?Error.captureStackTrace(f):f=new Error;const h=f.stack?f.stack.replace(/^.+\n/,""):"";try{o.stack?h&&!String(o.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+h):o.stack=h}catch{}}throw o}}_request(r,d){typeof r=="string"?(d=d||{},d.url=r):d=r||{},d=Ai(this.defaults,d);const{transitional:o,paramsSerializer:f,headers:h}=d;o!==void 0&&Ko.assertOptions(o,{silentJSONParsing:as.transitional(as.boolean),forcedJSONParsing:as.transitional(as.boolean),clarifyTimeoutError:as.transitional(as.boolean)},!1),f!=null&&(ne.isFunction(f)?d.paramsSerializer={serialize:f}:Ko.assertOptions(f,{encode:as.function,serialize:as.function},!0)),d.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?d.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:d.allowAbsoluteUrls=!0),Ko.assertOptions(d,{baseUrl:as.spelling("baseURL"),withXsrfToken:as.spelling("withXSRFToken")},!0),d.method=(d.method||this.defaults.method||"get").toLowerCase();let p=h&&ne.merge(h.common,h[d.method]);h&&ne.forEach(["delete","get","head","post","put","patch","common"],D=>{delete h[D]}),d.headers=rn.concat(p,h);const y=[];let x=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(d)===!1||(x=x&&T.synchronous,y.unshift(T.fulfilled,T.rejected))});const _=[];this.interceptors.response.forEach(function(T){_.push(T.fulfilled,T.rejected)});let b,C=0,k;if(!x){const D=[Bp.bind(this),void 0];for(D.unshift.apply(D,y),D.push.apply(D,_),k=D.length,b=Promise.resolve(d);C<k;)b=b.then(D[C++],D[C++]);return b}k=y.length;let H=d;for(C=0;C<k;){const D=y[C++],T=y[C++];try{H=D(H)}catch(L){T.call(this,L);break}}try{b=Bp.call(this,H)}catch(D){return Promise.reject(D)}for(C=0,k=_.length;C<k;)b=b.then(_[C++],_[C++]);return b}getUri(r){r=Ai(this.defaults,r);const d=Dg(r.baseURL,r.url,r.allowAbsoluteUrls);return bg(d,r.params,r.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(r){Ci.prototype[r]=function(d,o){return this.request(Ai(o||{},{method:r,url:d,data:(o||{}).data}))}});ne.forEach(["post","put","patch"],function(r){function d(o){return function(h,p,y){return this.request(Ai(y||{},{method:r,headers:o?{"Content-Type":"multipart/form-data"}:{},url:h,data:p}))}}Ci.prototype[r]=d(),Ci.prototype[r+"Form"]=d(!0)});let Cb=class Mg{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let d;this.promise=new Promise(function(h){d=h});const o=this;this.promise.then(f=>{if(!o._listeners)return;let h=o._listeners.length;for(;h-- >0;)o._listeners[h](f);o._listeners=null}),this.promise.then=f=>{let h;const p=new Promise(y=>{o.subscribe(y),h=y}).then(f);return p.cancel=function(){o.unsubscribe(h)},p},r(function(h,p,y){o.reason||(o.reason=new yl(h,p,y),d(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const d=this._listeners.indexOf(r);d!==-1&&this._listeners.splice(d,1)}toAbortSignal(){const r=new AbortController,d=o=>{r.abort(o)};return this.subscribe(d),r.signal.unsubscribe=()=>this.unsubscribe(d),r.signal}static source(){let r;return{token:new Mg(function(f){r=f}),cancel:r}}};function Db(i){return function(d){return i.apply(null,d)}}function Ab(i){return ne.isObject(i)&&i.isAxiosError===!0}const Bu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bu).forEach(([i,r])=>{Bu[r]=i});function Rg(i){const r=new Ci(i),d=cg(Ci.prototype.request,r);return ne.extend(d,Ci.prototype,r,{allOwnKeys:!0}),ne.extend(d,r,null,{allOwnKeys:!0}),d.create=function(f){return Rg(Ai(i,f))},d}const qe=Rg(Ar);qe.Axios=Ci;qe.CanceledError=yl;qe.CancelToken=Cb;qe.isCancel=Ng;qe.VERSION=kg;qe.toFormData=uc;qe.AxiosError=gt;qe.Cancel=qe.CanceledError;qe.all=function(r){return Promise.all(r)};qe.spread=Db;qe.isAxiosError=Ab;qe.mergeConfig=Ai;qe.AxiosHeaders=rn;qe.formToJSON=i=>Sg(ne.isHTMLForm(i)?new FormData(i):i);qe.getAdapter=Tg.getAdapter;qe.HttpStatusCode=Bu;qe.default=qe;const{Axios:Mj,AxiosError:Rj,CanceledError:Lj,isCancel:Oj,CancelToken:Hj,VERSION:Ij,all:Uj,Cancel:Jj,isAxiosError:Bj,spread:zj,toFormData:qj,AxiosHeaders:Pj,HttpStatusCode:$j,formToJSON:Fj,getAdapter:Vj,mergeConfig:Yj}=qe,$a=u.createContext(),wb=({children:i})=>{const[r,d]=u.useState(null);return a.jsx($a.Provider,{value:{user:r,setUser:d},children:i})},Eb=({onVerifySuccess:i,onCancel:r,to:d,messageType:o="login",request_by:f,ship_name:h})=>{const[p,y]=u.useState(["","","","","",""]),[x,_]=u.useState(!1),[b,C]=u.useState(0),[k,H]=u.useState(""),[D,T]=u.useState(!1),L=u.useRef([]),R="https://udayerp.com/pms/server/api/",{user:$}=u.useContext($a);u.useEffect(()=>{if(b>0){const ue=setInterval(()=>{C(je=>je-1)},1e3);return()=>clearInterval(ue)}},[b]),u.useEffect(()=>{ge()},[]);const J=(ue,je)=>{const P=ue.target.value;if(/^[0-9]?$/.test(P)){const U=[...p];U[je]=P,y(U),P&&je<5&&L.current[je+1]?.focus()}},ie=(ue,je)=>{je.key==="Backspace"&&!p[ue]&&ue>0&&L.current[ue-1]?.focus()},te=ue=>{ue.preventDefault();const je=ue.clipboardData.getData("text").slice(0,6);if(/^\d{6}$/.test(je)){const P=je.split("");y(P),P.forEach((U,Re)=>{Re<5&&L.current[Re+1]?.focus()})}else H("Invalid OTP format. Please paste a 6-digit number.")},we=async()=>{const ue=p.join("");if(ue.length!==6){H("Please enter a valid 6-digit OTP");return}try{const je=await qe.post(`${R}verify-otp`,{contact:d,otp:ue,messageType:o});je.data.success?(T(!0),H(""),setTimeout(()=>{i()},800)):H(je.data.error||"Invalid or expired OTP")}catch{H("Verification failed. Check connection or retry.")}},ge=async()=>{if(!(b>0||x)){_(!0),C(30),y(["","","","","",""]),H(""),T(!1);try{await qe.post(`${R}send-otp`,{contact:d,messageType:o}),console.log(`OTP sent to: ${d} | type: ${o}`)}catch(ue){console.error("Error sending OTP:",ue.response?.data?.error||ue.message),H("Failed to send OTP. Try again later.")}finally{_(!1)}}};return a.jsx("div",{className:"otp-corporate",onClick:r,children:a.jsxs("div",{className:"otp-corporate__card",onClick:ue=>ue.stopPropagation(),children:[a.jsxs("div",{className:"otp-corporate__header",children:[a.jsx("div",{className:"otp-corporate__icon",children:""}),a.jsx("h2",{className:"otp-corporate__title",children:"Security Verification"}),a.jsx("p",{className:"otp-corporate__subtitle",children:"We've sent a 6-digit code to your registered email address"})]}),a.jsxs("div",{className:"otp-corporate__content",children:[a.jsx("div",{className:"otp-corporate__inputs",onPaste:te,children:p.map((ue,je)=>a.jsx("input",{ref:P=>L.current[je]=P,type:"text",maxLength:"1",value:ue,onChange:P=>J(P,je),onKeyDown:P=>ie(je,P),className:`otp-corporate__input ${ue?"otp-corporate__input--filled":""} ${k?"otp-corporate__input--error":""}`,placeholder:""},je))}),k&&a.jsx("p",{className:"otp-corporate__error",children:k}),D&&a.jsx("p",{className:"otp-corporate__success",children:" Verification Successful!"}),a.jsx("div",{className:"otp-corporate__actions",children:a.jsx("button",{type:"button",className:"btn-corporate btn-corporate--primary",onClick:we,children:"Verify OTP"})}),a.jsxs("div",{className:"otp-corporate__footer",children:[a.jsxs("p",{className:"otp-corporate__resend-text",children:["Didn't receive the code?"," ",a.jsx("button",{className:"otp-corporate__resend-btn",onClick:ge,disabled:x||b>0,children:x?"Sending...":b>0?`Resend in ${b}s`:"Resend OTP"})]}),a.jsx("button",{type:"button",className:"btn-corporate btn-corporate--secondary",onClick:r,children:"Cancel"})]})]})]})})},Tb="https://udayerp.com/pms/server/api/",af=u.createContext(),kb=({children:i})=>{const[r,d]=u.useState([]),[o,f]=u.useState(!0),[h,p]=u.useState(null),y=async()=>{f(!0),p(null);try{const x=await fetch(`${Tb}getAllUsers`);if(!x.ok)throw new Error("Failed to fetch users");const _=await x.json();d(_)}catch(x){console.error("Failed to fetch users:",x),p(x.message)}finally{f(!1)}};return u.useEffect(()=>{y()},[]),a.jsx(af.Provider,{value:{usersList:r,refreshUsers:y,loading:o,error:h},children:i})},Mb="https://udayerp.com/pms/server/api/",mc=u.createContext({crewData:[],refreshCrewData:()=>{},loading:!1,error:null}),Rb=({children:i})=>{const[r,d]=u.useState([]),[o,f]=u.useState(!0),[h,p]=u.useState(null),y=async()=>{f(!0),p(null);try{const x=await fetch(`${Mb}getAllocationsByShip`);if(!x.ok)throw new Error("Failed to fetch crew data");const _=await x.json();d(_)}catch(x){console.error("Failed to fetch crew data:",x),p(x.message)}finally{f(!1)}};return u.useEffect(()=>{y()},[]),a.jsx(mc.Provider,{value:{crewData:r,refreshCrewData:y,loading:o,error:h},children:i})},vl=u.createContext(),Lb=({children:i})=>{const[r,d]=u.useState([]),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await qe.get(`${o}getDesignations`);d(h.data)}catch(h){console.error("Failed to fetch Designation List :",h)}};return u.useEffect(()=>{f()},[]),a.jsx(vl.Provider,{value:{designationList:r,refreshDesignationList:f},children:i})},Ob="https://udayerp.com/pms/server/api/",Ei=u.createContext({officeStaffList:[],refreshOfficeStaffList:()=>{},loading:!1,error:null}),Hb=({children:i})=>{const[r,d]=u.useState([]),[o,f]=u.useState(!0),[h,p]=u.useState(null),y=async()=>{f(!0),p(null);try{const x=await fetch(`${Ob}getAllOfficeStaffCombinationList`);if(!x.ok)throw new Error("Failed to fetch Office Staff List");const _=await x.json();d(_)}catch(x){console.error("Failed to fetch Office Staff List:",x),p(x.message)}finally{f(!1)}};return u.useEffect(()=>{y()},[]),a.jsx(Ei.Provider,{value:{officeStaffList:r,refreshOfficeStaffList:y,loading:o,error:h},children:i})},Ib="https://udayerp.com/pms/server/api/",nf=u.createContext({shipsList:[],refreshShips:()=>{},loading:!1,error:null}),Ub=({children:i})=>{const{user:r}=u.useContext($a),[d,o]=u.useState([]),[f,h]=u.useState(!0),[p,y]=u.useState(null),x=async()=>{h(!0),y(null);try{const _=await fetch(`${Ib}getShipsIDandName`);if(!_.ok)throw new Error("Failed to fetch locations");const b=await _.json();o([{SHA_ID:"office",ship_name:"Office"},...b])}catch(_){console.error("Failed to fetch ships:",_),y(_.message)}finally{h(!1)}};return u.useEffect(()=>{x()},[]),a.jsx(nf.Provider,{value:{shipsList:d,refreshShips:x,loading:f,error:p},children:i})},Lg="/pms/assets/logo_with_name-5VV28lQ7.png",Jb=()=>{const{officeStaffList:i,refreshOfficeStaffList:r}=u.useContext(Ei),{usersList:d,refreshUsers:o}=u.useContext(af),{shipsList:f}=u.useContext(nf),{crewData:h,refreshCrewData:p}=u.useContext(mc),{designationList:y,refreshDesignationList:x}=u.useContext(vl),{user:_,setUser:b}=u.useContext($a),[C,k]=u.useState(""),[H,D]=u.useState(["","","","","",""]),[T,L]=u.useState(["","","","","",""]),[R,$]=u.useState(["","","","","",""]),[J,ie]=u.useState(!1),[te,we]=u.useState(!1),[ge,ue]=u.useState(null),[je,P]=u.useState(!1),[U,Re]=u.useState(""),[Ne,ve]=u.useState(!1),Y=u.useRef([]),w=u.useRef([]),B=u.useRef([]),X=_l();u.useEffect(()=>{o(),p(),x(),r()},[]),u.useEffect(()=>{console.log("crewData in login page : ",h)},[h]),u.useEffect(()=>{U&&Re("")},[C,H]);const fe=async ee=>{if(ee.preventDefault(),ve(!0),Re(""),!/\S+@\S+\.\S+/.test(C)){Re("Please enter a valid email address"),ve(!1);return}const re=H.join("");if(re.length!==6||!/^\d+$/.test(re)){Re("Please enter a valid 6-digit PIN"),ve(!1);return}console.log("Login attempt with : ",{email:C,pin:re,rememberMe:J});try{const be=d.filter(ze=>ze.user_email===C&&ze.current_pin===re);if(console.log("tempUser : ",be),be.length>0){const ze=be[0];if(ze.user_status!==1){Re("Your account is inactive. Please contact administrator."),ve(!1);return}const dt="https://udayerp.com/pms/server/api/";try{const Ze=await(await fetch(`${dt}activateSuccessor`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({successor_user_id:ze.UHA_ID})})).json();console.log("Auto-activation response:",Ze)}catch(Te){console.error("Error auto-activating user allocations:",Te)}const tt=h.filter(Te=>Te.user_id===ze.UHA_ID&&Te.crew_status===1).length>0?h.filter(Te=>Te.user_id===ze.UHA_ID&&Te.crew_status===1)[0]:null,Le=i.filter(Te=>Te.user_id===ze.UHA_ID).length>0?i.filter(Te=>Te.user_id===ze.UHA_ID)[0]:null;if(!tt&&!Le){Re("No active assignment found. Please contact administrator."),ve(!1);return}const K={UHA_ID:ze.UHA_ID,ship_id:tt?.ship_id||null,emp_name:`${ze.first_name} ${ze.last_name}`,emp_email:ze.user_email,emp_mob1:ze.mobile_no,emp_sim_code:ze.mobile_sim_country_code,access_code:"LW0507",emp_dob:"2002-07-05",emp_doj:"2020-05-07",emp_desg:tt?.desg_id||Le?.desg_id,reporting_to:tt?.reporting_to_desg||Le?.reporting_to_desg,reporting_to_user:tt?.reporting_to_user||Le?.reporting_to_user,DEPT_ID:tt?.dept_id||Le?.dept_id,inserted_on:new Date().toISOString().slice(0,19).replace("T"," "),emp_status:ze.user_status,emp_type:ze.user_type,profile_ids:y.filter(Te=>Te.DSGH_ID===(tt?.desg_id||Le?.desg_id))[0]?.profile_ids||[]};console.log(" Authenticated Employee:",K),await b(K),J?localStorage.setItem("rememberedEmail",C):localStorage.removeItem("rememberedEmail"),await p(),await r(),X("/home")}else{const ze=d.some(dt=>dt.user_email===C);Re(ze?"Invalid PIN. Please check your PIN and try again.":"No account found with this email address. Please check your email or contact administrator.")}}catch(be){console.error("Login error:",be),Re("An unexpected error occurred. Please try again.")}finally{ve(!1)}},j=ee=>{k(ee.target.value)},F=(ee,re,be,ze,dt)=>{if(dt&&!/^\d$/.test(dt))return;const tt=[...ee];tt[ze]=dt,re(tt),dt&&ze<5&&be.current[ze+1]?.focus()},ae=(ee,re,be,ze)=>{ze.key==="Backspace"&&!ee[be]&&be>0&&re.current[be-1]?.focus()},I=(ee,re,be)=>{be.preventDefault();const dt=be.clipboardData.getData("text").replace(/\D/g,"").slice(0,6).split("");if(dt.length===6){const tt=["","","","","",""];dt.forEach((Le,K)=>{tt[K]=Le}),ee(tt),re.current[5]?.focus()}},se=()=>{if(!C||!/\S+@\S+\.\S+/.test(C)){Re("Please enter your email address first to receive a new PIN");return}if(!d.some(be=>be.user_email===C)){Re("No account found with this email address.");return}if(confirm("We are sending email with OTP to generate new pin to Your Location Plant Incharge. Please connect with them for further procedure. Would you like to proceed?")){const be=d.filter(ze=>ze.user_email==C);ue(be),we(!0)}},Ce=()=>{const ee=T.join(""),re=R.join("");if(ee.length!==6||!/^\d+$/.test(ee)){alert("Please enter a valid 6-digit new PIN");return}if(re.length!==6||!/^\d+$/.test(re)){alert("Please enter a valid 6-digit confirmation PIN");return}if(ee!==re){alert("PINs do not match. Please make sure both PINs are identical.");return}console.log("PIN reset requested for : ",C,"New PIN:",ee),alert("PIN reset successfully!"),P(!1),L(["","","","","",""]),$(["","","","","",""])};return u.useEffect(()=>{const ee=localStorage.getItem("rememberedEmail");ee&&(k(ee),ie(!0))},[]),a.jsxs("div",{className:"login-corporate",children:[a.jsxs("div",{className:"login-corporate__container",children:[a.jsxs("div",{className:"login-corporate__header",children:[a.jsx("div",{className:"login-corporate__logo-container",children:a.jsx("img",{src:Lg,alt:"Uday ERP Logo",className:"login-corporate__logo"})}),a.jsx("h1",{className:"login-corporate__title",children:"Factory Staff PMS Portal"}),a.jsx("p",{className:"login-corporate__subtitle",children:"Sign in to your facility and office operations account"})]}),a.jsxs("form",{className:"login-corporate__form",onSubmit:fe,children:[U&&a.jsxs("div",{className:"login-error-message",children:[a.jsx("span",{className:"error-icon",children:""}),U]}),a.jsxs("div",{className:"form-field-corporate",children:[a.jsxs("label",{className:"form-field-corporate__label",style:{color:"white"},children:["Email ",a.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),a.jsx("input",{type:"email",className:`form-field-corporate__input ${U?"input-error":""}`,value:C,onChange:j,required:!0,placeholder:"e.g., user@example.com",disabled:Ne})]}),a.jsxs("div",{className:"form-field-corporate",children:[a.jsxs("label",{className:"form-field-corporate__label",style:{color:"white"},children:["6-Digit PIN ",a.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),a.jsx("div",{className:"pin-input-container",children:H.map((ee,re)=>a.jsx("input",{ref:be=>Y.current[re]=be,type:"text",className:`pin-input ${U?"pin-input-error":""}`,maxLength:"1",value:ee,onChange:be=>F(H,D,Y,re,be.target.value),onKeyDown:be=>ae(H,Y,re,be),onPaste:be=>I(D,Y,be),placeholder:"",required:!0,disabled:Ne},re))}),a.jsx("div",{className:"pin-hint",children:"Enter your 6-digit security PIN"})]}),a.jsxs("div",{className:"login-corporate__options",children:[a.jsxs("div",{className:"login-corporate__remember",children:[a.jsx("input",{type:"checkbox",id:"remember",checked:J,onChange:ee=>ie(ee.target.checked),className:"login-corporate__checkbox",disabled:Ne}),a.jsx("label",{htmlFor:"remember",className:"login-corporate__remember-label",children:"Remember me"})]}),a.jsx("button",{type:"button",className:"login-corporate__forgot-link",onClick:se,disabled:Ne,children:"Forgot PIN?"})]}),a.jsx("div",{className:"login-corporate__actions",children:a.jsx("button",{type:"submit",className:`btn-corporate btn-corporate--primary ${Ne?"btn-loading":""}`,disabled:Ne,style:{color:"white"},children:Ne?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"loading-spinner"}),"Signing In..."]}):"Sign In"})})]})]}),te&&a.jsx(Eb,{onCancel:()=>{we(!1),P(!1)},onVerifySuccess:()=>{we(!1),P(!0)},to:"lokeshwagh5072@gmail.com",messageType:"This is testing message",request_by:ge,ship_name:f.filter(ee=>ee.SHA_ID==ge.ship_id)[0]?.ship_name||null}),je&&a.jsx("div",{className:"reset-pin-corporate",onClick:()=>P(!1),children:a.jsxs("div",{className:"reset-pin-corporate__card",onClick:ee=>ee.stopPropagation(),children:[a.jsxs("div",{className:"reset-pin-corporate__header",children:[a.jsx("div",{className:"reset-pin-corporate__icon",children:""}),a.jsx("h2",{className:"reset-pin-corporate__title",children:"Set New PIN"}),a.jsx("p",{className:"reset-pin-corporate__subtitle",children:"Create a new 6-digit security PIN"})]}),a.jsxs("div",{className:"reset-pin-corporate__content",children:[a.jsxs("div",{className:"form-field-corporate",children:[a.jsxs("label",{className:"form-field-corporate__label",children:["New PIN ",a.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),a.jsx("div",{className:"pin-input-container",children:T.map((ee,re)=>a.jsx("input",{ref:be=>w.current[re]=be,type:"text",className:"pin-input",maxLength:"1",value:ee,onChange:be=>F(T,L,w,re,be.target.value),onKeyDown:be=>ae(T,w,re,be),onPaste:be=>I(L,w,be),placeholder:"",required:!0},re))})]}),a.jsxs("div",{className:"form-field-corporate",children:[a.jsxs("label",{className:"form-field-corporate__label",children:["Confirm PIN ",a.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),a.jsx("div",{className:"pin-input-container",children:R.map((ee,re)=>a.jsx("input",{ref:be=>B.current[re]=be,type:"text",className:"pin-input",maxLength:"1",value:ee,onChange:be=>F(R,$,B,re,be.target.value),onKeyDown:be=>ae(R,B,re,be),onPaste:be=>I($,B,be),placeholder:"",required:!0},re))})]}),a.jsxs("div",{className:"reset-pin-corporate__actions",children:[a.jsx("button",{type:"button",className:"btn-corporate btn-corporate--secondary",onClick:()=>P(!1),children:"Cancel"}),a.jsx("button",{type:"button",className:"btn-corporate btn-corporate--primary",onClick:Ce,children:"Set New PIN"})]})]})]})})]})},Bb=()=>{const i=_l(),r=()=>{i("/SignIn")},d={first_name:"",middle_name:"",last_name:"",mobile_no:"",mobile_sim_country_code:"+91",user_type:"",gender:"",user_email:""},[o,f]=u.useState(d),h=p=>{if(p.preventDefault(),!o.first_name||!o.last_name||!o.user_email){alert("Please fill all required fields");return}if(!/^[a-zA-Z]+$/.test(o.first_name)){alert("First Name can only contain letters and no spaces");return}if(o.middle_name&&!/^[a-zA-Z]+$/.test(o.middle_name)){alert("Middle Name can only contain letters and no spaces");return}if(!/^[a-zA-Z]+$/.test(o.last_name)){alert("Last Name can only contain letters and no spaces");return}if(!/^\d{10}$/.test(o.mobile_no)){alert("Mobile No must be exactly 10 digits");return}if(!/\S+@\S+\.\S+/.test(o.user_email)){alert("Invalid email address");return}console.log("Registration attempt with:",o)};return a.jsx("div",{className:"registration-corporate",children:a.jsxs("div",{className:"registration-corporate__container",children:[a.jsxs("div",{className:"registration-corporate__header",children:[a.jsx("div",{className:"registration-corporate__icon",children:""}),a.jsx("h1",{className:"registration-corporate__title",children:"Factory Staff & Staff Registration"}),a.jsx("p",{className:"registration-corporate__subtitle",children:"Register for facility and office operations access"})]}),a.jsxs("form",{className:"registration-corporate__form",onSubmit:h,children:[a.jsxs("div",{className:"registration-corporate__grid",children:[a.jsxs("div",{className:"form-field-corporate",children:[a.jsxs("label",{className:"form-field-corporate__label",children:["First Name ",a.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),a.jsx("input",{type:"text",className:"form-field-corporate__input",placeholder:"Enter first name",required:!0,value:o.first_name,onChange:p=>{const y=p.target.value;if(/\s/.test(y)){alert("Spaces are not allowed in First Name");return}if(/[^a-zA-Z]/.test(y)){alert("Only letters are allowed");return}f({...o,first_name:y})}})]}),a.jsxs("div",{className:"form-field-corporate",children:[a.jsx("label",{className:"form-field-corporate__label",children:"Middle Name"}),a.jsx("input",{type:"text",className:"form-field-corporate__input",placeholder:"Enter middle name",value:o.middle_name,onChange:p=>{const y=p.target.value;if(/\s/.test(y)){alert("Spaces are not allowed in Middle Name");return}if(/[^a-zA-Z]/.test(y)){alert("Only letters are allowed");return}f({...o,middle_name:y})}})]}),a.jsxs("div",{className:"form-field-corporate",children:[a.jsxs("label",{className:"form-field-corporate__label",children:["Last Name ",a.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),a.jsx("input",{type:"text",className:"form-field-corporate__input",placeholder:"Enter last name",required:!0,value:o.last_name,onChange:p=>{const y=p.target.value;if(/\s/.test(y)){alert("Spaces are not allowed in Last Name");return}if(/[^a-zA-Z]/.test(y)){alert("Only letters are allowed");return}f({...o,last_name:y})}})]})]}),a.jsx("div",{className:"form-field-corporate-group",children:a.jsxs("div",{className:"form-field-corporate-group__inline",children:[a.jsxs("div",{className:"form-field-corporate form-field-corporate--country-code",children:[a.jsxs("label",{className:"form-field-corporate__label",children:["Country Code ",a.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),a.jsxs("select",{className:"form-field-corporate__select",required:!0,value:o.mobile_sim_country_code,onChange:p=>f({...o,mobile_sim_country_code:p.target.value}),children:[a.jsx("option",{value:"+91",children:" +91"}),a.jsx("option",{value:"+1",children:" +1"}),a.jsx("option",{value:"+44",children:" +44"})]})]}),a.jsxs("div",{className:"form-field-corporate",children:[a.jsxs("label",{className:"form-field-corporate__label",children:["Mobile No ",a.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),a.jsx("input",{type:"tel",className:"form-field-corporate__input",placeholder:"10-digit number",maxLength:"10",required:!0,value:o.mobile_no,onChange:p=>{const y=p.target.value;if(!/^\d*$/.test(y)){alert("Only digits are allowed in Mobile No");return}f({...o,mobile_no:y})}})]})]})}),a.jsxs("div",{className:"form-field-corporate",children:[a.jsxs("label",{className:"form-field-corporate__label",children:["Assignment Type ",a.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),a.jsxs("select",{className:"form-field-corporate__select",required:!0,value:o.user_type,onChange:p=>f({...o,user_type:p.target.value}),children:[a.jsx("option",{value:"",children:"Select assignment type"}),a.jsx("option",{value:"1",children:"Location Factory Staff Member"}),a.jsx("option",{value:"2",children:"Office Staff"})]})]}),a.jsxs("div",{className:"form-field-corporate",children:[a.jsxs("label",{className:"form-field-corporate__label",children:["Gender ",a.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),a.jsxs("select",{className:"form-field-corporate__select",required:!0,value:o.gender,onChange:p=>f({...o,gender:p.target.value}),children:[a.jsx("option",{value:"",children:"Select gender"}),a.jsx("option",{value:"1",children:"Male"}),a.jsx("option",{value:"2",children:"Female"}),a.jsx("option",{value:"3",children:"Other"})]})]}),a.jsxs("div",{className:"form-field-corporate",children:[a.jsxs("label",{className:"form-field-corporate__label",children:["Email ",a.jsx("span",{className:"form-field-corporate__required",children:"*"})]}),a.jsx("input",{type:"email",className:"form-field-corporate__input",placeholder:"Enter email address",value:o.user_email,onChange:p=>f({...o,user_email:p.target.value}),required:!0})]}),a.jsxs("div",{className:"registration-corporate__actions",children:[a.jsx("button",{type:"button",className:"btn-corporate btn-corporate--secondary",onClick:()=>f(d),children:"Clear Form"}),a.jsx("button",{type:"submit",className:"btn-corporate btn-corporate--primary",children:"Register User"})]})]}),a.jsx("div",{className:"registration-corporate__footer",children:a.jsxs("p",{className:"registration-corporate__footer-text",children:["Already have an account?"," ",a.jsx("button",{type:"button",onClick:r,className:"registration-corporate__login-link",children:"Sign In"})]})})]})})},Ti=u.createContext(),zb=({children:i})=>{const[r,d]=u.useState([]),[o,f]=u.useState(null),[h,p]=u.useState([]),[y,x]=u.useState(!1),[_,b]=u.useState(!1),[C,k]=u.useState(!0),[H,D]=u.useState(null),[T,L]=u.useState(!1),[R,$]=u.useState(!1),[J,ie]=u.useState({}),te="https://udayerp.com/pms/server/api/",we=async()=>{try{const j=(await qe.get(`${te}categories/tree`)).data;d(Array.isArray(j)?j:[j].filter(Boolean)),k(!1)}catch(fe){console.error("Error fetching category tree:",fe),D("Failed to load hierarchy"),k(!1)}},ge=(fe,j)=>{for(const F of fe){if(F.component_id===j)return{component_no:F.component_no,component_name:F.component_name};if(F.children&&F.children.length>0){const ae=ge(F.children,j);if(ae)return ae}}return null},ue=fe=>{if(!fe||!Array.isArray(r))return null;const j=ge(r,fe);return j||(console.warn(`Component with ID ${fe} not found in tree`),null)},je=fe=>{if(!fe||!r?.length)return null;const F=[{key:"jcd_applied_part",label:"Part"},{key:"jcd_applied_3rd_sub_cat",label:"3rd Sub Category"},{key:"jcd_applied_2nd_sub_cat",label:"2nd Sub Category"},{key:"jcd_applied_sub_cat",label:"Sub Category"},{key:"jcd_applied_cat",label:"Category"}].find(se=>fe[se.key]);if(console.log("activeLevel :: ",F),!F)return null;const ae=fe[F.key];console.log("targetId :: ",ae);const I=(se,Ce,ee=[])=>{for(const re of se){console.log("node :: ",re);const be=[...ee,{name:re.component_name,id:re.component_id}];if(re.id==Ce)return{component_id:re.id,component_no:re.data.component_no,component_name:re?.data?.label,component_level:F.label,path:be.map(ze=>ze.name).join(" > ")};if(re.children?.length){const ze=I(re.children,Ce,be);if(ze)return ze}}return null};return console.log("findNodeWithPath(tree, targetId) :: ",I(r,ae)),I(r,ae)},P=fe=>{f(fe)},U=()=>{f(null)},Re=fe=>{p(j=>j.some(ae=>ae.id===fe.id)?j.filter(ae=>ae.id!==fe.id):[...j,fe])},Ne=()=>{p([])},ve=(fe,j)=>{ie(F=>({...F,[fe]:j}))},Y=fe=>{ie(j=>{const F={...j};return delete F[fe],F})},w=()=>{ie({})},B=()=>{L(fe=>!fe)},X=()=>{$(fe=>!fe)};return u.useEffect(()=>{we()},[]),a.jsx(Ti.Provider,{value:{tree:r,loading:C,error:H,refreshTree:we,selectedNode:o,selectNode:P,clearSelection:U,checkedNodes:h,toggleCheckedNode:Re,clearCheckedNodes:Ne,executionStatus:J,updateExecutionStatus:ve,clearExecutionStatus:Y,resetAllExecutionStatus:w,isConfigJob:T,toggleIsConfigJob:B,isEditCompData:R,toggleIsEditComponent:X,needToInvokeAddNewComponentForm:y,setNeedToInvokeAddNewComponentForm:x,needToInvokeEditComponentForm:_,setNeedToInvokeEditComponentForm:b,getComponentInfoById:ue,getComponentHierarchyForJCD:je},children:i})},pc=u.createContext(),qb=({children:i})=>{const[r,d]=u.useState([]),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await qe.get(`${o}getJCDSchedule`);d(h.data)}catch(h){console.error("Failed to fetch JCD Schedules:",h)}};return u.useEffect(()=>{f()},[]),a.jsx(pc.Provider,{value:{JCD_schedule_List:r,refreshJCDSchedules:f},children:i})},gc=u.createContext(),Pb=({children:i})=>{const[r,d]=u.useState([]),o={1:"Generated",2:"Not Acknowledged",3:"Acknowledged",4:"Executed",5:"First Verification Done",6:"Second Verification Done",7:"Extension Requested",8:"Extension Accepted"},f="https://udayerp.com/pms/server/api/",h=async()=>{try{const p=await qe.get(`${f}getPlannedJobs`);d(p.data)}catch(p){console.error("Failed to fetch Planned Jobs :",p)}};return u.useEffect(()=>{h()},[]),a.jsx(gc.Provider,{value:{plannedJobList:r,refreshPlannedJobs:h,activeJobStatusMap:o},children:i})},br=({node:i,isCheckBoxActive:r,isReadOnlyView:d,isAddNewButtonActive:o,isEditButtonActive:f,selectedShipID:h})=>{const p=u.useContext(Ti),y=d?null:p?.selectedNode,x=d?()=>{}:p?.selectNode,_=d?[]:p?.checkedNodes,b=d?()=>{}:p?.toggleCheckedNode,C=p?.setNeedToInvokeAddNewComponentForm,k=p?.setNeedToInvokeEditComponentForm,[H,D]=u.useState(!1),T=u.useRef(null);u.useEffect(()=>{const P=T.current;P&&D(P.scrollWidth>P.clientWidth)},[i.data.label]),u.useEffect(()=>{},[]),u.useEffect(()=>{console.log("Selected node : ",y)},[y]);const[L,R]=u.useState(!1),$=i.children&&i.children.length>0,J=y?.id===i.id,ie=_.some(P=>P.id===i.id),te=()=>{switch(i.type){case"category":return"";case"sub_category":return"";case"second_sub_category":return"";case"third_sub_category":return"";case"part":return"";default:return""}},we=()=>{switch(i.type){case"category":return"#f1c40f";case"sub_category":return"#2ecc71";case"second_sub_category":return"#3498db";case"third_sub_category":return"#9b59b6";case"part":return"#e74c3c";default:return"white"}},ge=()=>{switch(i.type){case"category":return"rgba(241, 196, 15, 0.37)";case"sub_category":return"rgba(46, 204, 112, 0.46)";case"second_sub_category":return"rgba(52, 152, 219, 0.58)";case"third_sub_category":return"rgba(156, 89, 182, 0.49)";case"part":return"rgba(231, 77, 60, 0.33)";default:return"transparent"}},ue=()=>{$&&R(!L)},je=P=>{P.stopPropagation(),b(i)};return a.jsxs("div",{className:"tree-node",children:[a.jsxs("div",{className:`tree-label ${J?"selected":""}`,style:{color:J?"#ffffff":"white",background:J?"linear-gradient(90deg, #34495e, #2c3e50)":ge(),borderLeft:`4px solid ${we()}`,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s ease"},onClick:()=>{d||x(i)},children:[$&&a.jsx("span",{className:"toggle-icon",style:{width:"18px",height:"18px",display:"inline-block",textAlign:"center",backgroundColor:"white",backgroundImage:L?"url('./arrows/arrow-down-circle-line.png')":"url('./arrows/arrow-right-circle-line.png')",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},onClick:ue}),a.jsx("span",{className:"icon",children:te()}),a.jsx("span",{className:"label-text",ref:T,style:{flex:1},children:i.data.label}),a.jsxs("span",{style:{color:i.data.jcdCount?.length>0?"limegreen":"crimson",marginRight:"10px",display:r?"inline-flex":"none",fontWeight:"500"},onMouseEnter:P=>{P.target.style.textDecoration="underline"},onMouseLeave:P=>{P.target.style.textDecoration="none"},onClick:()=>{alert("clicked on jcd")},children:["JCD-",i.data.jcdCount?.filter(P=>P.SHA_ID==h)?.length||0]}),a.jsxs("span",{style:{color:i.data.activeJobCount.length>0?"limegreen":"crimson",marginRight:"10px",display:r?"inline-flex":"none",fontWeight:"500"},onMouseEnter:P=>{P.target.style.textDecoration="underline"},onMouseLeave:P=>{P.target.style.textDecoration="none"},onClick:()=>{x(i),alert("clicked on Active Jobs : "+i.data.activeJobCount.activeJobs.JESD_id)},children:["ActiveJobs-",i.data.activeJobCount?.length||0]}),(r||d)&&a.jsx("label",{style:{display:r?"inline-flex":"none",cursor:"pointer",alignItems:"center",accentColor:"limegreen"},children:a.jsx("input",{type:"checkbox",checked:i.isCheckBoxApplicable?!0:ie,disabled:d||i.isCheckBoxApplicable,onChange:d?void 0:je,onClick:P=>P.stopPropagation()})}),o&&a.jsx("span",{className:"add-sub-component-button",onClick:P=>{P.stopPropagation(),x(i),C(!0),k(!1)},title:"Add sub-component",children:a.jsx("img",{src:"./add-sym/add-circle-line.png",alt:"Add sub-component"})}),f&&a.jsx("span",{className:"add-sub-component-button",onClick:P=>{P.stopPropagation(),x(i),alert("You Clicked On: "+i.data.label+" For Edit Component"),C(!1),k(!0)},title:"Edit sub-component",children:a.jsx("img",{src:"./edit-sym/edit-2-line.svg",alt:"Add sub-component"})})]}),L&&$&&a.jsx("div",{className:"tree-children",children:i.children.map(P=>a.jsx(br,{node:P,isCheckBoxActive:r,isReadOnlyView:d,isAddNewButtonActive:o,isEditButtonActive:f},P.id))}),H&&a.jsx("span",{className:"tooltip-text",children:i.data.label})]},i.id)},ss=u.createContext(),$b=({children:i})=>{const[r,d]=u.useState([]),[o,f]=u.useState([]),[h,p]=u.useState([]),[y,x]=u.useState([]),[_,b]=u.useState(!1),[C,k]=u.useState(null),{user:H}=u.useContext($a),{officeStaffList:D}=u.useContext(Ei),T="https://udayerp.com/pms/server/api/",L=async()=>{b(!0),k(null);try{const J=await qe.get(`${T}getAllShipsList`);d(J.data)}catch(J){console.error("Failed to fetch All ships data:",J),k("Failed to fetch locations list")}finally{b(!1)}},R=async()=>{try{const J=await qe.get(`${T}getVesselHeaderData`);f(J.data)}catch(J){console.error("Failed to fetch All Agencies List:",J)}},$=async()=>{try{const J=await qe.get(`${T}getShipsIDandName`);x(J.data)}catch(J){console.error("Failed to fetch ships ID and Name:",J)}};return u.useEffect(()=>{H&&(L(),R())},[H]),a.jsx(ss.Provider,{value:{shipsList:r,setShipsList:d,refreshShipsList:L,agencyList:o,refreshAgencyList:R,shipsIDandNameList:y,refreshShipsIDandName:$,shipData:h,loading:_,error:C},children:i})},jr=({setIsCheckActive:i,componentTreeWantByWhichComp:r,isReadOnlyView:d,selectedShipID:o})=>{const{tree:f,loading:h,error:p,selectedNode:y,clearSelection:x}=u.useContext(Ti),{shipsList:_,refreshShipsList:b}=u.useContext(ss),[C,k]=u.useState(""),[H,D]=u.useState(i),[T,L]=u.useState(!1),[R,$]=u.useState(!1),[J,ie]=u.useState([]),{user:te}=u.useContext($a);u.useEffect(()=>{b()},[]);const we=(P,U,Re=!1)=>{if(!P)return null;const Ne=P.data?.ship_ids,ve=Ne&&Ne.includes(U);if(Re||ve){const w=P.children?P.children.map(B=>we(B,U,!0)):[];return{...P,children:w.filter(Boolean)}}if(P.children){const w=P.children.map(B=>we(B,U,!1)).filter(Boolean);if(w.length>0)return{...P,children:w}}return null},ge=P=>{if(!P)return null;if((P.data?.label?.toLowerCase()||"").includes(C.toLowerCase()))return P;if(P.children){const Ne=P.children.map(ge).filter(Boolean);if(Ne.length>0)return{...P,children:Ne}}return null};u.useEffect(()=>{if(console.log("selectedShipID :: ",o),console.log("Original tree length:",f.length),f.length>0&&o){const P=f.map(U=>we(U,o,!1)).filter(Boolean);console.log("Filtered tree after ship filtering:",P),ie(P)}else ie([])},[o,f]),u.useEffect(()=>{te.emp_type==2&&r=="MovementLogComponent"&&te.emp_desg=="DESG_0004"?D(!0):D(!1),te.emp_type==2&&r=="ShipManagementPage_add_new_comp"?L(!0):L(!1),te.emp_type==2&&r=="ShipManagementPage_edit_comp"?$(!0):$(!1)},[r]);const je=(()=>{let P=o?J:f;return C&&P.length>0?P.map(U=>ge(U)).filter(Boolean):P})();return u.useEffect(()=>{f.length>0&&o&&(console.log("=== TREE DEBUG INFO ==="),f.forEach((P,U)=>{console.log(`Root ${U}:`,{label:P.data?.label,ship_ids:P.data?.ship_ids,hasShip:P.data?.ship_ids?.includes(o)}),P.children&&P.children.forEach((Re,Ne)=>{console.log(`  Child ${Ne}:`,{label:Re.data?.label,ship_ids:Re.data?.ship_ids,hasShip:Re.data?.ship_ids?.includes(o)})})}),console.log("=== END DEBUG INFO ==="))},[f,o]),h?a.jsx("div",{className:"loading",children:"Loading component hierarchy..."}):p?a.jsx("div",{className:"error",children:p}):a.jsx("div",{className:"component-tree-layout",children:a.jsxs("div",{className:"tree-section",children:[o&&a.jsx("div",{className:"ship-selection-info",children:je.length===0&&a.jsx("span",{style:{color:"#666",fontSize:"0.9em",marginLeft:"10px"},children:"No components found for this location"})}),a.jsxs("div",{children:[a.jsx("input",{type:"text",placeholder:" Search by code or name...",value:C,onChange:P=>k(P.target.value),className:"search-input"}),a.jsx("button",{type:"button",onClick:x,style:{width:"100%",padding:"10px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",marginTop:"-16px",marginBottom:"8px",alignSelf:"flex-start",transition:"background-color 0.2s ease, transform 0.1s ease"},onMouseDown:P=>P.target.style.transform="scale(0.98)",onMouseUp:P=>P.target.style.transform="scale(1)",onMouseLeave:P=>P.target.style.transform="scale(1)","aria-label":"Clear all selected items",children:" Clear Selection"})]}),a.jsx("div",{className:"tree-wrapper",children:je.length===0?a.jsx("div",{className:"no-components-message",children:o?a.jsxs("div",{children:[a.jsxs("p",{children:["No components found for ",a.jsx("strong",{children:_.find(P=>P.SHA_ID===o)?.ship_name||"this location"}),"."]}),a.jsxs("p",{style:{fontSize:"0.9em",color:"#666"},children:["Check if components are assigned to location ID: ",a.jsx("code",{children:o})]})]}):C?a.jsxs("p",{children:['No matching components found for "',C,'"']}):a.jsx("p",{children:"No components available."})}):je.map(P=>a.jsx(br,{node:P,isCheckBoxActive:H,componentTreeWantByWhichComp:r,isReadOnlyView:d||!1,isAddNewButtonActive:T,isEditButtonActive:R,selectedShipID:o},P.data.CHA_ID))})]})})},ai=u.createContext(),Fb=({children:i})=>{const r="https://udayerp.com/pms/server/api/",[d,o]=u.useState([]);let f=[],h=[];const p=async()=>{try{await qe.get(`${r}getAllProfiles`).then(y=>{console.log("profile res :: ",y),o(y.data.data),y.data.data.map(x=>{f.push(x.form_ids?.split(",")),console.log("formIDs : ",f),h.push(x.process_ids?.split(",")),console.log("processIDs : ",h)})})}catch(y){console.error("Failed to fetch Profile List in Profile Context :",y)}};return u.useEffect(()=>{p()},[]),a.jsx(ai.Provider,{value:{profiles:d,formIDs:f,processIDs:h,refreshProfiles:p},children:i})},sf=u.createContext(),Vb=({children:i})=>{const[r,d]=u.useState([]),[o,f]=u.useState([]),h="https://udayerp.com/pms/server/api/",p=async()=>{try{const x=await qe.get(`${h}getAllMovementLogHeaders`);d(x.data)}catch(x){console.error("Failed to fetch All movement logs header in its context :",x)}},y=async()=>{try{const x=await qe.get(`${h}getAllMovementLogsWithOnlyAppliedCompHeirarchy`);f(x.data)}catch(x){console.error("Failed to fetch All movement logs header in its context :",x)}};return u.useEffect(()=>{p(),y()},[]),a.jsx(sf.Provider,{value:{movement_log_header_list:r,refreshMovement_log_header_list:p,movement_log_header_impacted_comp_full_heirarchy:o,refreshMovement_log_header_impacted_comp_full_heirarchy:y},children:i})},Fo={padding:"12px 10px",textAlign:"center",borderBottom:"1px solid #34495e",color:"#d0d0d0",fontSize:"0.95rem",transition:"background-color 0.2s ease"},Yb=()=>{const i="https://udayerp.com/pms/server/api/",[r,d]=u.useState({}),{user:o}=u.useContext($a),{selectedNode:f,checkedNodes:h,clearCheckedNodes:p,toggleCheckedNode:y,refreshTree:x}=u.useContext(Ti),{shipsList:_}=u.useContext(ss),[b,C]=u.useState(null),[k,H]=u.useState(!1),[D,T]=u.useState(!k),{profiles:L,refreshProfiles:R}=u.useContext(ai),[$,J]=u.useState([]),[ie,te]=u.useState([]),[we,ge]=u.useState([]),[ue,je]=u.useState(null),[P,U]=u.useState({ship_id:"",mov_log_id:"",display_name:"",line_no:1,inserted_on:"",valid_till:"",will_be_entered_by:"",impact_on_1:"",details_1:"",impact_on_2:"",details_2:"",impact_on_3:"",details_3:"",impact_on_4:"",details_4:"",impact_on_5:"",details_5:"",impact_on_6:"",details_6:"",impact_on_7:"",details_7:"",impact_on_8:"",details_8:"",impact_on_9:"",details_9:"",impact_on_10:"",details_10:"",impact_on_11:"",details_11:"",impact_on_12:"",details_12:"",impact_on_13:"",details_13:"",impact_on_14:"",details_14:"",impact_on_15:"",details_15:"",impact_on_16:"",details_16:"",impact_on_17:"",details_17:"",impact_on_18:"",details_18:"",impact_on_19:"",details_19:"",impact_on_20:"",details_20:"",impact_on_21:"",details_21:"",impact_on_22:"",details_22:"",impact_on_23:"",details_23:"",impact_on_24:"",details_24:"",impact_on_25:"",details_25:"",impact_on_26:"",details_26:"",impact_on_27:"",details_27:"",impact_on_28:"",details_28:"",impact_on_29:"",details_29:"",impact_on_30:"",details_30:"",impact_on_31:"",details_31:"",impact_on_32:"",details_32:"",impact_on_33:"",details_33:"",impact_on_34:"",details_34:"",impact_on_35:"",details_35:"",impact_on_36:"",details_36:"",impact_on_37:"",details_37:"",impact_on_38:"",details_38:"",impact_on_39:"",details_39:"",impact_on_40:"",details_40:"",impact_on_41:"",details_41:"",impact_on_42:"",details_42:"",impact_on_43:"",details_43:"",impact_on_44:"",details_44:"",impact_on_45:"",details_45:"",impact_on_46:"",details_46:"",impact_on_47:"",details_47:"",impact_on_48:"",details_48:"",impact_on_49:"",details_49:"",impact_on_50:"",details_50:""}),[Re,Ne]=u.useState({ship_id:"",mov_log_id:"",display_name:"",line_no:1,inserted_on:"",valid_till:"",will_be_entered_by:"",impact_on_1:"",details_1:"",impact_on_2:"",details_2:"",impact_on_3:"",details_3:"",impact_on_4:"",details_4:"",impact_on_5:"",details_5:"",impact_on_6:"",details_6:"",impact_on_7:"",details_7:"",impact_on_8:"",details_8:"",impact_on_9:"",details_9:"",impact_on_10:"",details_10:"",impact_on_11:"",details_11:"",impact_on_12:"",details_12:"",impact_on_13:"",details_13:"",impact_on_14:"",details_14:"",impact_on_15:"",details_15:"",impact_on_16:"",details_16:"",impact_on_17:"",details_17:"",impact_on_18:"",details_18:"",impact_on_19:"",details_19:"",impact_on_20:"",details_20:"",impact_on_21:"",details_21:"",impact_on_22:"",details_22:"",impact_on_23:"",details_23:"",impact_on_24:"",details_24:"",impact_on_25:"",details_25:"",impact_on_26:"",details_26:"",impact_on_27:"",details_27:"",impact_on_28:"",details_28:"",impact_on_29:"",details_29:"",impact_on_30:"",details_30:"",impact_on_31:"",details_31:"",impact_on_32:"",details_32:"",impact_on_33:"",details_33:"",impact_on_34:"",details_34:"",impact_on_35:"",details_35:"",impact_on_36:"",details_36:"",impact_on_37:"",details_37:"",impact_on_38:"",details_38:"",impact_on_39:"",details_39:"",impact_on_40:"",details_40:"",impact_on_41:"",details_41:"",impact_on_42:"",details_42:"",impact_on_43:"",details_43:"",impact_on_44:"",details_44:"",impact_on_45:"",details_45:"",impact_on_46:"",details_46:"",impact_on_47:"",details_47:"",impact_on_48:"",details_48:"",impact_on_49:"",details_49:"",impact_on_50:"",details_50:""}),{movement_log_header_list:ve,refreshMovement_log_header_list:Y}=u.useContext(sf),[w,B]=u.useState([]),[X,fe]=u.useState(null),[j,F]=u.useState(null),[ae,I]=u.useState(!1),[se,Ce]=u.useState(-1);u.useEffect(()=>{Y(),x(),R()},[]),u.useEffect(()=>{o.emp_type==1&&re(o.ship_id)},[o]),u.useEffect(()=>{ve&&B(ve.filter(K=>K.ship_id==b))},[ve,b]),u.useEffect(()=>{w&&(console.log("selectedShipID in movement : ",b),console.log("movement_log_header_list_by_ship : ",w))},[w,b]),u.useEffect(()=>{p()},[]),u.useEffect(()=>{p()},[b,ue]),u.useEffect(()=>{},[f]);const ee=K=>{K.preventDefault();const Te={};K.target.display_name.value.trim()||(Te.display_name="Movement Log Name is required.");const _e=K.target.valid_till.value;if(_e){const bt=new Date(_e),$t=new Date;$t.setHours(0,0,0,0),bt<=$t&&(Te.valid_till="Date must be in the future.")}if([K.target.category?.checked,K.target.sub_category?.checked,K.target.second_sub_category?.checked,K.target.third_sub_category?.checked].some(bt=>bt)||(Te.impact_on="At least one 'Impact On' option must be selected."),K.target.details?.value||(Te.details="Please select a movement detail type (Hours, KM, or Both)."),Object.keys(Te).length>0){d(Te);return}d({}),alert("building logic"),console.log("movement_log_header_data : ",P)},re=K=>{const Te=_.find(Ze=>Ze.SHA_ID===K);Te&&(je(Te),C(Te.SHA_ID))},be=async K=>{if(K)try{const Ze=(await qe.get(`${i}getShipIDbyEmployeeID/${K}`)).data?.[0];Ze?.SHA_ID&&re(Ze.SHA_ID)}catch{}};u.useEffect(()=>{(async()=>{o?.UHA_ID&&await be(o.UHA_ID),o&&ze(o,"MLC")})()},[o,L]);const ze=(K,Te)=>{const _e=(K.profile_ids?.split(",")||[]).map(Et=>L?.find(he=>he.PROFILE_ID===Et)).filter(Boolean);if(_e.length>0){const Et=_e[0],he=Et.form_ids?.split(",").filter($t=>$t.includes(Te))||[],bt=Et.process_ids?.split(",").filter($t=>$t.includes(Te))||[];J(he),te(bt),ge(_e)}else ge([])};u.useEffect(()=>{},[ie]),u.useEffect(()=>{j&&qe.get(`${i}getAllMovementLogsWithOnlyAppliedCompHeirarchy`).then(K=>{fe(K.data)}).catch(K=>{console.log("Error when fetching getAllMovementLogsWithFullCompHeirarchy in movement Log page")})},[j,ae]);const dt=K=>{if(!X){alert("Server Issue !!, Please Try Again");return}if(p(),console.log("movement_log_data :: ",K),X[0]){const Ze=X[0].impacted_components;if(Ze&&Ze.length===0)alert("This Movement Log Is Not Configured On Any Component");else for(let _e of Ze){const Et=_e.component_heirarchy;tt(Et)}}U({...K,valid_till:(Ze=>Ze?new Date(Ze).toISOString().split("T")[0]:"")(K.valid_till)}),T(!1),H(!0)};function tt(K){if(K){if(K.isCheckBoxApplicable){const Te={id:K.id,type:K.type,data:K.data,children:K.children};y(Te)}if(K.children&&K.children.length>0)for(let Te of K.children)tt(Te)}}const Le=()=>{p(),U(Re)};return a.jsx("div",{id:"movement-log-page-main-container",children:o.emp_type==2||o.emp_type==1?a.jsxs(a.Fragment,{children:[a.jsx("div",{id:"movement-log-page-left-container",children:a.jsxs("div",{id:"movement-log-page-left-container-content",children:[a.jsx("div",{id:"select-ships-container",style:{marginBottom:"20px"},children:a.jsxs("select",{name:"ships-selection",id:"ship-selection",value:b||"",onChange:K=>C(K.target.value),style:{visibility:k&&h.length>0?"hidden":"visible",color:"#3f5165"},disabled:ie.includes("P_MLC_0006")&&o.emp_type==1,children:[ie.includes("P_MLC_0006")&&o.emp_type==1?a.jsxs("option",{value:"",children:["You are at : ",b||ue.ship_name]}):a.jsx("option",{value:"",children:"Select Location"}),o.emp_type===2&&a.jsx(a.Fragment,{children:_.map((K,Te)=>a.jsx("option",{value:K.SHA_ID,children:K.ship_name},Te))})]})}),b&&a.jsxs("div",{className:"tree-section",style:{cursor:D?"not-allowed":"pointer",pointerEvents:D?"none":"all"},children:[a.jsxs("h2",{children:[" Component Hierarchy for ",_.filter(K=>K.SHA_ID==b)[0].ship_name]}),a.jsx(jr,{setIsCheckActive:!0,componentTreeWantByWhichComp:"MovementLogComponent",isReadOnlyView:!1,selectedShipID:b})]})]})}),a.jsxs("div",{id:"movement-log-page-right-container",style:{flexDirection:o.emp_type==2?"row":"column"},children:[a.jsxs("div",{id:"movement-log-page-right-top-container",children:[L?.filter(K=>o?.profile_ids?.includes(K.PROFILE_ID))[0]?.process_ids.includes("P_MLC_0005")&&a.jsx("button",{onClick:K=>{p(),H(!0),T(!1)},className:`tab-button ${k?"active":""}`,style:{display:ie.includes("P_MLC_0005")&&o.emp_type==2?"inline":"none"},children:"Configure Movement Log"}),L?.filter(K=>o?.profile_ids?.includes(K.PROFILE_ID))[0]?.process_ids.includes("P_MLC_0006")&&a.jsx("button",{onClick:K=>{p(),T(!0),H(!1)},className:`tab-button ${D?"active":""}`,style:{display:ie.includes("P_MLC_0006")?"inline":"none"},children:"Veiw Movement Logs"})]}),k&&ie.includes("P_MLC_0005")&&a.jsx(a.Fragment,{children:h.length>0?a.jsx(a.Fragment,{children:L?.filter(K=>o?.profile_ids?.includes(K.PROFILE_ID))[0]?.form_ids.includes("F_MLC_001")&&a.jsxs("form",{onSubmit:ee,children:[a.jsxs("h1",{children:["Movement Log Configuration On ",_.filter(K=>K.SHA_ID==b)[0].ship_name]}),a.jsxs("div",{id:"movement-log-header-visualize-checked-node",children:[a.jsx("h3",{className:"section-title",children:"Selected Components"}),a.jsx("ul",{className:"checked-nodes-list",children:h.map(K=>a.jsxs("li",{className:"checked-node-item",children:[a.jsx("span",{className:`icon ${K.type}`}),a.jsx("span",{className:"label",children:K.data.label})]},K.id))})]}),a.jsx("div",{id:"movement-log-header-display-name-feild-container",style:{marginTop:"20px"},children:a.jsxs("label",{htmlFor:"display-name",children:[a.jsx("i",{className:"fas fa-signature icon-prefix"}),"Movement Log Name :",a.jsx("input",{type:"text",name:"display_name",id:"display-name",placeholder:"Enter Movement Log Name..",value:P.display_name,onChange:K=>{U(Te=>({...Te,[K.target.name]:K.target.value}))}}),r.display_name&&a.jsx("span",{className:"error-msg",children:r.display_name})]})}),a.jsxs("div",{id:"movement-log-header-valid-till-feild-container",children:[a.jsxs("label",{htmlFor:"valid-till",children:["Log Valid Till :",a.jsx("input",{type:"date",name:"valid_till",id:"valid-till",value:P.valid_till||"",min:new Date().toISOString().split("T")[0],onChange:K=>{const Te=new Date(K.target.value),Ze=new Date;Ze.setHours(0,0,0,0),Te>Ze?(U(_e=>({..._e,[K.target.name]:K.target.value})),d(_e=>({..._e,valid_till:""}))):d(_e=>({..._e,valid_till:"Please select a future date."}))}})]}),r.valid_till&&a.jsx("span",{className:"error-msg",children:r.valid_till}),a.jsx("p",{id:"movement-log-header-valid-till-feild-note",children:"Date should be a future date."}),a.jsx("p",{id:"movement-log-header-valid-till-feild-note",children:"If left blank, this log will remain active indefinitely."})]}),a.jsxs("div",{id:"movement-log-header-impact-on-feilds-container",children:[a.jsxs("fieldset",{className:"modern-fieldset",children:[a.jsx("legend",{className:"modern-legend",children:"The Selected Movement Log Will Impact On"}),a.jsxs("div",{className:"checkbox-group",children:[a.jsxs("label",{className:"checkbox-label",children:[a.jsx("input",{type:"checkbox",name:"category"}),a.jsx("span",{className:"checkbox-custom"}),"Category (It-self Only)"]}),a.jsxs("label",{className:"checkbox-label",children:[a.jsx("input",{type:"checkbox",name:"sub_category"}),a.jsx("span",{className:"checkbox-custom"}),"Its Sub Category"]}),a.jsxs("label",{className:"checkbox-label",children:[a.jsx("input",{type:"checkbox",name:"second_sub_category"}),a.jsx("span",{className:"checkbox-custom"}),"Its 2nd Sub Category"]}),a.jsxs("label",{className:"checkbox-label",children:[a.jsx("input",{type:"checkbox",name:"third_sub_category"}),a.jsx("span",{className:"checkbox-custom"}),"Its 3rd Sub Category"]}),a.jsxs("label",{className:"checkbox-label",children:[a.jsx("input",{type:"checkbox",name:"all_hierarchy"}),a.jsx("span",{className:"checkbox-custom"}),"All (Complete Hierarchy)"]})]})]}),r.impact_on&&a.jsx("p",{className:"error-msg field-error-block",children:r.impact_on})]}),a.jsxs("div",{id:"movement-log-header-details-feilds-container",children:[a.jsxs("fieldset",{className:"modern-fieldset",children:[a.jsx("legend",{className:"modern-legend",children:"Provide Details About Movement"}),a.jsxs("div",{className:"radio-group",children:[a.jsxs("label",{className:"radio-label",children:[a.jsx("input",{type:"radio",name:"details",value:"hours"}),a.jsx("span",{className:"radio-custom"}),"Hours"]}),a.jsxs("label",{className:"radio-label",children:[a.jsx("input",{type:"radio",name:"details",value:"km"}),a.jsx("span",{className:"radio-custom"}),"KM"]}),a.jsxs("label",{className:"radio-label",children:[a.jsx("input",{type:"radio",name:"details",value:"both"}),a.jsx("span",{className:"radio-custom"}),"Both (KM & Hours)"]})]})]}),r.details&&a.jsx("p",{className:"error-msg field-error-block",children:r.details})]}),a.jsxs("div",{id:"movement-log-header-btns-container",children:[L?.filter(K=>o?.profile_ids?.includes(K.PROFILE_ID))[0]?.form_ids.includes("P_MLC_0002")&&a.jsx("button",{type:"submit",className:"btn",id:"submit-btn",children:"Save Configuration"}),a.jsx("button",{type:"button",className:"btn",id:"reset-btn",onClick:()=>{alert("In Progress")},children:"Configure Movement Logs From Other Ships"}),a.jsx("button",{type:"button",className:"btn",id:"reset-btn",onClick:()=>{Le()},children:"Reset From"})]})]})}):a.jsx("p",{className:"no-selection",children:"No Component selected yet."})}),D&&ie.includes("P_MLC_0006")?a.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:"0",marginTop:"20px",background:"rgba(30, 30, 46, 0.4)",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)"},children:[a.jsx("thead",{children:a.jsx("tr",{children:["Movement Name","Last Updated On","See Component Relay","Actions"].map(K=>K==="See Component Relay"&&!ie.includes("P_MLC_0007")||K==="Actions"&&!ie.includes("P_MLC_0003")&&!ie.includes("P_MLC_0004")?null:a.jsx("th",{style:{padding:"14px 12px",textAlign:"center",backgroundColor:"#2c3e50",color:"#ecf0f1",fontSize:"1rem",fontWeight:"600",textShadow:"0 0 5px rgba(236, 240, 241, 0.3)",border:"none"},children:K},K))})}),a.jsx("tbody",{children:w.length>0?w.map((K,Te)=>a.jsxs("tr",{style:{backgroundColor:"rgba(255, 255, 255, 0.05)"},children:[a.jsx("td",{style:Fo,children:K.display_name}),a.jsx("td",{style:Fo,children:new Date(K.inserted_on).toLocaleDateString("en-GB")}),ie.includes("P_MLC_0007")&&a.jsx("td",{style:Fo,children:a.jsx("button",{id:"btn-see-component-relay-on-this-movement",style:{padding:"6px 12px",backgroundColor:"#6c5ce7",color:"white",border:"none",borderRadius:"6px",fontSize:"0.9rem",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 5px rgba(108, 92, 231, 0.3)"},onMouseOver:Ze=>Ze.target.style.backgroundColor="#5d40e0",onMouseOut:Ze=>Ze.target.style.backgroundColor="#6c5ce7",onClick:()=>{Ce(Te),I(!0),F(K)},children:"See"})}),ie.includes("P_MLC_0003")&&ie.includes("P_MLC_0004")?a.jsxs("td",{style:{...Fo,textAlign:"center"},children:[ie.includes("P_MLC_0003")&&a.jsx("button",{style:{padding:"6px 12px",backgroundColor:"#6c5ce7",color:"white",border:"none",borderRadius:"6px",fontSize:"0.9rem",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 5px rgba(108, 92, 231, 0.3)",marginRight:"8px"},onMouseOver:Ze=>Ze.target.style.backgroundColor="#5d40e0",onMouseOut:Ze=>Ze.target.style.backgroundColor="#6c5ce7",onClick:()=>{F(K),dt(K)},children:"Edit"}),ie.includes("P_MLC_0004")&&a.jsx("button",{style:{padding:"6px 12px",backgroundColor:"#db443eff",color:"white",border:"none",borderRadius:"6px",fontSize:"0.9rem",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 5px rgba(108, 92, 231, 0.3)"},onMouseOver:Ze=>Ze.target.style.backgroundColor="#c63a35ff",onMouseOut:Ze=>Ze.target.style.backgroundColor="#db443eff",children:"Suspend"})]}):null]},K.mov_log_id)):a.jsx("tr",{children:a.jsxs("td",{colSpan:"5",style:{padding:"40px 20px",textAlign:"center",color:"#888",fontStyle:"italic",fontSize:"1.1rem",backgroundColor:"rgba(0, 0, 0, 0.1)"},children:["No movement logs configured for ",_?.find(K=>K.SHA_ID===b)?.ship_name||"N/A"]})})})]}):null,ae&&X&&a.jsx("div",{id:"applied-component-heirarchy-on-perticulart-movement-log",children:a.jsxs("div",{id:"applied-component-heirarchy-on-perticulart-movement-log-content",children:[a.jsx("div",{id:"applied-component-heirarchy-on-perticulart-movement-log-content-container",children:a.jsxs(a.Fragment,{children:[console.log("movementLogAppliedCategory[movement_log_wise_index].impacted_components :: ",X[se].impacted_components),X[se].impacted_components.map(K=>a.jsx(br,{node:K.component_heirarchy,isCheckBoxActive:!0,componentTreeWantByWhichComp:"MovementLogComponent",selectedShipID:b.SHA_ID},K.id))]})}),a.jsx("button",{style:{padding:"10px 50px",backgroundColor:"#c63a35ff",color:"white",border:"none",borderRadius:"6px",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 5px rgba(108, 92, 231, 0.3)"},onClick:()=>{I(!1),Ce(-1)},children:"Close"})]})})]})]}):a.jsx("p",{style:{fontSize:"3rem",fontWeight:"700",color:"black",backgroundColor:"white"},children:"You are not Authorized to see Content Of this module"})})},Gb=()=>{const i="https://udayerp.com/pms/server/api/",[r,d]=u.useState(!1),{user:o}=u.useContext($a),{shipsList:f,refreshShipsList:h,agencyList:p,refreshAgencyList:y}=u.useContext(ss),{needToInvokeAddNewComponentForm:x,setNeedToInvokeAddNewComponentForm:_,needToInvokeEditComponentForm:b,setNeedToInvokeEditComponentForm:C,selectedNode:k,refreshTree:H}=u.useContext(Ti),[D,T]=u.useState(""),[L,R]=u.useState(!1),[$,J]=u.useState(!1),[ie,te]=u.useState(null),we=["vslOverview","vslParticular","vslAllocation","crewList"],ge="https://udayerp.com/pms/server/api/",ue=()=>{const Je=we.indexOf(B);Je<we.length-1?X(we[Je+1]):alert("You've reached the last section.")},[je,P]=u.useState({AHA_ID:"",SHA_ID:"",inactive_since:null,incorporated_since:null,inserted_on:null,ship_code:"",ship_details:"",ship_name:"",ship_status:"",under_repaired_since:null}),[U,Re]=u.useState({AHA_ID:"",SHA_ID:"",inactive_since:null,incorporated_since:null,inserted_on:null,ship_code:"",ship_details:"",ship_name:"",ship_status:"",under_repaired_since:null,vesselType:"",flag:"",vesselCode:"",managementType:"",owner:"",charterer:"",shipManager:"",pAndIClub:"",lifeBoatCapacity:"",wageScale:"",takeOverDate:"",status:"",image:null,lrMo:"",registeredPort:"",official:"",mmsi:"",currentClass:"",groupEmail:"",group:"",email:"",yearBuilt:"",age:"",yard:"",grtTwd:"",teu:"",nrt:"",length:"",breadth:"",depth:"",mainEngineMaker:"",mainEngineModel:"",mainEngineStrokeType:"",mainEngineKW:"",mainEngineBHP:"",mainEngineRPM:"",aux1Maker:"",aux1Model:"",aux1StrokeType:"",aux1KW:"",aux1BHP:"",aux1RPM:"",aux2Maker:"",aux2Model:"",aux2StrokeType:"",aux2KW:"",aux2BHP:"",aux2RPM:"",aux3Maker:"",aux3Model:"",aux3StrokeType:"",aux3KW:"",aux3BHP:"",aux3RPM:"",inmTerminalType:"",callSign:"",insValidDays:"0",tel1:"",tel2:"",mobileNumber:"",fax:"",data:"",hsd:"",inmC:"",accCode:"",trainingFees:"0",vesselEmail:"",technicalGroupEmail:"",crewGroupEmail:"",ownerRep:"",charterEmail:"",techSupdt:"",superintendent:"",fleetManager:"",techAssistant:"",marineAssistant:"",dpa:"",acctOfficer:"",performanceBonus:""}),[Ne,ve]=u.useState({}),[Y,w]=u.useState("details"),[B,X]=u.useState("vslOverview"),[fe,j]=u.useState("hidden"),[F,ae]=u.useState("hidden"),[I,se]=u.useState("hidden"),[Ce,ee]=u.useState(!0),[re,be]=u.useState(!1),[ze,dt]=u.useState(!1);u.useEffect(()=>{console.log(Ne)},[Ne?.SHA_ID]),u.useEffect(()=>{y(),h(),H(),_(!1),T(""),te(null),R(!1)},[]),u.useEffect(()=>{Re({AHA_ID:"",SHA_ID:"",inactive_since:null,incorporated_since:null,inserted_on:null,ship_code:"",ship_details:"",ship_name:"",ship_status:"",under_repaired_since:null,vesselType:"",flag:"",vesselCode:"",managementType:"",owner:"",charterer:"",shipManager:"",pAndIClub:"",lifeBoatCapacity:"",wageScale:"",takeOverDate:"",status:"",image:null,lrMo:"",registeredPort:"",official:"",mmsi:"",currentClass:"",groupEmail:"",group:"",email:"",yearBuilt:"",age:"",yard:"",grtTwd:"",teu:"",nrt:"",length:"",breadth:"",depth:"",mainEngineMaker:"",mainEngineModel:"",mainEngineStrokeType:"",mainEngineKW:"",mainEngineBHP:"",mainEngineRPM:"",aux1Maker:"",aux1Model:"",aux1StrokeType:"",aux1KW:"",aux1BHP:"",aux1RPM:"",aux2Maker:"",aux2Model:"",aux2StrokeType:"",aux2KW:"",aux2BHP:"",aux2RPM:"",aux3Maker:"",aux3Model:"",aux3StrokeType:"",aux3KW:"",aux3BHP:"",aux3RPM:"",inmTerminalType:"",callSign:"",insValidDays:"0",tel1:"",tel2:"",mobileNumber:"",fax:"",data:"",hsd:"",inmC:"",accCode:"",trainingFees:"0",vesselEmail:"",technicalGroupEmail:"",crewGroupEmail:"",ownerRep:"",charterEmail:"",techSupdt:"",superintendent:"",fleetManager:"",techAssistant:"",marineAssistant:"",dpa:"",acctOfficer:"",performanceBonus:""})},[Y]);const tt=()=>{ve(null),Re({AHA_ID:"",SHA_ID:"",inactive_since:null,incorporated_since:null,inserted_on:null,ship_code:"",ship_details:"",ship_name:"",ship_status:"",under_repaired_since:null,vesselType:"",flag:"",vesselCode:"",managementType:"",owner:"",charterer:"",shipManager:"",pAndIClub:"",lifeBoatCapacity:"",wageScale:"",takeOverDate:"",status:"",image:null,lrMo:"",registeredPort:"",official:"",mmsi:"",currentClass:"",groupEmail:"",group:"",email:"",yearBuilt:"",age:"",yard:"",grtTwd:"",teu:"",nrt:"",length:"",breadth:"",depth:"",mainEngineMaker:"",mainEngineModel:"",mainEngineStrokeType:"",mainEngineKW:"",mainEngineBHP:"",mainEngineRPM:"",aux1Maker:"",aux1Model:"",aux1StrokeType:"",aux1KW:"",aux1BHP:"",aux1RPM:"",aux2Maker:"",aux2Model:"",aux2StrokeType:"",aux2KW:"",aux2BHP:"",aux2RPM:"",aux3Maker:"",aux3Model:"",aux3StrokeType:"",aux3KW:"",aux3BHP:"",aux3RPM:"",inmTerminalType:"",callSign:"",insValidDays:"0",tel1:"",tel2:"",mobileNumber:"",fax:"",data:"",hsd:"",inmC:"",accCode:"",trainingFees:"0",vesselEmail:"",technicalGroupEmail:"",crewGroupEmail:"",ownerRep:"",charterEmail:"",techSupdt:"",superintendent:"",fleetManager:"",techAssistant:"",marineAssistant:"",dpa:"",acctOfficer:"",performanceBonus:""}),w("details"),j("visible"),ae("hidden"),se("hidden")},Le=Je=>{ve(Je),Re({AHA_ID:Je.AHA_ID||null,SHA_ID:Je.SHA_ID||null,inactive_since:Je.inactive_since||null,incorporated_since:Je.incorporated_since||null,inserted_on:Je.inserted_on||null,ship_code:Je.ship_code||"",ship_details:Je.ship_details||"",ship_name:Je.ship_name||"",ship_status:Je.ship_status||null,under_repaired_since:Je.under_repaired_since||null,vesselType:"",flag:"",managementType:"",owner:"",charterer:"",shipManager:"",pAndIClub:"",lifeBoatCapacity:"",wageScale:"",takeOverDate:"",status:"",image:null,lrMo:"",registeredPort:"",official:"",mmsi:"",currentClass:"",groupEmail:"",group:"",email:"",yearBuilt:"",age:"",yard:"",grtTwd:"",teu:"",nrt:"",length:"",breadth:"",depth:"",mainEngineMaker:"",mainEngineModel:"",mainEngineStrokeType:"",mainEngineKW:"",mainEngineBHP:"",mainEngineRPM:"",aux1Maker:"",aux1Model:"",aux1StrokeType:"",aux1KW:"",aux1BHP:"",aux1RPM:"",aux2Maker:"",aux2Model:"",aux2StrokeType:"",aux2KW:"",aux2BHP:"",aux2RPM:"",aux3Maker:"",aux3Model:"",aux3StrokeType:"",aux3KW:"",aux3BHP:"",aux3RPM:"",inmTerminalType:"",callSign:"",insValidDays:"0",tel1:"",tel2:"",mobileNumber:"",fax:"",data:"",hsd:"",inmC:"",accCode:"",trainingFees:"0",vesselEmail:"",technicalGroupEmail:"",crewGroupEmail:"",ownerRep:"",charterEmail:"",techSupdt:"",superintendent:"",fleetManager:"",techAssistant:"",marineAssistant:"",dpa:"",acctOfficer:"",performanceBonus:""}),w("details"),j("hidden"),ae("visible"),se("visible")},K=Je=>{P(Je),w("details"),console.log("View:",Je),j("hidden"),ae("hidden"),se("hidden")},Te=async Je=>{try{if(!D.trim()){alert("Component name is required.");return}let ot=null;if(L&&ie){const Xt=new FileReader;ot=await new Promise((pa,xa)=>{Xt.onload=()=>{pa(Xt.result.split(",")[1])},Xt.onerror=xa,Xt.readAsDataURL(ie)})}let Qe=null,kt="";if(Je?.type)switch(Je.type){case"category":Qe={CHA_ID:Je.data.CHA_ID,sub_category_name:D,sub_cat_type:2,inserted_on:new Date().toISOString(),sub_cat_status:1,inserted_by:o.UHA_ID,component_no:"",design_file:ot,can_jcd_triggered:$?1:0},kt=`${ge}add-sub-category`;break;case"sub_category":Qe={CHA_ID:Je.data.CHA_ID,SCHA_ID:Je.data.SCHA_ID,second_sub_cat_name:D,second_sub_cat_type:2,inserted_on:new Date().toISOString(),second_sub_cat_status:1,inserted_by:o.UHA_ID,component_no:"",design_file:null,can_jcd_triggered:$?1:0},kt=`${ge}add-second-sub-category`;break;case"second_sub_category":Qe={CHA_ID:Je.data.CHA_ID,SCHA_ID:Je.data.SCHA_ID,SSCHA_ID:Je.data.SSCHA_ID,third_sub_cat_name:D,third_sub_cat_type:2,inserted_on:new Date().toISOString().split("T")[0],third_sub_cat_status:1,inserted_by:o.UHA_ID,component_no:"",design_file:null,can_jcd_triggered:$?1:0},console.log("payload :: ",Qe),kt=`${ge}add-third-sub-category`;break;case"third_sub_category":alert("Cannot add component under third sub-category.");return;default:console.warn("Unsupported parent component type:",Je.type),alert("Unsupported component type.");return}else Qe={CHA_ID:"",category_name:D,cat_type:2,inserted_on:new Date().toISOString(),cat_status:1,inserted_by:o.UHA_ID,component_no:"",design_file:ot,can_jcd_triggered:$?1:0},kt=`${ge}add-root-category`;const Mt=await qe.post(kt,Qe,{headers:{"Content-Type":"application/json"}});Mt.data.success?(alert("Component added successfully!"),y?.(),h?.(),H?.(),refreshShipsHealthList?.(),_(!1),T(""),te(null),R(!1),J(!1)):alert("Failed: "+(Mt.data.message||"Unknown error"))}catch(ot){console.error("Error while adding new component:",ot),ot.response?alert("Server error: "+(ot.response.data.message||ot.response.statusText)):ot.request?alert("No response from server. Check your connection or server status."):alert("Request error: "+ot.message)}},Ze=async Je=>{if(!Je){alert("No component selected to edit.");return}if(!D.trim()){alert("Component name is required.");return}d(!0);try{let ot=null;if(L&&ie){const Xt=new FileReader;ot=await new Promise((pa,xa)=>{Xt.onload=()=>pa(Xt.result.split(",")[1]),Xt.onerror=xa,Xt.readAsDataURL(ie)})}let Qe={},kt="";switch(Je.type){case"category":Qe={CHA_ID:Je.data.CHA_ID,category_name:D,design_file:ot,can_jcd_triggered:$?1:0},kt=`${i}updateRootCategory`;break;case"sub_category":Qe={SCHA_ID:Je.data.SCHA_ID,sub_category_name:D,design_file:ot,can_jcd_triggered:$?1:0},kt=`${i}updateSubCategory`;break;case"second_sub_category":Qe={SSCHA_ID:Je.data.SSCHA_ID,second_sub_cat_name:D,can_jcd_triggered:$?1:0},kt=`${i}updateSecondSubCategory`;break;case"third_sub_category":Qe={TSCHA_ID:Je.data.TSCHA_ID,third_sub_cat_name:D,can_jcd_triggered:$?1:0},kt=`${i}updateThirdSubCategory`;break;case"part":Qe={PHA_ID:Je.data.PHA_ID,part_name:D,can_jcd_triggered:$?1:0},kt=`${i}updatePart`;break;default:alert("Unsupported component type");return}const Mt=await qe.put(kt,{newComponentName:D,newCompHasDesignFile:L,newCompCanJCDConfig:$,designFile:ie,currentSelectedNode:Je});alert(Mt.data.message||"Component updated successfully!"),C(!1),H(),h(),y(),refreshShipsHealthList(),T(""),te(null),R(!1)}catch(ot){console.error("Error updating component:",ot),alert("Failed to update component: "+(ot.response?.data?.message||ot.message))}finally{d(!1)}},_e={width:"100%",padding:"10px",marginTop:"5px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px"},Et={color:"red"},he=Je=>{const{name:ot,value:Qe,type:kt,files:Mt}=Je.target;if(kt==="file")Re(Xt=>({...Xt,[ot]:Mt[0]}));else if(ot==="yearBuilt"){const Xt=parseInt(Qe),pa=new Date().getFullYear(),xa=!isNaN(Xt)&&Xt>0?pa-Xt:"";Re(Zt=>({...Zt,[ot]:Qe,age:xa}))}else Re(Xt=>({...Xt,[ot]:Qe}))},bt=Je=>({padding:"10px 16px",margin:"0 8px",border:"1px solid #ddd",background:Je?"#6c5ce7":"white",color:Je?"white":"#333",borderRadius:"6px",fontWeight:"500",cursor:"not-allowed",transition:"all 0.3s ease"}),$t={display:"block",marginBottom:"5px",fontWeight:"500",fontSize:"14px"},ia={marginBottom:"18px",animation:"fadeIn 0.4s ease-out forwards"},Fa={display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},ft={display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px",marginBottom:"16px"},Oe=(Je,ot,Qe=!1)=>a.jsxs("div",{style:ia,children:[a.jsxs("label",{style:$t,children:[Je," ",Qe&&a.jsx("span",{style:Et,children:"*"})]}),ot]});return a.jsxs("div",{id:"ship-management-page-main-container",children:[a.jsx("div",{id:"ship-management-page-main-container-left-container",className:"ship-management-page-main-sub-containers",children:a.jsxs("div",{id:"ship-management-page-left-container-shipDetails-container",children:[a.jsx("h2",{style:{fontWeight:"400",fontSize:"2rem",textAlign:"center"},children:"Location Management"}),a.jsxs("div",{id:"ship-management-page-left-container-shipDetails-content",children:[a.jsxs("table",{id:"left-container-shipDetails-content-table",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"royalblue"},children:[a.jsx("th",{}),a.jsx("th",{children:"Location Name"}),a.jsx("th",{children:"Code"}),a.jsx("th",{children:"Operations"})]})}),a.jsx("tbody",{children:f.length>0?f.map(Je=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("input",{type:"radio",name:"ship",id:Je.SHA_ID,checked:Ne?.SHA_ID==Je.SHA_ID,onChange:()=>ve(Je)})}),a.jsx("td",{children:Je.ship_name}),a.jsx("td",{children:Je.ship_code}),a.jsxs("td",{children:[a.jsx("button",{onClick:()=>Le(Je),children:"Edit"}),a.jsx("button",{onClick:()=>K(Je),children:"View"})]})]},Je.SHA_ID)):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"no-ships",children:"No locations found"})})})]}),a.jsxs("button",{id:"left-container-shipDetails-content-table-btn-add-new",onClick:tt,children:[a.jsx("i",{className:"fas fa-plus-circle"})," Add New Location"]})]})]})}),a.jsxs("div",{id:"ship-management-page-main-container-right-container",className:"ship-management-page-main-sub-containers",children:[a.jsxs("div",{id:"ship-management-page-main-container-right-container-tabs-container",children:[a.jsx("h2",{className:Y==="details"?"active":"",onClick:()=>Ne?.SHA_ID&&w("details"),style:{cursor:Ne?.SHA_ID?"pointer":"not-allowed",opacity:Ne?.SHA_ID?1:.6},children:"Location Details"}),a.jsx("h2",{className:Y==="crew"?"active":"",onClick:()=>Ne?.SHA_ID&&w("crew"),style:{cursor:Ne?.SHA_ID?"pointer":"not-allowed",opacity:Ne?.SHA_ID?1:.6},children:"Factory Staff List"}),a.jsx("h2",{className:Y==="components"?"active":"",onClick:()=>Ne?.SHA_ID&&w("components"),style:{cursor:Ne?.SHA_ID?"pointer":"not-allowed",opacity:Ne?.SHA_ID?1:.6},children:"Components"})]}),a.jsxs("div",{id:"ship-management-page-right-container-content",children:[Y==="details"&&a.jsxs("div",{style:{fontFamily:"Arial, sans-serif",padding:"20px",minHeight:"100vh"},children:[Y==="details"&&a.jsxs("div",{style:{animation:"slideIn 0.4s ease-out",backgroundColor:"transparent"},children:[a.jsx("div",{style:{display:"flex",flexWrap:"wrap",position:"sticky",top:0,left:0,zIndex:2,backgroundColor:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(2px)",padding:"20px 0px",justifyContent:"center",alignItems:"center",borderRadius:"10px"},children:[{key:"vslOverview",label:"Location Overview"},{key:"vslParticular",label:"Location Particulars"},{key:"vslAllocation",label:"Location Allocation"},{key:"crewList",label:"Factory Staff List"}].map(({key:Je,label:ot})=>a.jsx("button",{style:bt(B===Je),children:ot},Je))}),Ne?.SHA_ID&&a.jsxs(a.Fragment,{children:[B==="vslOverview"&&a.jsxs("div",{style:{padding:"24px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[a.jsx("h1",{style:{textAlign:"center",color:"#6c757d",marginBottom:"30px"},children:"Location Overview"}),a.jsxs("div",{style:Fa,children:[Oe("Location Name",a.jsx("input",{type:"text",name:"ship_name",value:U.ship_name,onChange:he,style:_e,required:!0}),!0),Oe("Location Type",a.jsxs("select",{name:"vesselType",value:U.vesselType,onChange:he,style:_e,required:!0,children:[a.jsx("option",{value:"",children:"Select Type"}),a.jsx("option",{value:"BULK_CARRIER",children:"BULK CARRIER"}),a.jsx("option",{value:"Container",children:"Container"}),a.jsx("option",{value:"GENERAL_CARGO",children:"GENERAL CARGO"})]}),!0),Oe("Flag",a.jsxs("select",{name:"flag",value:U.flag,onChange:he,style:_e,required:!0,children:[a.jsx("option",{value:"",children:"Select Flag"}),a.jsx("option",{value:"India",children:"India"}),a.jsx("option",{value:"USA",children:"USA"}),a.jsx("option",{value:"UK",children:"UK"}),a.jsx("option",{value:"Singapore",children:"Singapore"})]}),!0),Oe("Location Code",a.jsx("input",{type:"text",name:"vesselCode",value:U.vesselCode,onChange:he,style:_e}))]}),a.jsxs("div",{style:ft,children:[Oe("Management Type",a.jsxs("select",{name:"managementType",value:U.managementType,onChange:he,style:_e,children:[a.jsx("option",{value:"",children:"Select"}),a.jsx("option",{value:"Self",children:"Self"})]})),Oe("Owner",a.jsx("select",{name:"owner",value:U.owner,onChange:he,style:_e})),Oe("Charterer",a.jsx("select",{name:"charterer",value:U.charterer,onChange:he,style:_e})),Oe("Location Manager",a.jsx("select",{name:"shipManager",value:U.shipManager,onChange:he,style:_e})),Oe("P & I Club",a.jsx("select",{name:"pAndIClub",value:U.pAndIClub,onChange:he,style:_e})),Oe("Life Boat Capacity",a.jsx("input",{type:"text",name:"lifeBoatCapacity",value:U.lifeBoatCapacity,onChange:he,style:_e})),Oe("Wage Scale",a.jsx("input",{type:"text",name:"wageScale",value:U.wageScale,onChange:he,style:_e})),Oe("Take Over Date",a.jsx("input",{type:"date",name:"takeOverDate",value:U.takeOverDate,onChange:he,style:_e})),Oe("Status",a.jsxs("select",{name:"status",value:U.ship_status,onChange:he,style:_e,children:[a.jsx("option",{value:"",children:"Select Status"}),a.jsx("option",{value:"1",children:"Active"}),a.jsx("option",{value:"2",children:"Inactive"})]})),Oe("Image",a.jsx("input",{type:"file",name:"image",onChange:he,style:_e}))]}),a.jsxs("div",{style:ft,children:[Oe("LR / MO",a.jsx("input",{type:"text",name:"lrMo",value:U.lrMo,onChange:he,style:_e})),Oe("Official Number",a.jsx("input",{type:"text",name:"official",value:U.official,onChange:he,style:_e})),Oe("MMSI",a.jsx("input",{type:"text",name:"mmsi",value:U.mmsi,onChange:he,style:_e})),Oe("Current Class",a.jsx("select",{name:"currentClass",value:U.currentClass,onChange:he,style:_e})),Oe("Group",a.jsx("select",{name:"group",value:U.group,onChange:he,style:_e})),Oe("Group Email",a.jsx("input",{type:"email",name:"groupEmail",value:U.groupEmail,onChange:he,style:_e})),Oe("Email",a.jsx("input",{type:"email",name:"email",value:U.email,onChange:he,style:_e})),Oe("Year Built",a.jsx("input",{type:"number",name:"yearBuilt",value:U.yearBuilt,onChange:he,style:_e})),Oe("Age",a.jsx("input",{type:"text",value:U.age,readOnly:!0,style:{..._e}})),Oe("Yard",a.jsx("input",{type:"text",name:"yard",value:U.yard,onChange:he,style:_e})),Oe("GRT / TWD",a.jsx("input",{type:"text",name:"grtTwd",value:U.grtTwd,onChange:he,style:_e})),Oe("TEU",a.jsx("input",{type:"text",name:"teu",value:U.teu,onChange:he,style:_e})),Oe("NRT",a.jsx("input",{type:"text",name:"nrt",value:U.nrt,onChange:he,style:_e})),Oe("Length",a.jsx("input",{type:"text",name:"length",value:U.length,onChange:he,style:_e})),Oe("Breadth",a.jsx("input",{type:"text",name:"breadth",value:U.breadth,onChange:he,style:_e})),Oe("Depth",a.jsx("input",{type:"text",name:"depth",value:U.depth,onChange:he,style:_e}))]}),a.jsx("div",{style:{textAlign:"center",marginTop:"30px"},children:a.jsx("button",{type:"button",style:{padding:"12px 30px",backgroundColor:"#27ae60",color:"white",border:"none",borderRadius:"6px",fontSize:"16px",cursor:"pointer"},onClick:ue,children:"Next"})})]}),B==="vslParticular"&&a.jsxs("div",{style:{padding:"24px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[a.jsx("h1",{style:{textAlign:"center",color:"#6c757d",marginBottom:"24px"},children:"Location Particulars"}),a.jsxs("div",{style:Fa,children:[Oe("Location Name",a.jsx("input",{type:"text",value:U.ship_name,disabled:!0,style:{..._e}})),Oe("Flag",a.jsx("input",{type:"text",value:U.flag,disabled:!0,style:{..._e}}))]}),["Main","AUX 1","AUX 2","AUX 3"].map((Je,ot)=>{const Qe=ot===0?"mainEngine":`aux${ot}Engine`;return a.jsxs("fieldset",{style:{marginBottom:"24px",padding:"18px",border:"1px solid #ccc",borderRadius:"8px"},children:[a.jsxs("legend",{style:{fontWeight:"bold",fontSize:"16px",padding:"0 10px"},children:[Je," Engine"]}),a.jsxs("div",{style:ft,children:[Oe("Maker",a.jsxs("select",{name:`${Qe}Maker`,value:U[`${Qe}Maker`],onChange:he,style:_e,children:[a.jsx("option",{value:"",children:"Select Maker"}),a.jsx("option",{value:"MAN",children:"MAN"}),a.jsx("option",{value:"Wrtsil",children:"Wrtsil"}),a.jsx("option",{value:"HSD",children:"HSD"})]})),Oe("Model",a.jsx("input",{type:"text",name:`${Qe}Model`,value:U[`${Qe}Model`],onChange:he,style:_e})),Oe("Stroke Type",a.jsxs("select",{name:`${Qe}StrokeType`,value:U[`${Qe}StrokeType`],onChange:he,style:_e,children:[a.jsx("option",{value:"",children:"Select Type"}),a.jsx("option",{value:"2-Stroke",children:"2-Stroke"}),a.jsx("option",{value:"4-Stroke",children:"4-Stroke"})]})),Oe("KW",a.jsx("input",{type:"text",name:`${Qe}KW`,value:U[`${Qe}KW`],onChange:he,style:_e})),Oe("BHP",a.jsx("input",{type:"text",name:`${Qe}BHP`,value:U[`${Qe}BHP`],onChange:he,style:_e})),Oe("RPM",a.jsx("input",{type:"text",name:`${Qe}RPM`,value:U[`${Qe}RPM`],onChange:he,style:_e}))]})]},ot)}),a.jsxs("div",{style:ft,children:[Oe("INM Terminal Type",a.jsx("input",{type:"text",name:"inmTerminalType",value:U.inmTerminalType,onChange:he,style:_e})),Oe("Call Sign",a.jsx("input",{type:"text",name:"callSign",value:U.callSign,onChange:he,style:_e})),Oe("Ins. Valid Days",a.jsx("input",{type:"number",name:"insValidDays",value:U.insValidDays,onChange:he,style:_e})),Oe("Tel1",a.jsx("input",{type:"text",name:"tel1",value:U.tel1,onChange:he,style:_e})),Oe("Tel2",a.jsx("input",{type:"text",name:"tel2",value:U.tel2,onChange:he,style:_e})),Oe("Mobile Number",a.jsx("input",{type:"text",name:"mobileNumber",value:U.mobileNumber,onChange:he,style:_e})),Oe("Fax",a.jsx("input",{type:"text",name:"fax",value:U.fax,onChange:he,style:_e})),Oe("Data",a.jsx("input",{type:"text",name:"data",value:U.data,onChange:he,style:_e})),Oe("HSD",a.jsx("input",{type:"text",name:"hsd",value:U.hsd,onChange:he,style:_e})),Oe("Inm C",a.jsx("input",{type:"text",name:"inmC",value:U.inmC,onChange:he,style:_e})),Oe("Acc. Code",a.jsx("input",{type:"text",name:"accCode",value:U.accCode,onChange:he,style:_e})),Oe("Training Fees",a.jsx("input",{type:"number",name:"trainingFees",value:U.trainingFees,onChange:he,style:_e}))]}),a.jsx("div",{style:{textAlign:"center",marginTop:"30px"},children:a.jsx("button",{type:"button",style:{padding:"12px 30px",backgroundColor:"#27ae60",color:"white",border:"none",borderRadius:"6px",fontSize:"16px",cursor:"pointer"},onClick:ue,children:"Next"})})]}),B==="vslAllocation"&&a.jsxs("div",{style:{padding:"24px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[a.jsx("h1",{style:{textAlign:"center",color:"#6c757d",marginBottom:"24px"},children:"Location Allocation"}),a.jsxs("div",{style:Fa,children:[Oe("Location Email",a.jsx("input",{type:"email",name:"vesselEmail",value:U.vesselEmail,onChange:he,style:_e,required:!0}),!0),Oe("Technical Group Email",a.jsx("input",{type:"email",name:"technicalGroupEmail",value:U.technicalGroupEmail,onChange:he,style:_e,required:!0}),!0),Oe("Factory Staff Group Email",a.jsx("input",{type:"email",name:"crewGroupEmail",value:U.crewGroupEmail,onChange:he,style:_e,required:!0}),!0),Oe("Owner Rep",a.jsx("input",{type:"text",name:"ownerRep",value:U.ownerRep,onChange:he,style:_e,required:!0}),!0),Oe("Charter Email",a.jsx("input",{type:"email",name:"charterEmail",value:U.charterEmail,onChange:he,style:_e,required:!0}),!0)]}),a.jsxs("div",{style:ft,children:[Oe("Tech Supdt",a.jsxs("select",{name:"techSupdt",value:U.techSupdt,onChange:he,style:_e,required:!0,children:[a.jsx("option",{value:"",children:"Select"}),a.jsx("option",{value:"supdt1",children:"John Smith"}),a.jsx("option",{value:"supdt2",children:"Anna Lee"})]}),!0),Oe("Plant Incharge",a.jsxs("select",{name:"superintendent",value:U.superintendent,onChange:he,style:_e,required:!0,children:[a.jsx("option",{value:"",children:"Select"}),a.jsx("option",{value:"sp1",children:"David Kim"})]}),!0),Oe("Plant Head",a.jsxs("select",{name:"fleetManager",value:U.fleetManager,onChange:he,style:_e,required:!0,children:[a.jsx("option",{value:"",children:"Select"}),a.jsx("option",{value:"fm1",children:"Robert Green"})]}),!0),Oe("Tech Assistant",a.jsxs("select",{name:"techAssistant",value:U.techAssistant,onChange:he,style:_e,required:!0,children:[a.jsx("option",{value:"",children:"Select"}),a.jsx("option",{value:"ta1",children:"Chris Evans"})]}),!0),Oe("Marine Assistant",a.jsxs("select",{name:"marineAssistant",value:U.marineAssistant,onChange:he,style:_e,required:!0,children:[a.jsx("option",{value:"",children:"Select"}),a.jsx("option",{value:"ma1",children:"Daniel Craig"})]}),!0),Oe("DPA",a.jsxs("select",{name:"dpa",value:U.dpa,onChange:he,style:_e,required:!0,children:[a.jsx("option",{value:"",children:"Select"}),a.jsx("option",{value:"dpa1",children:"Alice Johnson"})]}),!0),Oe("Acct Officer",a.jsxs("select",{name:"acctOfficer",value:U.acctOfficer,onChange:he,style:_e,required:!0,children:[a.jsx("option",{value:"",children:"Select"}),a.jsx("option",{value:"ao1",children:"Kevin Hart"})]}),!0)]}),a.jsxs("div",{style:ia,children:[a.jsxs("label",{style:$t,children:["Applicable for Performance Bonus ",a.jsx("span",{style:Et,children:"*"})]}),a.jsxs("div",{style:{display:"flex",gap:"30px",marginTop:"8px"},children:[a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"performanceBonus",value:"yes",checked:U.performanceBonus==="yes",onChange:he,required:!0})," Yes"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"performanceBonus",value:"no",checked:U.performanceBonus==="no",onChange:he,required:!0})," No"]})]})]}),a.jsx("div",{style:{textAlign:"center",marginTop:"30px"},children:a.jsx("button",{type:"button",style:{padding:"12px 30px",backgroundColor:"#27ae60",color:"white",border:"none",borderRadius:"6px",fontSize:"16px",cursor:"pointer"},onClick:ue,children:"Next"})})]}),B==="crewList"&&a.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",color:"#6c757d",animation:"fadeIn 0.5s ease"},children:[a.jsx("h1",{style:{color:"#6c757d"},children:"Factory Staff List"}),a.jsx("p",{children:"No factory staff data available yet."})]})]})]}),a.jsx("style",{children:`
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideIn { from { transform: translateY(10px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
      `})]}),Y==="crew"&&Ne?.SHA_ID?a.jsxs("div",{className:"tab-content",children:[a.jsxs("h3",{children:['Factory Staff List for "',Ne?.SHA_ID,'"']}),a.jsxs("p",{children:["Number of factory staff members: ",a.jsx("strong",{children:"24"})]}),a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{background:"#2c3e50",color:"white"},children:[a.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Name"}),a.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Role"}),a.jsx("th",{style:{padding:"8px",textAlign:"left"},children:"Rank"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"John Doe"}),a.jsx("td",{children:"HOD"}),a.jsx("td",{children:"Master"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Jane Smith"}),a.jsx("td",{children:"Chief Engineer"}),a.jsx("td",{children:"Engineer"})]})]})]})]}):Y=="crew"&&a.jsx("div",{className:"no-selection-placeholder",children:a.jsx("p",{children:"Select a location to view Factory Staff Details."})}),Y==="components"&&a.jsxs("div",{className:"tab-content",children:[a.jsxs("div",{id:"component-add-new-or-edit-funtionality-tab-container",children:[a.jsxs("div",{className:"toggle-option-wrapper",children:[a.jsx("input",{type:"radio",name:"addNewOrEditFunctionalityForComponent",id:"addNewForComponent",checked:Ce,onChange:()=>{be(!1),ee(!0)}}),a.jsx("label",{htmlFor:"addNewForComponent",className:"toggle-option",children:"Add New"})]}),a.jsxs("div",{className:"toggle-option-wrapper",children:[a.jsx("input",{type:"radio",name:"addNewOrEditFunctionalityForComponent",id:"editForComponent",checked:re,onChange:()=>{be(!0),ee(!1)}}),a.jsx("label",{htmlFor:"editForComponent",className:"toggle-option",children:"Edit Existing"})]})]}),Ce&&a.jsxs("div",{id:"addNewFunctionalityForComponent-component-heirarchy-container",className:"functionality-container",children:[a.jsx("h3",{children:"Add New Component"}),a.jsx(jr,{componentTreeWantByWhichComp:"ShipManagementPage_add_new_comp",selectedShipID:Ne.SHA_ID})]}),re&&a.jsxs("div",{id:"editFunctionalityForComponent-component-heirarchy-container",className:"functionality-container",children:[a.jsx("h3",{children:"Edit Existing Component"}),a.jsx(jr,{componentTreeWantByWhichComp:"ShipManagementPage_edit_comp",selectedShipID:Ne.SHA_ID})]})]})]})]}),x&&a.jsx("div",{id:"ship-management-page-right-container-content-add-component-form-container",children:a.jsx("div",{id:"ship-management-page-right-container-content-add-component-form",children:a.jsxs("form",{onSubmit:Je=>{Je.preventDefault(),Te(k)},children:[a.jsx("div",{id:"ship-management-page-right-container-content-add-component-form-selected-node-container",children:a.jsxs("h3",{children:["Type of Selected Node: ",a.jsx("strong",{children:k?.type})]})}),a.jsx("div",{id:"ship-management-page-right-container-content-add-component-form-name-container",children:a.jsxs("label",{htmlFor:"component-name",children:["New Component Name:",a.jsx("input",{id:"new-comp-name",type:"text",placeholder:"Enter Component Name...",value:D,onChange:Je=>T(Je.target.value),required:!0})]})}),a.jsx("div",{id:"ship-management-page-right-container-content-add-component-form-has-designFile-container",children:a.jsxs("label",{htmlFor:"designFile",className:"checkbox-label",children:["Has Design File?",a.jsx("input",{id:"new-comp-has-design-file",type:"checkbox",checked:L,onChange:()=>{R(!L),te(null)}})]})}),L&&a.jsxs("div",{id:"ship-management-page-right-container-content-add-component-form-designFile-upload-container",children:[a.jsxs("label",{htmlFor:"designFileUpload",children:["Upload Design File:",a.jsx("input",{id:"designFileUpload",type:"file",accept:".pdf,.dwg,.dxf,.doc,.docx",required:L,onChange:Je=>{const ot=Je.target.files[0];if(ot&&![".pdf",".dwg",".dxf",".doc",".docx"].some(Qe=>ot.name.endsWith(Qe))){alert("Only PDF, DWG, DXF, DOC, DOCX files are allowed.");return}te(ot)}})]}),ie&&a.jsxs("p",{className:"file-selected-info",children:["Selected: ",a.jsx("strong",{children:ie.name})]})]}),a.jsx("div",{id:"ship-management-page-right-container-content-add-component-form-can-jcd-configure-container",children:a.jsxs("label",{htmlFor:"canJCD_configure",className:"checkbox-label",children:["Can Job Configure on It?",a.jsx("input",{id:"new-com-can-jcd-triggers",type:"checkbox",checked:$,onChange:()=>J(!$)})]})}),a.jsxs("div",{id:"add-component-form",children:[a.jsx("button",{type:"submit",className:"btn-submit",children:"Save"}),a.jsx("button",{type:"button",className:"btn-close",onClick:()=>{_(!1),te(null),R(!1),J(!1),T("")},children:"Close"})]})]})})}),b&&a.jsx("div",{id:"ship-management-page-right-container-content-add-component-form-container",children:a.jsx("div",{id:"ship-management-page-right-container-content-add-component-form",children:a.jsxs("form",{onSubmit:Je=>{Je.preventDefault(),Ze(k)},children:[a.jsx("div",{id:"ship-management-page-right-container-content-add-component-form-selected-node-container",children:a.jsxs("h3",{children:["Editing: ",a.jsx("strong",{children:k?.data?.label})]})}),a.jsxs("div",{id:"ship-management-page-right-container-content-add-component-form-name-container",children:[a.jsx("label",{htmlFor:"component-name",children:"Component Name:"}),a.jsx("input",{type:"text",value:D,onChange:Je=>T(Je.target.value),required:!0})]}),a.jsx("div",{id:"ship-management-page-right-container-content-add-component-form-has-designFile-container",children:a.jsxs("label",{htmlFor:"designFile",className:"checkbox-label",children:["Has Design File?",a.jsx("input",{type:"checkbox",checked:L,onChange:()=>{R(!L),L||te(null)}}),a.jsx("span",{className:"checkbox-custom"})]})}),L&&a.jsxs("div",{id:"ship-management-page-right-container-content-add-component-form-designFile-upload-container",children:[a.jsx("label",{htmlFor:"designFileUpload",children:"Upload New Design File:"}),a.jsx("input",{type:"file",onChange:Je=>te(Je.target.files[0])})]}),a.jsx("div",{id:"ship-management-page-right-container-content-add-component-form-can-jcd-configure-container",children:a.jsxs("label",{htmlFor:"canJCD_configure",className:"checkbox-label",children:["Can Job Configure on It?",a.jsx("input",{type:"checkbox",checked:$,onChange:()=>J(!$)}),a.jsx("span",{className:"checkbox-custom"})]})}),a.jsxs("div",{id:"add-component-form",children:[a.jsx("button",{type:"submit",className:"btn-submit",disabled:r,children:r?"Updating...":"Update"}),a.jsx("button",{type:"button",className:"btn-close",onClick:()=>{C(!1),T(""),te(null),R(!1),J(!1)},children:"Close"})]})]})})})]})},Og=u.createContext(),Xb=({children:i})=>{const[r,d]=u.useState([]),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await qe.get(`${o}getAllMovementTransactionLogs`);d(h.data)}catch(h){console.error("Failed to fetch All movement logs transactions in its context :",h)}};return u.useEffect(()=>{f()},[]),a.jsx(Og.Provider,{value:{movement_log_transaction_list:r,refreshMovement_log_transactions_list:f},children:i})},Zb=()=>{const i="https://udayerp.com/pms/server/api/",{profiles:r}=u.useContext(ai),{user:d}=u.useContext($a),{movement_log_header_list:o,refreshMovement_log_header_list:f,movement_log_header_impacted_comp_full_heirarchy:h,refreshMovement_log_header_impacted_comp_full_heirarchy:p}=u.useContext(sf),{movement_log_transaction_list:y,refreshMovement_log_transactions_list:x}=u.useContext(Og),{shipsList:_,refreshShipsList:b}=u.useContext(ss),[C,k]=u.useState(null),[H,D]=u.useState([]),[T,L]=u.useState([]),[R,$]=u.useState(!0),[J,ie]=u.useState(null),[te,we]=u.useState(null),[ge,ue]=u.useState(null),[je,P]=u.useState(""),[U,Re]=u.useState(""),[Ne,ve]=u.useState(!1),[Y,w]=u.useState(new Date().getDate()),[B,X]=u.useState(null),[fe,j]=u.useState([]),[F,ae]=u.useState(new Date().getMonth()+1),[I,se]=u.useState(new Date().getFullYear()),[Ce,ee]=u.useState([]),[re,be]=u.useState(null),ze={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"};u.useEffect(()=>{const Le=new Date,K=Le.getMonth()+1,Te=Le.getFullYear();we(`${K}_${Te}`)},[]),u.useEffect(()=>{if(d?.ship_id&&_.length>0){const Le=o.filter(Te=>Te.ship_id==d.ship_id),K=_.find(Te=>Te.SHA_ID==d.ship_id);ee(Le),be(K||null)}},[d,_,o]),u.useEffect(()=>{F&&I&&we(`${F}_${I}`)},[F,I]),u.useEffect(()=>{if(!C)return;const Le=[];for(let K=1;K<=50;K++){const Te=`impact_on_${K}`,Ze=`details_${K}`,_e=C[Te],Et=C[Ze];if(_e&&_e.includes("=")){const[he,bt]=_e.split("=");Le.push({component_no:he,level:parseInt(bt,10),detail:parseInt(Et,10)||1})}}j(Le)},[C]),u.useEffect(()=>{if(C&&C!=""){const Le=h.filter(K=>K.movement_log_id==C.mov_log_id);X(Le[0])}},[C]),u.useEffect(()=>{const Le=y.filter(K=>K.month_year==te&&K.mov_log_id==C?.mov_log_id);ue(Le)},[y,C,te]),u.useEffect(()=>{(async()=>{$(!0),ie(null);try{const K=await qe.get(`${i}getAllMovementLogsWithOnlyAppliedCompHeirarchy`);D(Array.isArray(K.data)?K.data:[])}catch(K){console.error("Error fetching movement log hierarchy:",K),ie("Failed to load component hierarchy. Please try again later."),D([])}finally{$(!1)}})()},[i]),u.useEffect(()=>{f(),p(),x(),b()},[]),u.useEffect(()=>{if(!C||H.length===0){L([]);return}const Le=H.find(K=>K.movement_log_id===C.mov_log_id);L(Le?.impacted_components||[])},[C,H]);const dt=Le=>{const K=Le.target.value,Te=K?Ce.find(Ze=>Ze.mov_log_id===K):null;k(Te)},tt=async Le=>{if(!C||!te||!ge||!Y||!je||!U){alert("We Dont Have Enough Data to proceed !!");return}try{const K=await qe.put(`${i}UpdateMovementTransactionLog`,Le);await x()}catch(K){console.error(" Error updating transaction:",K),alert("Failed to update transaction")}};return a.jsxs("div",{className:"movement-transaction-modern",children:[a.jsxs("div",{className:"page-header-modern",children:[a.jsxs("div",{className:"header-content-modern",children:[a.jsx("h1",{className:"page-title-modern",children:"Movement Transactions"}),a.jsxs("p",{className:"page-subtitle-modern",children:["Manage and track movement logs for ",re?.ship_name||"your factory"]})]}),a.jsx("div",{className:"user-info-modern",children:a.jsxs("span",{className:"user-greeting-modern",children:["Welcome, ",d?.emp_name?.split(" ")[0]]})})]}),a.jsxs("div",{className:"movement-main-content",children:[a.jsxs("div",{className:"component-panel-modern",children:[a.jsxs("div",{className:"panel-header-modern",children:[a.jsx("h3",{children:"Component Hierarchy"}),a.jsxs("div",{className:"help-text-modern",children:[a.jsx("span",{className:"help-icon",children:""}),a.jsx("span",{children:"Need help? Contact Plant Incharge"})]})]}),a.jsxs("div",{className:"panel-body-modern",children:[re&&C&&a.jsxs("div",{className:"ship-info-modern",children:[a.jsxs("h4",{children:["Impacted Components for ",C.display_name]}),a.jsx("p",{className:"ship-name-modern",children:re.ship_name})]}),R&&a.jsxs("div",{className:"loading-state-modern",children:[a.jsx("div",{className:"spinner"}),a.jsx("p",{children:"Loading component hierarchy..."})]}),J&&a.jsxs("div",{className:"error-state-modern",children:[a.jsx("span",{className:"error-icon",children:""}),a.jsx("p",{children:J})]}),!R&&!C&&a.jsx("div",{className:"empty-state-modern",children:a.jsx("p",{children:"Select a movement log to view impacted components"})}),!R&&C&&T.length===0&&a.jsx("div",{className:"empty-state-modern",children:a.jsx("p",{children:"No components impacted by this movement log"})}),!R&&T.length>0&&a.jsx("div",{className:"components-list-modern",children:T.map((Le,K)=>{const Te=Array.isArray(Le.component_heirarchy)?Le.component_heirarchy:[Le.component_heirarchy];return a.jsx("div",{className:"component-item-modern",children:Te.map(Ze=>a.jsx(br,{node:Ze,isCheckBoxActive:!0,componentTreeWantByWhichComp:"MovementLogComponent"},Ze.id))},`${Le.component_no}-${K}`)})})]})]}),a.jsxs("div",{className:"content-panel-modern",children:[a.jsxs("div",{className:"control-card-modern",children:[a.jsx("div",{className:"card-header-modern",children:a.jsx("h3",{children:"Movement Log Selection"})}),a.jsxs("div",{className:"card-body-modern",children:[Ce.length>0?a.jsxs("div",{className:"form-group-modern",children:[a.jsx("label",{htmlFor:"mov_log_header",children:"Select Movement Log"}),a.jsxs("select",{name:"mov_log_header",id:"mov_log_header",onChange:dt,value:C?.mov_log_id||"",className:"modern-select",children:[a.jsx("option",{value:"",children:"-- Select Movement Log --"}),Ce.map(Le=>a.jsx("option",{value:Le.mov_log_id,children:Le.display_name},Le.mov_log_id))]})]}):a.jsx("div",{className:"empty-state-modern",children:a.jsxs("p",{children:["Sorry ",d?.emp_name?.split(" ")[0],", We don't have any Movement Logs on ",re?.ship_name,"!"]})}),C&&a.jsx("div",{className:"action-buttons-modern",children:r.filter(Le=>d.profile_ids.includes(Le.PROFILE_ID))[0]?.process_ids?.includes("P_rhnm_0002")&&a.jsx("button",{className:"modern-btn primary",onClick:()=>ve(!0),children:"+ Add New Entry"})})]})]}),a.jsxs("div",{className:"data-card-modern",children:[a.jsxs("div",{className:"card-header-modern",children:[a.jsx("h3",{children:"Monthly Transactions"}),a.jsxs("div",{className:"date-controls-modern",children:[a.jsx("select",{value:F,onChange:Le=>ae(parseInt(Le.target.value)),className:"modern-select small",children:Array.from({length:12},(Le,K)=>a.jsx("option",{value:K+1,children:new Date(2024,K).toLocaleString("default",{month:"long"})},K+1))}),a.jsx("select",{value:I,onChange:Le=>se(parseInt(Le.target.value)),className:"modern-select small",children:Array.from({length:10},(Le,K)=>{const Te=new Date().getFullYear()-5+K;return a.jsx("option",{value:Te,children:Te},Te)})})]})]}),a.jsx("div",{className:"card-body-modern",children:te&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"table-header-modern",children:a.jsxs("h4",{children:["Entries for ",ze[te.split("_")[0]]," ",te.split("_")[1]]})}),a.jsx("div",{className:"table-container-modern",children:a.jsxs("table",{className:"modern-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"log-name-header",children:"Log Name"}),Array.from({length:31},(Le,K)=>a.jsxs("th",{className:"day-header-modern",children:["Day ",K+1]},K+1))]})}),a.jsxs("tbody",{children:[C&&B&&B.impacted_components.map((Le,K)=>{const Te=Le.component_no,Ze=fe.find(_e=>_e.component_no===Te);return a.jsxs("tr",{children:[a.jsx("td",{className:"log-name-cell-modern",children:Le?.component_heirarchy?.data?.label||Te}),Array.from({length:31},(_e,Et)=>{const he=`Day_${Et+1}`,bt=ge?.[0]?.[he];let $t=null,ia=null;if(bt){let ft,Oe;bt.includes("=")?[ft,Oe]=bt.split("=",2):bt.includes("|")?[ft,Oe]=bt.split("|",2):(ft=bt,Oe="0"),Ze?Ze.detail===1?$t=ft:Ze.detail===2?ia=Oe:Ze.detail===3&&($t=ft,ia=Oe):$t=ft}const Fa=$t!==null&&ia!==null?a.jsxs("div",{className:"data-cell-modern",children:[a.jsxs("span",{className:"hr-value",children:["HR-",$t]}),a.jsxs("span",{className:"nm-value",children:["NM-",ia]})]}):$t!==null?a.jsxs("span",{className:"hr-value",children:["HR-",$t]}):ia!==null?a.jsxs("span",{className:"nm-value",children:["NM-",ia]}):a.jsx("span",{className:"no-data-modern",children:"-"});return a.jsx("td",{children:Fa},Et+1)})]},K)}),C?B?B.impacted_components.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"32",className:"no-data-message-modern",children:"No components impacted"})}):null:a.jsx("tr",{children:a.jsx("td",{colSpan:"32",className:"no-data-message-modern",children:"No component hierarchy found"})}):a.jsx("tr",{children:a.jsx("td",{colSpan:"32",className:"no-data-message-modern",children:"Select a movement log to view data"})})]})]})})]})})]})]})]}),Ne&&a.jsx("div",{className:"modal-overlay",children:a.jsx("div",{className:"allocate-duty-modal",children:a.jsxs("div",{className:"modern-user-modal",children:[a.jsx("div",{className:"modern-modal-header",children:a.jsxs("div",{className:"modern-header-content",children:[a.jsxs("div",{className:"modern-title-section",children:[a.jsx("div",{className:"modern-modal-icon allocate-icon",children:""}),a.jsxs("div",{className:"modern-title-text",children:[a.jsx("h2",{className:"modern-modal-title",children:"Add New Movement Entry"}),a.jsxs("p",{className:"modern-modal-subtitle",children:["Adding entry for ",a.jsxs("span",{className:"user-highlight",children:["Day ",Y]})," of"," ",a.jsxs("span",{className:"user-highlight",children:[ze[te.split("_")[0]]," ",te.split("_")[1]]})]})]})]}),a.jsx("button",{className:"modern-close-button",onClick:()=>ve(!1),children:""})]})}),a.jsxs("div",{className:"modern-modal-content",children:[a.jsxs("div",{className:"form-section-card",children:[a.jsxs("div",{className:"card-header",children:[a.jsx("div",{className:"card-icon",children:""}),a.jsx("h3",{className:"card-title",children:"Entry Details"})]}),a.jsxs("div",{className:"modern-form-grid",children:[a.jsxs("div",{className:"modern-form-group",children:[a.jsxs("label",{className:"modern-form-label required",children:[a.jsx("span",{className:"label-icon",children:""}),"Hours"]}),a.jsx("input",{type:"number",placeholder:"Enter hours (e.g., 8.5)",min:"0",step:"0.5",value:je,onChange:Le=>P(Le.target.value),className:"modern-form-input"})]}),a.jsxs("div",{className:"modern-form-group",children:[a.jsxs("label",{className:"modern-form-label required",children:[a.jsx("span",{className:"label-icon",children:""}),"Nautical Miles"]}),a.jsx("input",{type:"number",placeholder:"Enter nautical miles",min:"0",value:U,onChange:Le=>Re(Le.target.value),className:"modern-form-input"})]})]})]}),a.jsxs("div",{className:"form-section-card",children:[a.jsxs("div",{className:"card-header",children:[a.jsx("div",{className:"card-icon",children:""}),a.jsx("h3",{className:"card-title",children:"Impacted Component Hierarchy"})]}),a.jsx("div",{className:"components-preview-modern",children:R?a.jsxs("div",{className:"loading-state-modern",children:[a.jsx("div",{className:"spinner"}),a.jsx("p",{children:"Loading components..."})]}):C?T.length===0?a.jsx("p",{className:"no-components-modern",children:"No components impacted by this log"}):T.map((Le,K)=>{const Te=Array.isArray(Le.component_heirarchy)?Le.component_heirarchy:[Le.component_heirarchy];return a.jsx("div",{className:"component-preview-modern",children:Te.map(Ze=>a.jsx(br,{node:Ze,isCheckBoxActive:!0,componentTreeWantByWhichComp:"MovementLogComponent"},Ze.id))},`${Le.component_no}-${K}`)}):a.jsx("p",{className:"no-components-modern",children:"No movement log selected"})})]})]}),a.jsxs("div",{className:"modern-modal-footer",children:[a.jsx("div",{className:"footer-left",children:a.jsxs("div",{className:"users-count",children:["Adding entry for: ",C?.display_name]})}),a.jsxs("div",{className:"footer-right",children:[a.jsx("button",{className:"modern-btn secondary",onClick:()=>ve(!1),children:"Cancel"}),a.jsxs("button",{className:"modern-btn primary allocate-action-btn",onClick:()=>{if(!je||!U){alert("Please fill in both fields.");return}window.confirm("Are you sure you want to add this entry?")&&(ge[0]?ge[0][`Day_${Y}`]?alert("You have already filled the value for this day. To update it, please contact Office side Authority."):(ge[0].increment_hr_value=je,ge[0].increment_km_value=U,ge[0].Inserted_on=ge[0].Inserted_on.split("T")[0],ge[0][`Day_${Y}`]=`${je}=${U}`,tt(ge[0])):alert("We need to begin first transaction.."),P(""),Re(""),ve(!1))},children:[a.jsx("span",{className:"btn-icon",children:""}),"Add Entry"]})]})]})]})})})]})},lf=u.createContext(),Qb=({children:i})=>{const[r,d]=u.useState([]),[o,f]=u.useState([]),h="https://udayerp.com/pms/server/api/",p=async()=>{try{const x=await qe.get(`${h}getAllJCDsFromCombinationAll`);d(x.data)}catch(x){console.error("Failed to fetch JCD Schedules:",x)}},y=async()=>{try{const x=await qe.get(`${h}getAllJCDsShipWiseGroupFromCombinationAll`);f(x.data)}catch(x){console.error("Failed to fetch JCD Schedules:",x)}};return u.useEffect(()=>{p(),y()},[]),a.jsx(lf.Provider,{value:{JCD_ship_combinations_list:r,refreshJCD_ship_combinations_list:p,JCD_ship_wise_group_combinations_list:o,RefreshJCD_ship_wise_group_combinations:y},children:i})};var Hg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},qp=Rt.createContext&&Rt.createContext(Hg),Kb=["attr","size","title"];function Wb(i,r){if(i==null)return{};var d=e0(i,r),o,f;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(i);for(f=0;f<h.length;f++)o=h[f],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(i,o)&&(d[o]=i[o])}return d}function e0(i,r){if(i==null)return{};var d={};for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)){if(r.indexOf(o)>=0)continue;d[o]=i[o]}return d}function nc(){return nc=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var d=arguments[r];for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&(i[o]=d[o])}return i},nc.apply(this,arguments)}function Pp(i,r){var d=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);r&&(o=o.filter(function(f){return Object.getOwnPropertyDescriptor(i,f).enumerable})),d.push.apply(d,o)}return d}function sc(i){for(var r=1;r<arguments.length;r++){var d=arguments[r]!=null?arguments[r]:{};r%2?Pp(Object(d),!0).forEach(function(o){t0(i,o,d[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(d)):Pp(Object(d)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(d,o))})}return i}function t0(i,r,d){return r=a0(r),r in i?Object.defineProperty(i,r,{value:d,enumerable:!0,configurable:!0,writable:!0}):i[r]=d,i}function a0(i){var r=n0(i,"string");return typeof r=="symbol"?r:r+""}function n0(i,r){if(typeof i!="object"||!i)return i;var d=i[Symbol.toPrimitive];if(d!==void 0){var o=d.call(i,r);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(i)}function Ig(i){return i&&i.map((r,d)=>Rt.createElement(r.tag,sc({key:d},r.attr),Ig(r.child)))}function Cs(i){return r=>Rt.createElement(s0,nc({attr:sc({},i.attr)},r),Ig(i.child))}function s0(i){var r=d=>{var{attr:o,size:f,title:h}=i,p=Wb(i,Kb),y=f||d.size||"1em",x;return d.className&&(x=d.className),i.className&&(x=(x?x+" ":"")+i.className),Rt.createElement("svg",nc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},d.attr,o,p,{className:x,style:sc(sc({color:i.color||d.color},d.style),i.style),height:y,width:y,xmlns:"http://www.w3.org/2000/svg"}),h&&Rt.createElement("title",null,h),i.children)};return qp!==void 0?Rt.createElement(qp.Consumer,null,d=>r(d)):r(Hg)}function i0(i){return Cs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(i)}function l0(i){return Cs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(i)}function r0(i){return Cs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(i)}function o0(i){return Cs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(i)}function $p(i){return Cs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(i)}function c0(i){return Cs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(i)}function d0(i){return Cs({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(i)}function Vo(i){return Cs({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M496.616 372.639l70.012-70.012c16.899-16.9 9.942-45.771-12.836-53.092L512 236.102V96c0-17.673-14.327-32-32-32h-64V24c0-13.255-10.745-24-24-24H248c-13.255 0-24 10.745-24 24v40h-64c-17.673 0-32 14.327-32 32v140.102l-41.792 13.433c-22.753 7.313-29.754 36.173-12.836 53.092l70.012 70.012C125.828 416.287 85.587 448 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24 61.023 0 107.499-20.61 143.258-59.396C181.677 487.432 216.021 512 256 512h128c39.979 0 74.323-24.568 88.742-59.396C508.495 491.384 554.968 512 616 512c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24-60.817 0-101.542-31.001-119.384-75.361zM192 128h256v87.531l-118.208-37.995a31.995 31.995 0 0 0-19.584 0L192 215.531V128z"},child:[]}]})(i)}function Gj(i){return Cs({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(i)}const u0=()=>{const i="https://udayerp.com/pms/server/api/",{user:r}=u.useContext($a),{designationList:d}=u.useContext(vl),{profiles:o}=u.useContext(ai),{clearSelection:f,selectedNode:h,refreshTree:p}=u.useContext(Ti),{JCD_ship_wise_group_combinations_list:y,RefreshJCD_ship_wise_group_combinations:x}=u.useContext(lf),{JCD_schedule_List:_,refreshJCDSchedules:b}=u.useContext(pc),{shipsList:C,refreshShipsList:k}=u.useContext(ss),{officeStaffList:H,refreshOfficeStaffList:D}=u.useContext(Ei),[T,L]=u.useState(""),[R,$]=u.useState([]),[J,ie]=u.useState("unassigned"),te=_l();u.useEffect(()=>{x(),b(),k(),f(),D()},[]),u.useEffect(()=>{T||f()},[T]),u.useEffect(()=>{r.emp_type==1&&L(r.ship_id)},[r]);const[we,ge]=u.useState(""),[ue,je]=u.useState(""),[P,U]=u.useState([]),[Re,Ne]=u.useState([]),ve=I=>{U(se=>se.includes(I)?se.filter(Ce=>Ce!==I):[...se,I])},Y=I=>{Ne(se=>se.includes(I)?se.filter(Ce=>Ce!==I):[...se,I])},w=()=>{P.length===j.length?U([]):U(j.map(I=>I.jcd_id))},B=()=>{Re.length===R.length?Ne([]):Ne(R)};u.useEffect(()=>{if(T){console.log("jcd schedule list : ",_);const I=y.find(se=>se.SHA_ID===T);$(I?I.jcds:[])}else $([])},[T,y]);const[X,fe]=u.useState([]);u.useEffect(()=>{if(T&&_.length>0){const I=_.filter(se=>!R.includes(se.jcd_id)&&se.SHA_ID==null);fe(I)}else fe([])},[T,R,_]);const j=u.useMemo(()=>{let I=X;if(I=I.filter(se=>{const Ce=we?se.criticality==we:!0,ee=ue?se.jcd_name?.toLowerCase().includes(ue.toLowerCase())||se.jcd_id?.toLowerCase().includes(ue.toLowerCase()):!0;return Ce&&ee}),h){const{CHA_ID:se,SCHA_ID:Ce,SSCHA_ID:ee,TSCHA_ID:re,PHA_ID:be}=h.data;I=I.filter(ze=>(se?ze.jcd_applied_cat===se:!0)&&(Ce?ze.jcd_applied_sub_cat===Ce:!0)&&(ee?ze.jcd_applied_2nd_sub_cat===ee:!0)&&(re?ze.jcd_applied_3rd_sub_cat===re:!0)&&(be?ze.jcd_applied_part===be:!0))}return I},[X,we,ue,h]),F=async I=>{const se={SHA_ID:T,jcdIDs:I};if(I){await qe.post(`${i}linkJcdWithShip`,se);let Ce=[];for(let ee of se.jcdIDs)_.filter(re=>re.jcd_id==ee&&re.SHA_ID==null).forEach(re=>{re.SHA_ID=se.SHA_ID,Ce.push(re)});try{for(let ee of Ce){const re=await qe.put(`${i}updateJCDScheduleById`,ee)}}catch(ee){console.error(ee),alert("Failed to insert JCD. in ship")}U([]),Ne([]),x(),b(),k()}},ae=async I=>{if(confirm("Are you sure you want to unlink the selected JCD(s)?"))try{for(let Ce of I){const ee={SHA_ID:T,JCD_ID:Ce},re=await qe.post(`${i}unlinkJCDFromShipAndSchedule`,ee);_.filter(be=>be.jcd_id===Ce&&be.SHA_ID===T).forEach(be=>{be.SHA_ID=null,be.line_no=0})}U([]),Ne([]),x(),b(),k(),alert("JCD(s) unlinked successfully.")}catch(Ce){console.error(" Error unlinking JCD(s):",Ce),alert("Failed to unlink JCD(s).")}};return a.jsxs("div",{className:"jcd-ship-combination-container",children:[a.jsxs("div",{className:"pageHeader",children:[a.jsxs("div",{className:"headerContent",children:[a.jsx("h1",{children:"JCD Location Combination"}),a.jsx("p",{children:"Manage JCD assignments to locations and configure generation rules"})]}),a.jsx("div",{className:"headerActions",children:o?.filter(I=>r?.profile_ids?.includes(I.PROFILE_ID))[0]?.process_ids.includes("P_JSCA_0004")&&a.jsxs("button",{className:"primaryButton",onClick:()=>te("/JCD_form"),children:[a.jsx(c0,{size:14}),"Configure New JCD"]})})]}),a.jsxs("div",{className:"controlsSection",children:[a.jsxs("div",{className:"shipSelector",children:[a.jsxs("div",{className:"selectorLabel",children:[a.jsx(Vo,{size:16}),a.jsx("span",{children:"Select Location"})]}),console.log("user :: ",H),r.emp_type==2?a.jsxs("select",{value:T,onChange:I=>L(I.target.value),className:"formSelect",children:[a.jsx("option",{value:"",children:"Choose a location..."}),C?.map(I=>a.jsx("option",{value:I.SHA_ID,children:I.ship_name},I.SHA_ID))]}):a.jsxs("h4",{children:["You are at ",C?.filter(I=>I.SHA_ID==r.ship_id)[0]?.ship_name]})]}),a.jsxs("div",{className:"filtersContainer",children:[a.jsxs("div",{className:"filterGroup",children:[a.jsxs("div",{className:"filterLabel",children:[a.jsx(o0,{size:14}),a.jsx("span",{children:"Filters"})]}),a.jsxs("select",{value:we,onChange:I=>ge(I.target.value),disabled:!T,className:"formSelect",children:[a.jsx("option",{value:"",children:"All Criticality"}),a.jsx("option",{value:"1",children:"Critical"}),a.jsx("option",{value:"2",children:"Non-Critical"})]})]}),a.jsxs("div",{className:"searchGroup",children:[a.jsxs("div",{className:"searchLabel",children:[a.jsx(d0,{size:14}),a.jsx("span",{children:"Search"})]}),a.jsx("input",{type:"text",placeholder:"Search JCD by name or ID...",value:ue,onChange:I=>je(I.target.value),disabled:!T,className:"formInput"})]})]})]}),a.jsxs("div",{className:"mainContent",children:[a.jsxs("div",{className:"hierarchySection",children:[a.jsxs("div",{className:"sectionHeader",children:[a.jsx($p,{size:16}),a.jsx("span",{children:"Component Hierarchy"})]}),a.jsxs("div",{className:`hierarchyContainer ${T?"":"disabled"}`,children:[a.jsx(jr,{}),!T&&a.jsx("div",{className:"disabledOverlay",children:a.jsx("p",{children:"Select a location to enable component filtering"})})]})]}),a.jsxs("div",{className:"jcdManagementSection",children:[a.jsxs("div",{className:"jcdTabs",children:[a.jsxs("button",{className:`tabButton ${J==="unassigned"?"active":""}`,onClick:()=>ie("unassigned"),children:[a.jsx(r0,{size:14}),"Unassigned JCDs",a.jsx("span",{className:"countBadge",children:j.length})]}),a.jsxs("button",{className:`tabButton ${J==="assigned"?"active":""}`,onClick:()=>ie("assigned"),children:[a.jsx(Vo,{size:14}),"Assigned JCDs",a.jsx("span",{className:"countBadge",children:R.length})]})]}),a.jsxs("div",{className:"jcdContent",children:[a.jsxs("div",{className:`jcdPanel ${J==="unassigned"?"active":""}`,children:[a.jsxs("div",{className:"panelHeader",children:[a.jsx("div",{className:"selectionInfo",children:a.jsxs("label",{className:"checkboxLabel",children:[a.jsx("input",{type:"checkbox",checked:P.length===j.length&&j.length>0,onChange:w,disabled:!T||j.length===0}),a.jsxs("span",{children:["Select All (",P.length,"/",j.length,")"]})]})}),o?.filter(I=>r?.profile_ids?.includes(I.PROFILE_ID))[0]?.process_ids.includes("P_JSCA_0002")&&a.jsxs("button",{className:"actionButton",onClick:()=>F(P),disabled:!T||P.length===0,children:[a.jsx(l0,{size:14}),"Assign to Location"]})]}),a.jsx("div",{className:"jcdList",children:j.length>0?j.filter(I=>I.SHA_ID==null&&I.line_no==0).map(I=>a.jsx("div",{className:"jcdCard",children:a.jsxs("label",{className:"checkboxLabel",children:[a.jsx("input",{type:"checkbox",checked:P.includes(I.jcd_id),onChange:()=>ve(I.jcd_id),disabled:!T}),a.jsxs("div",{className:"jcdInfo",children:[a.jsx("div",{className:"jcdName",children:_.filter(se=>se.jcd_id==I.jcd_id&&se.SHA_ID==null)[0]?.jcd_name||"Unnamed JCD"}),a.jsxs("div",{className:"jcdMeta",children:[a.jsxs("span",{className:"jcdId",children:["ID: ",I.jcd_id]}),a.jsx("span",{className:`criticalityBadge ${I.criticality=="1"?"critical":"nonCritical"}`,children:I.criticality=="1"?"Critical":"Non-Critical"})]})]})]})},`unassigned-${I.jcd_id}`)):a.jsxs("div",{className:"emptyState",children:[a.jsx($p,{size:32}),a.jsx("p",{children:"No unassigned JCDs found"})]})})]}),a.jsxs("div",{className:`jcdPanel ${J==="assigned"?"active":""}`,children:[a.jsxs("div",{className:"panelHeader",children:[a.jsx("div",{className:"selectionInfo",children:a.jsxs("label",{className:"checkboxLabel",children:[a.jsx("input",{type:"checkbox",checked:Re.length===R.length&&R.length>0,onChange:B,disabled:!T||R.length===0}),a.jsxs("span",{children:["Select All (",Re.length,"/",R.length,")"]})]})}),o?.filter(I=>r?.profile_ids?.includes(I.PROFILE_ID))[0]?.process_ids.includes("P_JSCA_0003")&&a.jsxs("button",{className:"actionButton dangerButton",onClick:()=>ae(Re),disabled:!T||Re.length===0,children:[a.jsx(i0,{size:14}),"Unlink from Location"]})]}),a.jsx("div",{className:"jcdList",children:R.length>0?(()=>{const I=y.find(se=>se.SHA_ID===T);return!I||!I.jcds.length?a.jsxs("div",{className:"emptyState",children:[a.jsx(Vo,{size:32}),a.jsx("p",{children:"No JCDs assigned to this location"})]}):I.jcds.map((se,Ce)=>{const ee=I.generationRules?.[Ce]||"N/A",re=_.find(be=>be.jcd_id===se);return a.jsx("div",{className:"jcCdard assigned",children:a.jsxs("label",{className:"checkboxLabel",children:[a.jsx("input",{type:"checkbox",checked:Re.includes(se),onChange:()=>Y(se)}),a.jsxs("div",{className:"jcdInfo",children:[a.jsx("div",{className:"jcdName",children:re?.jcd_name||"JCD Name"}),a.jsxs("div",{className:"jcdMeta",children:[a.jsxs("span",{className:"jcdId",children:["ID: ",se]}),a.jsxs("span",{className:"generationRule",children:["Rule: ",ee]}),a.jsx("span",{className:`criticalityBadge ${re?.criticality=="1"?"critical":"nonCritical"}`,children:re?.criticality=="1"?"Critical":"Non-Critical"})]})]})]})},`assigned-${se}`)})})():a.jsxs("div",{className:"emptyState",children:[a.jsx(Vo,{size:32}),a.jsx("p",{children:"No JCDs assigned to this location"})]})})]})]})]})]})]})},Ug=u.createContext(),f0=({children:i})=>{const[r,d]=u.useState([]),[o,f]=u.useState([]),h="https://udayerp.com/pms/server/api/",p=async()=>{try{const x=await qe.get(`${h}getJobTypes`);d(x.data)}catch(x){console.error("Failed to fetch job types:",x)}},y=async()=>{try{const x=await qe.get(`${h}getAllJobTypesHaveIDandTypeName`);f(x.data)}catch(x){console.error("Failed to fetch job types:",x)}};return u.useEffect(()=>{p(),y()},[]),a.jsx(Ug.Provider,{value:{jobTypesList:r,refreshJobTypes:p,jobTypesIDandNameList:o,refreshJobTypesIDandName:y},children:i})},Jg=u.createContext(),h0=({children:i})=>{const[r,d]=u.useState([]),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await qe.get(`${o}getAllMainCategories`);console.log("response : ",h),d(h.data)}catch(h){console.error("Failed to fetch Crew Data :",h)}};return u.useEffect(()=>{f()},[]),a.jsx(Jg.Provider,{value:{mainCategoryList:r,refreshMainCategoryList:f},children:i})},Bg=u.createContext(),m0=({children:i})=>{const[r,d]=u.useState([]),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await qe.get(`${o}getAllSubCategories`);d(h.data)}catch(h){console.error("Failed to fetch sub category data in it frontend context :",h)}};return u.useEffect(()=>{f()},[]),a.jsx(Bg.Provider,{value:{subCategoryList:r,refreshSubCategoryList:f},children:i})},zg=u.createContext(),p0=({children:i})=>{const[r,d]=u.useState([]),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await qe.get(`${o}getAllSecondSubCategories`);d(h.data)}catch(h){console.error("Failed to fetch Second sub category data in it frontend context :",h)}};return u.useEffect(()=>{f()},[]),a.jsx(zg.Provider,{value:{secondSubCategoryList:r,refreshSecondSubCategoryList:f},children:i})},qg=u.createContext(),g0=({children:i})=>{const[r,d]=u.useState([]),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await qe.get(`${o}getAllThirdSubCategories`);d(h.data)}catch(h){console.error("Failed to fetch Third sub category data in it frontend context :",h)}};return u.useEffect(()=>{f()},[]),a.jsx(qg.Provider,{value:{thirdSubCategoryList:r,refreshThirdSubCategoryList:f},children:i})},_c=u.createContext(),_0=({children:i})=>{const[r,d]=u.useState([]),[o,f]=u.useState([]),h="https://udayerp.com/pms/server/api/",p=async()=>{try{const x=await qe.get(`${h}getCrewData`);d(x.data)}catch(x){console.error("Failed to fetch Crew Data :",x)}},y=async()=>{try{const x=await qe.get(`${h}getEmployeeList`);f(x.data)}catch(x){console.error("Failed to fetch EMployee LIst Data :",x)}};return u.useEffect(()=>{p()},[]),u.useEffect(()=>{y()},[]),a.jsx(_c.Provider,{value:{crewList:r,refreshCrewList:p,employeeList:o,refreshEmployeeList:y},children:i})};var Wo={exports:{}},x0=Wo.exports,Fp;function y0(){return Fp||(Fp=1,function(i,r){(function(d,o){i.exports=o()})(x0,function(){var d=1e3,o=6e4,f=36e5,h="millisecond",p="second",y="minute",x="hour",_="day",b="week",C="month",k="quarter",H="year",D="date",T="Invalid Date",L=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,R=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,$={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ve){var Y=["th","st","nd","rd"],w=ve%100;return"["+ve+(Y[(w-20)%10]||Y[w]||Y[0])+"]"}},J=function(ve,Y,w){var B=String(ve);return!B||B.length>=Y?ve:""+Array(Y+1-B.length).join(w)+ve},ie={s:J,z:function(ve){var Y=-ve.utcOffset(),w=Math.abs(Y),B=Math.floor(w/60),X=w%60;return(Y<=0?"+":"-")+J(B,2,"0")+":"+J(X,2,"0")},m:function ve(Y,w){if(Y.date()<w.date())return-ve(w,Y);var B=12*(w.year()-Y.year())+(w.month()-Y.month()),X=Y.clone().add(B,C),fe=w-X<0,j=Y.clone().add(B+(fe?-1:1),C);return+(-(B+(w-X)/(fe?X-j:j-X))||0)},a:function(ve){return ve<0?Math.ceil(ve)||0:Math.floor(ve)},p:function(ve){return{M:C,y:H,w:b,d:_,D,h:x,m:y,s:p,ms:h,Q:k}[ve]||String(ve||"").toLowerCase().replace(/s$/,"")},u:function(ve){return ve===void 0}},te="en",we={};we[te]=$;var ge="$isDayjsObject",ue=function(ve){return ve instanceof Re||!(!ve||!ve[ge])},je=function ve(Y,w,B){var X;if(!Y)return te;if(typeof Y=="string"){var fe=Y.toLowerCase();we[fe]&&(X=fe),w&&(we[fe]=w,X=fe);var j=Y.split("-");if(!X&&j.length>1)return ve(j[0])}else{var F=Y.name;we[F]=Y,X=F}return!B&&X&&(te=X),X||!B&&te},P=function(ve,Y){if(ue(ve))return ve.clone();var w=typeof Y=="object"?Y:{};return w.date=ve,w.args=arguments,new Re(w)},U=ie;U.l=je,U.i=ue,U.w=function(ve,Y){return P(ve,{locale:Y.$L,utc:Y.$u,x:Y.$x,$offset:Y.$offset})};var Re=function(){function ve(w){this.$L=je(w.locale,null,!0),this.parse(w),this.$x=this.$x||w.x||{},this[ge]=!0}var Y=ve.prototype;return Y.parse=function(w){this.$d=function(B){var X=B.date,fe=B.utc;if(X===null)return new Date(NaN);if(U.u(X))return new Date;if(X instanceof Date)return new Date(X);if(typeof X=="string"&&!/Z$/i.test(X)){var j=X.match(L);if(j){var F=j[2]-1||0,ae=(j[7]||"0").substring(0,3);return fe?new Date(Date.UTC(j[1],F,j[3]||1,j[4]||0,j[5]||0,j[6]||0,ae)):new Date(j[1],F,j[3]||1,j[4]||0,j[5]||0,j[6]||0,ae)}}return new Date(X)}(w),this.init()},Y.init=function(){var w=this.$d;this.$y=w.getFullYear(),this.$M=w.getMonth(),this.$D=w.getDate(),this.$W=w.getDay(),this.$H=w.getHours(),this.$m=w.getMinutes(),this.$s=w.getSeconds(),this.$ms=w.getMilliseconds()},Y.$utils=function(){return U},Y.isValid=function(){return this.$d.toString()!==T},Y.isSame=function(w,B){var X=P(w);return this.startOf(B)<=X&&X<=this.endOf(B)},Y.isAfter=function(w,B){return P(w)<this.startOf(B)},Y.isBefore=function(w,B){return this.endOf(B)<P(w)},Y.$g=function(w,B,X){return U.u(w)?this[B]:this.set(X,w)},Y.unix=function(){return Math.floor(this.valueOf()/1e3)},Y.valueOf=function(){return this.$d.getTime()},Y.startOf=function(w,B){var X=this,fe=!!U.u(B)||B,j=U.p(w),F=function(ze,dt){var tt=U.w(X.$u?Date.UTC(X.$y,dt,ze):new Date(X.$y,dt,ze),X);return fe?tt:tt.endOf(_)},ae=function(ze,dt){return U.w(X.toDate()[ze].apply(X.toDate("s"),(fe?[0,0,0,0]:[23,59,59,999]).slice(dt)),X)},I=this.$W,se=this.$M,Ce=this.$D,ee="set"+(this.$u?"UTC":"");switch(j){case H:return fe?F(1,0):F(31,11);case C:return fe?F(1,se):F(0,se+1);case b:var re=this.$locale().weekStart||0,be=(I<re?I+7:I)-re;return F(fe?Ce-be:Ce+(6-be),se);case _:case D:return ae(ee+"Hours",0);case x:return ae(ee+"Minutes",1);case y:return ae(ee+"Seconds",2);case p:return ae(ee+"Milliseconds",3);default:return this.clone()}},Y.endOf=function(w){return this.startOf(w,!1)},Y.$set=function(w,B){var X,fe=U.p(w),j="set"+(this.$u?"UTC":""),F=(X={},X[_]=j+"Date",X[D]=j+"Date",X[C]=j+"Month",X[H]=j+"FullYear",X[x]=j+"Hours",X[y]=j+"Minutes",X[p]=j+"Seconds",X[h]=j+"Milliseconds",X)[fe],ae=fe===_?this.$D+(B-this.$W):B;if(fe===C||fe===H){var I=this.clone().set(D,1);I.$d[F](ae),I.init(),this.$d=I.set(D,Math.min(this.$D,I.daysInMonth())).$d}else F&&this.$d[F](ae);return this.init(),this},Y.set=function(w,B){return this.clone().$set(w,B)},Y.get=function(w){return this[U.p(w)]()},Y.add=function(w,B){var X,fe=this;w=Number(w);var j=U.p(B),F=function(se){var Ce=P(fe);return U.w(Ce.date(Ce.date()+Math.round(se*w)),fe)};if(j===C)return this.set(C,this.$M+w);if(j===H)return this.set(H,this.$y+w);if(j===_)return F(1);if(j===b)return F(7);var ae=(X={},X[y]=o,X[x]=f,X[p]=d,X)[j]||1,I=this.$d.getTime()+w*ae;return U.w(I,this)},Y.subtract=function(w,B){return this.add(-1*w,B)},Y.format=function(w){var B=this,X=this.$locale();if(!this.isValid())return X.invalidDate||T;var fe=w||"YYYY-MM-DDTHH:mm:ssZ",j=U.z(this),F=this.$H,ae=this.$m,I=this.$M,se=X.weekdays,Ce=X.months,ee=X.meridiem,re=function(dt,tt,Le,K){return dt&&(dt[tt]||dt(B,fe))||Le[tt].slice(0,K)},be=function(dt){return U.s(F%12||12,dt,"0")},ze=ee||function(dt,tt,Le){var K=dt<12?"AM":"PM";return Le?K.toLowerCase():K};return fe.replace(R,function(dt,tt){return tt||function(Le){switch(Le){case"YY":return String(B.$y).slice(-2);case"YYYY":return U.s(B.$y,4,"0");case"M":return I+1;case"MM":return U.s(I+1,2,"0");case"MMM":return re(X.monthsShort,I,Ce,3);case"MMMM":return re(Ce,I);case"D":return B.$D;case"DD":return U.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return re(X.weekdaysMin,B.$W,se,2);case"ddd":return re(X.weekdaysShort,B.$W,se,3);case"dddd":return se[B.$W];case"H":return String(F);case"HH":return U.s(F,2,"0");case"h":return be(1);case"hh":return be(2);case"a":return ze(F,ae,!0);case"A":return ze(F,ae,!1);case"m":return String(ae);case"mm":return U.s(ae,2,"0");case"s":return String(B.$s);case"ss":return U.s(B.$s,2,"0");case"SSS":return U.s(B.$ms,3,"0");case"Z":return j}return null}(dt)||j.replace(":","")})},Y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Y.diff=function(w,B,X){var fe,j=this,F=U.p(B),ae=P(w),I=(ae.utcOffset()-this.utcOffset())*o,se=this-ae,Ce=function(){return U.m(j,ae)};switch(F){case H:fe=Ce()/12;break;case C:fe=Ce();break;case k:fe=Ce()/3;break;case b:fe=(se-I)/6048e5;break;case _:fe=(se-I)/864e5;break;case x:fe=se/f;break;case y:fe=se/o;break;case p:fe=se/d;break;default:fe=se}return X?fe:U.a(fe)},Y.daysInMonth=function(){return this.endOf(C).$D},Y.$locale=function(){return we[this.$L]},Y.locale=function(w,B){if(!w)return this.$L;var X=this.clone(),fe=je(w,B,!0);return fe&&(X.$L=fe),X},Y.clone=function(){return U.w(this.$d,this)},Y.toDate=function(){return new Date(this.valueOf())},Y.toJSON=function(){return this.isValid()?this.toISOString():null},Y.toISOString=function(){return this.$d.toISOString()},Y.toString=function(){return this.$d.toUTCString()},ve}(),Ne=Re.prototype;return P.prototype=Ne,[["$ms",h],["$s",p],["$m",y],["$H",x],["$W",_],["$M",C],["$y",H],["$D",D]].forEach(function(ve){Ne[ve[1]]=function(Y){return this.$g(Y,ve[0],ve[1])}}),P.extend=function(ve,Y){return ve.$i||(ve(Y,Re,P),ve.$i=!0),P},P.locale=je,P.isDayjs=ue,P.unix=function(ve){return P(1e3*ve)},P.en=we[te],P.Ls=we,P.p={},P})}(Wo)),Wo.exports}var v0=y0();const Yo=Yp(v0),Pg=({isLoading:i})=>i?a.jsx("div",{id:"loading-main-container","aria-busy":"true","aria-label":"Loading, please wait",children:a.jsx("div",{id:"loading-content-container",children:a.jsx("div",{id:"loading-main-loader",role:"progressbar","aria-valuetext":"Loading"})})}):null,rf=u.createContext(),b0=({children:i})=>{const[r,d]=u.useState([]),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await qe.get(`${o}getAllExtendedJobs`);d(h.data)}catch(h){console.error("Failed to fetch Extended Jobs :",h)}};return u.useEffect(()=>{f()},[]),a.jsx(rf.Provider,{value:{extendedJobsList:r,refreshExtendedJobsList:f},children:i})},j0=({jcd:i,onClose:r,refreshJCDPage:d,refreshTree:o,refreshPlannedJobs:f,isOpenByExtention:h})=>{const[p,y]=u.useState([]),[x,_]=u.useState({}),[b,C]=u.useState({}),[k,H]=u.useState(!1),[D,T]=u.useState(null),[L,R]=u.useState([]),[$,J]=u.useState(1),[ie,te]=u.useState(!1),[we,ge]=u.useState({x:0,y:0}),[ue,je]=u.useState({x:0,y:0}),[P,U]=u.useState(!1),Re=u.useRef(null),Ne=u.useRef(null),[ve,Y]=u.useState(null),[w,B]=u.useState(!1),[X,fe]=u.useState(null),[j,F]=u.useState(!0),{employeeList:ae}=u.useContext(_c),{designationList:I}=u.useContext(vl),{refreshExtendedJobsList:se,extendedJobsList:Ce}=u.useContext(rf),{user:ee}=u.useContext($a),{shipsList:re,refreshShipsList:be}=u.useContext(ss),{plannedJobList:ze}=u.useContext(gc),{crewData:dt,refreshCrewData:tt}=u.useContext(mc),{officeStaffList:Le,refreshOfficeStaffList:K}=u.useContext(Ei),[Te,Ze]=u.useState(null),[_e,Et]=u.useState(null),[he,bt]=u.useState(null),[$t,ia]=u.useState({}),[Fa,ft]=u.useState({}),[Oe,Je]=u.useState(""),[ot,Qe]=u.useState(!1),[kt,Mt]=u.useState(""),[Xt,pa]=u.useState(null),xa=u.useRef(null),Zt="https://udayerp.com/pms/server/api/";u.useEffect(()=>{se()},[]),u.useEffect(()=>{},[Ce]);const Ta=()=>x[he?.ceh_id]?.map(oe=>oe.text)?.join(`
`),He=()=>b[he?.ceh_id]?.pre||[],aa=()=>b[he?.ceh_id]?.post||[],vn=N=>{_(oe=>({...oe,[he.ceh_id]:[{text:N,timestamp:new Date().toISOString()}]}))};u.useEffect(()=>{if(ze&&i?.activeJobs?.JPHA_ID){const N=ze.find(oe=>oe?.JPHA_ID===i.activeJobs.JPHA_ID);N&&(i.activeJobs=N)}},[ze,i?.activeJobs?.JPHA_ID]),u.useEffect(()=>{he?.name==="ExecutedJobDetails"&&(async()=>await jn(he.ceh_id))()},[he?.ceh_id]),u.useEffect(()=>{},[b]);const on=u.useRef(!1);u.useEffect(()=>{if(!i?.activeJobs?.JPHA_ID||!i?.activeJobs?.jcd_id){F(!1);return}if(on.current)return;(async()=>{try{const oe={jcd_id:i.activeJobs.jcd_id,JPHA_ID:i.activeJobs.JPHA_ID,ship_id:i.activeJobs.SHA_ID,user_id:ee?.UHA_ID};h&&(oe.isExtensionRequest=!0);const De=await qe.post(`${Zt}communication/initiate`,oe);if(De.data.success&&De.data.commStructure){const ke=De.data.commStructure;console.log("commStructure123 : ",ke),Ze(ke);const Me=ke.communicationTabs.map(le=>({cth_id:le.cth_id,type:le.tab_type===1?"execution":"extension",attemptNo:le.tab_type===1?le.count:void 0,extNo:le.tab_type===2?le.count:void 0,subTabs:le.subTabs.map(Se=>Se)}));if(Me.length>0){const le=Me[0];if(Et(le),le.subTabs.length>0){const Se=le.subTabs[0];bt(Se),await Ln(le,Se,ke)}}on.current=!0}}catch(oe){console.error("Failed to initialize communication:",oe)}finally{F(!1)}})()},[i]),u.useEffect(()=>{!i?.activeJobs?.JPHA_ID||i?.activeJobs?.jcd_id},[i?.activeJobs?.JPHA_ID,i?.activeJobs?.jcd_id]),u.useEffect(()=>{xa.current?.scrollIntoView({behavior:"smooth"})},[Fa,he]),u.useEffect(()=>{const N=oe=>{if(w)switch(oe.key){case"Escape":B(!1);break;case"+":case"=":oe.preventDefault(),Sn();break;case"-":oe.preventDefault(),In();break;case"0":oe.preventDefault(),Ha();break}};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[w,$]),u.useEffect(()=>{w||(J(1),je({x:0,y:0}),U(!1))},[w]),u.useEffect(()=>{console.log("communicationData : ",Te)},[Te]);const[Va,cn]=u.useState({}),[Da,ca]=u.useState(null),[Vn,Ya]=u.useState({x:0,y:0}),dn=async N=>{T(N);const oe=await Qa(N);R(oe),H(!0),ca(null)},Qa=async N=>!N.seenBy||N.seenBy.length===0?(console.log("No seenBy data for message:",N.id),[]):(console.log("Processing seen info for message:",N),new Promise(oe=>{setTimeout(()=>{try{const ke=N.seenBy.filter(Me=>{const le=Me&&Me!==N.sender_id;return le||console.log("Filtered out user:",Me,"for message:",N.id),le}).map(Me=>{try{let le=N.isoTimestamp?new Date(N.isoTimestamp):new Date(N.timestamp);isNaN(le.getTime())&&(console.warn("Invalid timestamp for message:",N.id,"using current time"),le=new Date);const Se=new Date(le.getTime()+Math.random()*3e5),Ie=Ka(Me);return{userId:Me,userName:Ie.name,seenTime:Se.toISOString(),designation:Ie.designation,userType:Ie.userType}}catch(le){return console.error("Error processing user:",Me,"for message:",N.id,le),null}}).filter(Boolean).sort((Me,le)=>new Date(Me.seenTime)-new Date(le.seenTime));console.log("Processed seen info:",ke),oe(ke)}catch(De){console.error("Error in getSeenUsersInfo:",De),oe([])}},100)})),Ka=N=>{if(!N)return console.warn("Invalid userId provided:",N),{name:"Unknown User",designation:"N/A",userType:null};console.log("Looking up user:",N),console.log("Crew data count:",dt?.length),console.log("Office staff count:",Le?.length),console.log("Designation list count:",I?.length);const oe=dt?.find(Me=>Me.user_id===N&&Me.crew_status==1);if(oe){console.log("Found user in crewData:",oe);const Me=I?.find(le=>le.DSGH_ID===oe.desg_id);return oe.user_id==ee.UHA_ID?{name:"You",designation:Me?.desg_name||"N/A",userType:1}:{name:`Mr. ${ae.filter(le=>le.UHA_ID==oe.user_id)[0]?.emp_name||"Unknown"}`,designation:Me?.desg_name||"N/A",userType:1}}const De=Le?.find(Me=>Me.user_id===N);if(De){console.log("Found user in officeStaffList:",De);const Me=I?.find(le=>le.DSGH_ID===De.desg_id);return De.user_id==ee.UHA_ID?{name:"You",designation:Me?.desg_name||"N/A",userType:1}:{name:`Mr. ${ae.filter(le=>le.UHA_ID==De.user_id)[0]?.emp_name||"Unknown"}`,designation:Me?.desg_name||"N/A",userType:2}}const ke=ae?.find(Me=>Me.UHA_ID===N);if(ke){console.log("Found user in employeeList (fallback):",ke);const Me=I?.find(le=>le.DSGH_ID===ke.desg_id);return{name:`Mr. ${ke.emp_name||"Unknown"}`,designation:Me?.desg_name||"N/A",userType:null}}return console.warn("User not found in any list:",N),{name:`User (${N})`,designation:"N/A",userType:null}},un=async N=>{if(!(!N||!ee?.UHA_ID))try{await qe.post(`${Zt}communication/mark-seen`,{ceh_id:N,user_id:ee.UHA_ID}),cn(oe=>({...oe,[N]:Date.now()}))}catch(oe){console.error("Failed to mark messages as seen:",oe)}};u.useEffect(()=>{he?.ceh_id&&un(he.ceh_id)},[he?.ceh_id]);const Wa=async(N,oe,De)=>{if(window.confirm("Are you sure you want to delete this message?")){try{(await qe.delete(`${Zt}communication/message/${N}/${oe}`,{data:{user_id:ee?.UHA_ID}})).data.success&&(ft(Me=>({...Me,[De]:Me[De].filter(le=>!(le.smd_id===N&&le.slot===oe))})),alert("Message deleted successfully"))}catch(ke){console.error("Failed to delete message:",ke),alert("Failed to delete message")}ca(null)}},ja=async N=>{try{const oe=N.url.startsWith("http")?N.url:`${Zt.replace("/api/","/")}${N.url}`,ke=await(await fetch(oe)).blob(),Me=window.URL.createObjectURL(ke),le=document.createElement("a");le.style.display="none",le.href=Me,le.download=N.name,document.body.appendChild(le),le.click(),window.URL.revokeObjectURL(Me),document.body.removeChild(le)}catch(oe){console.error("Download failed:",oe),alert("Download failed")}},la=(N,oe,De)=>{N.preventDefault(),ca({...oe,sheetId:De}),Ya({x:N.clientX,y:N.clientY})},ra=()=>{ca(null)},Rn=(N,oe)=>N.seenBy?N.seenBy.includes(oe):!1,bn=N=>{if(!N.seenBy||N.seenBy.length===0)return{icon:"",color:"#999",title:"Sent",description:"Message sent"};const oe=N.seenBy.filter(De=>De!==N.sender_id);return oe.length>0?{icon:"",color:"#53bdeb",title:`Seen by ${oe.map(ke=>ht(ke)).join(", ")}`,description:`Seen by ${oe.length} user${oe.length!==1?"s":""}`}:{icon:"",color:"#999",title:"Delivered",description:"Message delivered to server"}},ki=()=>Da?a.jsxs("div",{className:"message-context-menu",style:{position:"fixed",left:Vn.x,top:Vn.y,zIndex:1e3,backgroundColor:"white",border:"1px solid #ccc",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"8px 0",minWidth:"150px"},children:[Da.sender_id===ee?.UHA_ID&&a.jsx("button",{className:"context-menu-item",onClick:()=>Wa(Da.smd_id,Da.slot,Da.sheetId),style:{width:"100%",padding:"8px 16px",border:"none",background:"none",textAlign:"left",cursor:"pointer",color:"#ff4444"},onMouseEnter:N=>N.target.style.backgroundColor="#f5f5f5",onMouseLeave:N=>N.target.style.backgroundColor="transparent",children:""}),Da.attachments&&Da.attachments.length>0&&a.jsx("button",{className:"context-menu-item",onClick:()=>ja(Da.attachments[0]),style:{width:"100%",padding:"8px 16px",border:"none",background:"none",textAlign:"left",cursor:"pointer"},onMouseEnter:N=>N.target.style.backgroundColor="#f5f5f5",onMouseLeave:N=>N.target.style.backgroundColor="transparent",children:""}),a.jsx("button",{className:"context-menu-item",onClick:()=>dn(Da),style:{width:"100%",padding:"8px 16px",border:"none",background:"none",textAlign:"left",cursor:"pointer"},onMouseEnter:N=>N.target.style.backgroundColor="#f5f5f5",onMouseLeave:N=>N.target.style.backgroundColor="transparent",children:"Info"})]}):null,ni=()=>!k||!D?null:a.jsx("div",{className:"modal-overlay",onClick:()=>H(!1),children:a.jsxs("div",{className:"seen-info-modal",onClick:N=>N.stopPropagation(),children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h3",{children:"Seen Information"}),a.jsx("button",{className:"close-btn",onClick:()=>H(!1),children:""})]}),a.jsxs("div",{className:"message-preview",children:[a.jsx("div",{className:"preview-header",children:"Message:"}),a.jsxs("div",{className:"preview-content",children:[D.text?a.jsx("div",{className:"message-text",children:D.text}):a.jsx("div",{className:"no-text",children:"No text content"}),D.attachments&&D.attachments.length>0&&a.jsxs("div",{className:"attachments-count",children:[" ",D.attachments.length," attachment(s)"]})]}),a.jsxs("div",{className:"message-time",children:["Date: ",D.isoTimestamp?.split("T")[0]?.split("-")?.reverse()?.join("/")," ",D.timestamp]})]}),console.log("seenUsersInfo :: ",L),a.jsxs("div",{className:"seen-users-section",children:[a.jsx("div",{className:"section-header",children:a.jsxs("span",{children:["Seen by (",L.filter(N=>N.userId!==D.sentBy).length,"):"]})}),L.filter(N=>N.userId!==D.sentBy).length>0?a.jsx("div",{className:"seen-users-list",children:L.filter(N=>N.userId!==D.sentBy).map((N,oe,De)=>a.jsxs("div",{className:"seen-user-item",children:[a.jsx("div",{className:"user-avatar",children:N.userName.charAt(0)}),a.jsxs("div",{className:"user-info",children:[a.jsx("div",{className:"user-name",children:N.userName}),a.jsx("div",{className:"user-designation",children:N.designation})]}),a.jsx("div",{className:"seen-time",children:fn(new Date(N.seenTime))}),oe<De.length-1&&a.jsx("div",{className:"divider"})]},N.userId))}):a.jsxs("div",{className:"no-seen-users",children:[a.jsx("div",{className:"no-data-icon",children:""}),a.jsx("div",{className:"no-data-text",children:"No one has seen this message yet"})]})]}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{className:"close-modal-btn",onClick:()=>H(!1),children:"Close"})})]})}),Ln=async(N,oe,De=Te)=>{if(!De||!oe)return;const ke=N;if(!ke)return;const Me=ke.subTabs.find(le=>le.ceh_id===oe.ceh_id);if(Me)try{const le=ee?.UHA_ID;if(!le){console.warn("No logged-in user ID found");return}const Se=await qe.get(`${Zt}communication/sheet/${oe.ceh_id}/messages?user_id=${le}`);if(console.log("messages in load messages in sub tab : ",Se),Se.data.success){const Ie=Se.data.messages.map(me=>{const it=(me.attachments||[]).map(nt=>{const Ga=nt.split("."),Kt=Ga.length>1?Ga[Ga.length-1].toLowerCase():"";let Ma="application/octet-stream";["jpg","jpeg","png","gif","bmp","webp"].includes(Kt)?Ma="image/"+(Kt==="jpg"?"jpeg":Kt):["mp4","webm","ogg"].includes(Kt)?Ma="video/"+Kt:["mp3","wav","ogg"].includes(Kt)?Ma="audio/"+Kt:Kt==="pdf"?Ma="application/pdf":["doc","docx"].includes(Kt)?Ma="application/msword":["xls","xlsx"].includes(Kt)&&(Ma="application/vnd.ms-excel");const Xn=nt.split("/").pop();return{id:`${me.smd_id}_${me.slot}_${Date.now()}`,name:Xn,type:Ma,url:nt}}),_t=me.sender_id===le,Ot=new Date(me.timestamp),Ia=!isNaN(Ot.getTime()),Ft=Ia?Ot.toISOString():null,ta=Ia?fn(Ot):"Invalid date";return{id:`${me.smd_id}_${me.slot}`,smd_id:me.smd_id,slot:me.slot,type:_t?"sent":"received",text:me.text,sender:ht(me.sender_id),sender_id:me.sender_id,timestamp:ta,isoTimestamp:Ft,ship_name:re.find(nt=>nt.SHA_ID===i?.activeJobs?.SHA_ID)?.ship_name,attachments:it,seenBy:me.seenBy||[],isSeenByCurrentUser:Rn(me,le)}});ft(me=>({...me,[Me.ceh_id]:Ie}))}}catch(le){console.error("Failed to load messages:",le)}},fn=N=>{const oe=N.getHours(),De=N.getMinutes(),ke=oe>=12?"PM":"AM",Me=oe%12||12,le=De<10?"0"+De:De;return`${Me}:${le} ${ke}`},ht=N=>{const oe=ae.find(ke=>ke.UHA_ID===N);if(!oe)return N;const De=I.find(ke=>ke.DSGH_ID===oe.DSGH_ID);return`Mr. ${oe.emp_name} (${De?.desg_name||"N/A"})`},ka=async N=>{if(Et(N),bt(null),ft({}),N?.subTabs?.length>0){const oe=N.subTabs[0];bt(oe),await Ln(N,oe)}},Qt=async N=>{bt(N),await new Promise(oe=>setTimeout(oe,0)),_e&&(await Ln(_e,N),N.name==="ExecutedJobDetails"&&await jn(N.ceh_id))},da=async()=>{if(!Oe.trim()&&p.length===0||!he||!Te||!_e)return;const N=_e;if(!N)return;const oe=N.subTabs.find(le=>le.ceh_id===he.ceh_id);if(!oe)return;let De;if(p.length>0){const le=new FormData;le.append("comm_id",Te.comm_id),le.append("ceh_id",he.ceh_id),le.append("cth_id",N.cth_id),le.append("sender_id",ee?.UHA_ID),le.append("message_text",Oe.trim()),le.append("seenBy",[]);const Se=re.find(Ie=>Ie.SHA_ID===i?.activeJobs?.SHA_ID&&Ie.SHA_ID==ee.ship_id)?.ship_name;Se&&le.append("ship_name",Se),p.forEach(Ie=>{le.append("attachments",Ie.file)}),De=le}else De={comm_id:Te.comm_id,ceh_id:oe.ceh_id,cth_id:N.cth_id,sender_id:ee?.UHA_ID,message_text:Oe.trim(),seenBy:[]};const ke=new Date,Me={id:Date.now(),type:"sent",text:Oe.trim(),sender:ht(ee?.UHA_ID),timestamp:fn(ke),attachments:p.map(le=>({...le,url:le.url})),status:"sending",seenBy:[],isSeenByCurrentUser:!0};ft(le=>({...le,[he.ceh_id]:[...le[he.ceh_id]||[],Me]}));try{const le=p.length>0?{headers:{"Content-Type":"multipart/form-data"}}:{},Se=re.find(me=>me.SHA_ID===i?.activeJobs?.SHA_ID&&me.SHA_ID==ee.ship_id)?.ship_name,Ie=await qe.post(`${Zt}communication/message?ship_name=${encodeURIComponent(Se)}`,De,le);if(Ie.data.success)ft(me=>{const st=[...me[he.ceh_id]||[]];return st[st.length-1].status="sent",{...me,[he.ceh_id]:st}}),p.length>0&&Ie.data.attachments&&ft(me=>{const st=[...me[he.ceh_id]||[]],it=st[st.length-1];return it.attachments=it.attachments.map((_t,Ot)=>({..._t,url:Ie.data.attachments[Ot]})),{...me,[he.ceh_id]:st}});else throw new Error("Backend reported failure")}catch(le){console.error("Failed to send message:",le),ft(Se=>{const Ie=[...Se[he.ceh_id]||[]];return Ie[Ie.length-1].status="failed",{...Se,[he.ceh_id]:Ie}})}Je(""),y([])},en=()=>{if(!_e)return null;if(_e.type==="execution")return a.jsxs("div",{className:"extension-details",children:[a.jsxs("h4",{className:"detail-header",children:[a.jsx("span",{className:"dot-indicator",style:{backgroundColor:"#3b82f6"}}),"Execution Attempt Details"]}),a.jsxs("div",{className:"two-column",children:[a.jsxs("div",{className:"detail-group",children:[a.jsx("div",{className:"detail-label",children:"Job Acknowledge Date"}),a.jsx("div",{className:"detail-value",children:i?.activeJobs?.acknowledge_dt?.split("T")[0]?.split("-")?.reverse()?.join("/")||"N/A"}),a.jsx("div",{className:"detail-label",children:"Acknowledged By"}),a.jsxs("div",{className:"detail-value",children:["Mr. ",i?.activeJobs?.first_verification_by&&ae.find(N=>N.UHA_ID==i.activeJobs.first_verification_by)?.emp_name||"N/A"]}),a.jsx("div",{className:"detail-label",children:"Designation"}),a.jsx("div",{className:"detail-value",children:i?.activeJobs?.first_verification_desg&&I.find(N=>N.DSGH_ID==i.activeJobs.first_verification_desg)?.desg_name||"N/A"})]}),a.jsxs("div",{className:"detail-group",children:[a.jsx("div",{className:"detail-label",children:"Job Executed Date"}),a.jsx("div",{className:"detail-value",children:i?.activeJobs?.executed_dt?.split("T")[0]?.split("-")?.reverse()?.join("/")||"N/A"}),a.jsx("div",{className:"detail-label",children:"Executed By"}),a.jsxs("div",{className:"detail-value",children:["Mr. ",i?.activeJobs?.executed_by&&ae.find(N=>N.UHA_ID==i.activeJobs.executed_by)?.emp_name||"N/A"]}),a.jsx("div",{className:"detail-label",children:"Designation"}),a.jsx("div",{className:"detail-value",children:i?.activeJobs?.executed_desg&&I.find(N=>N.DSGH_ID==i.activeJobs.executed_desg)?.desg_name||"N/A"})]})]})]});if(_e.type==="extension"){const N=Ce.find(De=>De.jcd_id===i.relatedJCD?.JCDSHA_ID&&De.JPTA_ID===i.activeJobs.JPHA_ID&&De.ext_no===_e.extNo);if(!N)return a.jsx("div",{className:"attempt-header extension-details",children:a.jsx("h4",{children:"No Extension Data Found"})});const oe=N.ext_request_status;return a.jsxs("div",{className:"attempt-header extension-details",children:[a.jsx("h4",{children:"Extension Attempt Details"}),a.jsxs("div",{className:"detail-row three-column",children:[a.jsxs("div",{className:"detail-group",children:[a.jsx("div",{className:"detail-label",children:"Requested On"}),a.jsx("div",{className:"detail-value",children:N?.requested_on?new Date(N.requested_on).toLocaleDateString():""})]}),a.jsxs("div",{className:"detail-group",children:[a.jsx("div",{className:"detail-label",children:"Requested By"}),a.jsx("div",{className:"detail-value",children:ae.find(De=>De.UHA_ID==N.requested_by)?.emp_name||""})]}),a.jsxs("div",{className:"detail-group",children:[a.jsx("div",{className:"detail-label",children:"Requested To"}),a.jsxs("div",{className:"detail-value",children:[ae.find(De=>De.UHA_ID==N.approve_authority_id)?.emp_name||""," (",I.find(De=>De.DSGH_ID==N.approve_authority_desg)?.desg_name||"",")"]})]})]}),a.jsx("div",{className:"detail-row status-full",children:a.jsxs("div",{className:"status-container",children:[a.jsx("div",{className:"detail-label",children:" Status"}),a.jsxs("div",{className:`detail-value status-badge ${oe===1?"pending":oe===2?"approved":"rejected"}`,children:[oe===1&&"Extension Requested",oe===2&&"Extension Accepted",oe===3&&"Extension Denied"]})]})}),oe===2&&a.jsxs("div",{className:"detail-row three-column",children:[a.jsxs("div",{className:"detail-group",children:[a.jsx("div",{className:"detail-label",children:"Accepted By"}),a.jsx("div",{className:"detail-value",children:ae.find(De=>De.UHA_ID==N.approve_authority_id)?.emp_name||""})]}),a.jsxs("div",{className:"detail-group",children:[a.jsx("div",{className:"detail-label",children:"Accepted On"}),a.jsx("div",{className:"detail-value",children:N.accepted_on?new Date(N.accepted_on).toLocaleDateString():""})]}),a.jsxs("div",{className:"detail-group",children:[a.jsx("div",{className:"detail-label",children:"New Deadline"}),a.jsx("div",{className:"detail-value",children:N.new_execution_deadline?new Date(N.new_execution_deadline).toLocaleDateString():""})]})]}),oe===3&&a.jsxs("div",{className:"detail-row two-column",children:[a.jsxs("div",{className:"detail-group",children:[a.jsx("div",{className:"detail-label",children:"Denied By"}),a.jsx("div",{className:"detail-value",children:ae.find(De=>De.UHA_ID==N.approve_authority_id)?.emp_name||""})]}),a.jsxs("div",{className:"detail-group",children:[a.jsx("div",{className:"detail-label",children:"Denied On"}),a.jsx("div",{className:"detail-value",children:N.denied_on?new Date(N.denied_on).toLocaleDateString():""})]})]})]})}return null},It=()=>{if(!he||!_e)return a.jsx("p",{className:"placeholder-text",children:"Select a sub-tab to begin."});const N=_e;N?.subTabs?.find(Se=>Se.name===he.name);const oe=he.ceh_id;if(!oe)return a.jsx("p",{className:"placeholder-text",children:"Sheet not found."});console.log("jcd.activeJobs.ext1 :: ",i.activeJobs.ext1),console.log("jcd.activeJobs.ext2 :: ",i.activeJobs.ext2),console.log("jcd.activeJobs.ext3 :: ",i.activeJobs.ext3);const De=Ce.find(Se=>Se.JEDA_ID===i.activeJobs.ext3||Se.JEDA_ID===i.activeJobs.ext2||Se.JEDA_ID===i.activeJobs.ext1),ke=De?.ext_request_status,le=N?.subTabs?.find(Se=>Se.ceh_id===he.ceh_id)?.status===2;switch(he.name){case"PreJob":case"Validation1":case"Validation2":return a.jsxs("div",{className:"chat-container-whatsapp",children:[a.jsxs("div",{className:"chat-messages-scrollable-whatsapp",children:[Fa[oe]?.map(Se=>Sa(Se,oe)),a.jsx("div",{ref:xa})]}),a.jsx("div",{className:"chat-sticky-footer-whatsapp",children:a.jsxs(a.Fragment,{children:[he.name==="Validation1"&&a.jsxs(a.Fragment,{children:[i?.activeJobs?.job_status==4&&i?.activeJobs?.first_verification_by==ee.UHA_ID&&!le&&a.jsxs("div",{className:"approval-actions-whatsapp",children:[a.jsx("button",{className:"btn-whatsapp approve",onClick:()=>At("Validation1","approved"),children:"Approve 1st Validation"}),a.jsx("button",{className:"btn-whatsapp reject",onClick:()=>At("Validation1","rejected"),children:"Reject 1st Validation"})]}),le&&i.activeJobs.job_status!=5&&a.jsx("div",{className:"approval-status-whatsapp rejected",children:" 1st Validation Rejected. A new attempt has been created."}),!le&&i.activeJobs.job_status==5&&a.jsxs("div",{className:"approval-status-whatsapp approved",children:[" 1st Validation Approved by ",ae.find(Se=>Se.UHA_ID==i.activeJobs.first_verification_by)?.emp_name||"N/A"]})]}),he.name==="Validation2"&&a.jsxs(a.Fragment,{children:[i.activeJobs.job_status==5&&i?.activeJobs?.second_verification_by==ee.UHA_ID&&!le&&a.jsxs("div",{className:"approval-actions-whatsapp",children:[a.jsx("button",{className:"btn-whatsapp approve",onClick:()=>At("Validation2","approved"),children:"Approve Final Validation"}),a.jsx("button",{className:"btn-whatsapp reject",onClick:()=>At("Validation2","rejected"),children:"Reject Final Validation"})]}),le&&i.activeJobs.job_status==6&&a.jsxs("div",{className:"approval-status-whatsapp approved",children:["Final Validation Approved by ",ae.find(Se=>Se.UHA_ID==i.activeJobs.second_verification_by)?.emp_name||"N/A"]}),le&&i.activeJobs.job_status!=6&&a.jsx("div",{className:"approval-status-whatsapp rejected",children:"Final Validation Rejected. A new attempt has been created."})]}),p.length>0&&a.jsx("div",{className:"attachments-preview-whatsapp",children:p.map(Se=>a.jsxs("div",{className:"attachment-item-whatsapp",children:[a.jsx("div",{className:"attachment-icon-whatsapp",children:Se.type.startsWith("image/")?"":Se.type.startsWith("video/")?"":Se.type.startsWith("audio/")?"":Se.type.includes("pdf")?"":Se.type.includes("word")?"":Se.type.includes("excel")?"":""}),a.jsx("div",{className:"attachment-name-whatsapp",children:Se.name.length>20?Se.name.substring(0,20)+"...":Se.name}),a.jsx("button",{onClick:()=>y(Ie=>Ie.filter(me=>me.id!==Se.id)),className:"remove-attachment-whatsapp",title:"Remove this attachment",children:""})]},Se.id))}),a.jsx("div",{className:"chat-input-container-whatsapp",children:(()=>{console.log("jcd.activeJobs.issued_to :: ",i.activeJobs.issued_to),console.log("jcd.activeJobs.first_verification_by :: ",i.activeJobs.first_verification_by),console.log("jcd.activeJobs.second_verification_by :: ",i.activeJobs.second_verification_by),console.log("jcd.activeJobs.extensions_authority :: ",i.activeJobs.extensions_authority);const Se=i.activeJobs.issued_to===ee.UHA_ID||i.activeJobs.first_verification_by===ee.UHA_ID||i.activeJobs.second_verification_by===ee.UHA_ID||i.activeJobs.extensions_authority===ee.UHA_ID,Ie=le||!Se;return a.jsxs(a.Fragment,{children:[a.jsx("label",{htmlFor:"file-upload",className:"attach-file-button-whatsapp",title:Se?"Attach a file":"You are not authorized to upload files",style:{cursor:Ie?"not-allowed":"pointer"},children:""}),a.jsx("input",{id:"file-upload",type:"file",multiple:!0,disabled:Ie,onChange:me=>{if(me.target.files.length>0){const st=Array.from(me.target.files).map(it=>({id:Date.now()+Math.random(),name:it.name,size:it.size,type:it.type,file:it,url:URL.createObjectURL(it)}));y(it=>[...it,...st]),me.target.value=""}},style:{display:"none"}}),a.jsx("input",{type:"text",value:Oe,onChange:me=>Je(me.target.value),onKeyPress:me=>me.key==="Enter"&&!Ie&&da(),placeholder:le?"Closed..":Se?"Type a message...":"Not authorized...",className:"chat-input-whatsapp",disabled:Ie,style:{cursor:Ie?"not-allowed":"text"}}),a.jsx("button",{onClick:da,disabled:Ie||!Oe.trim()&&p.length===0,className:"send-button-whatsapp",title:Se?"Send message":"You are not authorized to send messages",style:{cursor:Ie||!Oe.trim()&&p.length===0?"not-allowed":"pointer"},children:""})]})})()})]})})]});case"ExtensionA":case"ExtensionB":case"ExtensionC":return a.jsxs("div",{className:"chat-container-whatsapp",children:[a.jsxs("div",{className:"chat-messages-scrollable-whatsapp",children:[Fa[oe]?.map(Se=>Sa(Se,oe)),a.jsx("div",{ref:xa})]}),a.jsx("div",{className:"chat-sticky-footer-whatsapp",children:a.jsxs(a.Fragment,{children:[(he.name==="ExtensionA"||De)&&a.jsxs(a.Fragment,{children:[console.log("jcd?.activeJobs?.extensions_authority on extention :: ",i?.activeJobs?.extensions_authority),i?.activeJobs?.extensions_authority==ee.UHA_ID&&!le&&a.jsxs("div",{className:"approval-actions-whatsapp",children:[a.jsx("button",{className:"btn-whatsapp approve",onClick:()=>At("ExtensionRequest","approved"),children:"Approve Extension"}),a.jsx("button",{className:"btn-whatsapp reject",onClick:()=>At("ExtensionRequest","rejected"),children:"Reject Extension"})]}),ke===2&&a.jsx("div",{className:"approval-status-whatsapp approved",children:" Extension Approved"}),ke===3&&a.jsx("div",{className:"approval-status-whatsapp rejected",children:" Extension Rejected"})]}),p.length>0&&a.jsx("div",{className:"attachments-preview-whatsapp",children:p.map(Se=>a.jsxs("div",{className:"attachment-item-whatsapp",children:[a.jsx("div",{className:"attachment-icon-whatsapp",children:Se.type.startsWith("image/")?"":Se.type.startsWith("video/")?"":Se.type.startsWith("audio/")?"":Se.type.includes("pdf")?"":Se.type.includes("word")?"":Se.type.includes("excel")?"":""}),a.jsx("div",{className:"attachment-name-whatsapp",children:Se.name.length>20?Se.name.substring(0,20)+"...":Se.name}),a.jsx("button",{onClick:()=>y(Ie=>Ie.filter(me=>me.id!==Se.id)),className:"remove-attachment-whatsapp",title:"Remove this attachment",children:""})]},Se.id))}),a.jsx("div",{className:"chat-input-container-whatsapp",children:(()=>{const Se=De?.ext_request_status,Ie=i.activeJobs.issued_to===ee.UHA_ID||i.activeJobs.first_verification_by===ee.UHA_ID||i.activeJobs.second_verification_by===ee.UHA_ID||i.activeJobs.extensions_authority===ee.UHA_ID;console.log("isSheetClosed on extention :: ",le),console.log("isAuthorized on extention :: ",Ie),console.log("!currentExtension on extention :: ",De);const me=le||!Se||!Ie;return a.jsxs(a.Fragment,{children:[a.jsx("label",{htmlFor:"file-upload",className:"attach-file-button-whatsapp",title:Ie?"Attach a file":"You are not authorized to upload files",style:{cursor:me?"not-allowed":"pointer"},children:""}),a.jsx("input",{id:"file-upload",type:"file",multiple:!0,disabled:me,onChange:st=>{if(st.target.files.length>0){const it=Array.from(st.target.files).map(_t=>({id:Date.now()+Math.random(),name:_t.name,size:_t.size,type:_t.type,file:_t,url:URL.createObjectURL(_t)}));y(_t=>[..._t,...it]),st.target.value=""}},style:{display:"none"}}),a.jsx("input",{type:"text",value:Oe,onChange:st=>Je(st.target.value),onKeyPress:st=>st.key==="Enter"&&!me&&da(),placeholder:le?"Closed..":Ie?"Type a message...":"Not authorized...",className:"chat-input-whatsapp",disabled:me,style:{cursor:me?"not-allowed":"text"}}),a.jsx("button",{onClick:da,disabled:me||!Oe.trim()&&p.length===0,className:"send-button-whatsapp",title:Ie?"Send message":"You are not authorized to send messages",style:{cursor:me||!Oe.trim()&&p.length===0?"not-allowed":"pointer"},children:""})]})})()})]})})]});case"ExecutedJobDetails":return a.jsxs("div",{className:"executed-job-whatsapp",children:[a.jsx("h3",{children:" Executed Job Details"}),a.jsxs("p",{children:[a.jsx("strong",{children:"Executed by:"})," Mr."," ",i?.activeJobs?.executed_by&&ae.find(Se=>Se.UHA_ID==i.activeJobs.executed_by)?.emp_name||"N/A"]}),(()=>{const Se=i.activeJobs.issued_to===ee.UHA_ID||i.activeJobs.first_verification_by===ee.UHA_ID||i.activeJobs.second_verification_by===ee.UHA_ID||i.activeJobs.extensions_authority===ee.UHA_ID,Ie=le||!Se;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"note-section-whatsapp",children:[a.jsx("label",{children:" Execution Note:"}),a.jsx("textarea",{style:{color:"black"},placeholder:le?"Closed..":Se?"Enter execution notes here... (Write how you executed the job / faced problems)":"Not authorized to add notes...",ref:Re,value:Ta(),onChange:me=>vn(me.target.value),disabled:Ie})]}),a.jsxs("div",{className:"media-section-whatsapp",children:[a.jsxs("div",{className:"media-header-whatsapp",children:[a.jsx("h4",{children:" Pre-Execution Media"}),!Ie&&a.jsx("button",{className:"add-media-btn-whatsapp",onClick:()=>is("preExecution"),children:"Add"})]}),He().length>0?a.jsx("div",{className:"media-gallery-whatsapp",children:He().map((me,st)=>{const it=me.url.replace(/\\/g,"/"),_t=it.startsWith("http")?it:`${Zt.replace("/api/","/")}${it}`;return a.jsxs("div",{className:"media-item-whatsapp",children:[me.type?.startsWith("image/")?a.jsx("img",{src:_t,alt:me.name,className:"media-preview-whatsapp",onClick:()=>{B(!0),fe({...me,url:_t})}}):me.type?.startsWith("video/")?a.jsx("video",{src:_t,className:"media-preview-whatsapp",controls:!0}):a.jsxs("div",{className:"media-file-whatsapp",children:[a.jsx("div",{className:"file-icon-whatsapp",children:me.type.includes("pdf")?"":me.type.includes("word")?"":me.type.includes("excel")?"":""}),a.jsx("div",{className:"file-name-whatsapp",children:me.name})]}),!Ie&&a.jsx("button",{className:"remove-media-btn-whatsapp",onClick:()=>ya("preExecution",st),children:""})]},st)})}):a.jsx("div",{className:"media-placeholder-whatsapp",children:a.jsx("p",{children:"No pre-execution media added yet."})})]}),a.jsxs("div",{className:"media-section-whatsapp",children:[a.jsxs("div",{className:"media-header-whatsapp",children:[a.jsx("h4",{children:" Post-Execution Media"}),!Ie&&a.jsx("button",{className:"add-media-btn-whatsapp",onClick:()=>is("postExecution"),children:"Add"})]}),aa().length>0?a.jsx("div",{className:"media-gallery-whatsapp",children:aa().map((me,st)=>{const it=me.url.replace(/\\/g,"/"),_t=it.startsWith("http")?it:`${Zt.replace("/api/","/")}${it}`;return a.jsxs("div",{className:"media-item-whatsapp",children:[me.type?.startsWith("image/")?a.jsx("img",{src:_t,alt:me.name,className:"media-preview-whatsapp",onClick:()=>{B(!0),fe({...me,url:_t})}}):me.type?.startsWith("video/")?a.jsx("video",{src:_t,className:"media-preview-whatsapp",controls:!0}):a.jsxs("div",{className:"media-file-whatsapp",children:[a.jsx("div",{className:"file-icon-whatsapp",children:me.type.includes("pdf")?"":me.type.includes("word")?"":me.type.includes("excel")?"":""}),a.jsx("div",{className:"file-name-whatsapp",children:me.name})]}),!Ie&&a.jsx("button",{className:"remove-media-btn-whatsapp",onClick:()=>ya("postExecution",st),children:""})]},st)})}):a.jsx("div",{className:"media-placeholder-whatsapp",children:a.jsx("p",{children:"No post-execution media added yet."})})]}),a.jsx("button",{className:"save-btn-whatsapp",onClick:Yn,disabled:Ie,title:Se?le?"Sheet is closed":"Save executed job details":"You are not authorized to save job details",style:{cursor:Ie?"not-allowed":"pointer",opacity:Ie?".5":"1"},children:" Save"})]})})()]});case"Report":return a.jsxs("div",{className:"report-section-whatsapp",children:[a.jsx("h3",{children:" Generate Job Report"}),a.jsx("p",{children:"Generate a comprehensive PDF report containing all job details, communications, media, and validation results."}),a.jsx("button",{onClick:()=>alert("PDF Generated!"),disabled:i?.activeJobs?.job_status!=7||le,style:{opacity:i?.activeJobs&&i?.activeJobs?.job_status==7&&!le?1:.5,cursor:i?.activeJobs&&i?.activeJobs?.job_status==7&&!le?"pointer":"not-allowed"},className:"generate-pdf-btn-whatsapp",children:" Generate PDF Report"})]});default:return a.jsx("p",{className:"placeholder-text",children:"No content defined for this tab."})}};if(j)return a.jsx(Pg,{isLoading:j});const On=Te?.communicationTabs?.map(N=>({cth_id:N.cth_id,status:N.status,type:N.tab_type===1?"execution":"extension",attemptNo:N.tab_type===1?N.count:void 0,extNo:N.tab_type===2?N.count:void 0,subTabs:N.subTabs.map(oe=>oe)}))||[],is=N=>{Y(N),Ne.current?.click()},ua=async N=>{if(!N.target.files||N.target.files.length===0)return;const oe=Array.from(N.target.files),De=ee?.UHA_ID;if(!De){alert("Please log in to upload media");return}if(!Te||!_e)return;const ke=Te.communicationTabs.find(le=>le.tab_type===1&&_e.type==="execution"||le.tab_type===2&&_e.type==="extension");if(!ke)return;const Me=he;if(Me)try{const le=[];for(let Se of oe){const Ie=new FormData;Ie.append("comm_id",Te.comm_id),Ie.append("ceh_id",Me.ceh_id),Ie.append("cth_id",ke.cth_id),Ie.append("sender_id",De),Ie.append("message_text",`Media upload for ${ve==="preExecution"?"Pre-Execution":"Post-Execution"}`);const me=re.find(it=>it.SHA_ID===i?.activeJobs?.SHA_ID)?.ship_name;me&&Ie.append("ship_name",me),Ie.append("attachments",Se);const st={id:`${Date.now()}_${Math.random()}`,name:Se.name,size:Se.size,type:Se.type,file:Se,url:URL.createObjectURL(Se),status:"uploading"};le.push(st),C(it=>({...it,[Me.ceh_id]:{...it[Me.ceh_id]||{pre:[],post:[]},[ve==="preExecution"?"pre":"post"]:[...it[Me.ceh_id]?.[ve==="preExecution"?"pre":"post"]||[],st]}}))}for(let Se=0;Se<oe.length;Se++){const Ie=oe[Se],me=le[Se],st=new FormData;st.append("comm_id",Te.comm_id),st.append("ceh_id",Me.ceh_id),st.append("cth_id",ke.cth_id),st.append("sender_id",De),st.append("message_text",`Media upload for ${ve==="preExecution"?"Pre-Execution":"Post-Execution"}`);const it=re.find(_t=>_t.SHA_ID===i?.activeJobs?.SHA_ID)?.ship_name;it&&st.append("ship_name",it),st.append("attachments",Ie);try{const _t={headers:{"Content-Type":"multipart/form-data"}},Ot=await qe.post(`${Zt}communication/message`,st,_t);if(Ot.data.success&&Ot.data.attachments&&Ot.data.attachments.length>0){const Ia={...me,url:Ot.data.attachments[0],status:"uploaded"};C(Ft=>({...Ft,[Me.ceh_id]:{...Ft[Me.ceh_id]||{pre:[],post:[]},[ve==="preExecution"?"pre":"post"]:Ft[Me.ceh_id]?.[ve==="preExecution"?"pre":"post"].map(ta=>ta.id===me.id?Ia:ta)}}))}}catch(_t){console.error("Failed to upload media:",_t);const Ot={...me,status:"failed"};C(Ia=>({...Ia,[Me.ceh_id]:{...Ia[Me.ceh_id]||{pre:[],post:[]},[ve==="preExecution"?"pre":"post"]:Ia[Me.ceh_id]?.[ve==="preExecution"?"pre":"post"].map(Ft=>Ft.id===me.id?Ot:Ft)}}))}}N.target.value="",Y(null)}catch(le){console.error("Error handling media upload:",le),alert("Failed to upload media. Please try again.")}},ya=(N,oe)=>{he&&C(De=>({...De,[he.ceh_id]:{...De[he.ceh_id]||{pre:[],post:[]},[N==="preExecution"?"pre":"post"]:De[he.ceh_id]?.[N==="preExecution"?"pre":"post"].filter((ke,Me)=>Me!==oe)}}))},Yn=async()=>{const N=ee?.UHA_ID;if(!N){alert("Please log in to save job details");return}if(!Te||!_e)return;const oe=_e.subTabs.find(De=>De.ceh_id===he.ceh_id&&De.name==="ExecutedJobDetails");if(oe)try{const De={text:Ta()||"Executed job details updated",attachments:[],timestamp:new Date().toISOString()};let ke,Me={};if(He().length>0||aa().length>0){ke=new FormData,ke.append("comm_id",Te.comm_id),ke.append("ceh_id",oe.ceh_id),ke.append("cth_id",_e.cth_id),ke.append("sender_id",N),ke.append("message_text",JSON.stringify(De)),ke.append("sheet_type",oe.type);const Se=re.find(Ie=>Ie.SHA_ID===i?.activeJobs?.SHA_ID)?.ship_name;Se&&ke.append("ship_name",Se),[...He(),...aa()].forEach(Ie=>{Ie.file&&ke.append("attachments",Ie.file)}),Me={headers:{"Content-Type":"multipart/form-data"}}}else ke={comm_id:Te.comm_id,ceh_id:oe.ceh_id,cth_id:_e.cth_id,sender_id:N,message_text:JSON.stringify(De),sheet_type:oe.type};if((await qe.post(`${Zt}communication/message`,ke,Me)).data.success)alert("Job details saved successfully!"),await jn(oe.ceh_id);else throw new Error("Failed to save job details")}catch(De){console.error("Failed to save job details:",De),alert("Failed to save job details. Please try again.")}},jn=async(N=null)=>{const oe=N||he?.ceh_id;if(!(!Te||!_e||!oe))try{const De=await qe.get(`${Zt}communication/sheet/${oe}/messages?user_id=${ee?.UHA_ID}`);if(!De.data.success)return;const ke=ee?.UHA_ID,Me=De.data.messages||[];console.log("latestMessages : ",Me);const le=Me.map(me=>{let st="",it=[];try{const Ft=JSON.parse(me.text);st=Ft.text||"",it=Array.isArray(Ft.attachments)?Ft.attachments:[]}catch{st=me.text||"",it=me.attachments||[]}const _t=it.map(Ft=>{const ta=Ft.split(".").pop()?.toLowerCase()||"";let nt="application/octet-stream";["jpg","jpeg","png","gif","bmp","webp"].includes(ta)?nt="image/"+(ta==="jpg"?"jpeg":ta):["mp4","webm","ogg"].includes(ta)?nt="video/"+ta:["mp3","wav","ogg"].includes(ta)?nt="audio/"+ta:ta==="pdf"?nt="application/pdf":["doc","docx"].includes(ta)?nt="application/msword":["xls","xlsx"].includes(ta)&&(nt="application/vnd.ms-excel");const Ga=Ft.split("/").pop();return{id:`${me.smd_id}_${Date.now()}_${Math.random()}`,name:Ga,type:nt,url:Ft}}),Ot=st?.includes("Pre-Execution"),Ia=st?.includes("Post-Execution");return{id:`${me.smd_id}_${me.slot}`,type:me.sender_id===ke?"sent":"received",note:st,sender:ht(me.sender_id),sender_id:me.sender_id,attachments:_t,isPreExecution:Ot,isPostExecution:Ia}});_(me=>({...me,[oe]:le}));const Se=le.filter(me=>me.isPreExecution).flatMap(me=>me.attachments),Ie=le.filter(me=>me.isPostExecution).flatMap(me=>me.attachments);C(me=>({...me,[oe]:{pre:Se,post:Ie}}))}catch(De){console.error("Failed to load executed job details:",De)}},At=async(N,oe)=>{ia(De=>({...De,[N]:oe}));try{if(N==="ExtensionRequest"&&oe==="approved"){pa({key:N,decision:oe}),Qe(!0);return}await si(N,oe,null)}catch(De){console.error("Failed to record decision:",De),alert("Failed to record decision. Please try again."),ia(ke=>({...ke,[N]:null}))}},si=async(N,oe,De=null)=>{try{const ke={jpha_id:i.activeJobs.JPHA_ID,decision_type:N,decision_status:oe,user_id:ee?.UHA_ID};if(De&&(ke.new_execution_deadline=De),(await qe.post(`${Zt}jobDecisionInCommunication`,ke)).data.success){if(alert("Decision recorded successfully!"),oe==="rejected"){await new Promise(Se=>setTimeout(Se,500));const le=await qe.get(`${Zt}communication/${Te.comm_id}`);if(le.data.success){const Se=le.data.commStructure;Ze(Se);const Ie=Se.communicationTabs.map(me=>({cth_id:me.cth_id,type:me.tab_type===1?"execution":"extension",attemptNo:me.tab_type===1?me.count:void 0,extNo:me.tab_type===2?me.count:void 0,subTabs:me.subTabs.map(st=>st)}));if(Ie.length>0){const me=Ie[Ie.length-1];if(Et(me),me.subTabs.length>0){const st=me.subTabs[0];bt(st),await Ln(me,st,Se)}}}}typeof f=="function"&&await f(),typeof d=="function"&&await d(),typeof o=="function"&&await o(),Qe(!1),pa(null),Mt("")}}catch(ke){console.error("Failed to record decision:",ke),alert("Failed to record decision. Please try again."),ia(Me=>({...Me,[N]:null}))}},Hn=N=>({1:"Planned",2:"Acknowledged",3:"Not Acknowledged",4:"Execution Done",5:"1st Validation Approved",6:"Final Validation Approved",7:"Extention Requested",8:"Extention Approved"})[N]||"Unknown",hn=N=>[1,2,3].includes(N)?"Under-Execution":[5,6].includes(N)?"in-progress":N===7?"completed":N===8?"closed":"unknown",Sa=(N,oe)=>{const De=N.type==="sent";return a.jsxs("div",{className:`message-bubble-whatsapp ${De?"sent":"received"}`,onContextMenu:ke=>la(ke,N,oe),onClick:ra,children:[!De&&a.jsx("div",{className:"bubble-sender-name-whatsapp",children:N.sender}),a.jsxs("div",{className:"bubble-content-whatsapp",children:[N.text&&a.jsx("div",{className:"bubble-text-whatsapp",children:N.text}),N.attachments?.map(ke=>{const Me=ke.url.replace(/\\/g,"/"),le=Me.startsWith("http")?Me:`${Zt.replace("/api/","/")}${Me}`;return a.jsx("div",{className:"attachment-preview-whatsapp",children:ke.type?.startsWith("image/")?a.jsx("img",{src:le,alt:ke.name,className:"attachment-image-whatsapp",onClick:()=>{B(!0),fe({...ke,url:le})}}):a.jsxs("div",{className:"file-attachment-whatsapp",children:[a.jsx("div",{className:"file-icon-whatsapp",children:ke.type.includes("pdf")?"":ke.type.includes("word")?"":ke.type.includes("excel")?"":ke.type.startsWith("video/")?"":ke.type.startsWith("audio/")?"":""}),a.jsxs("div",{className:"file-info-whatsapp",children:[a.jsx("div",{className:"file-name-whatsapp",children:ke.name}),a.jsxs("div",{className:"file-size-whatsapp",children:[(ke.size/1024).toFixed(1)," KB"]}),a.jsx("button",{className:"download-btn-whatsapp",onClick:Se=>{Se.stopPropagation(),ja({...ke,url:le})},title:"Download file",children:" Download"})]})]})},ke.id||ke.url)})]}),a.jsxs("div",{className:"bubble-footer-whatsapp",children:[a.jsx("span",{className:"bubble-time-whatsapp",children:N.timestamp}),De&&a.jsxs("span",{className:"seen-status-whatsapp",title:bn(N).title,children:[a.jsx("span",{style:{color:bn(N).color},children:bn(N).icon}),N.seenBy&&N.seenBy.length>1&&a.jsxs("span",{className:"seen-count",children:["(",N.seenBy.length-1,")"]})]})]})]},N.id)},Sn=()=>{J(N=>Math.min(N+.25,5))},In=()=>{J(N=>Math.max(N-.25,.5))},Ha=()=>{J(1),je({x:0,y:0})},ls=()=>{U(!0)},Ds=N=>{$>1&&(te(!0),ge({x:N.clientX-ue.x,y:N.clientY-ue.y}))},Mi=N=>{ie&&je({x:N.clientX-we.x,y:N.clientY-we.y})},Gn=()=>{te(!1)};return a.jsxs("div",{id:"communication_module_main_container",children:[a.jsx("div",{id:"communication_header",children:a.jsxs("div",{className:"header-grid",children:[a.jsxs("div",{className:"header-card",children:[a.jsx("h5",{className:"header-section-title",children:" Allocation"}),a.jsxs("div",{className:"header-item",children:[a.jsx("span",{className:"header-label",children:"Initially Allocated To:"}),a.jsx("span",{className:"header-value",children:"Mr. Amit Gupta"})]}),a.jsxs("div",{className:"header-item",children:[a.jsx("span",{className:"header-label",children:"Presently Allocated To:"}),a.jsx("span",{className:"header-value",children:ae.find(N=>N.UHA_ID===i.activeJobs.issued_to)?.emp_name||"N/A"})]}),a.jsxs("div",{className:"header-item",children:[a.jsx("span",{className:"header-label",children:"1st Approval By:"}),a.jsx("span",{className:"header-value",children:ae.find(N=>N.UHA_ID===i.activeJobs.first_verification_by)?.emp_name||"N/A"})]}),a.jsxs("div",{className:"header-item",children:[a.jsx("span",{className:"header-label",children:"2nd Approval By:"}),a.jsx("span",{className:"header-value",children:ae.find(N=>N.UHA_ID===i.activeJobs.second_verification_by)?.emp_name||"N/A"})]})]}),a.jsxs("div",{className:"header-card",children:[a.jsx("h5",{className:"header-section-title",children:" Job Details"}),a.jsxs("div",{className:"header-item",children:[a.jsx("span",{className:"header-label",children:"JCD Name:"}),a.jsx("span",{className:"header-value",children:i.relatedJCD.jcd_name||"N/A"})]}),a.jsxs("div",{className:"header-item",children:[a.jsx("span",{className:"header-label",children:"Job No:"}),a.jsx("span",{className:"header-value",children:i.activeJobs.JPHA_ID||"N/A"})]}),a.jsxs("div",{className:"header-item",children:[a.jsx("span",{className:"header-label",children:"Generation Date:"}),a.jsx("span",{className:"header-value",children:i.activeJobs.generated_on?new Date(i.activeJobs.generated_on).toLocaleDateString():"N/A"})]}),a.jsxs("div",{className:"header-item",children:[a.jsx("span",{className:"header-label",children:"Job Status:"}),a.jsx("span",{className:`header-value status-badge-for-communication-header status-${hn(i.activeJobs.job_status)}`,style:{width:"fit-content",display:"inline-block"},children:Hn(i.activeJobs.job_status)})]})]}),a.jsxs("div",{className:"header-card",children:[a.jsx("h5",{className:"header-section-title",children:" Timeline"}),(()=>{const N=i?.activeJobs?.generated_on,oe=i?.activeJobs?.job_completed_till;if(!N||!oe)return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"header-item",children:[a.jsx("span",{className:"header-label",children:"Ideal Days to Complete:"}),a.jsx("span",{className:"header-value",children:"--"})]}),a.jsxs("div",{className:"header-item",children:[a.jsx("span",{className:"header-label",children:"Days Passed:"}),a.jsx("span",{className:"header-value",children:"--"})]}),a.jsxs("div",{className:"header-item",children:[a.jsx("span",{className:"header-label",children:"Status:"}),a.jsx("span",{className:"header-value",children:"N/A"})]})]});const De=Yo(oe).diff(Yo(N),"day"),ke=Yo().diff(Yo(N),"day"),Me=ke>De?"Overdue":"On Track";return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"header-item",children:[a.jsx("span",{className:"header-label",children:"Ideal Days to Complete:"}),a.jsx("span",{className:"header-value",children:De})]}),a.jsxs("div",{className:"header-item",children:[a.jsx("span",{className:"header-label",children:"Days Passed:"}),a.jsx("span",{className:"header-value",children:ke})]}),a.jsxs("div",{className:"header-item",children:[a.jsx("span",{className:"header-label",children:"Status:"}),a.jsx("span",{className:`header-value status-badge-for-communication-header ${Me==="Overdue"?"status-overdue":"status-ontime"}`,children:Me})]})]})})()]})]})}),a.jsx("div",{className:"tabs",children:On.map((N,oe)=>{const De=N.status;let ke="tab";if(_e?.cth_id===N.cth_id&&(ke+=" active"),N.type==="extension"){const Me=Ce.find(le=>le.jcd_id===i.relatedJCD?.jcd_id&&le.JPTA_ID===i.activeJobs.JPHA_ID&&(le.JEDA_ID===i.activeJobs.ext1||le.JEDA_ID===i.activeJobs.ext2||le.JEDA_ID===i.activeJobs.ext3));Me&&(Me.ext_request_status===1?ke+=" extension-request":Me.ext_request_status===3?ke+=" extension-rejected":Me.ext_request_status===2&&(ke+=" extension-approved"))}return a.jsx("button",{className:ke,onClick:()=>ka(N),children:N.type==="execution"?De==1?"Attempt - A":"Attempt - F":`Extension ${N.extNo}`},oe)})}),a.jsx(ki,{}),a.jsx(ni,{}),a.jsxs("div",{className:"main-content-wrapper",children:[a.jsx("div",{className:"left-panel",children:a.jsx("div",{className:"attempt-details-container",children:en()})}),a.jsxs("div",{className:"right-panel",children:[a.jsx("div",{className:"sub-tabs",children:_e?.subTabs?.map((N,oe)=>a.jsx(a.Fragment,{children:a.jsxs("button",{className:he?.ceh_id===N.ceh_id?"sub-tab active":"sub-tab",onClick:()=>Qt(N),children:[N.name==="PreJob"&&" Pre Job Comm.",N.name==="ExecutedJobDetails"&&" Execution Details",N.name==="Validation1"&&" 1st Validation Comm",N.name==="Validation2"&&" 2nd Validation Comm.",N.name==="Report"&&" Report",N.name==="ExtensionA"&&"Extension A Comm.",N.name==="ExtensionB"&&"Extension B Comm."]},oe)}))}),a.jsx("div",{className:"content-area",children:a.jsx("div",{className:"subtab-scroll-container",children:It()})})]})]}),w&&X&&a.jsx("div",{className:"image-zoom-modal-overlay",onClick:()=>B(!1),children:a.jsxs("div",{className:"image-zoom-modal",onClick:N=>N.stopPropagation(),children:[a.jsxs("div",{className:"zoom-modal-header",children:[a.jsxs("div",{className:"image-info",children:[a.jsx("div",{className:"image-name",children:X.name}),a.jsx("div",{className:"image-size",children:X.size?`(${(X.size/1024/1024).toFixed(2)} MB)`:""})]}),a.jsxs("div",{className:"zoom-controls",children:[a.jsx("button",{className:"zoom-control-btn download-btn",onClick:()=>ja(X),title:"Download Image",children:a.jsx("span",{className:"control-icon",children:""})}),a.jsx("button",{className:"zoom-control-btn close-btn",onClick:()=>B(!1),title:"Close (Esc)",children:a.jsx("span",{className:"control-icon",children:""})})]})]}),a.jsxs("div",{className:"zoom-image-container",children:[a.jsx("img",{src:X.url,alt:X.name,className:`zoomed-image ${$>1?"zoomed":""}`,style:{transform:`scale(${$}) translate(${ue.x}px, ${ue.y}px)`,cursor:$>1?ie?"grabbing":"grab":"default"},onLoad:ls,onMouseDown:Ds,onMouseMove:Mi,onMouseUp:Gn,onMouseLeave:Gn,onClick:N=>{$===1?Sn():Ha(),N.stopPropagation()}}),a.jsxs("div",{className:"image-loading",children:[a.jsx("div",{className:"loading-spinner"}),a.jsx("span",{children:"Loading image..."})]})]}),a.jsxs("div",{className:"zoom-modal-footer",children:[a.jsxs("div",{className:"zoom-actions",children:[a.jsx("button",{className:"zoom-action-btn",onClick:In,title:"Zoom Out (-)",children:a.jsx("span",{className:"action-icon",children:"-"})}),a.jsx("button",{className:"zoom-action-btn",onClick:Sn,title:"Zoom In (+)",children:a.jsx("span",{className:"action-icon",children:"+"})}),a.jsx("button",{className:"zoom-action-btn",onClick:Ha,title:"Reset Zoom (0)",children:a.jsx("span",{className:"action-icon",children:""})})]}),a.jsxs("div",{className:"image-counter",children:[a.jsx("span",{className:"current-index",children:"1"}),a.jsx("span",{className:"total-count",children:" / 1"})]}),a.jsxs("div",{className:"navigation-actions",children:[a.jsx("button",{className:"nav-btn prev-btn",disabled:!0,title:"Previous Image ()",children:a.jsx("span",{className:"nav-icon",children:""})}),a.jsx("button",{className:"nav-btn next-btn",disabled:!0,title:"Next Image ()",children:a.jsx("span",{className:"nav-icon",children:""})})]})]})]})}),a.jsx("input",{type:"file",ref:Ne,style:{display:"none"},onChange:ua,multiple:!0}),ot&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:a.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",width:"400px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[a.jsx("h3",{style:{marginBottom:"15px"},children:" Approve Extension"}),a.jsx("p",{children:"Please enter the new execution deadline:"}),a.jsx("input",{type:"date",value:kt,onChange:N=>Mt(N.target.value),style:{width:"100%",padding:"8px",marginBottom:"15px",border:"1px solid #ccc",borderRadius:"4px"}}),a.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[a.jsx("button",{onClick:()=>{Qe(!1),pa(null),Mt("")},style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cancel"}),a.jsx("button",{onClick:()=>{if(!kt){alert("Please enter a deadline");return}si(Xt.key,Xt.decision,kt)},style:{padding:"8px 16px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Approve"})]})]})})]})};function $g(i){var r,d,o="";if(typeof i=="string"||typeof i=="number")o+=i;else if(typeof i=="object")if(Array.isArray(i)){var f=i.length;for(r=0;r<f;r++)i[r]&&(d=$g(i[r]))&&(o&&(o+=" "),o+=d)}else for(d in i)i[d]&&(o&&(o+=" "),o+=d);return o}function Di(){for(var i,r,d=0,o="",f=arguments.length;d<f;d++)(i=arguments[d])&&(r=$g(i))&&(o&&(o+=" "),o+=r);return o}function S0(i){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.type="text/css",r.firstChild?r.insertBefore(d,r.firstChild):r.appendChild(d),d.styleSheet?d.styleSheet.cssText=i:d.appendChild(document.createTextNode(i))}S0(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var wr=i=>typeof i=="number"&&!isNaN(i),wi=i=>typeof i=="string",Ns=i=>typeof i=="function",N0=i=>wi(i)||wr(i),zu=i=>wi(i)||Ns(i)?i:null,C0=(i,r)=>i===!1||wr(i)&&i>0?i:r,qu=i=>u.isValidElement(i)||wi(i)||Ns(i)||wr(i);function D0(i,r,d=300){let{scrollHeight:o,style:f}=i;requestAnimationFrame(()=>{f.minHeight="initial",f.height=o+"px",f.transition=`all ${d}ms`,requestAnimationFrame(()=>{f.height="0",f.padding="0",f.margin="0",setTimeout(r,d)})})}function A0({enter:i,exit:r,appendPosition:d=!1,collapse:o=!0,collapseDuration:f=300}){return function({children:h,position:p,preventExitTransition:y,done:x,nodeRef:_,isIn:b,playToast:C}){let k=d?`${i}--${p}`:i,H=d?`${r}--${p}`:r,D=u.useRef(0);return u.useLayoutEffect(()=>{let T=_.current,L=k.split(" "),R=$=>{$.target===_.current&&(C(),T.removeEventListener("animationend",R),T.removeEventListener("animationcancel",R),D.current===0&&$.type!=="animationcancel"&&T.classList.remove(...L))};T.classList.add(...L),T.addEventListener("animationend",R),T.addEventListener("animationcancel",R)},[]),u.useEffect(()=>{let T=_.current,L=()=>{T.removeEventListener("animationend",L),o?D0(T,x,f):x()};b||(y?L():(D.current=1,T.className+=` ${H}`,T.addEventListener("animationend",L)))},[b]),Rt.createElement(Rt.Fragment,null,h)}}function Vp(i,r){return{content:Fg(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:r}}function Fg(i,r,d=!1){return u.isValidElement(i)&&!wi(i.type)?u.cloneElement(i,{closeToast:r.closeToast,toastProps:r,data:r.data,isPaused:d}):Ns(i)?i({closeToast:r.closeToast,toastProps:r,data:r.data,isPaused:d}):i}function w0({closeToast:i,theme:r,ariaLabel:d="close"}){return Rt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:o=>{o.stopPropagation(),i(!0)},"aria-label":d},Rt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Rt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function E0({delay:i,isRunning:r,closeToast:d,type:o="default",hide:f,className:h,controlledProgress:p,progress:y,rtl:x,isIn:_,theme:b}){let C=f||p&&y===0,k={animationDuration:`${i}ms`,animationPlayState:r?"running":"paused"};p&&(k.transform=`scaleX(${y})`);let H=Di("Toastify__progress-bar",p?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${b}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":x}),D=Ns(h)?h({rtl:x,type:o,defaultClassName:H}):Di(H,h),T={[p&&y>=1?"onTransitionEnd":"onAnimationEnd"]:p&&y<1?null:()=>{_&&d()}};return Rt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":C},Rt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${b} Toastify__progress-bar--${o}`}),Rt.createElement("div",{role:"progressbar","aria-hidden":C?"true":"false","aria-label":"notification timer",className:D,style:k,...T}))}var T0=1,Vg=()=>`${T0++}`;function k0(i,r,d){let o=1,f=0,h=[],p=[],y=r,x=new Map,_=new Set,b=$=>(_.add($),()=>_.delete($)),C=()=>{p=Array.from(x.values()),_.forEach($=>$())},k=({containerId:$,toastId:J,updateId:ie})=>{let te=$?$!==i:i!==1,we=x.has(J)&&ie==null;return te||we},H=($,J)=>{x.forEach(ie=>{var te;(J==null||J===ie.props.toastId)&&((te=ie.toggle)==null||te.call(ie,$))})},D=$=>{var J,ie;(ie=(J=$.props)==null?void 0:J.onClose)==null||ie.call(J,$.removalReason),$.isActive=!1},T=$=>{if($==null)x.forEach(D);else{let J=x.get($);J&&D(J)}C()},L=()=>{f-=h.length,h=[]},R=$=>{var J,ie;let{toastId:te,updateId:we}=$.props,ge=we==null;$.staleId&&x.delete($.staleId),$.isActive=!0,x.set(te,$),C(),d(Vp($,ge?"added":"updated")),ge&&((ie=(J=$.props).onOpen)==null||ie.call(J))};return{id:i,props:y,observe:b,toggle:H,removeToast:T,toasts:x,clearQueue:L,buildToast:($,J)=>{if(k(J))return;let{toastId:ie,updateId:te,data:we,staleId:ge,delay:ue}=J,je=te==null;je&&f++;let P={...y,style:y.toastStyle,key:o++,...Object.fromEntries(Object.entries(J).filter(([Re,Ne])=>Ne!=null)),toastId:ie,updateId:te,data:we,isIn:!1,className:zu(J.className||y.toastClassName),progressClassName:zu(J.progressClassName||y.progressClassName),autoClose:J.isLoading?!1:C0(J.autoClose,y.autoClose),closeToast(Re){x.get(ie).removalReason=Re,T(ie)},deleteToast(){let Re=x.get(ie);if(Re!=null){if(d(Vp(Re,"removed")),x.delete(ie),f--,f<0&&(f=0),h.length>0){R(h.shift());return}C()}}};P.closeButton=y.closeButton,J.closeButton===!1||qu(J.closeButton)?P.closeButton=J.closeButton:J.closeButton===!0&&(P.closeButton=qu(y.closeButton)?y.closeButton:!0);let U={content:$,props:P,staleId:ge};y.limit&&y.limit>0&&f>y.limit&&je?h.push(U):wr(ue)?setTimeout(()=>{R(U)},ue):R(U)},setProps($){y=$},setToggle:($,J)=>{let ie=x.get($);ie&&(ie.toggle=J)},isToastActive:$=>{var J;return(J=x.get($))==null?void 0:J.isActive},getSnapshot:()=>p}}var Za=new Map,Sr=[],Pu=new Set,M0=i=>Pu.forEach(r=>r(i)),Yg=()=>Za.size>0;function R0(){Sr.forEach(i=>Xg(i.content,i.options)),Sr=[]}var L0=(i,{containerId:r})=>{var d;return(d=Za.get(r||1))==null?void 0:d.toasts.get(i)};function Gg(i,r){var d;if(r)return!!((d=Za.get(r))!=null&&d.isToastActive(i));let o=!1;return Za.forEach(f=>{f.isToastActive(i)&&(o=!0)}),o}function O0(i){if(!Yg()){Sr=Sr.filter(r=>i!=null&&r.options.toastId!==i);return}if(i==null||N0(i))Za.forEach(r=>{r.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let r=Za.get(i.containerId);r?r.removeToast(i.id):Za.forEach(d=>{d.removeToast(i.id)})}}var H0=(i={})=>{Za.forEach(r=>{r.props.limit&&(!i.containerId||r.id===i.containerId)&&r.clearQueue()})};function Xg(i,r){qu(i)&&(Yg()||Sr.push({content:i,options:r}),Za.forEach(d=>{d.buildToast(i,r)}))}function I0(i){var r;(r=Za.get(i.containerId||1))==null||r.setToggle(i.id,i.fn)}function Zg(i,r){Za.forEach(d=>{(r==null||!(r!=null&&r.containerId)||r?.containerId===d.id)&&d.toggle(i,r?.id)})}function U0(i){let r=i.containerId||1;return{subscribe(d){let o=k0(r,i,M0);Za.set(r,o);let f=o.observe(d);return R0(),()=>{f(),Za.delete(r)}},setProps(d){var o;(o=Za.get(r))==null||o.setProps(d)},getSnapshot(){var d;return(d=Za.get(r))==null?void 0:d.getSnapshot()}}}function J0(i){return Pu.add(i),()=>{Pu.delete(i)}}function B0(i){return i&&(wi(i.toastId)||wr(i.toastId))?i.toastId:Vg()}function Er(i,r){return Xg(i,r),r.toastId}function xc(i,r){return{...r,type:r&&r.type||i,toastId:B0(r)}}function yc(i){return(r,d)=>Er(r,xc(i,d))}function Ge(i,r){return Er(i,xc("default",r))}Ge.loading=(i,r)=>Er(i,xc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...r}));function z0(i,{pending:r,error:d,success:o},f){let h;r&&(h=wi(r)?Ge.loading(r,f):Ge.loading(r.render,{...f,...r}));let p={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},y=(_,b,C)=>{if(b==null){Ge.dismiss(h);return}let k={type:_,...p,...f,data:C},H=wi(b)?{render:b}:b;return h?Ge.update(h,{...k,...H}):Ge(H.render,{...k,...H}),C},x=Ns(i)?i():i;return x.then(_=>y("success",o,_)).catch(_=>y("error",d,_)),x}Ge.promise=z0;Ge.success=yc("success");Ge.info=yc("info");Ge.error=yc("error");Ge.warning=yc("warning");Ge.warn=Ge.warning;Ge.dark=(i,r)=>Er(i,xc("default",{theme:"dark",...r}));function q0(i){O0(i)}Ge.dismiss=q0;Ge.clearWaitingQueue=H0;Ge.isActive=Gg;Ge.update=(i,r={})=>{let d=L0(i,r);if(d){let{props:o,content:f}=d,h={delay:100,...o,...r,toastId:r.toastId||i,updateId:Vg()};h.toastId!==i&&(h.staleId=i);let p=h.render||f;delete h.render,Er(p,h)}};Ge.done=i=>{Ge.update(i,{progress:1})};Ge.onChange=J0;Ge.play=i=>Zg(!0,i);Ge.pause=i=>Zg(!1,i);function P0(i){var r;let{subscribe:d,getSnapshot:o,setProps:f}=u.useRef(U0(i)).current;f(i);let h=(r=u.useSyncExternalStore(d,o,o))==null?void 0:r.slice();function p(y){if(!h)return[];let x=new Map;return i.newestOnTop&&h.reverse(),h.forEach(_=>{let{position:b}=_.props;x.has(b)||x.set(b,[]),x.get(b).push(_)}),Array.from(x,_=>y(_[0],_[1]))}return{getToastToRender:p,isToastActive:Gg,count:h?.length}}function $0(i){let[r,d]=u.useState(!1),[o,f]=u.useState(!1),h=u.useRef(null),p=u.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:y,pauseOnHover:x,closeToast:_,onClick:b,closeOnClick:C}=i;I0({id:i.toastId,containerId:i.containerId,fn:d}),u.useEffect(()=>{if(i.pauseOnFocusLoss)return k(),()=>{H()}},[i.pauseOnFocusLoss]);function k(){document.hasFocus()||R(),window.addEventListener("focus",L),window.addEventListener("blur",R)}function H(){window.removeEventListener("focus",L),window.removeEventListener("blur",R)}function D(ge){if(i.draggable===!0||i.draggable===ge.pointerType){$();let ue=h.current;p.canCloseOnClick=!0,p.canDrag=!0,ue.style.transition="none",i.draggableDirection==="x"?(p.start=ge.clientX,p.removalDistance=ue.offsetWidth*(i.draggablePercent/100)):(p.start=ge.clientY,p.removalDistance=ue.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function T(ge){let{top:ue,bottom:je,left:P,right:U}=h.current.getBoundingClientRect();ge.nativeEvent.type!=="touchend"&&i.pauseOnHover&&ge.clientX>=P&&ge.clientX<=U&&ge.clientY>=ue&&ge.clientY<=je?R():L()}function L(){d(!0)}function R(){d(!1)}function $(){p.didMove=!1,document.addEventListener("pointermove",ie),document.addEventListener("pointerup",te)}function J(){document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",te)}function ie(ge){let ue=h.current;if(p.canDrag&&ue){p.didMove=!0,r&&R(),i.draggableDirection==="x"?p.delta=ge.clientX-p.start:p.delta=ge.clientY-p.start,p.start!==ge.clientX&&(p.canCloseOnClick=!1);let je=i.draggableDirection==="x"?`${p.delta}px, var(--y)`:`0, calc(${p.delta}px + var(--y))`;ue.style.transform=`translate3d(${je},0)`,ue.style.opacity=`${1-Math.abs(p.delta/p.removalDistance)}`}}function te(){J();let ge=h.current;if(p.canDrag&&p.didMove&&ge){if(p.canDrag=!1,Math.abs(p.delta)>p.removalDistance){f(!0),i.closeToast(!0),i.collapseAll();return}ge.style.transition="transform 0.2s, opacity 0.2s",ge.style.removeProperty("transform"),ge.style.removeProperty("opacity")}}let we={onPointerDown:D,onPointerUp:T};return y&&x&&(we.onMouseEnter=R,i.stacked||(we.onMouseLeave=L)),C&&(we.onClick=ge=>{b&&b(ge),p.canCloseOnClick&&_(!0)}),{playToast:L,pauseToast:R,isRunning:r,preventExitTransition:o,toastRef:h,eventHandlers:we}}var F0=typeof window<"u"?u.useLayoutEffect:u.useEffect,vc=({theme:i,type:r,isLoading:d,...o})=>Rt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${r})`,...o});function V0(i){return Rt.createElement(vc,{...i},Rt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Y0(i){return Rt.createElement(vc,{...i},Rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function G0(i){return Rt.createElement(vc,{...i},Rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function X0(i){return Rt.createElement(vc,{...i},Rt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Z0(){return Rt.createElement("div",{className:"Toastify__spinner"})}var $u={info:Y0,warning:V0,success:G0,error:X0,spinner:Z0},Q0=i=>i in $u;function K0({theme:i,type:r,isLoading:d,icon:o}){let f=null,h={theme:i,type:r};return o===!1||(Ns(o)?f=o({...h,isLoading:d}):u.isValidElement(o)?f=u.cloneElement(o,h):d?f=$u.spinner():Q0(r)&&(f=$u[r](h))),f}var W0=i=>{let{isRunning:r,preventExitTransition:d,toastRef:o,eventHandlers:f,playToast:h}=$0(i),{closeButton:p,children:y,autoClose:x,onClick:_,type:b,hideProgressBar:C,closeToast:k,transition:H,position:D,className:T,style:L,progressClassName:R,updateId:$,role:J,progress:ie,rtl:te,toastId:we,deleteToast:ge,isIn:ue,isLoading:je,closeOnClick:P,theme:U,ariaLabel:Re}=i,Ne=Di("Toastify__toast",`Toastify__toast-theme--${U}`,`Toastify__toast--${b}`,{"Toastify__toast--rtl":te},{"Toastify__toast--close-on-click":P}),ve=Ns(T)?T({rtl:te,position:D,type:b,defaultClassName:Ne}):Di(Ne,T),Y=K0(i),w=!!ie||!x,B={closeToast:k,type:b,theme:U},X=null;return p===!1||(Ns(p)?X=p(B):u.isValidElement(p)?X=u.cloneElement(p,B):X=w0(B)),Rt.createElement(H,{isIn:ue,done:ge,position:D,preventExitTransition:d,nodeRef:o,playToast:h},Rt.createElement("div",{id:we,tabIndex:0,onClick:_,"data-in":ue,className:ve,...f,style:L,ref:o,...ue&&{role:J,"aria-label":Re}},Y!=null&&Rt.createElement("div",{className:Di("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!je})},Y),Fg(y,i,!r),X,!i.customProgressBar&&Rt.createElement(E0,{...$&&!w?{key:`p-${$}`}:{},rtl:te,theme:U,delay:x,isRunning:r,isIn:ue,closeToast:k,hide:C,type:b,className:R,controlledProgress:w,progress:ie||0})))},ej=(i,r=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:r}),tj=A0(ej("bounce",!0)),aj={position:"top-right",transition:tj,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function nj(i){let r={...aj,...i},d=i.stacked,[o,f]=u.useState(!0),h=u.useRef(null),{getToastToRender:p,isToastActive:y,count:x}=P0(r),{className:_,style:b,rtl:C,containerId:k,hotKeys:H}=r;function D(L){let R=Di("Toastify__toast-container",`Toastify__toast-container--${L}`,{"Toastify__toast-container--rtl":C});return Ns(_)?_({position:L,rtl:C,defaultClassName:R}):Di(R,zu(_))}function T(){d&&(f(!0),Ge.play())}return F0(()=>{var L;if(d){let R=h.current.querySelectorAll('[data-in="true"]'),$=12,J=(L=r.position)==null?void 0:L.includes("top"),ie=0,te=0;Array.from(R).reverse().forEach((we,ge)=>{let ue=we;ue.classList.add("Toastify__toast--stacked"),ge>0&&(ue.dataset.collapsed=`${o}`),ue.dataset.pos||(ue.dataset.pos=J?"top":"bot");let je=ie*(o?.2:1)+(o?0:$*ge);ue.style.setProperty("--y",`${J?je:je*-1}px`),ue.style.setProperty("--g",`${$}`),ue.style.setProperty("--s",`${1-(o?te:0)}`),ie+=ue.offsetHeight,te+=.025})}},[o,x,d]),u.useEffect(()=>{function L(R){var $;let J=h.current;H(R)&&(($=J.querySelector('[tabIndex="0"]'))==null||$.focus(),f(!1),Ge.pause()),R.key==="Escape"&&(document.activeElement===J||J!=null&&J.contains(document.activeElement))&&(f(!0),Ge.play())}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[H]),Rt.createElement("section",{ref:h,className:"Toastify",id:k,onMouseEnter:()=>{d&&(f(!1),Ge.pause())},onMouseLeave:T,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":r["aria-label"]},p((L,R)=>{let $=R.length?{...b}:{...b,pointerEvents:"none"};return Rt.createElement("div",{tabIndex:-1,className:D(L),"data-stacked":d,style:$,key:`c-${L}`},R.map(({content:J,props:ie})=>Rt.createElement(W0,{...ie,stacked:d,collapseAll:T,isIn:y(ie.toastId,ie.containerId),key:`t-${ie.key}`},J)))}))}const sj=()=>{const i="https://udayerp.com/pms/server/api/",[r,d]=u.useState(null),{selectedNode:o,refreshTree:f,selectNode:h,clearSelection:p,updateExecutionStatus:y,clearExecutionStatus:x}=u.useContext(Ti),{JCD_schedule_List:_,refreshJCDSchedules:b}=u.useContext(pc),{jobTypesList:C,refreshJobTypes:k}=u.useContext(Ug),{user:H}=u.useContext($a),{profiles:D}=u.useContext(ai),{shipsList:T,refreshShipsList:L,setShipsList:R}=u.useContext(ss),{mainCategoryList:$,refreshMainCategoryList:J}=u.useContext(Jg),{subCategoryList:ie,refreshSubCategoryList:te}=u.useContext(Bg),{secondSubCategoryList:we,refreshSecondSubCategoryList:ge}=u.useContext(zg),{thirdSubCategoryList:ue,refreshThirdSubCategoryList:je}=u.useContext(qg),{employeeList:P,refreshEmployeeList:U}=u.useContext(_c),{designationList:Re,refreshDesignationList:Ne}=u.useContext(vl),{plannedJobList:ve,refreshPlannedJobs:Y,activeJobStatusMap:w}=u.useContext(gc),{JCD_ship_wise_group_combinations_list:B,RefreshJCD_ship_wise_group_combinations:X}=u.useContext(lf),{refreshExtendedJobsList:fe,extendedJobsList:j}=u.useContext(rf),{officeStaffList:F,refreshOfficeStaffList:ae}=u.useContext(Ei),[I,se]=u.useState(!1),[Ce,ee]=u.useState("view_jcd");u.useEffect(()=>{ee("view_jcd"),h(null),he(!0),$t(!1),kt(!1),Xt(null),xa([]),on(!1),ws(),Ne(),U(),b(),J(),te(),ge(),je(),L(),f(),k(),fe(),window.scrollTo(0,0)},[]),u.useEffect(()=>{console.log("JCD_ship_wise_group_combinations_list : ",B)},[B]);const[re,be]=u.useState({jcd_name:"",JTH_ID:"",SHA_ID:"",criticality:"",job_generation_type:[],operational_interval:"",time_scale:"",km_interval:"",periodic_interval:"",jcd_category:"",jcd_instruction_manual:null,jcd_check_list:[],status:"1",deactivated_by:"",deactivated_on:"",job_will_generate_on:[],lest_executed_status:"",consumable_spare1:"",consumable_spare2:"",consumable_spare3:"",consumable_spare4:"",consumable_spare5:"",consumable_spare6:"",consumable_spare7:"",consumable_spare8:"",consumable_spare9:"",consumable_spare10:"",executed_by:"",secondary_desg:"",first_verified_by:"",second_verified_by:"",pre_execution_image_required:"0",post_execution_image_required:"0",video_of_execution_required:"0",pdf_file_for_execution_required:"0",extension_authority:"",jcd_applied_cat:"",jcd_applied_sub_cat:"",jcd_applied_2nd_sub_cat:"",jcd_applied_3rd_sub_cat:"",jcd_applied_part:""}),[ze,dt]=u.useState(!1),[tt,Le]=u.useState([""]),[K,Te]=u.useState(!1),[Ze,_e]=u.useState([""]),[Et,he]=u.useState(!0),[bt,$t]=u.useState(!1),[ia,Fa]=u.useState(null),[ft,Oe]=u.useState(null),[Je,ot]=u.useState(null),[Qe,kt]=u.useState(!1),[Mt,Xt]=u.useState(null),[pa,xa]=u.useState([]),[Zt,Ta]=u.useState([]),[He,aa]=u.useState([]),[vn,on]=u.useState(!1),[Va,cn]=u.useState(!1),[Da,ca]=u.useState(!1),[Vn,Ya]=u.useState(!1),[dn,Qa]=u.useState({}),[Ka,un]=u.useState({}),[Wa,ja]=u.useState(""),[la,ra]=u.useState(!1),[Rn,bn]=u.useState(!1),[ki,ni]=u.useState(!1),[Ln,fn]=u.useState([]),[ht,ka]=u.useState(!1),[Qt,da]=u.useState([]),[en,It]=u.useState(!1),[On,is]=u.useState(null),[ua,ya]=u.useState(0),[Yn,jn]=u.useState(!1),[At,si]=u.useState(null),[Hn,hn]=u.useState(!1),[Sa,Sn]=u.useState(!1),[In,Ha]=u.useState(null),[ls,Ds]=u.useState(""),[Mi,Gn]=u.useState({}),[N,oe]=u.useState([]),[De,ke]=u.useState(""),[Me,le]=u.useState(""),[Se,Ie]=u.useState({}),[me,st]=u.useState({}),[it,_t]=u.useState(null),[Ot,Ia]=u.useState(null),[Ft,ta]=u.useState(!1),[nt,Ga]=u.useState(null),[Kt,Ma]=u.useState(0),[Xn,Zn]=u.useState(!1),[S,Z]=u.useState(1),[Ae,z]=u.useState(!0),[xe,Ee]=u.useState(!1),[Xe,Fe]=u.useState(!1),[Pe,mt]=u.useState(!1),[pt,Ke]=u.useState(1),[wt,Ua]=u.useState(!1),[rs,Ye]=u.useState({x:0,y:0}),[Vt,Nn]=u.useState({x:0,y:0}),[fa,Ja]=u.useState(!1),[As,os]=u.useState(!1),[bc,bl]=u.useState(0),[Tr,ii]=u.useState(0),[jl,kr]=u.useState(0),[cf,df]=u.useState(!1),[uf,Mr]=u.useState(100),jc=u.useRef(null),[et,Ri]=u.useState({preImage:null,postImage:null,video:null,document:null});u.useEffect(()=>{Vn&&ya(0)},[Vn]),u.useEffect(()=>{(async()=>await Y())()},[Da]),u.useEffect(()=>{if((async()=>await ae())(),H.emp_type==1)ja(H.ship_id);else{const m=F.filter(A=>A.user_id==H.UHA_ID)[0].allocated_ships,M=T.filter(A=>m.includes(A.SHA_ID));console.log("ships ::::: ",M),R(M)}},[H]),u.useEffect(()=>{(async()=>{if(Ce==="active_jobs"&&o?.data?.activeJobCount){const M=o.data.activeJobCount.filter(A=>A.activeJobs?.job_status===1||A.activeJobs?.job_status===2||A.activeJobs?.job_status===3);for(const A of M)await Ui(A.activeJobs)}})()},[Ce,o]);const jt=H?.emp_type===1,Ba=m=>{const{name:M,value:A,type:ce,checked:Ue}=m.target;jt||be(ce==="checkbox"&&M==="job_generation_type"?Ve=>{let Be=[...Ve.job_generation_type];const ut=A.includes(",")?A.split(",").map($e=>$e.trim()):[A];return Ue?ut.forEach($e=>{Be.includes($e)||Be.push($e)}):Be=Be.filter($e=>!ut.includes($e)),{...Ve,job_generation_type:Be}}:ce==="checkbox"?Ve=>{const Be=[...Ve.job_will_generate_on];if(Ue)Be.push(A);else{const ut=Be.indexOf(A);ut>-1&&Be.splice(ut,1)}return{...Ve,job_will_generate_on:Be}}:Ve=>({...Ve,[M]:A}))},Rr=m=>{if(jt)return;const M=m.target.files[0];console.log("file in jcd page 2 : ",M),be(A=>({...A,jcd_instruction_manual:M}))},Sc=(m,M)=>{if(jt)return;const A=[...tt];A[m]=M,Le(A)},Nc=()=>{jt||tt.length>=10||Le([...tt,""])},Cc=m=>{if(jt||tt.length<=1)return;const M=tt.filter((A,ce)=>ce!==m);Le(M)},Dc=()=>{jt||Ze.length>=10||_e([...Ze,""])},Sl=m=>{if(jt||Ze.length<=1)return;const M=Ze.filter((ce,Ue)=>Ue!==m);_e(M);const A=`consumable_spare${m+1}`;be(ce=>({...ce,[A]:""}))},Ac=async m=>{if(m.preventDefault(),jt){Ge.warning("You are in view-only mode and cannot edit.");return}if(re.job_generation_type.length===0){Ge.warning("Please select at least one Job Generation Type.");return}const M=new FormData;re.jcd_instruction_manual&&M.append("jcd_instruction_manual",re.jcd_instruction_manual);let A={...re};const ce=Ue=>Ue===""||Ue===null||Ue===void 0?null:Ue;if(A.km_interval=ce(A.km_interval),A.operational_interval=ce(A.operational_interval),A.periodic_interval=ce(A.periodic_interval),A.time_scale=ce(A.time_scale),Array.isArray(A.job_generation_type)){const Ue=A.job_generation_type.flatMap(Ve=>Ve.includes(",")?Ve.split(",").map(Be=>Be.trim()):[Ve]).filter(Ve=>["1","2","3"].includes(Ve));A.job_generation_type=[...new Set(Ue)].join(",")}else A.job_generation_type="";re.status==="2"&&(A.deactivated_by=H.UHA_ID,A.deactivated_on=new Date().toISOString().split("T")[0]),A.jcd_check_list=ze?tt:[],Ze.forEach((Ue,Ve)=>{const Be=`consumable_spare${Ve+1}`;A[Be]=re[Be]||""});for(let Ue=Ze.length;Ue<10;Ue++)A[`consumable_spare${Ue+1}`]="";A.jcd_applied_cat=o?.data?.CHA_ID??null,A.jcd_applied_sub_cat=o?.data?.SCHA_ID??null,A.jcd_applied_2nd_sub_cat=o?.data?.SSCHA_ID??null,A.jcd_applied_3rd_sub_cat=o?.data?.TSCHA_ID??null,A.inserted_by=H.UHA_ID,A.inserted_on=new Date().toISOString().split("T")[0],Object.keys(A).forEach(Ue=>{Ue!=="jcd_instruction_manual"&&M.append(Ue,A[Ue])});try{Et?(is(A),cn(!0)):(await qe.put(`${i}updateJCDScheduleById`,M,{headers:{"Content-Type":"multipart/form-data"}})).status===200&&(Ge.success("JCD updated successfully!"),ws(),await Or())}catch(Ue){console.error(Ue),Ge.error("Error saving JCD. Check console for details.")}},ws=()=>{be({jcd_name:"",JTH_ID:"",SHA_ID:"",criticality:"",job_generation_type:[],operational_interval:"",time_scale:"",km_interval:"",periodic_interval:"",jcd_category:"",jcd_instruction_manual:null,jcd_check_list:[],status:"1",deactivated_by:"",deactivated_on:"",job_will_generate_on:[],lest_executed_status:"",consumable_spare1:"",consumable_spare2:"",consumable_spare3:"",consumable_spare4:"",consumable_spare5:"",consumable_spare6:"",consumable_spare7:"",consumable_spare8:"",consumable_spare9:"",consumable_spare10:"",executed_by:"",secondary_desg:"",first_verified_by:"",second_verified_by:"",pre_execution_image_required:"0",post_execution_image_required:"0",video_of_execution_required:"0",pdf_file_for_execution_required:"0",extension_authority:"",jcd_applied_cat:"",jcd_applied_sub_cat:"",jcd_applied_2nd_sub_cat:"",jcd_applied_3rd_sub_cat:"",jcd_applied_part:""}),dt(!1),Le([""]),Te(!1),_e([""]),he(!0),$t(!1)},wc=m=>{const M=Lr(m);Fa(m),ee("new_jcd"),be(M),he(!1),$t(!0)},Lr=m=>{let M=[];return m.job_generation_type&&(Array.isArray(m.job_generation_type)?M=m.job_generation_type:typeof m.job_generation_type=="string"&&(M=m.job_generation_type.split(",").map(A=>A.trim()))),M=M.filter(A=>A==="1"||A==="2"||A==="3"),{jcd_name:m.jcd_name||null,jcd_id:m.jcd_id||null,JTH_ID:m.JTH_ID||null,SHA_ID:m.SHA_ID||null,criticality:m.criticality??null,job_generation_type:M,operational_interval:m.operational_interval??null,time_scale:m.time_scale??null,km_interval:m.km_interval??null,periodic_interval:m.periodic_interval??null,jcd_category:m.jcd_category??null,jcd_instruction_manual:m.jcd_instruction_manual??null,jcd_check_list:m.jcd_check_list??null,status:m.status??"1",deactivated_by:m.deactivated_by??null,deactivated_on:m.deactivated_on??null,job_will_generate_on:m.job_will_generate_on?Array.isArray(m.job_will_generate_on)?m.job_will_generate_on:[m.job_will_generate_on]:null,lest_executed_status:m.lest_executed_status??null,consumable_spare1:m.consumable_spare1??null,consumable_spare2:m.consumable_spare2??null,consumable_spare3:m.consumable_spare3??null,consumable_spare4:m.consumable_spare4??null,consumable_spare5:m.consumable_spare5??null,consumable_spare6:m.consumable_spare6??null,consumable_spare7:m.consumable_spare7??null,consumable_spare8:m.consumable_spare8??null,consumable_spare9:m.consumable_spare9??null,consumable_spare10:m.consumable_spare10??null,executed_by:m.executed_by??null,secondary_desg:m.secondary_desg??null,first_verified_by:m.first_verified_by??null,second_verified_by:m.second_verified_by??null,extension_authority:m.extension_authority??null,pre_execution_image_required:m?.pre_execution_image_required??0,post_execution_image_required:m?.post_execution_image_required??0,video_of_execution_required:m?.video_of_execution_required??0,pdf_file_for_execution_required:m?.pdf_file_for_execution_required??0,jcd_applied_cat:m.jcd_applied_cat??null,jcd_applied_sub_cat:m.jcd_applied_sub_cat??null,jcd_applied_2nd_sub_cat:m.jcd_applied_2nd_sub_cat??null,jcd_applied_3rd_sub_cat:m.jcd_applied_3rd_sub_cat??null,jcd_applied_part:m.jcd_applied_part??null}},Ec=async()=>{if((pa.length===0||vn==!1)&&Mt.length>0){Ge.warning("Please select at least one ship to update.");return}const M={...{...re},jcd_id:ia.jcd_id,SHA_ID:pa.map(A=>A.SHA_ID).join(",")};try{(await qe.put(`${i}updateJCDScheduleById`,M)).status===200&&(Ge.success("JCD updated successfully across selected ships!"),ws(),b(),kt(!1),xa([]))}catch(A){console.error(A),Ge.error("Failed to update JCD. 463")}},Tc={1:"Generated - Awaiting Acknowledgment",2:"Not Acknowledged",3:"Acknowledged - Ready for Execution",4:"Executed - Completed",5:"First Verification Done",6:"Second Verification Done",7:"Extension Requested",8:"Extension Accepted"};u.useEffect(()=>{(async()=>(await b(),await Ne(),await U(),await Y()))()},[Ce]);const Li=u.useMemo(()=>ft?T?.filter(m=>B.some(M=>M.SHA_ID===m.SHA_ID&&M.jcds?.toString().includes(ft.jcd_id)))||[]:[],[ft,T,B]);u.useEffect(()=>{ja("")},[o]);const Or=async()=>{try{se(!0),await Promise.all([Ne(),U(),b(),J(),te(),ge(),je(),L(),f(),k(),fe(),Y(),X(),ae()]),console.log("All data refreshed successfully")}catch(m){console.error("Error refreshing data:",m),Ge.error("Failed to refresh some data")}finally{se(!1)}},kc=async(m,M)=>{if(!m){Ge.warning("No JCD ID provided for unlinking");return}if(!M){Ge.warning("No JCD ID provided for unlinking");return}const A=T.filter(Be=>Be.SHA_ID==M)[0]?.ship_name;await Y(),await b();const ce=_.filter(Be=>Be.jcd_id==m&&Be.SHA_ID==M)[0]?.JCDSHA_ID;if(ve.filter(Be=>Be.jcd_id==ce)[0]?.JPHA_ID){Ge.error("Active Job is Open Currently, Complete it First then You can able to Unlink it..");return}if(confirm(`Are you sure you want to unlink this JCD (${m}) from the ${A}?`))try{const Be={SHA_ID:M,JCD_ID:m},ut=await qe.post(`${i}unlinkJCDFromShipAndSchedule`,Be);if(ut.status===200||ut.status===201)Ge.success(`Successfully unlinked JCD: ${m}`),await b(),await X(),await f(),setAssignedJCDCheckList($e=>$e.filter(Ut=>Ut!==m));else throw new Error("Unlink failed with status: "+ut.status)}catch(Be){console.error(" Error during unlinking:",Be),Ge.error("Failed to unlink JCD. Please try again.")}},Mc=async()=>{if(!ft?.jcd_id){Ge.error("No JCD selected for suspension");return}if(!Qt||Qt.length===0){Ge.error("No ships selected for suspension");return}try{const m=await qe.put(`${i}suspendJCDFromShips`,{JCD_ID:ft.jcd_id,SHA_IDs:Qt,suspended_by:H.UHA_ID,suspended_on:new Date().toISOString().split("T")[0]});if(m.status===200||m.status===201)Ge.success("JCD suspended successfully from selected ships!"),await b(),await Y(),await X(),await f(),ka(!1),da([]);else throw new Error("Suspend failed with status: "+m.status)}catch(m){console.error(" Error during suspension:",m),Ge.error("Failed to suspend JCD. Please try again.")}},Oi=(m,M)=>{Ri(A=>({...A,[m]:M}))},Hi=m=>{Ri(M=>({...M,[m]:null}))},Nl=()=>{const m=[];return At?.pre_execution_image_required==1&&m.push(et.preImage),At?.post_execution_image_required==1&&m.push(et.postImage),At?.video_of_execution_required==1&&m.push(et.video),At?.pdf_file_for_execution_required==1&&m.push(et.document),m.every(M=>M!==null)},Ii=async()=>{if(!Nl()){Ge.error("Please complete all required fields");return}try{const m=new FormData;et.preImage&&m.append("pre_execution_image",et.preImage),et.postImage&&m.append("post_execution_image",et.postImage),et.video&&m.append("execution_video",et.video),et.document&&m.append("pdf_document",et.document),m.append("jobId",Ot?.JPHA_ID),m.append("jcdId",Ot?.jcd_id),m.append("completedBy",H.UHA_ID),m.append("shipId",Ot?.SHA_ID),m.append("ship_name",T.find(A=>A.SHA_ID===Ot?.SHA_ID)?.ship_name||"Unknown Ship"),(await qe.post(`${i}completeJobWithRequirements`,m,{headers:{"Content-Type":"multipart/form-data"}})).status===200&&(Ge.success("Job completed successfully!"),x&&x(Ot?.JPHA_ID),hn(!1),Ri({preImage:null,postImage:null,video:null,document:null}),Gn(A=>({...A,[Ot?.JPHA_ID]:{started:!1,completed:!0}})),_t(null),st(A=>({...A,[Ot?.JPHA_ID]:null})),await Or())}catch(m){console.error("Error completing job:",m),Ge.error("Failed to complete job. Please try again.")}},li=async m=>{try{const M="https://udayerp.com/pms/server/api/",A=await Ui(m);if(A?.isLocked&&A.lockedBy!==H.UHA_ID){alert("This job is already locked by another user. Please try again later.");return}const Ue=await(await fetch(`${M}acknowledgeJobWithLock`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({job_id:m.JPHA_ID,jcd_id:m.jcd_id,ship_id:m.SHA_ID,user_id:H.UHA_ID})})).json();if(Ue.success)alert("Job acknowledged successfully! You now have the lock."),await Y(),await Ui(m),await f(),Gn(Ve=>({...Ve,[m.JPHA_ID]:{...Ve[m.JPHA_ID],acknowledged:!0}}));else throw new Error(Ue.message||"Failed to acknowledge job")}catch(M){console.error("Error acknowledging job:",M),alert("Error acknowledging job: "+M.message)}},Hr=m=>({1:"Location Active",2:"Location Active",3:"Location Inactive",4:"Location Under Repair",5:"Location Operational"})[m]||`Condition ${m}`,Ir=m=>({1:"hours",2:"days",3:"weeks",4:"months"})[m]||"units",Ur=(m,M)=>{const A={runningHours:null,kmInterval:null,periodic:null,conditional:null},ce=new Date;let Ue=[];if(m.job_generation_type&&(typeof m.job_generation_type=="string"?Ue=m.job_generation_type.split(",").map(Ve=>Ve.trim()):Array.isArray(m.job_generation_type)&&(Ue=m.job_generation_type)),Ue.includes("1")&&m.operational_interval&&parseInt(m.operational_interval)>0){const Ve=parseInt(m.operational_interval),Be=m.time_scale;let ut=new Date(M);switch(Be){case"1":ut.setTime(ut.getTime()+Ve*60*60*1e3);break;case"2":ut.setDate(ut.getDate()+Ve);break;case"3":ut.setDate(ut.getDate()+Ve*7);break;case"4":ut.setMonth(ut.getMonth()+Ve);break;default:ut.setDate(ut.getDate()+Ve)}const $e=Math.ceil((ut-ce)/(1e3*60*60*24)),Ut=ut<=ce;A.runningHours={type:"running_hours",value:ut.toLocaleDateString("en-GB"),date:ut,label:`After ${Ve} ${Ir(Be)}`,interval:Ve,timeScale:Be,daysUntil:$e,isOverdue:Ut}}if(Ue.includes("2")&&m.km_interval&&parseInt(m.km_interval)>0){const Ve=parseInt(m.km_interval);A.kmInterval={type:"km",value:`After Every ${Ve} NM traveled`,label:`After Every ${Ve} NM`,interval:Ve,unit:"NM"}}if(Ue.includes("3")&&m.periodic_interval&&parseInt(m.periodic_interval)>0){const Ve=parseInt(m.periodic_interval),Be=new Date(M);Be.setDate(Be.getDate()+Ve);const ut=Math.ceil((Be-ce)/(1e3*60*60*24)),$e=Be<=ce;A.periodic={type:"periodic",value:Be.toLocaleDateString("en-GB"),date:Be,label:`After Every ${Ve} days`,interval:Ve,unit:"days",daysUntil:ut,isOverdue:$e}}if(m.job_will_generate_on&&m.job_will_generate_on.toString().length>0){let Ve=[];typeof m.job_will_generate_on=="string"?Ve=m.job_will_generate_on.split(",").map(Be=>Be.trim()):Array.isArray(m.job_will_generate_on)&&(Ve=m.job_will_generate_on),Ve.length>0&&(A.conditional={type:"conditional",conditions:Ve.map(Be=>({value:`When ${Hr(Be)}`,label:Hr(Be),condition:Be})),hasConditions:!0})}return A.runningHours||A.kmInterval||A.periodic||A.conditional?A:null},Cl=u.useMemo(()=>{if(!o)return[];const m=[];return _.filter(A=>A.jcd_applied_cat===o.data.CHA_ID||A.jcd_applied_sub_cat===o.data.SCHA_ID||A.jcd_applied_2nd_sub_cat===o.data.SSCHA_ID||A.jcd_applied_3rd_sub_cat===o.data.TSCHA_ID).forEach(A=>{if(ve.find($e=>$e.jcd_id===A.JCDSHA_ID&&$e.job_status>=1&&$e.job_status<=5))return;const Ue=ve.filter($e=>$e.jcd_id===A.jcd_id&&$e.job_status==6),Ve=Ue.length>0?Ue.sort(($e,Ut)=>new Date(Ut.executed_dt||Ut.generated_on)-new Date($e.executed_dt||$e.generated_on))[0]:null;let Be;Ve&&Ve.executed_dt?Be=new Date(Ve.executed_dt):Ve&&Ve.generated_on?Be=new Date(Ve.generated_on):Be=new Date(A.inserted_on||A.created_on||new Date);const ut=Ur(A,Be);ut&&m.push({jcd:A,lastExecutionDate:Be,nextGenerationInfo:ut,latestCompletedJob:Ve,jcdId:A.jcd_id,shipId:A.SHA_ID})}),m},[o,_,ve]),Dl=u.useMemo(()=>{let m=Cl;return De&&(m=m.filter(M=>M.jcd.SHA_ID==De)),Me&&(m=m.filter(M=>M.jcd.jcd_name?.toLowerCase().includes(Me.toLowerCase())||M.jcd.jcd_id?.toLowerCase().includes(Me.toLowerCase()))),m},[Cl,De,Me]),Al=(m,M)=>m?M==="km"?a.jsxs("div",{style:{textAlign:"left"},children:[a.jsx("div",{className:"status-badge info",style:{fontSize:"0.8rem"},children:m.value}),a.jsx("br",{}),a.jsx("small",{style:{color:"#059669",fontSize:"0.7rem"},children:m.label})]}):a.jsxs("div",{style:{textAlign:"left"},children:[a.jsxs("div",{className:`status-badge ${m.isOverdue?"overdue":"info"}`,style:{fontSize:"0.8rem"},children:[m.value,m.isOverdue&&" "]}),m.daysUntil!==void 0&&a.jsx("small",{style:{color:m.isOverdue?"#ef4444":"#666",fontSize:"0.7rem",fontWeight:m.isOverdue?"bold":"normal"},children:m.isOverdue?`(OVERDUE by ${Math.abs(m.daysUntil)} days)`:`(in ${m.daysUntil} days)`}),a.jsx("br",{}),a.jsx("small",{style:{color:m.isOverdue?"#ef4444":"#059669",fontSize:"0.7rem"},children:m.label})]}):a.jsx("span",{className:"text-muted",children:"-"}),Es=()=>Dl.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:12,style:{textAlign:"center",padding:"20px"},children:"No upcoming jobs found for the selected criteria"})}):Dl.map((m,M)=>{const{jcd:A,latestCompletedJob:ce,nextGenerationInfo:Ue}=m,Ve=xt=>{if(!xt)return"--";const Yt=[$.find(vt=>vt.CHA_ID==xt.jcd_applied_cat),ie.find(vt=>vt.SCHA_ID==xt.jcd_applied_sub_cat&&vt.CHA_ID==xt.jcd_applied_cat),we.find(vt=>vt.SSCHA_ID==xt.jcd_applied_2nd_sub_cat&&vt.SCHA_ID==xt.jcd_applied_sub_cat&&vt.CHA_ID==xt.jcd_applied_cat),ue.find(vt=>vt.TSCHA_ID==xt.jcd_applied_3rd_sub_cat&&vt.SSCHA_ID==xt.jcd_applied_2nd_sub_cat&&vt.SCHA_ID==xt.jcd_applied_sub_cat&&vt.CHA_ID==xt.jcd_applied_cat)],Cn=Yt.find(vt=>vt)?.category_name||Yt.find(vt=>vt)?.sub_category_name||Yt.find(vt=>vt)?.second_sub_cat_name||Yt.find(vt=>vt)?.third_sub_cat_name||"--";return a.jsxs(a.Fragment,{children:[Cn,a.jsx("br",{}),a.jsx("span",{style:{fontSize:"0.8rem",fontStyle:"italic",color:"green"},children:xt?.jcd_name||"Loading Job Name"})]})},Be=xt=>{if(!xt)return"No previous assignment";const Yt=P.find(vt=>vt.UHA_ID==xt?.issued_to)?.emp_name||"Not Assigned",Cn=P.find(vt=>vt.UHA_ID==xt?.secondary_issued_to)?.emp_name;return a.jsxs(a.Fragment,{children:["1. ",Yt," ",a.jsx("br",{}),Cn?a.jsxs(a.Fragment,{children:["2. ",Cn]}):a.jsx("small",{style:{color:"#666",fontSize:"0.7rem"},children:"(No secondary crew)"})]})},ut=xt=>xt?.job_type==1?"Serviceable":"Replaceable",$e=xt=>{const Yt=xt?.criticality==1?"High":"Normal";return a.jsx("span",{className:`status-badge ${Yt==="High"?"overdue":"success"}`,children:Yt})},Ut=xt=>{if(!xt)return"Never";try{return new Date(xt).toLocaleDateString()}catch{return"Invalid Date"}};return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("input",{type:"checkbox"})}),a.jsx("td",{children:A.jcd_id}),a.jsx("td",{children:Ve(A)}),a.jsx("td",{children:Al(Ue?.runningHours,"running_hours")}),a.jsx("td",{children:Ue?.kmInterval?a.jsx("div",{style:{textAlign:"left"},children:a.jsxs("small",{style:{color:"#059669",fontSize:"0.7rem"},children:["(",Ue.kmInterval.label,")"]})}):a.jsx("span",{className:"text-muted",children:"-"})}),a.jsx("td",{children:Al(Ue?.periodic,"periodic")}),a.jsx("td",{children:Ue?.conditional?a.jsx("div",{style:{textAlign:"left"},children:Ue.conditional.conditions.map((xt,Yt)=>a.jsx("div",{style:{marginBottom:"4px"},children:a.jsx("span",{className:"status-badge info",style:{fontSize:"0.7rem"},children:xt.value})},Yt))}):a.jsx("span",{className:"text-muted",children:"-"})}),a.jsx("td",{children:Be(ce)}),a.jsxs("td",{children:[Ut(m.lastExecutionDate),a.jsx("br",{}),a.jsx("small",{style:{color:"#666",fontSize:"0.7rem"},children:ce?"Last completed":"JCD created"})]}),a.jsx("td",{children:ut(A)}),a.jsx("td",{children:$e(A)}),a.jsx("td",{children:a.jsx("div",{className:"action-buttons",children:a.jsx("button",{className:"btn-primary",children:"Details"})})})]},A.jcd_id)}),Ui=async m=>{try{const A=await fetch(`https://udayerp.com/pms/server/api/checkJobLock/${m.JPHA_ID}/${m.jcd_id}/${H.UHA_ID}`);if(!A.ok)throw new Error(`HTTP ${A.status}: ${A.statusText}`);const ce=await A.json();if(ce.success)return Ie(Ue=>({...Ue,[m.JPHA_ID]:{...ce.data,lockedByUser:P.find(Ve=>Ve.UHA_ID==ce.data.lockedBy)?.emp_name||"Unknown"}})),ce.data}catch(M){console.error("Error checking job lock status:",M),Ie(A=>({...A,[m.JPHA_ID]:{isLocked:!1,lockedBy:null,currentUserHasLock:!1,lockedAt:null}}))}},Rc=m=>m.issued_to===H.UHA_ID||m.secondary_issued_to===H.UHA_ID,Lc=m=>{const M=Se[m.JPHA_ID]||{},A=m.job_status,ce=it===m.JPHA_ID;return a.jsxs("span",{className:`status-badge status-${A}`,children:[Tc[A]||"In Progress",M.isLocked&&" ",ce&&" (In Progress)",A===1&&!m.acknowledged_by&&a.jsx("span",{style:{color:"red",fontSize:"10px",display:"block"},children:"(Awaiting Acknowledgment)"})]})},wl=m=>{const M=Se[m.activeJobs?.JPHA_ID]||{},A=Rc(m.activeJobs),ce=m.activeJobs?.job_status;return{canAcknowledge:A&&(ce===1||ce===2)&&!M.isLocked,canExecute:A&&ce===3&&M.currentUserHasLock,canRequestExtension:A&&M.currentUserHasLock&&ce!==4&&ce!==5&&ce!==6,hasLock:M.currentUserHasLock,isLocked:M.isLocked,lockedByUser:M.lockedByUser,isAssigned:A,jobStatus:ce}},Jr=async m=>{try{const ce=await(await fetch("https://udayerp.com/pms/server/api/acquireJobLockForExtension",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({job_id:m.activeJobs.JPHA_ID,jcd_id:m.activeJobs.jcd_id,ship_id:m.activeJobs.SHA_ID,user_id:H.UHA_ID})})).json();if(ce.success)return Ge.success("Job lock acquired! You can now request an extension."),await Ui(m.activeJobs),!0;throw new Error(ce.message||"Failed to acquire lock")}catch(M){return console.error("Error acquiring lock:",M),Ge.error("Error acquiring job lock: "+M.message),!1}},Ts=async m=>{try{const M=wl(m),A=m.activeJobs?.job_status;if(A===4||A===5||A===6){Ge.info("Cannot request extension - job is under verification process");return}if(!M.isAssigned){Ge.error("You are not assigned to this job.");return}if(console.log("permissions :: ",M),!M.hasLock)if(M.isLocked){Ge.info(`This job is currently locked by ${M.lockedByUser||"another user"}. Only the person who locked the job can request extensions.`);return}else{if(window.confirm("You need to acquire the job lock to request an extension. Would you like to acquire the lock now?")&&await Jr(m)){const Ut=m?.relatedJCD?.criticality,xt=T.filter(vt=>vt.SHA_ID==m?.activeJobs?.SHA_ID)[0]?.ship_name,Yt=P.filter(vt=>vt.UHA_ID==H.UHA_ID)[0]?.emp_name;window.confirm(`Hey ${Yt} This is a ${Ut==1?"CRITICAL":"Non-Critical"} Job on '${xt}', So Do you really want to request extension, Because They may reject it..`)&&(bn(!0),ot(m),ra(!0))}return}const ce=m?.relatedJCD?.criticality,Ue=T.filter(ut=>ut.SHA_ID==m?.activeJobs?.SHA_ID)[0]?.ship_name,Ve=P.filter(ut=>ut.UHA_ID==H.UHA_ID)[0]?.emp_name;window.confirm(`Hey ${Ve} This is a ${ce==1?"CRITICAL":"Non-Critical"} Job on '${Ue}', So Do you really want to request extension, Because They may reject it..`)&&(bn(!0),ot(m),ra(!0))}catch(M){console.error("Error checking extension permissions:",M),Ge.error("Error checking job permissions")}},tn=(m,M,A)=>{if(!m)return;let ce=[],Ue="";if(M==="preImage")ce=et.preImage,Ue="Pre-Execution Images";else if(M==="postImage")ce=et.postImage,Ue="Post-Execution Images";else{const Be=m.previewUrl||URL.createObjectURL(m),ut=m.name?.split(".").pop().toLowerCase();let $e="image";ut?.includes("video")||m.type?.includes("video")?$e="video":ut?.includes("pdf")||m.type?.includes("pdf")?$e="pdf":(ut?.includes("image")||m.type?.includes("image"))&&($e="image"),Ga({type:$e,url:Be,name:m.name||"Preview File"}),ta(!0),Ma(0);return}const Ve=ce.map((Be,ut)=>{const $e=Be.name?.split(".").pop().toLowerCase();let Ut="image";return $e?.includes("video")||Be.type?.includes("video")?Ut="video":$e?.includes("pdf")||Be.type?.includes("pdf")?Ut="pdf":($e?.includes("image")||Be.type?.includes("image"))&&(Ut="image"),{type:Ut,url:Be.previewUrl||URL.createObjectURL(Be.file),name:`${Ue} - ${ut+1}`,originalFile:Be}});Ga({type:"group",mediaList:Ve,groupName:Ue}),ta(!0),Ma(A)},Br=()=>{ta(!1),Ga(null)},ri=m=>{Ma(M=>{let A=[];nt?.type==="group"&&nt.mediaList?A=nt.mediaList:A=qr;const ce=m==="next"?Math.min(M+1,A.length-1):Math.max(M-1,0);return El(),ce})},El=()=>{Zn(!1),Z(1),z(!0),Ee(!1)},Ji=m=>{m==="in"?Z(M=>Math.min(M+.25,3)):m==="out"?Z(M=>Math.max(M-.25,.5)):(Z(1),Zn(!1))},Bi=()=>{Hc.type==="image"&&(Zn(!Xn),Z(Xn?1:2))},Tl=()=>{let m=null;if(nt?.type==="group"&&nt.mediaList?m=nt.mediaList[Kt]:m=nt,m?.url){const M=document.createElement("a");M.href=m.url,M.download=m.name||"download",document.body.appendChild(M),M.click(),document.body.removeChild(M)}},oi=()=>{z(!1),Ee(!1)},ci=()=>{z(!1),Ee(!0)},zr=m=>{if(!fa||pt<=1)return;const M=m.clientX-rs.x,A=m.clientY-rs.y,ce=document.querySelector(".image-container");if(ce){const Ue=ce.getBoundingClientRect(),Ve=(pt-1)*Ue.width/2,Be=(pt-1)*Ue.height/2;Nn({x:Math.max(Math.min(M,Ve),-Ve),y:Math.max(Math.min(A,Be),-Be)})}},Oc=()=>{Ja(!1)};u.useEffect(()=>{const m=A=>{zr(A)},M=()=>{Oc()};return fa&&(document.addEventListener("mousemove",m),document.addEventListener("mouseup",M)),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",M)}},[fa,rs,pt]),u.useEffect(()=>{pt<=1&&Nn({x:0,y:0})},[pt]),u.useEffect(()=>{const m=jc.current;if(!m)return;const M=()=>{ii(m.currentTime),bl(m.currentTime/m.duration*100)},A=()=>{kr(m.duration)},ce=()=>{os(!1)};return m.addEventListener("timeupdate",M),m.addEventListener("loadedmetadata",A),m.addEventListener("ended",ce),()=>{m.removeEventListener("timeupdate",M),m.removeEventListener("loadedmetadata",A),m.removeEventListener("ended",ce)}},[Kt]);const qr=u.useMemo(()=>[et.preImage?{type:"image",url:et.preImage.previewUrl,name:"Pre-Execution Image"}:null,et.postImage?{type:"image",url:et.postImage.previewUrl,name:"Post-Execution Image"}:null,et.video?{type:"video",url:et.video.previewUrl,name:"Execution Video"}:null,et.document?{type:"pdf",url:et.document.previewUrl,name:"PDF Document"}:null].filter(Boolean),[et]),Hc=qr[Kt]||null;return a.jsxs("div",{id:"JCD_Page_main_root_container",children:[a.jsxs("div",{id:"JCD_Page_main_root_container_left_side_container",children:[a.jsx("p",{id:"note_about_component_heirarchy",children:"Change in background color indicates component selection"}),a.jsx(jr,{})]}),a.jsxs("div",{id:"JCD_Page_main_root_container_right_side_container",children:[a.jsx("div",{id:"JCD_Page_main_root_container_right_side_container_top_section",children:[{key:"new_jcd",label:"New JCD"},{key:"view_jcd",label:"View JCDs"},{key:"active_jobs",label:"Active Jobs"},{key:"completed_jobs",label:"Completed Jobs"},{key:"upcoming_jobs",label:"Upcoming Jobs"}].map(({key:m,label:M},A)=>D?.find(Ue=>H?.profile_ids?.includes(Ue.PROFILE_ID))?.process_ids.includes(`P_JCD_000${A+1}`)?a.jsx("button",{className:"JCD_Page_main_root_container_right_side_container_top_section_btns",onClick:()=>ee(m),style:{backgroundColor:Ce===m?"royalblue":"white",color:Ce===m?"white":"black"},children:M},m):null)}),a.jsxs("div",{id:"JCD_Page_main_root_container_right_side_container_bottom_section",children:[Ce==="new_jcd"&&(o?a.jsxs("div",{className:"active_tab_main_container",children:[a.jsx("h1",{children:"New JCD Form"}),a.jsx("div",{id:"JCD_configuration_form_container_in_jcd_page",children:D?.filter(m=>H?.profile_ids?.includes(m.PROFILE_ID))[0]?.form_ids.includes("F_JCD_001")&&a.jsxs("form",{onSubmit:Ac,className:"jcd-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Selected Component:"}),a.jsx("div",{className:"selected-component",children:a.jsx("i",{style:{color:"#94a3b8"},children:o.data.label})})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{children:["JCD Name ",a.jsx("span",{style:{color:"red"},children:"*"})]}),a.jsx("input",{type:"text",name:"jcd_name",value:re.jcd_name||"",onChange:Ba,placeholder:"Enter JCD Name",disabled:jt,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{children:["Choose Universaly Active Job Type ",a.jsx("span",{style:{color:"red"},children:"*"})]}),a.jsxs("select",{name:"JTH_ID",value:re.JTH_ID,onChange:Ba,required:!0,disabled:jt,className:"form-control",children:[a.jsx("option",{value:"",children:"Select Job Type"}),C.filter(m=>m.JTH_status!=0).map(m=>a.jsx("option",{value:m.JTH_ID,children:m.JTH_job_type},m.JTH_ID))]})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{children:["Criticality ",a.jsx("span",{style:{color:"red"},children:"*"})]}),a.jsx("div",{className:"radio-group",children:["Critical","Non-critical"].map((m,M)=>a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"criticality",value:M+1,checked:re.criticality==M+1,onChange:Ba,disabled:jt,required:!0}),m,m=="Non-critical"&&a.jsx("small",{style:{color:"crimson",marginLeft:"8px"},children:"(Max Allowed Extensions - 3)"})]},m))})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{children:["Job Will Generate On Which Thresholds ",a.jsx("span",{style:{color:"red"},children:"*"})]}),a.jsx("div",{className:"checkbox-group",children:[{value:"1",label:"Operational Time"},{value:"2",label:"KM"},{value:"3",label:"Periodic Days"}].map(({value:m,label:M})=>a.jsxs("div",{className:"checkbox-with-fields",children:[a.jsxs("label",{children:[a.jsx("input",{type:"checkbox",value:m,checked:re.job_generation_type.includes(m),onChange:Ba,name:"job_generation_type",disabled:jt}),M]}),m==="1"&&re.job_generation_type.includes("1")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Operational Interval"}),a.jsx("input",{type:"number",name:"operational_interval",value:re.operational_interval,onChange:Ba,className:"form-control",disabled:jt})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Time Scale"}),a.jsxs("select",{name:"time_scale",value:re.time_scale,onChange:Ba,className:"form-control",disabled:jt,children:[a.jsx("option",{value:"",children:"Select Scale"}),a.jsx("option",{value:"1",children:"Hours"}),a.jsx("option",{value:"2",children:"Days"}),a.jsx("option",{value:"3",children:"Weeks"})]})]})]}),m==="2"&&re.job_generation_type.includes("2")&&a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"KM Interval"}),a.jsx("input",{type:"number",name:"km_interval",value:re.km_interval,onChange:Ba,className:"form-control",disabled:jt})]}),m==="3"&&re.job_generation_type.includes("3")&&a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Periodic Interval (Days)"}),a.jsx("input",{type:"number",name:"periodic_interval",value:re.periodic_interval,onChange:Ba,className:"form-control",disabled:jt})]})]},m))})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{children:["Servicable Or Replaceable ",a.jsx("span",{style:{color:"red"},children:"*"})]}),a.jsxs("select",{name:"jcd_category",value:re.jcd_category,onChange:Ba,required:!0,disabled:jt,className:"form-control",children:[a.jsx("option",{value:"",children:"Select"}),a.jsx("option",{value:"1",children:"Servicable"}),a.jsx("option",{value:"2",children:"Replaceable"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Instruction Manual For Execution Of This Job"}),a.jsxs("div",{className:"file-input-container",children:[a.jsx("input",{type:"file",name:"jcd_instruction_manual",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:Rr,disabled:jt,style:{display:"none"},id:"instruction-manual-input"}),a.jsx("label",{htmlFor:"instruction-manual-input",className:"file-input-label",style:{display:"inline-block",padding:"10px 15px",backgroundColor:"#007bff",color:"white",borderRadius:"4px",cursor:jt?"not-allowed":"pointer",opacity:jt?.6:1},children:"Choose file"})]}),re.jcd_instruction_manual&&a.jsxs("div",{className:"file-name",style:{marginTop:"8px",fontSize:"14px",color:"#666"},children:[" ",re.jcd_instruction_manual.name,!jt&&a.jsx("button",{type:"button",onClick:()=>be(m=>({...m,jcd_instruction_manual:null})),style:{marginLeft:"10px",color:"red",background:"none",border:"none",cursor:"pointer"},children:""})]})]}),a.jsx("div",{className:"form-group checkbox-group",children:a.jsxs("label",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[a.jsx("input",{type:"checkbox",checked:ze,onChange:m=>{dt(m.target.checked),Le([])},disabled:jt,style:{width:"18px",height:"18px",margin:"5px"}}),"Want To Add checklist to ensure quality work?"]})}),ze&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{children:["Checklist Items ",a.jsx("span",{style:{color:"red"},children:"*"})]}),a.jsx("div",{className:"checklist-container",children:(tt.length>0?tt:[""]).map((m,M)=>a.jsxs("div",{className:"checklist-item",children:[a.jsx("input",{type:"text",value:m,onChange:A=>Sc(M,A.target.value),placeholder:`Checklist ${M+1}`,className:"form-control",disabled:jt,required:ze}),a.jsx("button",{type:"button",onClick:()=>Cc(M),disabled:jt,children:"Remove"})]},M))})]}),a.jsx("button",{type:"button",onClick:Nc,className:"add-button",disabled:jt,children:"+ Add Checklist Item"})]}),[{key:"executed_by",label:"Select Primary Responsible Designation To Do This Job"},{key:"secondary_desg",label:"Select Secondary Responsible Designation To Do This Job"},{key:"first_verified_by",label:"This Job Will Primary Verified By Which Designation"},{key:"second_verified_by",label:"This Job Will Secondary Verified By Which Designation"},{key:"extension_authority",label:"Which Designation will going to Approve Extension Request"}].map(({key:m,label:M})=>a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{children:[M," ",m!="secondary_desg"&&a.jsx("span",{style:{color:"red"},children:"*"})]}),a.jsxs("select",{name:m,value:re[m]||"",onChange:Ba,disabled:jt,className:"form-control",required:m!=="extension_authority",children:[a.jsx("option",{value:"",children:"Select"}),Re.map(A=>a.jsx("option",{value:A.DSGH_ID,children:A.desg_name},A.DSGH_ID))]})]},m)),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{children:["Pre Job Execution Image Required ? ",a.jsx("span",{style:{color:"red"},children:"*"})]}),[1,0].map(m=>a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"pre_execution_image_required",value:m,checked:re.pre_execution_image_required==m,onChange:Ba,disabled:jt}),m?"Yes":"No"]},m))]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{children:["Post Job Execution Image Required ? ",a.jsx("span",{style:{color:"red"},children:"*"})]}),[1,0].map(m=>a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"post_execution_image_required",value:m,checked:re.post_execution_image_required==m,onChange:Ba,disabled:jt}),m?"Yes":"No"]},m))]}),re.jcd_category==="2"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"form-group",children:a.jsxs("label",{children:[a.jsx("input",{type:"checkbox",checked:K,onChange:m=>Te(m.target.checked),disabled:jt}),"Need consumable spares?"]})}),K&&a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{style:{fontWeight:"bold",display:"block",marginBottom:"8px"},children:["Consumable Spares ",a.jsx("span",{style:{color:"red"},children:"*"})]}),a.jsx("div",{className:"checklist-container",children:Ze.map((m,M)=>{const A=`consumable_spare${M+1}`;return a.jsxs("div",{className:"checklist-item",children:[a.jsx("input",{type:"text",placeholder:`Spare ${M+1}`,value:re[A],onChange:ce=>be(Ue=>({...Ue,[A]:ce.target.value})),disabled:jt,className:"form-control",required:K==!0}),a.jsx("button",{type:"button",onClick:()=>Sl(M),disabled:jt,children:"Remove"})]},A)})}),Ze.length<10&&a.jsx("button",{type:"button",onClick:Dc,className:"add-button",disabled:jt,children:"+ Add More"})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{children:["PDF Document Required ? ",a.jsx("span",{style:{color:"red"},children:"*"})]}),[1,0].map(m=>a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"pdf_file_for_execution_required",value:m,checked:re.pdf_file_for_execution_required==m,onChange:Ba,disabled:jt}),m?"Yes":"No"]},m))]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{children:["Execution Video Required ? ",a.jsx("span",{style:{color:"red"},children:"*"})]}),[1,0].map(m=>a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"video_of_execution_required",value:m,checked:re.video_of_execution_required==m,onChange:Ba,disabled:jt}),m?"Yes":"No"]},m))]}),a.jsxs("div",{className:"form-actions",children:[D?.filter(m=>H?.profile_ids?.includes(m.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0008")&&a.jsx("button",{type:"submit",disabled:bt,children:jt?"View Only":"Create"}),D?.filter(m=>H?.profile_ids?.includes(m.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0009")&&a.jsx("button",{type:"submit",disabled:Et,children:jt?"View Only":"Update"}),D?.filter(m=>H?.profile_ids?.includes(m.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0010")&&a.jsx("button",{type:"button",onClick:ws,disabled:jt,children:"Reset"})]})]})})]}):a.jsx("p",{children:"No Component Selected Yet !!"})),Ce=="view_jcd"&&(o?a.jsxs("div",{className:"active_tab_main_container",children:[a.jsx("h1",{children:Ce.replace("_"," ").toUpperCase()}),a.jsxs("p",{style:{color:"grey",fontStyle:"italic",fontFamily:"cursive"},children:["Selected Component - ",a.jsx("h2",{style:{color:"grey",fontStyle:"italic",display:"inline-block",fontFamily:"cursive"},children:o.data.label})]}),a.jsx("div",{id:"view_jcd_on_component_main_table_container",children:a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Sr."}),a.jsx("th",{children:"JCD NAME"}),a.jsx("th",{children:"GEN. RULE"}),H.emp_type==2&&a.jsxs(a.Fragment,{children:[a.jsx("th",{children:"OPERATIONS"}),a.jsx("th",{children:"No Of Locations Affected"})]})]})}),a.jsx("tbody",{children:o.data.jcdCount.length>0?a.jsx(a.Fragment,{children:o.data.jcdCount.filter(m=>m.SHA_ID==null).map((m,M)=>a.jsxs("tr",{children:[a.jsx("td",{children:M+1}),a.jsx("td",{children:m.jcd_name}),a.jsxs("td",{children:["KM=",m.km_interval||"--",", HR=",m.operational_interval||"--",", IDEAL=",m.periodic_interval||"--"]}),a.jsxs("td",{className:"btn-container",children:[D?.filter(A=>H?.profile_ids?.includes(A.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0011")&&a.jsx("button",{className:"btn-edit",onClick:()=>{wc(m)},children:"Edit"}),D?.filter(A=>H?.profile_ids?.includes(A.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0012")&&a.jsx("button",{className:"btn-suspend",onClick:()=>{ka(!0),Oe(m),da([])},children:"Suspend"})]}),H.emp_type==2&&a.jsx("td",{id:"affected_ships_count_by_jcd_td",style:{cursor:"pointer",fontWeight:"800"},onClick:async()=>{console.log("selectedJCDForViewShips : ",m),Oe(m),ca(!0)},children:_.filter(A=>{if(A.jcd_id==m.jcd_id&&A.SHA_ID!=null&&A.status==1)return A}).length})]}))}):a.jsx("p",{children:"NO JCDs Configure for Component"})})]})})]}):a.jsx("p",{children:"No Component Selected Yet !!"})),Ce==="active_jobs"&&a.jsx(a.Fragment,{children:o?a.jsxs("div",{className:"active_tab_main_container",children:[a.jsx("h1",{children:Ce.replace("_"," ").toUpperCase()}),a.jsxs("p",{style:{color:"grey",fontStyle:"italic",fontFamily:"cursive"},children:["Selected Component -"," ",a.jsx("h2",{style:{color:"grey",fontStyle:"italic",display:"inline-block",fontFamily:"cursive"},children:o.data.label})]}),H.emp_type==2&&a.jsx("div",{id:"select-ship-active-jobs-tab",children:a.jsxs("select",{style:{backgroundColor:"white",border:"1px solid black",borderRadius:"10px",color:"gray",width:"fit-content",marginTop:"20px"},value:Wa,onChange:m=>ja(m.target.value),children:[a.jsx("option",{value:"",children:"All Ships"}),Array.isArray(T)&&T.map(m=>a.jsx("option",{value:m.SHA_ID,children:m.ship_name},m.SHA_ID))]})}),a.jsx("div",{id:"view_jcd_on_component_main_table_container",children:a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{}),a.jsx("th",{children:D?.filter(m=>H?.profile_ids?.includes(m.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0016")&&a.jsx(a.Fragment,{children:"Raise Ext."})}),a.jsx("th",{children:"Sr."}),a.jsx("th",{children:"Location Name"}),a.jsx("th",{children:"Active Job NAME"}),a.jsx("th",{children:"Job Category"}),a.jsx("th",{children:"Assign TO"}),a.jsx("th",{children:"Criticality"}),a.jsx("th",{children:"Triggered By (GEN. RULE)"}),a.jsx("th",{children:"1St Verification Authority"}),a.jsx("th",{children:"2nd Verification Authority"}),a.jsx("th",{children:"Current Job Status"}),a.jsx("th",{children:"Completed Till"}),a.jsx("th",{children:"Old Assigned To"}),a.jsx("th",{children:"Primary Assign Desgnation"}),a.jsx("th",{children:"Secondary Assign Desgnation"}),a.jsx("th",{children:"OVERDUE STATUS"}),a.jsx("th",{children:"Generated On"}),a.jsx("th",{children:"Extention Authority"}),a.jsx("th",{children:"Extention Authority Designation"}),a.jsx("th",{children:"Current Extention Count"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:Array.isArray(o.data.activeJobCount)&&o.data.activeJobCount.length>0?o.data.activeJobCount.filter(m=>Wa?m.activeJobs.SHA_ID==Wa:!0).map((m,M)=>{console.log("employeeList ::: ",P);const A=T?.find($e=>$e.SHA_ID===m.activeJobs.SHA_ID),ce=P?.find($e=>$e.UHA_ID===m.activeJobs.issued_to);console.log("issuedTo ::: , ",ce);const Ue=P?.find($e=>$e.UHA_ID===m.activeJobs.first_verification_by),Ve=P?.find($e=>$e.UHA_ID===m.activeJobs.second_verification_by),Be=ve.filter($e=>$e.JPTA_ID==m.activeJobs.JPTA_ID)[0]?.job_status;return console.log("job_status ::: ",Be),[m.activeJobs.ext1,m.activeJobs.ext2,m.activeJobs.ext3].filter(Boolean).some($e=>j.find(xt=>xt.JEDA_ID===$e)?.ext_request_status===1),a.jsxs("tr",{children:[a.jsx("td",{children:D?.filter($e=>H?.profile_ids?.includes($e.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0015")&&a.jsx("button",{type:"button","aria-label":"Contact",title:"Contact",onClick:()=>{bn(!1),ot(m),ra(!0)},style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",borderRadius:"50%",border:"none",cursor:"pointer",background:"linear-gradient(135deg,#2563eb,#22c55e)",color:"#fff",outline:"none"},children:a.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("path",{d:"M20 14.5c0 1.657-1.79 3-4 3H9l-5 4V6.5C4 4.843 5.79 3.5 8 3.5h8c2.21 0 4 1.343 4 3v8z",stroke:"currentColor",strokeWidth:"1.6",fill:"currentColor",fillOpacity:".14"}),a.jsx("circle",{cx:"9",cy:"11",r:"1.2",fill:"currentColor"}),a.jsx("circle",{cx:"12",cy:"11",r:"1.2",fill:"currentColor"}),a.jsx("circle",{cx:"15",cy:"11",r:"1.2",fill:"currentColor"})]})})}),a.jsx("td",{children:D?.filter($e=>H?.profile_ids?.includes($e.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0015")&&a.jsx("div",{className:"extension-request-container",children:(()=>{const $e=wl(m),Ut=m.activeJobs?.job_status,xt=[m.activeJobs.ext1,m.activeJobs.ext2,m.activeJobs.ext3].filter(Boolean),Yt=xt.some(Pr=>j.find(Ms=>Ms.JEDA_ID===Pr)?.ext_request_status===1),vt=xt.length>=3;return Ut===4||Ut===5||Ut===6?a.jsxs("div",{className:"verification-status-message",style:{padding:"8px",backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"4px",textAlign:"center"},children:[a.jsx("div",{style:{color:"#856404",fontSize:"12px",fontWeight:"500"},children:"Under Verification"}),a.jsx("div",{style:{color:"#856404",fontSize:"11px",marginTop:"2px"},children:"Extensions not allowed"})]}):$e.isLocked&&!$e.hasLock?a.jsxs("div",{className:"lock-status-message",style:{padding:"8px",backgroundColor:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"4px",textAlign:"center"},children:[a.jsx("div",{style:{color:"#6c757d",fontSize:"12px"},children:" Locked by:"}),a.jsx("div",{style:{fontWeight:"bold",color:"#495057"},children:$e.lockedByUser||"Another user"}),a.jsx("div",{style:{color:"#6c757d",fontSize:"11px",marginTop:"4px"},children:"Only this person can request extensions"})]}):$e.hasLock?a.jsx("button",{onClick:()=>Ts(m),disabled:Yt||vt,style:{cursor:Yt||vt?"not-allowed":"pointer",opacity:Yt||vt?.5:1,padding:"6px 12px",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:500,backgroundColor:Yt||vt?"#6c757d":"#007bff",color:"white",transition:"all 0.3s ease"},title:Yt?"Active extension request pending":vt?"Maximum extension attempts reached":"Request extension",children:Yt?"Extension Pending":vt?"Max Extensions":"Raise Extension"}):a.jsx("button",{onClick:()=>Ts(m),style:{padding:"6px 12px",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:500,backgroundColor:"#28a745",color:"white",cursor:"pointer"},title:"Acquire lock to request extension",children:"Acquire Lock"})})()})}),a.jsx("td",{children:M+1}),a.jsx("td",{children:A?.ship_name||"Unknown Ship"}),a.jsx("td",{children:m.relatedJCD?.jcd_name||"N/A"}),a.jsx("td",{children:m.relatedJCD?.jcd_category==1?"Servicable":"Replacable"}),a.jsx("td",{children:ce?.emp_name||"N/A"}),a.jsx("td",{children:m.relatedJCD?.criticality==1?"Critical":"Not Critical"}),a.jsx("td",{children:"GEN. RULE"}),a.jsx("td",{children:Ue?.emp_name||"N/A"}),a.jsx("td",{children:Ve?.emp_name||"N/A"}),a.jsx("td",{children:Lc(m.activeJobs)}),a.jsx("td",{children:m.activeJobs.job_completed_till?m.activeJobs.job_completed_till.split("T")[0].split("-").reverse().join("-"):"N/A"}),a.jsx("td",{children:m?.activeJobs?.old_issued_to?.length>0?a.jsx("button",{style:{backgroundColor:"transparent",cursor:"pointer",border:"none",textDecoration:"underline"},onClick:()=>{let $e=[];try{$e=m.activeJobs?.old_issued_to?JSON.parse(m.activeJobs.old_issued_to):[]}catch(Ut){console.error(" Error parsing old_issued_to JSON:",Ut),$e=[]}fn(Ut=>[...Ut,...$e]),ni(!0)},children:"See Details"}):a.jsx(a.Fragment,{children:"No Previous Employees"})}),a.jsx("td",{children:Re.filter($e=>$e.DSGH_ID==m.relatedJCD?.executed_by)[0]?.desg_name||"N/A"}),a.jsx("td",{children:Re.filter($e=>$e.DSGH_ID==m.relatedJCD?.secondary_desg)[0]?.desg_name||"N/A"}),a.jsx("td",{children:(()=>{const $e=new Date(m.activeJobs?.job_completed_till),Ut=new Date;if(Ut<=$e)return a.jsx(a.Fragment,{children:"Not Overdue Yet"});{const xt=Ut-$e,Yt=Math.floor(xt/(1e3*60*60*24));return a.jsxs("p",{style:{color:"crimson"},children:[Yt," days overdue"]})}})()}),a.jsx("td",{children:m?.activeJobs?.generated_on?.split("T")[0]?.split("-")?.reverse()?.join("-")||"N/A"}),a.jsx("td",{children:P.filter($e=>$e.UHA_ID==m?.activeJobs?.extensions_authority)[0]?.emp_name||"N/A"}),a.jsx("td",{children:Re.filter($e=>$e.DSGH_ID==m?.relatedJCD?.extension_authority)[0]?.desg_name||"N/A"}),a.jsx("td",{style:{cursor:"pointer"},onClick:()=>{It(!0),d(m.activeJobs)},children:[m.activeJobs?.ext1,m.activeJobs?.ext2,m.activeJobs?.ext3].filter($e=>$e!=null&&$e!=="").length}),a.jsx("td",{children:"Details"})]},m.activeJobs.job_id||M)}):a.jsx("tr",{children:a.jsx("td",{colSpan:11,style:{textAlign:"left"},children:"NO Active Jobs for Component"})})})]})})]}):a.jsx("p",{children:"No Component Selected Yet !!"})}),Ce=="completed_jobs"&&a.jsx(a.Fragment,{children:o?a.jsxs("div",{className:"active_tab_main_container",children:[a.jsx("h1",{children:Ce.replace("_"," ").toUpperCase()}),a.jsxs("p",{style:{color:"grey",fontStyle:"italic",fontFamily:"cursive"},children:["Selected Component - ",a.jsx("h2",{style:{color:"grey",fontStyle:"italic",display:"inline-block",fontFamily:"cursive"},children:o.data.label})]}),a.jsx("div",{id:"view_jcd_on_component_main_table_container",children:a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Sr."}),a.jsx("th",{children:"Location Name"}),a.jsx("th",{children:"Completed Job NAME"}),a.jsx("th",{children:"Exicuted By"}),a.jsx("th",{children:"Completed On"}),a.jsx("th",{children:"1St Verification Done By"}),a.jsx("th",{children:"2nd Verification Done By"}),a.jsx("th",{children:"Extension Authority"}),a.jsx("th",{children:"Triggered By (GEN. RULE)"}),a.jsx("th",{children:"Criticality"}),a.jsx("th",{children:"Job Category"}),D?.filter(m=>H?.profile_ids?.includes(m.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0017")&&a.jsx("th",{children:"GEN. Report"})]})}),a.jsx("tbody",{children:o.data.executedJobs.length>0&&P.length>0?a.jsx(a.Fragment,{children:o.data.executedJobs.map((m,M)=>a.jsxs("tr",{children:[a.jsx("td",{children:M+1}),a.jsx("td",{children:T.filter(A=>A.SHA_ID==ve.filter(ce=>ce.JPHA_ID==m.executedJobs.JPHA_ID)[0].SHA_ID)[0].ship_name}),a.jsx("td",{children:m.relatedJCD.jcd_name}),a.jsx("td",{children:P.filter(A=>{const ce=ve.filter(Ue=>Ue.JPHA_ID==m.executedJobs.JPHA_ID)[0].issued_to;if(A.UHA_ID==ce)return A})[0]?.emp_name}),a.jsx("td",{children:ve.filter(A=>A.JPHA_ID==m.executedJobs.JPHA_ID)[0]?.executed_dt?.split("T")[0]?.split("-")?.reverse()?.join("-")||"N/A"}),a.jsx("td",{children:P.filter(A=>A.UHA_ID==ve.filter(ce=>ce.JPHA_ID==m.executedJobs.JPHA_ID)[0].first_verification_by)[0]?.emp_name}),a.jsx("td",{children:P.filter(A=>A.UHA_ID==ve.filter(ce=>ce.JPHA_ID==m.executedJobs.JPHA_ID)[0].second_verification_by)[0]?.emp_name}),a.jsx("td",{children:"Extension Authority"}),a.jsx("td",{children:"Triggered By (GEN. RULE)"}),a.jsx("td",{children:_.filter(A=>A.JCDSHA_ID==m.executedJobs.jcd_id)[0].criticality==1?"Critical":"Not Critical"}),a.jsx("td",{children:_.filter(A=>A.JCDSHA_ID==m.executedJobs.jcd_id)[0].job_category==1?"Servicable":"Replacable"}),D?.filter(A=>H?.profile_ids?.includes(A.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0017")&&a.jsx("td",{children:a.jsx("button",{onClick:()=>{Ge.info("Working On this")},children:""})})]}))}):a.jsx("td",{colSpan:12,style:{textAlign:"left"},children:"NO Completed Jobs for Component"})})]})})]}):a.jsx("p",{children:"No Component Selected Yet !!"})}),Ce==="upcoming_jobs"&&a.jsxs("div",{className:"active_tab_main_container",children:[a.jsx("h1",{children:Ce.replace("_"," ").toUpperCase()}),a.jsxs("div",{className:"ship-filter-container",style:{marginBottom:"20px"},children:[a.jsx("label",{htmlFor:"upcoming-ship-select",style:{marginRight:"10px",fontWeight:"bold"},children:"Select Location:"}),a.jsxs("select",{id:"upcoming-ship-select",value:De,onChange:m=>ke(m.target.value),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #ddd",minWidth:"200px"},children:[a.jsx("option",{value:"",children:"All Ships"}),Array.isArray(T)&&T.map(m=>a.jsx("option",{value:m.SHA_ID,children:m.ship_name},m.SHA_ID))]}),a.jsx("div",{className:"search-box",style:{marginLeft:"20px",display:"inline-block"},children:a.jsx("input",{type:"text",placeholder:"Search JCD...",value:Me,onChange:m=>le(m.target.value),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #ddd",minWidth:"250px"}})})]}),a.jsx("div",{id:"view_jcd_on_component_main_table_container",children:a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Select"}),a.jsx("th",{children:"JCD ID"}),a.jsx("th",{children:"Component"}),a.jsx("th",{children:"Running Hours Interval"}),a.jsx("th",{children:"KM Interval"}),a.jsx("th",{children:"Periodic Interval"}),a.jsx("th",{children:"Conditional Generation"}),a.jsx("th",{children:"Responsible Crew"}),a.jsx("th",{children:"Last Generated On"}),a.jsx("th",{children:"Job Type"}),a.jsx("th",{children:"Priority"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:Es()})]})})]})]})]}),Qe&&a.jsxs("div",{id:"display-linked-ships-with-jcd-main-container-wrapper",children:[a.jsx("div",{id:"display-linked-ships-with-jcd-main-container",children:a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{}),a.jsx("th",{children:"SHIP CODE"}),a.jsx("th",{children:"JCD NAME"}),a.jsx("th",{children:"GEN. ON. CAT"}),a.jsx("th",{children:"GEN. ON. SUB-CAT"}),a.jsx("th",{children:"GEN. ON. 2ND-SUB-CAT"}),a.jsx("th",{children:"GEN. ON. 3RD-SUB-CAT"}),a.jsx("th",{children:"GEN. RULE"})]})}),a.jsx("tbody",{children:Mt.length>0&&P.length>0?Mt.map(m=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("input",{type:"checkbox",name:"affectedShipsInJcdUpdation",checked:pa.some(M=>M.SHA_ID===m.SHA_ID),onChange:M=>{M.target.checked?xa(A=>[...A,m]):xa(A=>A.filter(ce=>ce.SHA_ID!==m.SHA_ID))}})}),a.jsx("td",{children:T.filter(M=>M.SHA_ID==m.SHA_ID)[0]?.ship_name}),a.jsx("td",{children:m.jcd_name||"Name Not Mention"}),a.jsx("td",{children:$?.filter(M=>M.CHA_ID==m.jcd_applied_cat)[0]?.category_name||"N/A"}),a.jsx("td",{children:ie?.filter(M=>M.SCHA_ID==m.jcd_applied_sub_cat)[0]?.sub_category_name||"N/A"}),a.jsx("td",{children:we?.filter(M=>M.SSCHA_ID==m.jcd_applied_2nd_sub_cat)[0]?.second_sub_cat_name||"N/A"}),a.jsx("td",{children:ue?.filter(M=>M.TSCHA_ID==m.jcd_applied_3rd_sub_cat)[0]?.third_sub_cat_name||"N/A"}),a.jsxs("td",{children:[" KM=",m.km_interval||"?",", HR=",m.operational_interval||"?",", IDEAL=",m.periodic_interval||"?"," "]})]})):a.jsxs("tr",{children:[a.jsx("td",{}),a.jsx("td",{children:"No Linkage With Any Ship"})]})})]})}),a.jsxs("p",{children:[a.jsx("input",{type:"checkbox",name:"agreementForChanges",id:"",onChange:m=>{m.target.checked?on(!0):on(!1)}})," I have Confirm, I read all documents and I am reponsible For any thing happen after this change"]}),a.jsxs("div",{children:[a.jsx("button",{onClick:()=>{kt(!1)},children:"Close"}),a.jsx("button",{onClick:()=>{Ec()},children:"Confirm"})]})]}),Va&&a.jsx("div",{id:"link-JCD-To-Ship-At-Config-Time-main-container",children:a.jsxs("div",{id:"link-JCD-To-Ship-At-Config-Time-content-container",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h2",{children:"Link JCD to Ships"}),a.jsx("p",{children:"Select ships and set the start date for this JCD"})]}),a.jsx("div",{className:"table-container",children:a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsxs("th",{style:{alignContent:"center",justifyItems:"center",justifyContent:"center",textAlign:"center"},children:["Check All ",a.jsx("input",{type:"checkbox",id:"select-all-ships",onChange:m=>{m.target.checked?T?.forEach(M=>{Ta(A=>[...A,M])}):T?.forEach(M=>{Ta(A=>A.filter(ce=>ce.SHA_ID!==M.SHA_ID))})}})]}),a.jsx("th",{style:{textAlign:"center"},children:"Location Name"}),a.jsx("th",{style:{textAlign:"center"},children:"Applied From"})]})}),a.jsx("tbody",{children:T.map(m=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("input",{type:"checkbox",className:"ship-checkbox","data-ship-id":m.SHA_ID,checked:Zt.some(M=>M.SHA_ID===m.SHA_ID),onChange:M=>{M.target.checked?Ta(A=>[...A,m]):Ta(A=>A.filter(ce=>ce.SHA_ID!==m.SHA_ID))}})}),a.jsx("td",{children:m.ship_name}),a.jsx("td",{children:a.jsx("input",{type:"date",className:"applied-from-date","data-ship-id":m.SHA_ID})})]},m.SHA_ID))})]})}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>{Ta([]),cn(!1)},children:"Cancel"}),a.jsx("button",{type:"button",className:"btn-confirm",onClick:async()=>{const m=Zt.map(A=>{const ce=document.querySelector(`.applied-from-date[data-ship-id="${A.SHA_ID}"]`)?.value||null;return{ship_id:A.SHA_ID,applied_from:ce}});console.log("shipAppliedFromCombination : ",m);const M={updatedDataNewJcd:On,ship_appliedFromCombination:m};await qe.post(`${i}addJcdWithShip_AppliedFrom`,M).then(async A=>{A.status==201&&(Ge.success("JCD created and Linked successfully! "),ws(),Le([""]),dt(!1),Te(!1),cn(!1),Ta([]),await Promise.all([b(),Y(),Ne(),U(),J(),te(),ge(),je(),L(),f(),k()]),p(),ee("view_jcd"))}).catch(A=>{console.error("Error in addJcdWithShip_AppliedFrom:",A),Ge.error("Failed to create JCD. Server error.")})},children:"Confirm & Save"})]})]})}),Da&&ft&&a.jsx("div",{id:"link-JCD-To-Ship-At-Config-Time-main-container",children:a.jsxs("div",{id:"link-JCD-To-Ship-At-view-jcd-content-container",children:[a.jsxs("div",{id:"link-JCD-To-Ship-At-view-jcd-content-top-container",children:[a.jsxs("h3",{children:["Selected JCD Name : ",ft.jcd_name]}),a.jsx("h3",{children:"Assigned Ships"}),a.jsx("div",{className:"table-scroll-container",children:a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"SR."}),a.jsx("th",{children:"SHIP NAME"}),a.jsx("th",{children:"ACTIVE FROM"}),a.jsx("th",{children:"Active Job No"}),a.jsx("th",{children:"Job Status"}),D?.filter(m=>H?.profile_ids?.includes(m.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0014")&&a.jsx("th",{children:"OPERATION"})]})}),a.jsx("tbody",{children:T?.filter(m=>B.some(M=>M.SHA_ID===m.SHA_ID&&M.jcds?.toString().includes(ft.jcd_id))).length>0?T.filter(m=>B.some(M=>M.SHA_ID===m.SHA_ID&&M.jcds?.toString().includes(ft.jcd_id))).map((m,M)=>{const A=_.find(ce=>ce.jcd_id===ft.jcd_id&&ce.SHA_ID===m.SHA_ID);return a.jsxs("tr",{children:[a.jsx("td",{children:M+1}),a.jsx("td",{children:m.ship_name}),a.jsx("td",{children:A?A.jcd_applied_from?.split("T")[0].split("-").reverse().join("-")||A.inserted_on?.split("T")[0].split("-").reverse().join("-"):"N/A"}),a.jsx("td",{children:ve.filter(ce=>{if(console.log(`${ce.jcd_id} == ${A.JCDSHA_ID}`),ce.jcd_id==A.JCDSHA_ID)return ce})[0]?.JPHA_ID||"No Active Job"}),a.jsx("td",{children:w[ve.filter(ce=>{if(console.log(`${ce.jcd_id} == ${A.JCDSHA_ID}`),ce.jcd_id==A.JCDSHA_ID)return ce})[0]?.job_status]||"--"}),D?.filter(ce=>H?.profile_ids?.includes(ce.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0014")&&a.jsx("td",{children:a.jsx("button",{onClick:()=>{kc(ft.jcd_id,m.SHA_ID)},className:"action-btn delete",children:""})})]},M+""+m.JSCA_ID)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"Not Linked With Any Ship"})})})]})})]}),a.jsxs("div",{id:"link-JCD-To-Ship-At-view-jcd-content-bottom-container",children:[a.jsx("h3",{children:"Un-Assigned Ships"}),a.jsx("div",{className:"table-scroll-container",children:a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{}),a.jsx("th",{children:"SR."}),a.jsx("th",{children:"SHIP NAME"}),a.jsx("th",{children:"SHIP CODE"})]})}),a.jsx("tbody",{children:T?.filter(m=>!B.some(M=>M.SHA_ID===m.SHA_ID&&M.jcds?.toString().includes(ft.jcd_id))).length>0?T.filter(m=>!B.some(M=>M.SHA_ID===m.SHA_ID&&M.jcds?.toString().includes(ft.jcd_id))).map((m,M)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("input",{type:"checkbox",style:{width:"fit-content",cursor:"pointer"},onChange:A=>{A.target.checked?aa(ce=>[...ce,m]):aa(ce=>ce.filter(Ue=>Ue.SHA_ID!==m.SHA_ID))},checked:He.includes(m)})}),a.jsx("td",{children:M+1}),a.jsx("td",{children:m.ship_name}),a.jsx("td",{children:m.ship_code})]},M+""+m.JSCA_ID)):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"All Ships Are Already Linked"})})})]})})]}),a.jsxs("div",{className:"modal-footer",style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"20px"},children:[D?.filter(m=>H?.profile_ids?.includes(m.PROFILE_ID))[0]?.process_ids.includes("P_JCD_0013")&&a.jsx("button",{type:"button",className:"btn-primary",disabled:He.length===0,style:{cursor:He.length===0?"not-allowed":"pointer",opacity:He.length===0?".5":"1"},onClick:()=>{Ya(!0)},children:"Link Selected JCDs"}),a.jsx("button",{type:"button",className:"btn-primary",onClick:()=>{ca(!1),Oe(null),aa([]),Ya(!1),un({}),ya(0)},children:"Close"})]})]})}),Vn&&He.length>0&&a.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:99999,overflowY:"auto",padding:"20px"},onClick:m=>{m.target===m.currentTarget&&Ya(!1)},children:a.jsxs("div",{style:{background:"white",borderRadius:"12px",width:"90%",maxWidth:"640px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 10px 30px rgba(0,0,0,0.3)",border:"1px solid #e0e0e0"},children:[a.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid #eee",textAlign:"center",backgroundColor:"#f8f9fa",borderRadius:"12px 12px 0 0"},children:[a.jsx("h2",{style:{margin:0,color:"#333",fontSize:"1.5rem"},children:"Link JCD to Ships"}),a.jsxs("p",{style:{margin:"8px 0 0",color:"#666",fontSize:"0.9rem"},children:["Step ",ua+1," of ",He.length]})]}),a.jsx("div",{style:{padding:"30px"},children:(()=>{const m=He[ua],M=Ka[m.SHA_ID]||!1;return a.jsxs("div",{children:[a.jsx("h3",{style:{color:"#1a1a1a",marginBottom:"10px"},children:m.ship_name}),a.jsxs("p",{style:{color:"#555",marginBottom:"20px"},children:[a.jsx("strong",{children:"Ship Code:"})," ",m.ship_code]}),a.jsxs("div",{style:{marginBottom:"24px"},children:[a.jsx("label",{htmlFor:`applied-from-${m.SHA_ID}`,style:{display:"block",marginBottom:"6px",fontWeight:"500",color:"#333"},children:"Applied From"}),a.jsx("input",{type:"date",value:dn[m.SHA_ID]||"",onChange:A=>{Qa(ce=>({...ce,[m.SHA_ID]:A.target.value}))},style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid #ccc",fontSize:"1rem",color:"gray"},required:!0})]}),a.jsxs("div",{style:{marginBottom:"24px",padding:"14px",border:`1px solid ${M?"#28a745":"#ddd"}`,borderRadius:"8px",backgroundColor:"#f9f9f9",transition:"border 0.2s"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"flex-start",gap:"10px",cursor:"pointer",userSelect:"none"},children:[a.jsx("input",{type:"checkbox",checked:M,onChange:A=>{un(ce=>({...ce,[m.SHA_ID]:A.target.checked}))},style:{marginTop:"4px",width:"fit-content"}}),a.jsx("span",{style:{fontSize:"0.95rem",color:"#444"},children:a.jsx("i",{children:"I confirm I have reviewed this ship and am responsible for linking this JCD."})})]}),!M&&a.jsx("small",{style:{color:"#d9534f",display:"block",marginTop:"6px"},children:"* This is required"})]})]})})()}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"20px 30px",borderTop:"1px solid #eee",backgroundColor:"#f8f9fa",borderRadius:"0 0 12px 12px",gap:"12px",flexWrap:"wrap"},children:[a.jsx("button",{type:"button",onClick:()=>ya(m=>Math.max(m-1,0)),disabled:ua===0,style:{padding:"10px 16px",backgroundColor:ua===0?"#e9ecef":"#007bff",color:ua===0?"#6c757d":"white",border:"none",borderRadius:"6px",cursor:ua===0?"not-allowed":"pointer",fontSize:"14px",fontWeight:"500"},children:" Back"}),a.jsx("button",{onClick:()=>{Ya(!1),un({}),Qa({})},style:{marginLeft:"auto",padding:"10px 20px",backgroundColor:"#d00b0bff",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",minWidth:"120px"},children:"Close"}),ua<He.length-1?a.jsx("button",{type:"button",onClick:()=>{const m=He[ua];if(document.getElementById(`applied-from-${m.SHA_ID}`)?.value,!Ka[m.SHA_ID]){Ge.warning("Please confirm for this ship before proceeding.");return}ya(A=>A+1)},style:{marginLeft:"auto",padding:"10px 16px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Next "}):a.jsx("button",{type:"button",onClick:async()=>{if(!He.every(ce=>Ka[ce.SHA_ID])){Ge.warning("Please confirm for all ships before submission.");return}const M=He.map(ce=>({ship_id:ce.SHA_ID,applied_from:dn[ce.SHA_ID]||null}));console.log("Submitting payload:",{updatedDataNewJcd:ft,ship_appliedFromCombination:M});try{const ce=await qe.post(`${i}linkExistingJCDWithShips`,formData,{headers:{"Content-Type":"multipart/form-data"}});console.log("Hii result : ",ce),Ge.success("JCD successfully linked to all ships!"),ws(),Le([""]),dt(!1),Te(!1),cn(!1),Ta([]),b(),Y(),Ne(),X()}catch(ce){console.error(ce),Ge.error("Failed to link JCD to ships. Please try again.")}finally{Ya(!1),aa([]),un({}),Qa({})}},style:{marginLeft:"auto",padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",minWidth:"120px"},children:"Submit All"})]})]})}),ht&&ft&&a.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:99999,overflowY:"auto",padding:"20px",backdropFilter:"blur(5px)"},onClick:m=>{m.target===m.currentTarget&&ka(!1)},children:a.jsxs("div",{style:{background:"white",borderRadius:"12px",width:"90%",maxWidth:"720px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 10px 30px rgba(0,0,0,0.3)",border:"1px solid #e0e0e0"},children:[a.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid #eee",backgroundColor:"#f8f9fa",borderRadius:"12px 12px 0 0"},children:[a.jsx("h2",{style:{margin:"0",color:"#333",fontSize:"1.5rem"},children:"Suspend JCD from Ships"}),a.jsxs("p",{style:{margin:"8px 0 0",color:"#666",fontSize:"0.9rem"},children:["Selected JCD: ",a.jsx("strong",{children:ft.jcd_name})]})]}),a.jsxs("div",{style:{padding:"20px"},children:[a.jsx("p",{style:{marginBottom:"15px",color:"#555"},children:"Select ships to suspend this JCD from:"}),a.jsx("div",{className:"table-scroll-container",style:{maxHeight:"400px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"8px",marginBottom:"20px"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.95rem"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"#f1f1f1",position:"sticky",top:0,zIndex:1,textAlign:"center"},children:[a.jsx("th",{style:{padding:"12px",textAlign:"left",width:"60px"},children:a.jsx("input",{type:"checkbox",checked:Qt.length===Li.length,onChange:m=>{m.target.checked?da(Li.map(M=>M.SHA_ID)):da([])}})}),a.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"SHIP NAME"}),a.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Active JOB NO."}),a.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Active JOB"})]})}),a.jsx("tbody",{children:Li.length>0?Li.map(m=>{const M=_?.find(Ue=>Ue.line_no===0&&Ue.JCDSHA_ID===ft?.JCDSHA_ID)?.jcd_id,A=_?.find(Ue=>Ue.jcd_id===M&&Ue.SHA_ID===m.SHA_ID)?.JCDSHA_ID,ce=ve.find(Ue=>Ue.jcd_id===A&&Ue.SHA_ID===m.SHA_ID);return a.jsxs("tr",{style:{borderBottom:"1px solid #eee",backgroundColor:Qt.includes(m.SHA_ID)?"#f0f8ff":"white"},children:[a.jsx("td",{style:{padding:"10px",textAlign:"center"},children:a.jsx("input",{type:"checkbox",checked:Qt.includes(m.SHA_ID),onChange:Ue=>{Ue.target.checked?da(Ve=>[...Ve,m.SHA_ID]):da(Ve=>Ve.filter(Be=>Be!==m.SHA_ID))}})}),a.jsx("td",{style:{padding:"10px"},children:m.ship_name}),a.jsx("td",{style:{padding:"10px"},children:ce?.JPHA_ID||"No Active Job"}),a.jsx("td",{style:{padding:"10px"},children:ce?w[ce.job_status]:"--"})]},m.SHA_ID)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",style:{textAlign:"center",padding:"20px",color:"#999",fontStyle:"italic"},children:"No ships are currently linked with this JCD."})})})]})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",padding:"20px",borderTop:"1px solid #eee",backgroundColor:"#f8f9fa",borderRadius:"0 0 12px 12px"},children:[a.jsx("button",{type:"button",onClick:()=>{ka(!1),da([])},style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Cancel"}),a.jsxs("button",{type:"button",disabled:Qt.length===0,onClick:async()=>{if(Qt.length===0)return;const m=Qt.filter(A=>{const ce=_?.find(Be=>Be.line_no===0&&Be.JCDSHA_ID===ft?.JCDSHA_ID)?.jcd_id,Ue=_?.find(Be=>Be.jcd_id===ce&&Be.SHA_ID===A)?.JCDSHA_ID;return ve.find(Be=>Be.jcd_id===Ue&&Be.SHA_ID===A)?.JPHA_ID});if(m.length>0){Ge.error(`Cannot suspend. ${m.length} selected ship(s) still have an active job. Complete it first.`);return}window.confirm(`Are you sure you want to suspend this JCD from ${Qt.length} ship(s)?`)&&await Mc()},style:{padding:"10px 20px",backgroundColor:Qt.length>0?"#d9534f":"#e9ecef",color:"white",border:"none",borderRadius:"6px",cursor:Qt.length>0?"pointer":"not-allowed",fontSize:"14px",fontWeight:"600"},children:["Suspend (",Qt.length,")"]})]})]})}),ki&&a.jsxs("div",{id:"old-detials-popup-main-container",children:[a.jsx("div",{id:"old-detials-popup-content-container",children:a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"SR"}),a.jsx("th",{children:"EMPLOYEE NAME"}),a.jsx("th",{children:"DESIGNATION"}),a.jsx("th",{children:"ACKNOWLEDGE DATE"})]})}),a.jsx("tbody",{children:Ln.length>0?Ln.map((m,M)=>a.jsxs("tr",{children:[a.jsx("td",{style:{textAlign:"center"},children:M+1}),a.jsx("td",{style:{textAlign:"center"},children:P.filter(A=>A.UHA_ID==m.emp_id)[0]?.emp_name||"Emp Name NOT Present In DB"}),a.jsx("td",{style:{textAlign:"center"},children:Re.filter(A=>A.DSGH_ID==m.desg_id)[0]?.desg_name||"Designation Name Not Present in DB"}),a.jsx("td",{style:{textAlign:"center"},children:m.acknoledge_dt?.split("-").reverse().join("-")})]},M)):a.jsx("tr",{children:a.jsx("td",{colSpan:4,children:"No Old Employees"})})})]})}),a.jsx("button",{onClick:()=>{fn([]),ni(!1)},children:"Close"})]}),en&&a.jsx("div",{className:"modern-extension-modal-overlay",children:a.jsxs("div",{className:"modern-extension-modal",children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("div",{className:"header-content",children:[a.jsx("h2",{children:"Extension Request Details"}),a.jsxs("p",{children:["Job: ",r?.JPHA_ID||"N/A"]})]}),a.jsx("button",{className:"close-button",onClick:()=>It(!1),children:a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:a.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2"})})})]}),a.jsx("div",{className:"modal-content",children:r&&j.length>0?a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"modern-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"action-col",children:"Actions"}),a.jsx("th",{className:"sr-col",children:"#"}),a.jsx("th",{children:"Extension Authority"}),a.jsx("th",{children:"Authority Designation"}),a.jsx("th",{children:"Requested By"}),a.jsx("th",{children:"Requester Designation"}),a.jsx("th",{children:"Request Date"}),a.jsx("th",{className:"status-col",children:"Status"}),a.jsx("th",{children:"Job Generated"}),a.jsx("th",{children:"Job Status at Approval"}),a.jsx("th",{children:"Overdue Count"}),a.jsx("th",{children:"New Deadline"})]})}),a.jsx("tbody",{children:j.filter(m=>m.JPTA_ID==r.JPHA_ID)?.map((m,M)=>a.jsxs("tr",{className:"table-row",children:[a.jsx("td",{className:"action-cell",children:a.jsx("button",{className:"icon-button chat-button",onClick:()=>Ge.info("Open communication panel..."),title:"Open Communication",children:a.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("path",{d:"M20 14.5c0 1.657-1.79 3-4 3H9l-5 4V6.5C4 4.843 5.79 3.5 8 3.5h8c2.21 0 4 1.343 4 3v8z",stroke:"currentColor",strokeWidth:"1.6",fill:"currentColor",fillOpacity:".14"}),a.jsx("circle",{cx:"9",cy:"11",r:"1.2",fill:"currentColor"}),a.jsx("circle",{cx:"12",cy:"11",r:"1.2",fill:"currentColor"}),a.jsx("circle",{cx:"15",cy:"11",r:"1.2",fill:"currentColor"})]})})}),a.jsx("td",{className:"sr-cell",children:M+1}),a.jsx("td",{children:P.find(A=>A.UHA_ID==m?.approve_authority_id)?.emp_name||"N/A"}),a.jsx("td",{children:Re.find(A=>A.DSGH_ID==m?.approve_authority_desg)?.desg_name||"N/A"}),a.jsx("td",{children:P.find(A=>A.UHA_ID==m?.requested_by)?.emp_name||"N/A"}),a.jsx("td",{children:Re.find(A=>A.DSGH_ID==P.find(ce=>ce.UHA_ID==m?.requested_by)?.DSGH_ID)?.desg_name||"N/A"}),a.jsx("td",{children:m.requested_on.split("T")[0].split("-").reverse().join("-")}),a.jsx("td",{className:"status-cell",children:a.jsx("span",{className:`status-badge status-${m.ext_request_status}`,children:m.ext_request_status===1?"Requested":m.ext_request_status===2?"Approved":m.ext_request_status===3?"Rejected":""})}),a.jsx("td",{children:r.generated_on.split("T")[0].split("-").reverse().join("-")}),a.jsx("td",{children:w[r.job_status]||"N/A"}),a.jsx("td",{children:(()=>{const A=new Date(r.job_completed_till),Ue=new Date(m.requested_on)-A,Ve=Math.ceil(Ue/(1e3*60*60*24));return Ve>0?`${Ve} days`:"Not Overdue"})()}),a.jsx("td",{children:m.new_execution_deadline?.split("T")[0].split("-").reverse().join("-")||"N/A"})]},m.JEDA_ID))})]})}):a.jsxs("div",{className:"empty-state",children:[a.jsx("div",{className:"empty-icon",children:""}),a.jsx("h3",{children:"No Extension Requests"}),a.jsx("p",{children:"No extension requests found for this job."})]})}),a.jsx("div",{className:"modal-footer",children:a.jsx("button",{className:"btn-secondary",onClick:()=>It(!1),children:"Close"})})]})}),la&&a.jsx("div",{id:"Communication_model_wrapper",children:a.jsxs("div",{className:"communication-modal-inner",children:[a.jsx(j0,{jcd:Je,isOpenByExtention:Rn,onClose:()=>ra(!1),refreshJCDPage:b,refreshTree:f,refreshPlannedJobs:Y}),a.jsx("button",{style:{borderRadius:"50%",border:"none",backgroundColor:"rgba(232, 65, 65, 1)",color:"white",fontSize:"1.1rem",fontWeight:400,cursor:"pointer",marginTop:"10px",alignSelf:"stretch",margin:"10px 20px",padding:"5px 10px",position:"absolute",top:"11px",right:"-2px"},onClick:()=>{ra(!1),fe(),console.log("selectedNode before refresh tree.. : ",o),f(),Y(),console.log("selectedNode after refresh tree.. : ",o)},children:""})]})}),Yn&&a.jsxs("div",{className:"modern-jcd-requirements-overlay",children:[console.log("selectedJCDForExecution :: ",At),a.jsxs("div",{className:"modern-jcd-requirements-modal",children:[a.jsxs("div",{className:"requirements-header",children:[a.jsxs("div",{className:"header-content",children:[a.jsx("h2",{children:"Job Execution Requirements"}),a.jsx("p",{children:"Review requirements before starting execution"})]}),a.jsx("button",{className:"close-button",onClick:()=>jn(!1),children:a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:a.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2"})})})]}),a.jsxs("div",{className:"requirements-content",children:[a.jsxs("div",{className:"requirements-grid",children:[a.jsxs("div",{className:"requirement-card",children:[a.jsx("div",{className:"requirement-icon",children:a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:a.jsx("path",{d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),a.jsxs("div",{className:"requirement-info",children:[a.jsx("h3",{children:"Pre-Execution Image"}),a.jsx("p",{children:"Capture image before starting the job"})]}),a.jsx("div",{className:`requirement-status ${At?.pre_execution_image_required==1?"required":"not-required"}`,children:At?.pre_execution_image_required==1?"Required":"Not Required"})]}),a.jsxs("div",{className:"requirement-card",children:[a.jsx("div",{className:"requirement-icon",children:a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:a.jsx("path",{d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),a.jsxs("div",{className:"requirement-info",children:[a.jsx("h3",{children:"Post-Execution Image"}),a.jsx("p",{children:"Capture image after completing the job"})]}),a.jsx("div",{className:`requirement-status ${At?.post_execution_image_required==1?"required":"not-required"}`,children:At?.post_execution_image_required==1?"Required":"Not Required"})]}),a.jsxs("div",{className:"requirement-card",children:[a.jsx("div",{className:"requirement-icon",children:a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:a.jsx("path",{d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14v-4zM5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),a.jsxs("div",{className:"requirement-info",children:[a.jsx("h3",{children:"Execution Video"}),a.jsx("p",{children:"Record video of the execution process"})]}),a.jsx("div",{className:`requirement-status ${At?.video_of_execution_required==1?"required":"not-required"}`,children:At?.video_of_execution_required==1?"Required":"Not Required"})]})]}),a.jsx("div",{className:"additional-info",children:a.jsxs("div",{className:"info-item",children:[a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:a.jsx("path",{d:"M12 16v-4m0-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),a.jsx("span",{children:"Ensure all required media is captured for verification"})]})})]}),a.jsxs("div",{className:"requirements-footer",children:[a.jsx("button",{className:"btn-secondary",onClick:()=>jn(!1),children:"Cancel"}),a.jsx("button",{className:"btn-primary",onClick:()=>{console.log("Starting execution..."),jn(!1)},children:"Start Execution"})]})]})]}),Hn&&a.jsx("div",{className:"modern-requirements-popup-overlay",children:a.jsxs("div",{className:"modern-requirements-popup",children:[a.jsxs("div",{className:"requirements-popup-header",children:[a.jsxs("div",{className:"header-content",children:[a.jsx("h2",{children:"Job Completion Requirements"}),a.jsx("p",{children:"Please provide all required media and files to complete this job"})]}),a.jsx("button",{className:"close-button",onClick:()=>hn(!1),children:a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:a.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2"})})})]}),a.jsxs("div",{className:"requirements-popup-content",children:[At?.pre_execution_image_required==1&&a.jsxs("div",{className:"requirement-section",children:[a.jsxs("div",{className:"requirement-header",children:[a.jsxs("div",{className:"requirement-title",children:[a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px"},children:a.jsx("path",{d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),a.jsxs("h3",{children:["Pre-Execution Image ",a.jsx("span",{className:"required-star",children:"*"})]})]}),a.jsx("span",{className:"requirement-badge required",children:"Required"})]}),a.jsx("p",{className:"requirement-description",children:"Capture image before starting the job execution"}),a.jsxs("div",{className:"file-upload-area",children:[a.jsx("input",{type:"file",id:"pre-execution-image",accept:"image/*",className:"file-input",onChange:m=>Oi("preImage",m.target.files[0])}),a.jsxs("label",{htmlFor:"pre-execution-image",className:"file-upload-label",children:[a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px"},children:a.jsx("path",{d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Upload Pre-Execution Image"]}),et.preImage&&a.jsxs("div",{className:"uploaded-file",children:[a.jsxs("span",{children:[" ",et.preImage.name]}),a.jsx("button",{onClick:()=>Hi("preImage"),children:"Remove"})]})]})]}),At?.post_execution_image_required==1&&a.jsxs("div",{className:"requirement-section",children:[a.jsxs("div",{className:"requirement-header",children:[a.jsxs("div",{className:"requirement-title",children:[a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px"},children:a.jsx("path",{d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),a.jsxs("h3",{children:["Post-Execution Image ",a.jsx("span",{className:"required-star",children:"*"})]})]}),a.jsx("span",{className:"requirement-badge required",children:"Required"})]}),a.jsx("p",{className:"requirement-description",children:"Capture image after completing the job execution"}),a.jsxs("div",{className:"file-upload-area",children:[a.jsx("input",{type:"file",id:"post-execution-image",accept:"image/*",className:"file-input",onChange:m=>Oi("postImage",m.target.files[0])}),a.jsxs("label",{htmlFor:"post-execution-image",className:"file-upload-label",children:[a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px"},children:a.jsx("path",{d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Upload Post-Execution Image"]}),et.postImage&&a.jsxs("div",{className:"uploaded-file",children:[a.jsxs("span",{children:[" ",et.postImage.name]}),a.jsx("button",{onClick:()=>Hi("postImage"),children:"Remove"})]})]})]}),At?.video_of_execution_required==1&&a.jsxs("div",{className:"requirement-section",children:[a.jsxs("div",{className:"requirement-header",children:[a.jsxs("div",{className:"requirement-title",children:[a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px"},children:a.jsx("path",{d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14v-4zM5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),a.jsxs("h3",{children:["Execution Video ",a.jsx("span",{className:"required-star",children:"*"})]})]}),a.jsx("span",{className:"requirement-badge required",children:"Required"})]}),a.jsx("p",{className:"requirement-description",children:"Record video of the complete execution process"}),a.jsxs("div",{className:"file-upload-area",children:[a.jsx("input",{type:"file",id:"execution-video",accept:"video/*",className:"file-input",onChange:m=>Oi("video",m.target.files[0])}),a.jsxs("label",{htmlFor:"execution-video",className:"file-upload-label",children:[a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px"},children:a.jsx("path",{d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Upload Execution Video"]}),et.video&&a.jsxs("div",{className:"uploaded-file",children:[a.jsxs("span",{children:[" ",et.video.name]}),a.jsx("button",{onClick:()=>Hi("video"),children:"Remove"})]})]})]}),At?.pdf_file_for_execution_required==1&&a.jsxs("div",{className:"requirement-section",children:[a.jsxs("div",{className:"requirement-header",children:[a.jsxs("div",{className:"requirement-title",children:[a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px"},children:a.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),a.jsxs("h3",{children:["PDF Document ",a.jsx("span",{className:"required-star",children:"*"})]})]}),a.jsx("span",{className:"requirement-badge required",children:"Required"})]}),a.jsx("p",{className:"requirement-description",children:"Upload PDF document related to this job"}),a.jsxs("div",{className:"file-upload-area",children:[a.jsx("input",{type:"file",id:"pdf-file",accept:".pdf",className:"file-input",onChange:m=>Oi("document",m.target.files[0])}),a.jsxs("label",{htmlFor:"pdf-file",className:"file-upload-label",children:[a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px"},children:a.jsx("path",{d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Upload PDF Document"]}),et.document&&a.jsxs("div",{className:"uploaded-file",children:[a.jsxs("span",{children:[" ",et.document.name]}),a.jsx("button",{onClick:()=>Hi("document"),children:"Remove"})]})]})]}),!Nl()&&a.jsxs("div",{className:"validation-message",children:[a.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px"},children:a.jsx("path",{d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Please complete all required fields marked with ",a.jsx("span",{className:"required-star",children:"*"})]})]}),a.jsxs("div",{className:"requirements-popup-footer",children:[a.jsx("button",{className:"btn-secondary",onClick:()=>{hn(!1),Ri({preImage:null,postImage:null,video:null,document:null})},children:"Cancel"}),a.jsx("button",{className:"btn-primary",onClick:async()=>{await Ii()},disabled:!Nl(),children:"Complete Job"})]})]})}),Sa&&In&&a.jsx("div",{className:"modern-popup-overlay",children:a.jsxs("div",{className:"modern-popup",children:[a.jsxs("div",{className:"popup-header",children:[a.jsx("h2",{children:"Confirm Acknowledgment"}),a.jsx("button",{className:"close-button",onClick:()=>{Sn(!1),Ha(null)},children:a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:a.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2"})})})]}),a.jsxs("div",{className:"popup-content",children:[a.jsx("p",{children:"Are you sure you want to acknowledge this job?"}),a.jsxs("div",{className:"job-details",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Job:"})," ",At?.jcd_name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Ship:"})," ",T.find(m=>m.SHA_ID===In.SHA_ID)?.ship_name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Role:"})," ",ls==="primary"?"Primary":"Secondary"," Assignee"]})]})]}),a.jsxs("div",{className:"popup-footer",children:[a.jsx("button",{className:"btn-secondary",onClick:()=>{Sn(!1),Ha(null)},children:"Cancel"}),a.jsx("button",{className:"btn-primary",onClick:()=>li(In),children:"Confirm Acknowledgment"})]})]})}),Ft&&nt&&a.jsx("div",{className:"media-preview-overlay",onClick:Br,children:a.jsxs("div",{className:"media-preview-container",onClick:m=>m.stopPropagation(),children:[a.jsxs("div",{className:"media-preview-header",children:[a.jsx("div",{className:"media-info",children:nt?.groupName?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"media-icon",children:""}),a.jsx("span",{className:"media-name",children:nt.groupName})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"media-icon",children:[nt?.type==="image"&&"",nt?.type==="video"&&"",nt?.type==="pdf"&&""]}),a.jsx("span",{className:"media-name",children:nt?.name})]})}),a.jsxs("div",{className:"media-controls",children:[a.jsx("button",{className:"download-btn",onClick:Tl,title:"Download",children:""}),a.jsx("button",{className:"close-preview-btn",onClick:Br,title:"Close",children:""})]})]}),a.jsxs("div",{className:"media-content",children:[Ae&&a.jsxs("div",{className:"media-loading",children:[a.jsx("div",{className:"loading-spinner"}),a.jsx("span",{children:"Loading media..."})]}),xe&&a.jsxs("div",{className:"media-error",children:[a.jsx("div",{className:"error-icon",children:""}),a.jsx("span",{children:"Failed to load media"})]}),!xe&&a.jsxs(a.Fragment,{children:[nt?.type==="group"&&nt.mediaList&&a.jsx("img",{src:nt.mediaList[Kt]?.url,alt:`${nt.groupName} - ${Kt+1}`,className:`preview-image ${Xn?"zoomed":""}`,style:{transform:`scale(${S})`},onClick:Bi,onLoad:oi,onError:ci}),nt?.type!=="group"&&a.jsxs(a.Fragment,{children:[nt?.type==="image"&&a.jsx("img",{src:nt.url,alt:"Preview",className:`preview-image ${Xn?"zoomed":""}`,style:{transform:`scale(${S})`},onClick:Bi,onLoad:oi,onError:ci}),nt?.type==="video"&&a.jsx("video",{src:nt.url,controls:!0,className:"preview-video",onLoadStart:oi,onError:ci}),nt?.type==="pdf"&&a.jsx("iframe",{src:nt.url,className:"preview-pdf",onLoad:oi,onError:ci,title:"PDF Preview"})]})]}),(nt?.type==="image"||nt?.type==="group")&&!Ae&&!xe&&a.jsxs("div",{className:"zoom-controls",children:[a.jsx("button",{className:"zoom-btn",onClick:()=>Ji("out"),disabled:S<=.5,children:""}),a.jsxs("div",{className:"zoom-level",children:[Math.round(S*100),"%"]}),a.jsx("button",{className:"zoom-btn",onClick:()=>Ji("in"),disabled:S>=3,children:"+"}),a.jsx("button",{className:"zoom-btn",onClick:()=>Ji("reset"),children:""})]})]}),nt?.type==="group"&&nt.mediaList&&nt.mediaList.length>1&&a.jsxs("div",{className:"media-navigation",children:[a.jsx("button",{className:"nav-btn",onClick:()=>ri("prev"),disabled:Kt===0,children:""}),a.jsxs("div",{className:"media-counter",children:[Kt+1," / ",nt.mediaList.length]}),a.jsx("button",{className:"nav-btn",onClick:()=>ri("next"),disabled:Kt===nt.mediaList.length-1,children:""})]}),nt?.type==="group"&&nt.mediaList&&nt.mediaList.length>1&&a.jsx("div",{className:"media-thumbnails",children:nt.mediaList.map((m,M)=>a.jsx("img",{src:m.url,alt:`Thumbnail ${M+1}`,className:`thumbnail ${M===Kt?"active":""}`,onClick:()=>{Ma(M),El()}},M))})]})}),Xe&&a.jsx("div",{className:"modern-requirements-popup-overlay",style:{zIndex:"999999999999"},children:a.jsxs("div",{className:"modern-requirements-popup",style:{maxWidth:"1000px",maxHeight:"90vh"},children:[a.jsxs("div",{className:"requirements-popup-header",children:[a.jsxs("div",{className:"header-content",children:[a.jsx("h2",{children:"Confirm Job Completion"}),a.jsx("p",{children:"Please review all details before completing the job"})]}),a.jsx("button",{className:"close-button",onClick:()=>Fe(!1),children:a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:a.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2"})})})]}),a.jsxs("div",{className:"confirmation-content",children:[a.jsxs("div",{className:"confirmation-section",children:[a.jsx("h3",{className:"section-title",children:"Job Information"}),a.jsxs("div",{className:"info-grid-enhanced",children:[a.jsxs("div",{className:"info-row",children:[a.jsxs("div",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:"Job ID:"}),a.jsx("span",{className:"info-value",children:Ot?.JPHA_ID||"N/A"})]}),a.jsxs("div",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:"JCD Name:"}),a.jsx("span",{className:"info-value",children:At?.jcd_name||"N/A"})]})]}),a.jsxs("div",{className:"info-row",children:[a.jsxs("div",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:"Generated On:"}),a.jsx("span",{className:"info-value",children:Ot?.generated_on?new Date(Ot.generated_on).toLocaleDateString():"N/A"})]}),a.jsxs("div",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:"Executed By:"}),a.jsx("span",{className:"info-value",children:H?.emp_name||"N/A"})]})]}),a.jsxs("div",{className:"info-row",children:[a.jsxs("div",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:"Component:"}),a.jsx("span",{className:"info-value",children:(()=>{const m=getComponentHierarchyForJCD(At);return m?`${m.component_name||"No#"}`:"N/A"})()})]}),a.jsxs("div",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:"Criticality:"}),a.jsx("span",{className:`info-value ${At?.criticality==1?"critical":"normal"}`,children:At?.criticality==1?"Critical":"Normal"})]})]})]})]}),a.jsxs("div",{className:"confirmation-section",children:[a.jsx("h3",{className:"section-title",children:"Uploaded Files"}),a.jsxs("div",{className:"uploads-preview-grid",children:[At?.pre_execution_image_required===1&&a.jsxs("div",{className:"upload-preview-item",children:[a.jsxs("div",{className:"preview-header",children:[a.jsx("span",{className:"upload-label",children:"Pre-Execution Images"}),a.jsx("span",{className:`upload-status ${et.preImage.length>0?"uploaded":"missing"}`,children:et.preImage.length>0?` Uploaded (${et.preImage.length})`:" Missing"})]}),et.preImage.length>0?a.jsx("div",{className:"multiple-file-preview-container",children:et.preImage.map((m,M)=>a.jsxs("div",{className:"file-preview-wrapper",children:[a.jsxs("div",{className:"preview-wrapper",children:[a.jsx("img",{src:m.previewUrl,alt:`Pre-Execution ${M+1}`,className:"file-preview",onClick:()=>tn(m,"preImage",M)}),a.jsx("div",{className:"preview-overlay",children:a.jsx("button",{className:"preview-btn",onClick:()=>tn(m,"preImage",M),children:" View"})})]}),a.jsxs("div",{className:"file-info",children:[a.jsxs("span",{className:"file-name",children:["Image ",M+1]}),a.jsxs("span",{className:"file-size",children:[(m.file.size/1024/1024).toFixed(2)," MB"]})]})]},M))}):a.jsx("div",{className:"file-missing",children:a.jsx("span",{children:"No files uploaded"})})]}),At?.post_execution_image_required===1&&a.jsxs("div",{className:"upload-preview-item",children:[a.jsxs("div",{className:"preview-header",children:[a.jsx("span",{className:"upload-label",children:"Post-Execution Images"}),a.jsx("span",{className:`upload-status ${et.postImage.length>0?"uploaded":"missing"}`,children:et.postImage.length>0?` Uploaded (${et.postImage.length})`:" Missing"})]}),et.postImage.length>0?a.jsx("div",{className:"multiple-file-preview-container",children:et.postImage.map((m,M)=>a.jsxs("div",{className:"file-preview-wrapper",children:[a.jsxs("div",{className:"preview-wrapper",children:[a.jsx("img",{src:m.previewUrl,alt:`Post-Execution ${M+1}`,className:"file-preview",onClick:()=>tn(m,"postImage",M)}),a.jsx("div",{className:"preview-overlay",children:a.jsx("button",{className:"preview-btn",onClick:()=>tn(m,"postImage",M),children:" View"})})]}),a.jsxs("div",{className:"file-info",children:[a.jsxs("span",{className:"file-name",children:["Image ",M+1]}),a.jsxs("span",{className:"file-size",children:[(m.file.size/1024/1024).toFixed(2)," MB"]})]})]},M))}):a.jsx("div",{className:"file-missing",children:a.jsx("span",{children:"No files uploaded"})})]}),At?.video_of_execution_required===1&&a.jsxs("div",{className:"upload-preview-item",children:[a.jsxs("div",{className:"preview-header",children:[a.jsx("span",{className:"upload-label",children:"Execution Video"}),a.jsx("span",{className:`upload-status ${et.video?"uploaded":"missing"}`,children:et.video?" Uploaded":" Missing"})]}),et.video?a.jsxs("div",{className:"file-preview-container",children:[a.jsxs("div",{className:"preview-wrapper",children:[a.jsx("video",{src:et.video.previewUrl,className:"file-preview video-preview",onClick:()=>tn(et.video)}),a.jsx("div",{className:"preview-overlay",children:a.jsx("button",{className:"preview-btn",onClick:()=>tn(et.video),children:" Play"})})]}),a.jsxs("div",{className:"file-info",children:[a.jsx("span",{className:"file-name",children:et.video.name}),a.jsxs("span",{className:"file-size",children:[(et.video.file.size/1024/1024).toFixed(2)," MB"]})]})]}):a.jsx("div",{className:"file-missing",children:a.jsx("span",{children:"No file uploaded"})})]}),At?.pdf_file_for_execution_required===1&&a.jsxs("div",{className:"upload-preview-item",children:[a.jsxs("div",{className:"preview-header",children:[a.jsx("span",{className:"upload-label",children:"PDF Document"}),a.jsx("span",{className:`upload-status ${et.document?"uploaded":"missing"}`,children:et.document?" Uploaded":" Missing"})]}),et.document?a.jsxs("div",{className:"file-preview-container",children:[a.jsxs("div",{className:"preview-wrapper pdf-preview",children:[a.jsxs("div",{className:"pdf-preview-content",onClick:()=>tn(et.document),children:[a.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8",stroke:"currentColor",strokeWidth:"2"})]}),a.jsx("span",{children:"PDF Document"})]}),a.jsx("div",{className:"preview-overlay",children:a.jsx("button",{className:"preview-btn",onClick:()=>tn(et.document),children:" View"})})]}),a.jsxs("div",{className:"file-info",children:[a.jsx("span",{className:"file-name",children:et.document.name}),a.jsxs("span",{className:"file-size",children:[(et.document.file.size/1024/1024).toFixed(2)," MB"]})]})]}):a.jsx("div",{className:"file-missing",children:a.jsx("span",{children:"No file uploaded"})})]})]})]}),a.jsxs("div",{className:"confirmation-section",children:[a.jsx("h3",{className:"section-title",children:"Consumable Spares Used"}),a.jsx("div",{className:"spares-summary",children:Ze.filter(m=>m.name&&m.quantity>0).length>0?a.jsxs("div",{className:"spares-list-enhanced",children:[a.jsxs("div",{className:"spares-header",children:[a.jsx("span",{children:"Spare Name"}),a.jsx("span",{children:"Quantity"})]}),Ze.filter(m=>m.name&&m.quantity>0).map((m,M)=>a.jsxs("div",{className:"spare-item-enhanced",children:[a.jsx("span",{className:"spare-name",children:m.name}),a.jsxs("span",{className:"spare-quantity",children:[m.quantity," units"]})]},M)),a.jsxs("div",{className:"spares-total-enhanced",children:[a.jsxs("span",{children:["Total Spares: ",Ze.filter(m=>m.name&&m.quantity>0).length]}),a.jsxs("span",{children:["Total Quantity: ",Ze.reduce((m,M)=>m+(M.quantity||0),0)," units"]})]})]}):a.jsxs("div",{className:"no-spares-enhanced",children:[a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:a.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",stroke:"currentColor",strokeWidth:"2"})}),a.jsx("span",{children:"No consumable spares recorded"})]})})]}),a.jsxs("div",{className:"confirmation-section",children:[a.jsx("h3",{className:"section-title",children:"Documentation"}),a.jsxs("div",{className:"notes-summary-enhanced",children:[a.jsxs("div",{className:"note-item-enhanced",children:[a.jsxs("div",{className:"note-header",children:[a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:a.jsx("path",{d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",stroke:"currentColor",strokeWidth:"2"})}),a.jsx("span",{className:"note-label",children:"Service Notes"}),a.jsxs("span",{className:`word-count-badge ${isServiceNoteValid()?"valid":"invalid"}`,children:[serviceNote.split(/\s+/).filter(m=>m.length>0).length,"/100 words"]})]}),a.jsx("div",{className:"note-content-enhanced",children:a.jsx("p",{children:serviceNote||"No service notes provided"})})]}),H.emp_type==2&&a.jsxs("div",{className:"note-item-enhanced",children:[a.jsxs("div",{className:"note-header",children:[a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:a.jsx("path",{d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z",stroke:"currentColor",strokeWidth:"2"})}),a.jsx("span",{className:"note-label",children:"Remarks"}),a.jsxs("span",{className:`word-count-badge ${isRemarksValid()?"valid":"invalid"}`,children:[remarks.split(/\s+/).filter(m=>m.length>0).length,"/100 words"]})]}),a.jsx("div",{className:"note-content-enhanced",children:a.jsx("p",{children:remarks||"No remarks provided"})})]})]})]})]}),a.jsx("div",{className:"requirements-popup-footer",children:a.jsxs("div",{className:"footer-actions",children:[a.jsx("button",{className:"btn-secondary",onClick:()=>Fe(!1),children:"Back to Edit"}),a.jsxs("button",{className:"btn-primary",onClick:async()=>{Fe(!1),await Ii()},children:[a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px"},children:a.jsx("path",{d:"M20 6L9 17l-5-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Confirm & Complete Job"]})]})})]})})]})},ij="https://udayerp.com/pms/server/api/",of=u.createContext(),lj=({children:i})=>{const[r,d]=u.useState([]),[o,f]=u.useState(!0),[h,p]=u.useState(null),y=async()=>{f(!0),p(null);try{const x=await fetch(`${ij}getDepartments`);if(!x.ok)throw new Error("Failed to fetch departments");const _=await x.json();console.log("data : ",_),d(_)}catch(x){console.error("Failed to fetch departments:",x),p(x.message)}finally{f(!1)}};return u.useEffect(()=>{y()},[]),a.jsx(of.Provider,{value:{departmentsList:r,refreshDepartments:y,loading:o,error:h},children:i})},rj="https://udayerp.com/pms/server/api/",Qg=u.createContext({designationsList:[],refreshDesignations:()=>{},loading:!1,error:null}),oj=({children:i})=>{const{departmentsList:r}=u.useContext(of),[d,o]=u.useState([]),[f,h]=u.useState(!0),[p,y]=u.useState(null),x=async()=>{h(!0),y(null);try{const _=await fetch(`${rj}getDesignations`);if(!_.ok)throw new Error("Failed to fetch designations");const b=await _.json();console.log("data of designations : ",b),o(b)}catch(_){console.error("Failed to fetch designations:",_),y(_.message)}finally{h(!1)}};return u.useEffect(()=>{r.length>0&&x()},[r]),a.jsx(Qg.Provider,{value:{designationsList:d,refreshDesignations:x,loading:f,error:p},children:i})},ei="https://udayerp.com/pms/server/api/",cj=()=>{const{designationsList:i}=u.useContext(Qg),{usersList:r,refreshUsers:d}=u.useContext(af),{shipsList:o}=u.useContext(nf),{departmentsList:f}=u.useContext(of),{officeStaffList:h,refreshOfficeStaffList:p}=u.useContext(Ei),{crewData:y,refreshCrewData:x}=u.useContext(mc),{user:_}=u.useContext($a),{profiles:b}=u.useContext(ai),{employeeList:C}=u.useContext(_c),{plannedJobList:k,refreshPlannedJobs:H,activeJobStatusMap:D}=u.useContext(gc),{JCD_schedule_List:T,refreshJCDSchedules:L}=u.useContext(pc),[R,$]=u.useState("office"),[J,ie]=u.useState(""),[te,we]=u.useState(""),[ge,ue]=u.useState(""),[je,P]=u.useState(""),[U,Re]=u.useState(null),[Ne,ve]=u.useState([{id:1,first_name:"",last_name:"",middle_name:"",gender:"",mobile_no:"",country_code:"+91",user_type:"",user_email:"",user_status:1,date_of_joining:""}]),[Y,w]=u.useState(0),[B,X]=u.useState(!1),[fe,j]=u.useState(""),[F,ae]=u.useState({}),[I,se]=u.useState({SCCA_ID:"",ship_id:R,desg_id:"",reporting_to_desg:"",dept_id:"",user_id:"",reporting_to_user:"",allocate_by:"",deboarding_done_by:"",date_of_allocation:"",date_of_boarding:"",place_of_boarding:"",expected_deboarding_date:"",crew_status:"",actual_deboarding_on:null,replacing_to_user:""}),[Ce,ee]=u.useState({first_name:"",last_name:"",middle_name:"",gender:null,mobile_no:"",user_type:null,current_pin:"",pin_refreshed_on:null,old_pins:null,otp_at:null,mobile_sim_country_code:"",pin_inactive_on:null,pin_inactive_by:null,user_status:1,user_email:""}),[re,be]=u.useState({first_name:"",last_name:"",middle_name:"",gender:null,mobile_no:"",user_type:null,current_pin:"",pin_refreshed_on:null,old_pins:null,otp_at:null,mobile_sim_country_code:"",pin_inactive_on:null,pin_inactive_by:null,user_status:1,user_email:""}),[ze,dt]=u.useState({}),[tt,Le]=u.useState({}),[K,Te]=u.useState(""),[Ze,_e]=u.useState([]),[Et,he]=u.useState([]),[bt,$t]=u.useState("office"),[ia,Fa]=u.useState([]),[ft,Oe]=u.useState({}),[Je,ot]=u.useState({}),[Qe,kt]=u.useState({}),[Mt,Xt]=u.useState([]),[pa,xa]=u.useState("SELECT USER"),[Zt,Ta]=u.useState({}),[He,aa]=u.useState(null),[vn,on]=u.useState(!1),[Va,cn]=u.useState(!1),[Da,ca]=u.useState(!1),[Vn,Ya]=u.useState(!1),[dn,Qa]=u.useState(!1),[Ka,un]=u.useState({assigned:[],paused:[]}),[Wa,ja]=u.useState([]),[la,ra]=u.useState("auto_priority_based"),[Rn,bn]=u.useState(!1),[ki,ni]=u.useState({}),[Ln,fn]=u.useState([]),[ht,ka]=u.useState(null),Qt=[{code:"+1",name:"United States / Canada"},{code:"+44",name:"United Kingdom"},{code:"+91",name:"India"},{code:"+61",name:"Australia"},{code:"+81",name:"Japan"},{code:"+86",name:"China"},{code:"+49",name:"Germany"},{code:"+33",name:"France"},{code:"+39",name:"Italy"},{code:"+7",name:"Russia"},{code:"+27",name:"South Africa"},{code:"+971",name:"UAE"},{code:"+966",name:"Saudi Arabia"},{code:"+92",name:"Pakistan"},{code:"+880",name:"Bangladesh"},{code:"+94",name:"Sri Lanka"},{code:"+977",name:"Nepal"},{code:"+93",name:"Afghanistan"},{code:"+55",name:"Brazil"},{code:"+34",name:"Spain"},{code:"+62",name:"Indonesia"},{code:"+63",name:"Philippines"},{code:"+60",name:"Malaysia"},{code:"+65",name:"Singapore"},{code:"+852",name:"Hong Kong"},{code:"+853",name:"Macau"},{code:"+82",name:"South Korea"},{code:"+90",name:"Turkey"},{code:"+98",name:"Iran"}],[da,en]=u.useState(""),[It,On]=u.useState(""),[is,ua]=u.useState("Kindly Confirm with MR. Gaurav Ship in charge"),[ya,Yn]=u.useState("");u.useEffect(()=>{(()=>{const Z={};o.forEach(z=>{const xe=y.filter(Fe=>Fe.ship_id===z.SHA_ID&&Fe.crew_status===1).length,Ee=h.filter(Fe=>Fe.ship_id===z.SHA_ID).length,Xe=xe+Ee;Z[z.SHA_ID]={totalAllocated:Xe,shipCrew:xe,officeStaff:Ee,departments:[...new Set([...y.filter(Fe=>Fe.ship_id===z.SHA_ID).map(Fe=>Fe.dept_id),...h.filter(Fe=>Fe.ship_id===z.SHA_ID).map(Fe=>Fe.dept_id)])].length}});const Ae=h.filter(z=>!z.ship_id).length;Z.office={totalAllocated:Ae,shipCrew:0,officeStaff:Ae,departments:[...new Set(h.filter(z=>!z.ship_id).map(z=>z.dept_id))].length},ae(Z)})()},[y,h,o]);const jn=()=>a.jsx("div",{className:"enhanced-ship-selector",children:a.jsxs("select",{value:bt,onChange:In,className:"ship-select",children:[o.map(S=>{const Z=F[S.SHA_ID]||{departments:0};return a.jsxs("option",{value:S.SHA_ID,children:[S.ship_name,"  ",Z.departments," depts"]},S.SHA_ID)}),a.jsxs("option",{value:"office",children:["Office ",F.office?.totalAllocated||0," staff  ",F.office?.departments||0," depts"]})]})}),At=()=>{const S=Z=>{if(!Z)return{positions:0,allocated:0,vacant:0};f.find(Ee=>Ee.DEPT_ID===Z);const Ae=ft[Z]||[];let z=0,xe=0;return Ae.forEach(Ee=>{const Xe=Ee.no_of_positions||0,Fe=Je[Ee.DSGH_ID]?.length||0;z+=Xe,xe+=Fe}),{positions:z,allocated:xe,vacant:z-xe}};return a.jsxs("div",{className:"dept-tabs",children:[a.jsxs("button",{className:`tab-buttons ${pa==="SELECT USER"?"active":""}`,children:[a.jsx("span",{onClick:()=>Ha("SELECT USER"),id:"modal-close-btn",style:{color:"red",visibility:He?"visible":"hidden",position:"absolute",top:2,right:4,fontSize:"10px"},children:""}),He?`${He.first_name} ${He.last_name}`:"SELECT USER"]}),ia.map(Z=>{const Ae=S(Z.DEPT_ID);return a.jsxs("button",{className:`tab-buttons ${pa===Z.dept_name?"active":""}`,onClick:()=>Ha(Z.dept_name),children:[a.jsx("span",{className:"dept-name",children:Z.dept_name}),a.jsxs("span",{className:"dept-stats",children:[Ae.allocated,"/",Ae.positions,"  ",Ae.vacant," vacant"]})]},Z.DEPT_ID)})]})},si=S=>{const Z=ia.find(z=>z.dept_name===S);return Z?(ft[Z.DEPT_ID]||[]).map(z=>{const xe=Zt[z.DSGH_ID]||!1,Ee=Je[z.DSGH_ID]||[],Xe=Math.max(0,(z.no_of_positions||0)-Ee.length),Fe=z.no_of_positions?Math.round(Ee.length/z.no_of_positions*100):0;return a.jsxs("div",{className:`designation-card enhanced ${xe?"expanded":""}`,children:[a.jsxs("div",{className:"designation-header",onClick:()=>ls(z.DSGH_ID),children:[a.jsxs("div",{className:"designation-info",children:[a.jsxs("div",{className:"desg-title-section",children:[a.jsx("strong",{className:"desg-name",children:z.desg_name}),a.jsx("span",{className:"desg-code",children:z.desg_code})]}),a.jsxs("div",{className:"position-stats",children:[a.jsx("div",{className:"utilization-bar",children:a.jsx("div",{className:"utilization-fill",style:{width:`${Fe}%`},title:`${Fe}% utilized`})}),a.jsxs("span",{className:"post-count",children:[Ee.length," / ",z.no_of_positions||0," positions",Xe>0&&a.jsxs("span",{className:"vacant-alert",children:["  ",Xe," VACANT"]})]})]})]}),a.jsx("button",{className:"expand-toggle",children:xe?"":""})]}),xe&&a.jsxs("div",{className:"designation-content",children:[Ee.length>0&&a.jsxs("div",{className:"allocated-section",children:[a.jsxs("h4",{children:[" Currently Allocated (",Ee.length,")"]}),Ee.map(Pe=>{const mt=Qe[Pe.user_id]||{first_name:"Unknown",last_name:""},pt=!!Pe.OSCA_ID;return a.jsxs("div",{className:"assigned-user enhanced",children:[a.jsxs("div",{className:"user-avatar-small",children:[mt.first_name?.charAt(0),mt.last_name?.charAt(0)]}),a.jsxs("div",{className:"user-info",children:[a.jsxs("p",{className:"user-name",children:[a.jsxs("strong",{children:[mt.first_name," ",mt.last_name]}),a.jsx("span",{className:"allocation-type",children:pt?"Office":"Factory Staff"})]}),a.jsxs("p",{className:"allocation-dates",children:[a.jsxs("span",{className:"date-item",children:["Allocated: ",Pe.date_of_allocation?.split("T")[0]?.split("-")?.reverse()?.join("/")]}),Pe.expected_deboarding_date&&a.jsxs("span",{className:"date-item",children:["Expected Deboard: ",Pe.expected_deboarding_date?.split("T")[0]?.split("-")?.reverse()?.join("/")]})]}),a.jsxs("p",{className:"user-contact",children:[" ",mt.email,"   ",mt.mobile_no]})]}),a.jsx("div",{className:"action-buttons",children:Pe.SCCA_ID?b?.some(Ke=>_?.profile_ids?.includes(Ke.PROFILE_ID)&&Ke.process_ids.includes("P_UAT_0005"))&&a.jsx("button",{className:"deboard-btn",onClick:()=>{ca(!0),ka(Pe)},children:"De-Board"}):b?.some(Ke=>_?.profile_ids?.includes(Ke.PROFILE_ID)&&Ke.process_ids.includes("P_UAT_0004"))&&a.jsx("button",{className:"deboard-btn",onClick:()=>{ca(!0),ka(Pe)},children:"Suspend"})})]},Pe.SCCA_ID||Pe.OSCA_ID)})]}),Xe>0&&a.jsxs("div",{className:"vacant-section",children:[a.jsxs("h4",{children:[" Vacant Positions (",Xe,")"]}),Array.from({length:Xe}).map((Pe,mt)=>a.jsxs("div",{className:"vacant-slot enhanced",children:[a.jsxs("div",{className:"vacant-info",children:[a.jsx("span",{className:"vacant-icon"}),a.jsxs("div",{children:[a.jsxs("p",{className:"vacant-title",children:["Vacant Position #",mt+1]}),a.jsx("p",{className:"vacant-description",children:"Ready for immediate allocation"})]})]}),b?.some(pt=>_?.profile_ids?.includes(pt.PROFILE_ID)&&pt.process_ids.includes("P_UAT_0003"))&&a.jsx("button",{className:"allocate-btn primary",onClick:()=>{$(bt),ie(Z.DEPT_ID),we(z.DSGH_ID),Le({}),on(!0)},children:"Allocate Now"})]},mt))]}),Ee.length===0&&Xe===0&&a.jsx("div",{className:"no-positions",children:a.jsx("p",{children:"No positions defined for this designation"})})]})]},z.DSGH_ID)}):null};u.useEffect(()=>{if(!bt)return;(()=>{try{const Z=bt==="office"?f.filter(Ke=>Ke.ship_id===null):f.filter(Ke=>Ke.ship_id===bt);Fa(Z),xa("SELECT USER"),aa(null);const Ae={};Z.forEach(Ke=>{Ae[Ke.DEPT_ID]=i.filter(wt=>wt.DEPT_ID===Ke.DEPT_ID)||[]}),Oe(Ae);let z=[];bt==="office"?(z=h.map(Ke=>({...Ke,ship_id:null,crew_status:1,desg_id:Ke.desg_id,user_id:Ke.user_id,dept_id:Ke.dept_id})),he(z)):(z=y.filter(Ke=>Ke.ship_id===bt&&Ke.crew_status==1),_e(z));const xe={},Ee={};z.forEach(Ke=>{xe[Ke.desg_id]||(xe[Ke.desg_id]=[]),xe[Ke.desg_id].push(Ke);const wt=r.find(Ua=>Ua.UHA_ID==Ke.user_id);wt&&(Ee[wt.UHA_ID]={UHA_ID:wt.UHA_ID,first_name:wt.first_name,last_name:wt.last_name,email:wt.email||"",mobile_no:wt.mobile_no||"",duty_level:wt.duty_level||"Level-1",ideal_since:wt.ideal_since||"",allocated_profiles:wt.allocated_profiles||"Master"})}),ot(xe),kt(Ee);const Xe=[...y.filter(Ke=>Ke.crew_status===1),...h],Fe=[...y.filter(Ke=>Ke.crew_status===3),...h.filter(Ke=>Ke.staff_status===3)],Pe=new Set(Xe.map(Ke=>Ke.user_id)),mt=new Set(Fe.map(Ke=>Ke.user_id)),pt=r.map(Ke=>({...Ke,isAllocated:Pe.has(Ke.UHA_ID),hasPlannedAllocation:mt.has(Ke.UHA_ID),ship_id:Xe.find(wt=>wt.user_id===Ke.UHA_ID)?.ship_id||null}));Xt(pt)}catch(Z){console.error("Error processing allocation data:",Z)}})()},[bt,f,i,r,y,h]),u.useEffect(()=>{},[Je]);const Hn=Mt.filter(S=>{const Z=`${S.first_name} ${S.last_name}`.toLowerCase(),Ae=o.find(z=>z.SHA_ID===S.ship_id)?.ship_name?.toLowerCase()||"";return Z.includes(K.toLowerCase())||Ae.includes(K.toLowerCase())}),hn=()=>{$(bt),ie(""),we(""),ue(""),P(""),en(""),On(""),ua("Kindly Confirm with MR. Gaurav Ship in charge"),se({SCCA_ID:"",ship_id:bt,desg_id:"",reporting_to_desg:"",dept_id:"",user_id:"",reporting_to_user:"",allocate_by:"",deboarding_done_by:"",date_of_allocation:"",date_of_boarding:"",place_of_boarding:"",expected_deboarding_date:"",crew_status:"",actual_deboarding_on:null,replacing_to_user:""}),Le({})},Sa=()=>{on(!1),hn()},Sn=S=>{aa(S),xa(`SELECTED: ${S.first_name} ${S.last_name}`)},In=S=>{$t(S.target.value),$(S.target.value),ie(""),we(""),ue("")},Ha=S=>{xa(S),S==="SELECT USER"&&aa(null)},ls=S=>{Ta(Z=>({...Z,[S]:!Z[S]}))},Ds=()=>{Re(null),ka(null),Yn("")},Mi=()=>{ca(!1),Ds()},Gn=async()=>{const S={ship_id:ht?.ship_id||null,dept_id:ht.dept_id,desg_id:ht.desg_id,user_id:U||null,replacing_to_user:ht.user_id,date_of_boarding:ht.date_of_boarding,date_of_deboarding:new Date().toISOString().split("T")[0],place_of_boarding:ht.place_of_boarding||"Office",place_of_deboarding:ht.place_of_boarding||"Office",expected_deboarding_date:je,expected_onboarding_date:ya,allocate_by:_.UHA_ID};console.log("Deboard Payload:",S);try{const Z=await qe.post(`${ei}deboardUser`,S);Z.data.success&&(Z.data.deboardingType==="planned_with_successor"?alert("Deboard successful! Successor allocation planned and will activate on first login."):(alert("Deboard successful! User fully deboarded."),Z.data.reportData&&N(Z.data.reportData)),ca(!1),Re(""),Yn(""),x(),p(),H&&H())}catch(Z){console.error("Deboard error:",Z),alert("Something went wrong")}},N=S=>{const{crewOverview:Z,completedJobs:Ae,activeJobs:z}=S,xe=document.createElement("div");xe.style.cssText=`
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.8);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 10000;
    `;const Ee=document.createElement("div");Ee.style.cssText=`
        background: white;
        padding: 20px;
        border-radius: 8px;
        width: 90%;
        height: 90%;
        overflow: auto;
        position: relative;
    `;const Xe=document.createElement("div");Xe.style.cssText=`
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 2px solid #007bff;
    `;const Fe=document.createElement("h2");Fe.textContent=`Factory Staff Deboarding Report - ${Z.userName}`,Fe.style.margin="0";const Pe=document.createElement("div");Pe.style.cssText=`
        display: flex;
        gap: 10px;
    `;const mt=document.createElement("button");mt.textContent=" Print Report",mt.style.cssText=`
        padding: 8px 16px;
        background: #007bff;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    `,mt.onclick=()=>window.print();const pt=document.createElement("button");pt.textContent=" Download PDF",pt.style.cssText=`
        padding: 8px 16px;
        background: #28a745;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    `,pt.onclick=()=>De(S);const Ke=document.createElement("button");Ke.textContent=" Close",Ke.style.cssText=`
        padding: 8px 16px;
        background: #dc3545;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    `,Ke.onclick=()=>document.body.removeChild(xe);const wt=document.createElement("div");wt.id="emailStatus",wt.style.cssText=`
        padding: 10px;
        margin: 10px 0;
        border-radius: 4px;
        background: #d4edda;
        color: #155724;
        display: none;
    `,Pe.appendChild(mt),Pe.appendChild(pt),Pe.appendChild(Ke),Xe.appendChild(Fe),Xe.appendChild(Pe),Ee.appendChild(Xe),Ee.appendChild(wt);const Ua=document.createElement("div");Ua.id="reportContent",Ua.innerHTML=oe(Z,Ae,z),Ee.appendChild(Ua),xe.appendChild(Ee),document.body.appendChild(xe),ke(S)},oe=(S,Z,Ae)=>`
        <div class="report-content">
            <!-- Section 1: Factory Staff Overview -->
                <div class="section">
                <h2>Factory Staff Overview</h2>
                <table>
                    <tr><th>Field</th><th>Value</th></tr>
                    <tr><td>User Name</td><td>${S.userName||"N/A"}</td></tr>
                    <tr><td>Location Name</td><td>${S.shipName||"N/A"}</td></tr>
                    <tr><td>Department</td><td>${S.department||"N/A"}</td></tr>
                    <tr><td>Designation</td><td>${S.designation||"N/A"}</td></tr>
                    <tr><td>Date of Boarding</td><td>${S.dateOfBoarding||"N/A"}</td></tr>
                    <tr><td>Place of Boarding</td><td>${S.placeOfBoarding||"N/A"}</td></tr>
                    <tr><td>Boarding Done By</td><td>${S.boardingDoneBy||"N/A"}</td></tr>
                    <tr><td>Expected Deboarding Date</td><td>${S.expectedDeboardingDate||"N/A"}</td></tr>
                    <tr><td>Actual Deboarding Date</td><td>${S.actualDeboardingDate||"N/A"}</td></tr>
                    <tr><td>Deboarding Done By</td><td>${S.deboardingDoneBy||"N/A"}</td></tr>
                    <tr><td>Reporting To</td><td>${S.reportingTo||"N/A"}</td></tr>
                    <tr><td>No. of Approval Pending</td><td>${S.approvalPending||0}</td></tr>
                    <tr><td>No. of Acknowledged Jobs</td><td>${S.acknowledgedJobs||0}</td></tr>
                    <tr><td>No. of Not Acknowledged Jobs</td><td>${S.notAcknowledgedJobs||0}</td></tr>
                    <tr><td>No. of Completed Jobs</td><td>${S.completedJobs||0}</td></tr>
                    <tr><td>No. of Failed Jobs</td><td>${S.failedJobs||0}</td></tr>
                    <tr><td>No. of Overdue Jobs</td><td>${S.overdueJobs||0}</td></tr>
                </table>
            </div>
            
            <!-- Section 2: Completed Jobs -->
            <div class="section">
                <h2>Completed Jobs (${Z.length})</h2>
                ${Z.length>0?`
                <table class="completed-jobs-table">
                    <tr>
                        <th>Job Name</th>
                        <th>Job No</th>
                        <th>Generated On</th>
                        <th>Completed On</th>
                        <th>Expected Days</th>
                        <th>Actual Days</th>
                        <th>Attempts</th>
                        <th>Extensions</th>
                        <th>First Verification</th>
                        <th>Second Verification</th>
                        <th>Extension Authority</th>
                    </tr>
                    ${Z.map(z=>`
                        <tr>
                            <td>${z.jobName||"N/A"}</td>
                            <td>${z.jobNo||"N/A"}</td>
                            <td>${z.generatedOn||"N/A"}</td>
                            <td>${z.completedOn||"N/A"}</td>
                            <td>${z.expectedDaysForCompletion||"N/A"}</td>
                            <td>${z.daysNeedToComplete||"N/A"}</td>
                            <td>${z.noOfAttempt||0}</td>
                            <td>${z.noOfExtensions||0}</td>
                            <td>
                                <strong>${z.firstVerificationAuthority||"N/A"}</strong><br>
                                <small>Expected: ${z.expectedDaysOfVerification||3} days</small><br>
                                <small>Actual: ${z.timeTakenForFirstVerification||0} days</small>
                            </td>
                            <td>
                                <strong>${z.secondVerificationAuthority||"N/A"}</strong><br>
                                <small>Expected: ${z.expectedDaysOfVerification||3} days</small><br>
                                <small>Actual: ${z.timeTakenForSecondVerification||0} days</small>
                            </td>
                            <td>${z.extensionAuthority||"N/A"}</td>
                        </tr>
                    `).join("")}
                </table>
                `:"<p>No completed jobs found.</p>"}
            </div>
            
            <!-- Section 3: Active Jobs -->
            <div class="section">
                <h2>Active Jobs (${Ae.length})</h2>
                ${Ae.length>0?`
                <table class="active-jobs-table">
                    <tr>
                        <th>Job Name</th>
                        <th>Job No</th>
                        <th>Generated On</th>
                        <th>Expected Days</th>
                        <th>Current Attempts</th>
                        <th>Current Extensions</th>
                        <th>First Verification</th>
                        <th>Second Verification</th>
                        <th>Extension Authority</th>
                        <th>Verification Status</th>
                        <th>Job Status</th>
                        <th>Expected Completion</th>
                    </tr>
                    ${Ae.map(z=>`
                        <tr>
                            <td>${z.jobName||"N/A"}</td>
                            <td>${z.jobNo||"N/A"}</td>
                            <td>${z.generatedOn||"N/A"}</td>
                            <td>${z.expectedDaysForCompletion||"N/A"}</td>
                            <td>${z.currentNoOfAttempt||0}</td>
                            <td>${z.currentNoOfExtensions||0}</td>
                            <td>
                                <strong>${z.firstVerificationAuthority||"N/A"}</strong><br>
                                ${z.firstVerificationDate?`
                                <small>Expected: ${z.expectedDaysOfVerification||3} days</small><br>
                                <small>Actual: ${z.timeTakenForFirstVerification||0} days</small>
                                `:"<small>Pending</small>"}
                            </td>
                            <td>
                                <strong>${z.secondVerificationAuthority||"N/A"}</strong><br>
                                ${z.secondVerificationDate?`
                                <small>Expected: ${z.expectedDaysOfVerification||3} days</small><br>
                                <small>Actual: ${z.timeTakenForSecondVerification||0} days</small>
                                `:"<small>Pending</small>"}
                            </td>
                            <td>${z.extensionAuthority||"N/A"}</td>
                            <td>
                                ${z.verificationStatus||"N/A"}<br>
                                ${z.firstIntimationDate?`<small>First Intimation: ${z.firstIntimationDate}</small><br>`:""}
                                ${z.firstVerificationDate?`<small>First Done: ${z.firstVerificationDate}</small><br>`:""}
                                ${z.secondIntimationDate?`<small>Second Intimation: ${z.secondIntimationDate}</small><br>`:""}
                                ${z.secondVerificationDate?`<small>Second Done: ${z.secondVerificationDate}</small>`:""}
                            </td>
                            <td>${z.jobStatusDescription||"N/A"}</td>
                            <td>${z.expectedCompletionDate||"N/A"}</td>
                        </tr>
                    `).join("")}
                </table>
                `:"<p>No active jobs found.</p>"}
            </div>

            <!-- Section 4: Performance Summary -->
            <div class="section">
                <h2>Performance Summary</h2>
                <table>
                    <tr><th>Metric</th><th>Value</th></tr>
                    <tr><td>Total Jobs Handled</td><td>${(S.acknowledgedJobs||0)+(S.completedJobs||0)+(S.failedJobs||0)+(Ae.length||0)}</td></tr>
                    <tr><td>Completion Rate</td><td>${((S.completedJobs||0)/((S.acknowledgedJobs||0)+(S.completedJobs||0)+(S.failedJobs||0))*100||0).toFixed(2)}%</td></tr>
                    <tr><td>Average Extensions per Job</td><td>${Z.length>0?(Z.reduce((z,xe)=>z+(xe.noOfExtensions||0),0)/Z.length).toFixed(2):"0"}</td></tr>
                    <tr><td>Average Attempts per Job</td><td>${Z.length>0?(Z.reduce((z,xe)=>z+(xe.noOfAttempt||0),0)/Z.length).toFixed(2):"0"}</td></tr>
                    ${Ae.length>0?`
                    <tr><td>Average First Verification Time</td><td>${(Ae.filter(z=>z.timeTakenForFirstVerification).reduce((z,xe)=>z+(xe.timeTakenForFirstVerification||0),0)/Ae.filter(z=>z.timeTakenForFirstVerification).length||0).toFixed(2)} days</td></tr>
                    `:""}
                </table>
            </div>
        </div>
        
        <style>
            .section { margin-bottom: 30px; border: 1px solid #ddd; padding: 15px; }
            .section h2 { background: #f5f5f5; padding: 10px; margin: -15px -15px 15px -15px; }
            table { width: 100%; border-collapse: collapse; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            th { background-color: #f2f2f2; }
            .completed-jobs-table th, .active-jobs-table th { font-size: 12px; }
            .completed-jobs-table td, .active-jobs-table td { font-size: 11px; }
            
            @media print {
                button { display: none !important; }
                .modal { background: white !important; }
                .modal-content { 
                    width: 100% !important; 
                    height: auto !important;
                    box-shadow: none !important;
                }
            }
        </style>
    `,De=async S=>{try{const{crewOverview:Z,completedJobs:Ae,activeJobs:z}=S;if(typeof html2pdf<"u"){const xe=document.getElementById("reportContent"),Ee={margin:10,filename:`Crew_Deboarding_Report_${Z.userName}_${new Date().toISOString().split("T")[0]}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};await html2pdf().set(Ee).from(xe).save()}else window.print()}catch(Z){console.error("PDF generation failed:",Z),alert("PDF generation failed. Using print instead."),window.print()}},ke=async S=>{try{const Z=document.getElementById("emailStatus");Z.style.display="block",Z.textContent=" Sending email notifications to Fleet Manager and Superintendent...",Z.style.background="#fff3cd",Z.style.color="#856404",(await qe.post(`${ei}sendCrewReportEmail`,{reportData:S,shipId:ht?.ship_id,crewName:S.crewOverview.userName})).data.success?(Z.textContent=" Report sent successfully to Fleet Manager and Superintendent",Z.style.background="#d4edda",Z.style.color="#155724"):(Z.textContent=" Failed to send email notifications",Z.style.background="#f8d7da",Z.style.color="#721c24")}catch(Z){console.error("Email notification failed:",Z);const Ae=document.getElementById("emailStatus");Ae.style.display="block",Ae.textContent=" Failed to send email notifications",Ae.style.background="#f8d7da",Ae.style.color="#721c24"}},Me=async()=>{if(!He){alert("No user selected for allocation.");return}await x();const S=y.find(z=>z.user_id===He.UHA_ID&&(z.crew_status===1||z.crew_status===3));await p();const Z=Et.find(z=>z.user_id===He.UHA_ID);if(S){alert(`User is already allocated to ship "${o.find(z=>z.SHA_ID===S.ship_id)?.ship_name||"N/A"}". Cannot allocate again.`);return}if(Z){alert("User is already allocated as Office Staff. Cannot allocate again.");return}const Ae={ship_id:R==="office"?null:R,dept_id:J,desg_id:te,user_id:He.UHA_ID,replacing_to_user:I.replacing_to_user?.startsWith("vacant")?null:I.replacing_to_user,date_of_boarding:da,place_of_boarding:It,crew_status:3,allocate_by:_.UHA_ID,date_of_allocation:new Date().toISOString().split("T")[0],expected_deboarding_date:je,replaced_users_deboarding_done_by:_.UHA_ID,SCCA_ID:null};console.log("Allocation Payload:",Ae);try{const z=await fetch(`${ei}allocatedDuty`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ae)});if(z.ok){const xe=await z.json();console.log("Allocation successful:",xe),alert("Duty allocation Planned successfully!"),x(),p(),ue(""),en(""),On(""),ua("Kindly Confirm with MR. Gaurav Ship in charge"),hn(),on(!1)}else{const xe=await z.json();console.error("Allocation failed:",xe),Ge.error("Position Is Occupied. Please try Try On different Position.")}}catch(z){console.error("Network error during allocation:",z),alert("Network error. Please check your connection.")}},le=()=>{if(!He)return null;const S="+"+He.mobile_sim_country_code,Z=Qt.some(Ye=>Ye.code===S)?Qt:[{code:S,name:"Selected User Country"},...Qt];let Ae="Not Assigned Yet",z="Not Assigned Yet",xe="",Ee="",Xe="",Fe="",Pe="",mt=!1,pt=!1,Ke=null;const wt=[...y.filter(Ye=>Ye.user_id===He.UHA_ID),...h.filter(Ye=>Ye.user_id===He.UHA_ID)];let Ua=wt.find(Ye=>Ye.crew_status===1||Ye.staff_status===1),rs=wt.find(Ye=>Ye.crew_status===3||Ye.staff_status===3);if(Ua){const Ye=Ua;mt=!!Ye.OSCA_ID,Ae=i.find(Vt=>Vt.DSGH_ID===Ye.desg_id)?.desg_code||"N/A",mt?(z="Office",xe=Ye.date_of_allocation?.split("T")[0]||"N/A",Ee=Ye.date_of_boarding?.split("T")[0]||"N/A",Xe=Ye.expected_deboarding_date?.split("T")[0]||"N/A",Fe="Office"):(z=o.find(Vt=>Vt.SHA_ID===Ye.ship_id)?.ship_name||"N/A",xe=Ye.date_of_allocation?.split("T")[0]||"",Ee=Ye.date_of_boarding?.split("T")[0]||"",Xe=Ye.expected_deboarding_date?.split("T")[0]||"",Fe=Ye.place_of_boarding||"")}else if(rs){pt=!0;const Ye=rs;mt=!!Ye.OSCA_ID,Ae=i.find(Vt=>Vt.DSGH_ID===Ye.desg_id)?.desg_code||"N/A",mt?(z="Office (Planned)",xe=Ye.date_of_allocation?.split("T")[0]||"N/A",Ee=Ye.date_of_boarding?.split("T")[0]||"N/A",Xe=Ye.expected_deboarding_date?.split("T")[0]||"N/A",Fe="Office"):(z=`${o.find(Vt=>Vt.SHA_ID===Ye.ship_id)?.ship_name||"N/A"} (Planned)`,xe=Ye.date_of_allocation?.split("T")[0]||"",Ee=Ye.date_of_boarding?.split("T")[0]||"",Xe=Ye.expected_deboarding_date?.split("T")[0]||"",Fe=Ye.place_of_boarding||""),Ke={ship_name:o.find(Vt=>Vt.SHA_ID===Ye.ship_id)?.ship_name||"Office",dept_name:f.find(Vt=>Vt.DEPT_ID===Ye.dept_id)?.dept_name||"N/A",desg_name:i.find(Vt=>Vt.DSGH_ID===Ye.desg_id)?.desg_name||"N/A",date_of_boarding:Ye.date_of_boarding?.split("T")[0]||"N/A",expected_deboarding_date:Ye.expected_deboarding_date?.split("T")[0]||"N/A"}}else{const Ye=y.filter(Nn=>Nn.user_id===He.UHA_ID&&Nn.crew_status===2&&Nn.actual_deboarding_on);let Vt=null;if(Ye.length>0){const Nn=new Date,fa=Ye.map(Ja=>new Date(Ja.actual_deboarding_on)).filter(Ja=>!isNaN(Ja));fa.length>0&&(Vt=fa.reduce((Ja,As)=>{const os=Math.abs(Nn-Ja);return Math.abs(Nn-As)<os?As:Ja},fa[0]))}Pe=Vt?Vt.toISOString().split("T")[0]:"New Joiner (No Previous Data..)"}return a.jsxs("div",{className:"selected-user-form",children:[a.jsxs("div",{className:"user-info-grid",style:{position:"relative"},children:[b?.filter(Ye=>_?.profile_ids?.includes(Ye.PROFILE_ID))[0]?.process_ids.includes("P_UAT_0002")&&a.jsx("button",{id:"selected-user-form-edit-details-button",onClick:()=>cn(!0),children:"Edit Details"}),a.jsx("div",{className:"form-section-header",children:a.jsx("h4",{children:"Basic Information"})}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"First Name"}),a.jsx("input",{type:"text",value:He.first_name,placeholder:"Enter First Name",readOnly:!Va,onChange:Ye=>aa({...He,first_name:Ye.target.value})}),He.first_name===""&&ze.first_name&&a.jsx("p",{className:"error-text",children:ze.first_name})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Last Name"}),a.jsx("input",{type:"text",value:He.last_name,placeholder:"Enter Last Name",readOnly:!Va,onChange:Ye=>aa({...He,last_name:Ye.target.value})}),He.last_name===""&&ze.last_name&&a.jsx("p",{className:"error-text",children:ze.last_name})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Email"}),a.jsx("input",{type:"email",value:He.user_email,placeholder:He.user_email,readOnly:!Va,onChange:Ye=>aa({...He,user_email:Ye.target.value})}),He.user_email===""&&ze.user_email&&a.jsx("p",{className:"error-text",children:ze.user_email})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Mobile No"}),a.jsxs("div",{className:"mobile-input",children:[a.jsx("select",{disabled:!Va,value:"+"+He.mobile_sim_country_code,onChange:Ye=>aa({...He,mobile_sim_country_code:Ye.target.value.replace("+","")}),children:Z.map(Ye=>a.jsx("option",{value:Ye.code,title:Ye.name,children:Ye.code},Ye.code))}),a.jsx("input",{type:"number",value:He.mobile_no,placeholder:He.mobile_no,readOnly:!Va,onChange:Ye=>aa({...He,mobile_no:Ye.target.value})})]}),He.mobile_no===""&&ze.mobile_no&&a.jsx("p",{className:"error-text",children:ze.mobile_no})]}),a.jsx("div",{className:"form-section-header",children:a.jsx("h4",{children:"Allocation Status"})}),a.jsxs("div",{className:"form-group full-width",children:[a.jsx("label",{children:"Current Status"}),a.jsxs("div",{className:`status-display-badge ${He.isAllocated?"status-active":He.hasPlannedAllocation?"status-planned":"status-available"}`,children:[He.isAllocated?"ACTIVELY ALLOCATED":He.hasPlannedAllocation?"PLANNED ALLOCATION":"AVAILABLE FOR ALLOCATION",pt&&a.jsx("span",{className:"status-note",children:"(Will activate on first login after boarding date)"})]})]}),!He.isAllocated&&!He.hasPlannedAllocation&&a.jsx(a.Fragment,{children:Pe==="New Joiner (No Previous Data..)"?a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Ideal Since"}),a.jsx("input",{type:"text",readOnly:!0,value:Pe})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Ideal Since"}),a.jsx("input",{type:"date",readOnly:!0,value:Pe})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Last Ship"}),a.jsx("input",{type:"text",readOnly:!0,value:o.find(Ye=>Ye.SHA_ID==y.find(Vt=>Vt.user_id==He.UHA_ID&&Vt.crew_status==2&&Vt.actual_deboarding_on?.split("T")[0]==Pe)?.ship_id)?.ship_name||"N/A"})]})]})}),pt&&Ke&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"form-section-header",children:a.jsx("h4",{children:" Planned Allocation Details"})}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Planned Location"}),a.jsx("input",{type:"text",readOnly:!0,value:Ke.ship_name,style:{backgroundColor:"#fff3cd",color:"#856404"}})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Planned Department"}),a.jsx("input",{type:"text",readOnly:!0,value:Ke.dept_name,style:{backgroundColor:"#fff3cd",color:"#856404"}})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Planned Designation"}),a.jsx("input",{type:"text",readOnly:!0,value:Ke.desg_name,style:{backgroundColor:"#fff3cd",color:"#856404"}})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Scheduled Boarding Date"}),a.jsx("input",{type:"date",readOnly:!0,value:Ke.date_of_boarding,style:{backgroundColor:"#fff3cd",color:"#856404"}})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Expected Deboarding Date"}),a.jsx("input",{type:"date",readOnly:!0,value:Ke.expected_deboarding_date,style:{backgroundColor:"#fff3cd",color:"#856404"}})]})]}),He.isAllocated&&!mt&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"form-section-header",children:a.jsx("h4",{children:"Current Allocation Details"})}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Allocated Ship"}),a.jsx("input",{type:"text",readOnly:!0,value:z})]}),He.isAllocated&&a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Allocated Profile"}),a.jsx("input",{type:"text",readOnly:!0,value:Ae})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Date Of Allocation"}),a.jsx("input",{type:"date",disabled:!0,value:xe})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Date Of Boarding"}),a.jsx("input",{type:"date",disabled:!0,value:Ee})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Expected Date Of De-Boarding"}),a.jsx("input",{type:"date",disabled:!0,value:Xe})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Place Of Boarding"}),a.jsx("input",{type:"text",disabled:!0,value:Fe})]})]}),He.isAllocated&&mt&&a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Allocation Type"}),a.jsx("input",{type:"text",readOnly:!0,value:"Office Staff"})]})]}),a.jsxs("div",{className:"action-buttons-container",children:[Va?a.jsx("button",{className:"bulk-allocate-btn",onClick:Se,children:"Save Changes"}):!He.isAllocated&&!He.hasPlannedAllocation&&b?.filter(Ye=>_?.profile_ids?.includes(Ye.PROFILE_ID))[0]?.process_ids.includes("P_UAT_0003")&&a.jsx("button",{className:"bulk-allocate-btn",onClick:()=>{$(bt),on(!0)},children:"Allocate Duty"}),b?.filter(Ye=>_?.profile_ids?.includes(Ye.PROFILE_ID))[0]?.process_ids.includes("P_UAT_0002")&&a.jsx("button",{className:"btn-cancel",disabled:!Va,onClick:()=>cn(!1),style:{cursor:Va?"pointer":"not-allowed",opacity:Va?1:.5},children:"Cancel"})]})]})},Se=async()=>{const{first_name:S,last_name:Z,user_email:Ae,mobile_sim_country_code:z,mobile_no:xe}=He,Ee={};if((!S||S.trim()==="")&&(Ee.first_name="First name cannot be empty"),(!Z||Z.trim()==="")&&(Ee.last_name="Last name cannot be empty"),!Ae||Ae.trim()===""?Ee.user_email="Email cannot be empty":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Ae)||(Ee.user_email="Please enter a valid email"),!xe||xe.trim()===""?Ee.mobile_no="Mobile number cannot be empty":xe.length<10&&(Ee.mobile_no="Mobile number must be at least 10 digits"),Object.keys(Ee).length>0){dt(Ee);return}dt({});const Xe={first_name:S.trim(),last_name:Z.trim(),user_email:Ae.trim(),mobile_sim_country_code:z,mobile_no:xe.trim()};console.log("Update Payload:",Xe);try{const Fe=await qe.put(`${ei}updateUser/${He.UHA_ID}`,Xe);console.log("User updated:",Fe.data),Ge.success("User details updated successfully!"),cn(!1),await d(),await x(),await p();const Pe={...He,...Xe};aa(Pe)}catch(Fe){if(console.error("Update failed:",Fe),Fe.response){const Pe=Fe.response.data?.message||"Failed to update user details";Ge.error(`Update failed: ${Pe}`),Fe.response.status===400?Fe.response.data.errors&&dt(Fe.response.data.errors):Fe.response.status===404?Ge.error("User not found"):Fe.response.status===500&&Ge.error("Server error. Please try again later.")}else Fe.request?Ge.error("Network error. Please check your connection."):Ge.error("An unexpected error occurred.")}finally{}},Ie=()=>{const S={};return I.ship_id||(S.ship_id="Please select a ship"),I.dept_id||(S.dept_id="Please select a department"),I.desg_id||(S.desg_id="Please select a designation"),I.replacing_to_user||(S.replacing_to_user="Please select a person to replace"),I.date_of_boarding||(S.date_of_boarding="Please select a date"),I.place_of_boarding||(S.place_of_boarding="Please enter duty location"),Le(S),Object.keys(S).length===0},me=()=>{const S={id:Date.now(),first_name:"",last_name:"",middle_name:"",gender:"",mobile_no:"",user_type:"",user_email:"",user_status:1,date_of_joining:""};ve(Z=>[...Z,S]),w(Ne.length)},st=S=>{Ne.length!==1&&(ve(Z=>Z.filter((Ae,z)=>z!==S)),Y>=S&&Y>0&&w(Z=>Z-1))},it=(S,Z,Ae)=>{ve(z=>z.map((xe,Ee)=>Ee===S?{...xe,[Z]:Ae}:xe))},_t=S=>/^\d{10}$/.test(S),Ot=async S=>{S.preventDefault();let Z=[];const Ae=Ne.filter(xe=>xe.first_name&&xe.last_name&&xe.mobile_no&&_t(xe.mobile_no)&&xe.user_email&&xe.user_type);if(Ne.filter(xe=>xe.mobile_no&&!_t(xe.mobile_no)).length>0){alert("Please enter valid 10-digit mobile numbers for all users");return}if(Ae.length===0){alert("Please fill in all required fields for at least one user");return}try{for(const Ee of Ae){const Xe={first_name:Ee.first_name.trim(),last_name:Ee.last_name.trim(),middle_name:Ee.middle_name?.trim()||"",gender:Ee.gender?Ee.gender=="Male"||Ee.gender=="male"?1:2:null,mobile_no:Ee.mobile_no,mobile_sim_country_code:Ee.country_code?Ee.country_code.replace("+",""):"91",user_type:parseInt(Ee.user_type)||1,user_email:Ee.user_email.trim(),user_status:Ee.user_status||1,date_of_joining:Ee.date_of_joining||null,current_pin:"000000"};Z.push(Xe)}console.log("Sending users to backend:",Z);const xe=await qe.post(`${ei}add-multiple-users`,{users:Z});xe.data.success?(alert(`Successfully added ${Ae.length} user${Ae.length!==1?"s":""}!`),console.log("Added users:",xe.data.data),B&&R&&J&&te&&fe&&await Ia(xe.data.data),Ya(!1),X(!1),j(""),ve([{id:1,first_name:"",last_name:"",middle_name:"",gender:"",mobile_no:"",country_code:"+91",user_type:"",user_email:"",user_status:1,date_of_joining:""}]),w(0),d&&d()):alert(`Error: ${xe.data.message}`)}catch(xe){console.error("Error adding users:",xe),alert(`Error adding users: ${xe.response?.data?.message||xe.message}`)}},Ia=async S=>{try{const Z=S.map(async z=>{const xe={ship_id:R==="office"?null:R,dept_id:J,desg_id:te,user_id:z.UHA_ID,replacing_to_user:null,date_of_boarding:fe,place_of_boarding:It||"Ship",crew_status:1,allocate_by:z.UHA_ID,date_of_allocation:new Date().toISOString().split("T")[0],expected_deboarding_date:je||null,replaced_users_deboarding_done_by:z.UHA_ID,SCCA_ID:null};return console.log("Allocating existing ship user:",xe),(await qe.post(`${ei}allocatedDuty`,xe)).data}),Ae=await Promise.all(Z);console.log("Allocation results for existing ship users:",Ae),alert(`Successfully allocated ${S.length} user${S.length!==1?"s":""} to the ship!`),x(),p()}catch(Z){console.error("Error allocating existing ship users:",Z),alert("Users were added but allocation failed. Please allocate them manually.")}},Ft=async()=>{try{if(console.log(" Starting deboarding process with job redistribution..."),!ht?.user_id||!ht?.ship_id){alert("Missing deboarded user or ship details.");return}const S={deboardedUserId:ht.user_id,successorId:U||null,shipId:ht.ship_id,jobDistributionPlan:Ka};console.log(" Redistribution Payload:",S),console.log(" Calling job redistribution API...");const Z=await qe.post(`${ei}redistributeJobsAfterDeboarding`,S);if(!Z.data.success)throw new Error(`Job redistribution failed: ${Z.data.message}`);console.log(" Job redistribution completed successfully.");const Ae={ship_id:ht.ship_id,dept_id:ht.dept_id,desg_id:ht.desg_id,user_id:U||null,replacing_to_user:ht.user_id,date_of_boarding:ht.date_of_boarding,date_of_deboarding:new Date().toISOString().split("T")[0],place_of_boarding:ht.place_of_boarding||"Office",place_of_deboarding:ht.place_of_boarding||"Office",expected_deboarding_date:je,expected_onboarding_date:ya,allocate_by:_?.UHA_ID,jobs_already_redistributed:!0};console.log(" Deboard Payload:",Ae),console.log(" Calling deboard API...");const z=await qe.post(`${ei}deboardUser`,Ae);if(!z.data.success)throw new Error(`Deboard failed: ${z.data.message}`);z.data.deboardingType==="planned_with_successor"?alert(" Deboard successful! Successor allocation planned and will activate on first login."):(alert(" Deboard successful! User fully deboarded and jobs redistributed."),z.data.reportData&&N(z.data.reportData)),Qa(!1),ca(!1),Re(""),Yn(""),un({assigned:[],paused:[]}),x?.(),p?.(),H?.(),console.log(" Deboarding and job redistribution flow completed.")}catch(S){console.error(" Error during deboarding with job distribution:",S),alert(`Error during deboarding process: ${S.message}`)}},ta=u.useCallback(()=>{if(!ht?.ship_id||!ht?.desg_id)return[];const{ship_id:S,dept_id:Z,desg_id:Ae,user_id:z}=ht,xe=i.find(Pe=>Pe.DSGH_ID===Ae&&Pe.DEPT_ID===Z&&Pe.SHA_ID===S),Ee=xe?parseInt(xe.no_of_positions||1):1,Xe=y.filter(Pe=>Pe.ship_id===S&&Pe.crew_status===1&&Pe.user_id!==z);let Fe=[];if(Ee>1)Fe=Xe.filter(Pe=>Pe.desg_id===Ae);else{const Pe=[...new Set(Wa.filter(pt=>pt.issued_to===z&&pt.secondary_issued_to).map(pt=>pt.secondary_issued_to).filter(Boolean))],mt=[...new Set(y.filter(pt=>Pe.includes(pt.user_id)&&pt.ship_id===S&&pt.crew_status===1).map(pt=>pt.desg_id))];Fe=Xe.filter(pt=>mt.includes(pt.desg_id))}return Fe.map(Pe=>({...Pe,userDetails:Qe[Pe.user_id],designation:i.find(mt=>mt.DSGH_ID===Pe.desg_id)}))},[ht,y,Qe,i,Wa]);u.useEffect(()=>{(async()=>{dn&&await L()})()},[dn]);const nt=(S,Z)=>{un(Ae=>{const{assigned:z=[],paused:xe=[]}=Ae,Ee=S.JPHA_ID,Xe=z.filter(Pe=>Pe.JPHA_ID!==Ee),Fe=xe.filter(Pe=>Pe.JPHA_ID!==Ee);return Z==="paused"?Fe.push({JPHA_ID:Ee}):Xe.push({JPHA_ID:Ee,targetUser:Z}),{assigned:Xe,paused:Fe}})},Ga=u.useCallback(S=>{if(!Ka)return null;const{assigned:Z=[],paused:Ae=[]}=Ka,z=S.JPHA_ID,xe=Z.find(Xe=>Xe.JPHA_ID===z);return xe?{assignedTo:"other_crew",targetUser:xe.targetUser}:Ae.find(Xe=>Xe.JPHA_ID===z)?{assignedTo:"paused"}:null},[Ka]),Kt=u.useCallback(async()=>{if(!Wa.length)return a.jsx("tr",{children:a.jsx("td",{colSpan:"7",style:{textAlign:"center",padding:"40px"},children:"No active jobs found for this user"})});const S=await ta();return Wa.map((Z,Ae)=>{const z=Ga(Z),xe=z?.assignedTo||"paused",Ee=z?.targetUser||null,Xe=T.find(Pe=>Pe.JCDSHA_ID==Z.jcd_id),Fe=Xe?.criticality==1?"high":"low";return a.jsxs("tr",{children:[a.jsx("td",{children:Z.JPHA_ID||"N/A"}),a.jsx("td",{children:Xe?.jcd_name||"Unnamed Job"}),a.jsx("td",{children:a.jsx("span",{className:`priority-badge priority-${(Fe||"medium").toLowerCase()}`,children:Xe?.criticality==1?"Critical":"Not-Critical"})}),a.jsx("td",{children:Z?.job_completed_till?(Z?.job_completed_till).split("T")[0].split("-").reverse().join("/"):"N/A"}),a.jsx("td",{children:a.jsx("span",{className:`status-badge status-${(Z.status||"pending").toLowerCase().replace(" ","-")}`,children:D[Z.job_status]||"Pending"})}),a.jsx("td",{children:xe==="successor"&&U?a.jsx("span",{style:{color:"#4299e1"},children:Qe[U]?.first_name}):xe==="other_crew"&&Ee?a.jsx("span",{style:{color:"#48bb78"},children:Qe[Ee]?.first_name}):a.jsx("span",{style:{color:"#ed8936"},children:"Paused"})}),a.jsx("td",{children:a.jsx("div",{className:"job-assignment-controls",children:a.jsxs("select",{className:`assignment-select ${xe==="successor"?"successor":xe==="other_crew"?"other-crew":"paused"}`,value:Ee||xe,onChange:Pe=>nt(Z,Pe.target.value),children:[a.jsx("option",{value:"paused",children:"Suspend Job"}),S.map(Pe=>a.jsxs("option",{value:Pe.user_id,children:["Assign to ",Pe.userDetails?.first_name," (",Pe.designation?.desg_name,")"]},Pe.user_id))]})})})]},Z.JPHA_ID||Ae)})},[Wa,T,U,Qe,D,ta,Ga,nt]);u.useEffect(()=>{(async()=>{if(dn&&ht)try{await H();const Z=k.filter(z=>z.job_status!=6&&z.issued_to===ht.user_id);ja(Z);const Ae=Xn(Z,la);un(Ae)}catch(Z){console.error("Error fetching active jobs:",Z),ja([])}})()},[dn,ht,la]);const Ma=()=>Wa.length||0,Xn=async(S,Z="auto_priority_based")=>{const Ae=await ta(),z={successor:[],otherCrew:{},paused:[]};if(U)S.forEach(xe=>{z.successor.push({...xe,assignedTo:"successor",targetUser:U,reason:"Auto-assigned to successor"})});else if(Z==="auto_priority_based"&&Ae.length>0){const xe=S.filter(Xe=>T.find(Pe=>Pe.JCDSHA_ID==Xe.jcd_id)?.criticality==1),Ee=S.filter(Xe=>T.find(Pe=>Pe.JCDSHA_ID==Xe.jcd_id)?.criticality!=1);xe.forEach((Xe,Fe)=>{const Pe=Fe%Ae.length,mt=Ae[Pe];z.otherCrew[mt.user_id]||(z.otherCrew[mt.user_id]=[]),z.otherCrew[mt.user_id].push({...Xe,assignedTo:"other_crew",targetUser:mt.user_id,reason:"Critical job - auto-assigned"})}),Ee.forEach((Xe,Fe)=>{const Pe=Fe%Ae.length,mt=Ae[Pe];z.otherCrew[mt.user_id]||(z.otherCrew[mt.user_id]=[]),z.otherCrew[mt.user_id].push({...Xe,assignedTo:"other_crew",targetUser:mt.user_id,reason:"Non-critical job - auto-assigned"})})}else Z==="equal_distribution"&&Ae.length>0?S.forEach((xe,Ee)=>{const Xe=Ee%Ae.length,Fe=Ae[Xe];z.otherCrew[Fe.user_id]||(z.otherCrew[Fe.user_id]=[]),z.otherCrew[Fe.user_id].push({...xe,assignedTo:"other_crew",targetUser:Fe.user_id,reason:"Equal distribution"})}):S.forEach(xe=>{z.paused.push({...xe,assignedTo:"paused",targetUser:null,reason:"No distribution strategy or available crew"})});return z},Zn=({user:S,onClick:Z})=>{const z=(()=>{if(S.isAllocated){console.log("user :: ",S);const Ee=[...y,...h].find(Xe=>Xe.user_id===S.UHA_ID&&(Xe.crew_status===1||!Xe.staff_status));if(Ee){console.log("allocation :: ",Ee);const Xe=!!Ee.ship_id,Fe=Xe?o.find(wt=>wt.SHA_ID===Ee.ship_id):null,Pe=i.find(wt=>wt.DSGH_ID===Ee.desg_id),mt=f.find(wt=>wt.DEPT_ID===Ee.dept_id),pt=Xe?null:h.find(wt=>wt.user_id===S.UHA_ID)?.allocated_ships,Ke=pt?pt.split(",").map(wt=>o.find(Ua=>Ua.SHA_ID===wt)?.ship_name).filter(Boolean).join(", "):null;return{type:Xe?"Factory Staff":"Office Staff",location:Xe?Fe?.ship_name||"Ship Unavailable":Ke||"Head Office",designation:Pe?.desg_name||"N/A",department:mt?.dept_name||"N/A",since:Ee.date_of_boarding?.split("T")[0]||"N/A",expectedDeboarding:Ee.expected_deboarding_date?.split("T")[0]||"Not set"}}}else if(S.hasPlannedAllocation)return{type:" Planned Allocation",location:"Pending",designation:"Pending",department:"Pending",since:"Future",expectedDeboarding:"Not set"};return{type:" Available",location:"Not Allocated",designation:"N/A",department:"N/A",since:"N/A",expectedDeboarding:"N/A"}})(),xe=S.isAllocated?"allocated":S.hasPlannedAllocation?"planned":"available";return a.jsxs("li",{className:`user-card ${xe}`,onClick:()=>Z(S),children:[a.jsxs("div",{className:"user-card-header",children:[a.jsxs("div",{className:"user-avatar",children:[S.first_name?.charAt(0),S.last_name?.charAt(0)]}),a.jsxs("div",{className:"user-basic-info",children:[a.jsxs("span",{className:"user-name",children:[S.first_name," ",S.last_name]}),a.jsx("span",{className:"user-email",children:S.user_email})]}),a.jsx("div",{className:`status-badge status-${xe}`,children:S.isAllocated?"ALLOCATED":S.hasPlannedAllocation?"PLANNED":"AVAILABLE"})]}),a.jsxs("div",{className:"user-card-footer",children:[a.jsxs("span",{className:"mobile-info",children:[" ",S.mobile_no]}),z.type==="Office Staff"?a.jsxs("span",{className:"mobile-info",title:z.location!=="Head Office"?`Allocated Ships: ${z.location}`:"Head Office",style:{cursor:z.location!=="Head Office"?"help":"default"},children:[" ",z.location!=="Head Office"?`${z.location.split(", ").length} Ship${z.location.split(", ").length>1?"s":""}`:z.location]}):a.jsxs("span",{className:"mobile-info",children:[" ",z.location]}),a.jsx("span",{className:"view-details",children:"Click for details "})]})]})};return a.jsxs("div",{className:"user-allocation-main",children:[a.jsxs("div",{className:"user-list-container",children:[a.jsx("header",{className:"user-list-header",children:a.jsx("h2",{children:" User / Staff / Crew Management"})}),a.jsx("div",{className:"search-box",children:a.jsx("div",{className:"search-wrapper",children:a.jsx("input",{type:"text",placeholder:" SEARCH CREW NAME / SHIP NAME / EMAIL",className:"search-input",value:K,onChange:S=>Te(S.target.value),style:{marginTop:"15px"}})})}),a.jsxs("div",{className:"user-table-header",children:[a.jsx("span",{className:"name-col",children:"USER DETAILS"}),a.jsx("span",{className:"status-col",children:"STATUS"})]}),a.jsx("ul",{className:"user-list",children:Hn.map(S=>a.jsx(Zn,{user:S,onClick:Sn},S.UHA_ID))}),a.jsx("div",{className:"action-footer",children:a.jsx("button",{title:"Add User",onClick:()=>{Ya(!0)},className:"add-user-btn",children:"+ Add New User"})})]}),a.jsxs("div",{className:"dept-desg-container",children:[a.jsx(jn,{}),a.jsx(At,{}),a.jsx("div",{className:"designation-section",children:pa==="SELECT USER"&&!He?a.jsx("div",{className:"select-user-placeholder",children:a.jsxs("div",{className:"placeholder-content",children:[a.jsx("div",{className:"placeholder-icon",children:""}),a.jsx("h3",{children:"Select a User"}),a.jsx("p",{children:"Choose a user from the left panel to view details, edit information, or allocate duty"}),a.jsxs("div",{className:"placeholder-stats",children:[a.jsxs("span",{children:[Hn.length," users found"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:[Mt.filter(S=>S.isAllocated).length," currently allocated"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:[Mt.filter(S=>!S.isAllocated&&!S.hasPlannedAllocation).length," available"]})]})]})}):pa.startsWith("SELECTED:")?le():si(pa)})]}),vn&&He&&a.jsx("div",{className:"modern-modal-overlay allocate-duty-modal",children:a.jsxs("div",{className:"modern-user-modal allocate-duty-modal-content",children:[a.jsx("div",{className:"modern-modal-header",children:a.jsxs("div",{className:"modern-header-content",children:[a.jsxs("div",{className:"modern-title-section",children:[a.jsx("div",{className:"modern-modal-icon allocate-icon",children:a.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M19 4H5C3.89543 4 3 4.89543 3 6V18C3 19.1046 3.89543 20 5 20H19C20.1046 20 21 19.1046 21 18V6C21 4.89543 20.1046 4 19 4Z",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M16 2V6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("path",{d:"M8 2V6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}),a.jsxs("div",{className:"modern-title-text",children:[a.jsx("h2",{className:"modern-modal-title",children:"Allocate Duty Position"}),a.jsxs("p",{className:"modern-modal-subtitle",children:["Assigning duty to ",a.jsxs("span",{className:"user-highlight",children:[He.first_name," ",He.last_name]})]})]})]}),a.jsx("button",{className:"modern-close-button",onClick:Sa,children:a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}),a.jsxs("div",{className:"user-summary-card",children:[a.jsxs("div",{className:"user-avatar-large",children:[He.first_name?.charAt(0),He.last_name?.charAt(0)]}),a.jsxs("div",{className:"user-summary-info",children:[a.jsxs("h3",{children:[He.first_name," ",He.last_name]}),a.jsxs("div",{className:"user-details-grid",children:[a.jsxs("div",{className:"user-detail",children:[a.jsx("span",{className:"detail-label",children:"Email"}),a.jsx("span",{className:"detail-value",children:He.user_email})]}),a.jsxs("div",{className:"user-detail",children:[a.jsx("span",{className:"detail-label",children:"Mobile"}),a.jsx("span",{className:"detail-value",children:He.mobile_no})]}),a.jsxs("div",{className:"user-detail",children:[a.jsx("span",{className:"detail-label",children:"Status"}),a.jsx("span",{className:`status-badge ${He.isAllocated?"allocated":He.hasPlannedAllocation?"planned":"available"}`,children:He.isAllocated?"Allocated":He.hasPlannedAllocation?"Planned":"Available"})]})]})]})]}),a.jsx("div",{className:"modern-modal-content",children:a.jsx("div",{className:"allocation-form-section",children:a.jsxs("div",{className:"form-section-card",children:[a.jsxs("div",{className:"card-header",children:[a.jsx("div",{className:"card-icon",children:""}),a.jsx("h4",{className:"card-title",children:"Duty Location & Position"})]}),a.jsxs("div",{className:"modern-form-grid",children:[a.jsxs("div",{className:"modern-form-group",children:[a.jsxs("label",{className:"modern-form-label required",children:[a.jsx("span",{className:"label-icon",children:""}),"Selected Location"]}),a.jsxs("div",{className:"select-wrapper",children:[a.jsxs("select",{value:R,onChange:S=>{$(S.target.value),ie(""),we(""),ue(""),se(Z=>({...Z,ship_id:S.target.value}))},className:"modern-form-input",children:[a.jsx("option",{value:"",children:"Choose a location..."}),o.map(S=>a.jsx("option",{value:S.SHA_ID,children:S.ship_name},S.SHA_ID))]}),a.jsx("div",{className:"select-arrow",children:""})]}),tt.ship_id&&a.jsxs("div",{className:"validation-message error",children:[a.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),tt.ship_id]})]}),a.jsxs("div",{className:"modern-form-group",children:[a.jsxs("label",{className:"modern-form-label required",children:[a.jsx("span",{className:"label-icon",children:""}),"Department"]}),a.jsxs("div",{className:"select-wrapper",children:[a.jsxs("select",{value:J,onChange:S=>{ie(S.target.value),we(""),ue(""),se(Z=>({...Z,dept_id:S.target.value}))},disabled:!R,className:"modern-form-input",children:[a.jsx("option",{value:"",children:"Select Department"}),f.filter(S=>R==="office"?S.ship_id===null:S.ship_id===R).map(S=>a.jsx("option",{value:S.DEPT_ID,children:S.dept_name},S.DEPT_ID))]}),a.jsx("div",{className:"select-arrow",children:""})]}),tt.dept_id&&a.jsxs("div",{className:"validation-message error",children:[a.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),tt.dept_id]})]}),a.jsxs("div",{className:"modern-form-group",children:[a.jsxs("label",{className:"modern-form-label required",children:[a.jsx("span",{className:"label-icon",children:""}),"Designation"]}),a.jsxs("div",{className:"select-wrapper",children:[a.jsxs("select",{value:te,onChange:S=>{we(S.target.value),ue(""),se(Z=>({...Z,desg_id:S.target.value}))},disabled:!J,className:"modern-form-input",children:[a.jsx("option",{value:"",children:"Select Designation"}),i.filter(S=>S.DEPT_ID===J).map(S=>a.jsxs("option",{value:S.DSGH_ID,children:[S.desg_name," (",S.desg_code,")"]},S.DSGH_ID))]}),a.jsx("div",{className:"select-arrow",children:""})]}),tt.desg_id&&a.jsxs("div",{className:"validation-message error",children:[a.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),tt.desg_id]})]}),a.jsxs("div",{className:"modern-form-group",children:[a.jsxs("label",{className:"modern-form-label required",children:[a.jsx("span",{className:"label-icon",children:""}),"Replacing Position"]}),a.jsxs("div",{className:"select-wrapper",children:[a.jsxs("select",{value:ge,onChange:S=>{const Z=S.target.value;ue(Z),se(Ae=>({...Ae,replacing_to_user:Z||null}))},disabled:!te,className:"modern-form-input",children:[a.jsx("option",{value:"",children:"Select Position"}),te&&(()=>{const S=i.find(xe=>xe.DSGH_ID==te)?.no_of_positions||0,Z=Je[te]||[],Ae=[];Z.forEach(xe=>{if(xe?.user_id){const Ee=Qe[xe.user_id];Ee&&Ae.push(a.jsxs("option",{value:xe.user_id,children:[" ",Ee.first_name," ",Ee.last_name]},`user-${xe.user_id}`))}});const z=S-Z.length;for(let xe=0;xe<z;xe++)Ae.push(a.jsxs("option",{value:`vacant-${xe}`,children:[" Vacant Position #",xe+1]},`vacant-${xe}`));return Ae})()]}),a.jsx("div",{className:"select-arrow",children:""})]}),tt.replacing_to_user&&a.jsxs("div",{className:"validation-message error",children:[a.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),tt.replacing_to_user]})]}),a.jsxs("div",{className:"modern-form-group",children:[a.jsxs("label",{className:"modern-form-label required",children:[a.jsx("span",{className:"label-icon",children:""}),"Boarding Date"]}),a.jsx("input",{type:"date",value:da,min:new Date().toISOString().split("T")[0],onChange:S=>{en(S.target.value),se(Z=>({...Z,date_of_boarding:S.target.value}))},className:"modern-form-input"}),tt.date_of_boarding&&a.jsxs("div",{className:"validation-message error",children:[a.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),tt.date_of_boarding]})]}),a.jsxs("div",{className:"modern-form-group",children:[a.jsxs("label",{className:"modern-form-label",children:[a.jsx("span",{className:"label-icon",children:""}),"Expected Deboarding"]}),a.jsx("input",{type:"date",value:je,min:da||new Date().toISOString().split("T")[0],onChange:S=>{P(S.target.value),se(Z=>({...Z,expected_deboarding_date:S.target.value}))},className:"modern-form-input"})]}),a.jsxs("div",{className:"modern-form-group full-width",children:[a.jsxs("label",{className:"modern-form-label required",children:[a.jsx("span",{className:"label-icon",children:""}),"Duty Location / Port"]}),a.jsx("input",{type:"text",value:It,placeholder:"Enter duty location or exchange port...",onChange:S=>{On(S.target.value),se(Z=>({...Z,place_of_boarding:S.target.value}))},className:"modern-form-input"}),tt.place_of_boarding&&a.jsxs("div",{className:"validation-message error",children:[a.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),tt.place_of_boarding]})]}),a.jsxs("div",{className:"modern-form-group full-width",children:[a.jsxs("label",{className:"modern-form-label",children:[a.jsx("span",{className:"label-icon",children:""}),"Joining Instructions"]}),a.jsx("textarea",{value:is,onChange:S=>{ua(S.target.value),se(Z=>({...Z,crew_status:S.target.value}))},placeholder:"Enter any special instructions or notes for this allocation...",className:"modern-form-input textarea",rows:"3"}),a.jsx("div",{className:"helper-text",children:"This information will be shared with the user and relevant authorities"})]})]})]})})}),a.jsxs("div",{className:"modern-modal-footer",children:[a.jsx("div",{className:"footer-left",children:a.jsx("div",{className:"allocation-summary",children:a.jsxs("span",{className:"summary-text",children:["Ready to allocate ",a.jsxs("strong",{children:[He.first_name," ",He.last_name]})," to position"]})})}),a.jsxs("div",{className:"footer-right",children:[a.jsx("button",{type:"button",className:"modern-btn secondary",onClick:Sa,children:"Cancel"}),a.jsxs("button",{type:"button",className:"modern-btn primary allocate-action-btn",onClick:async()=>{Ie()&&await Me()},children:[a.jsx("span",{className:"btn-icon",children:""}),"Confirm Allocation"]})]})]})]})}),vn==!0&&!He&&a.jsx("div",{id:"warning-popup",children:a.jsxs("div",{id:"warning-popup-content",children:[a.jsx("button",{className:"popup-closee",onClick:()=>{Sa()},children:""}),a.jsx("div",{className:"warning-icon"}),a.jsx("p",{children:"Please select a user first to allocate duty"}),a.jsx("div",{className:"warning-popup-actions",children:a.jsx("button",{className:"warning-popup-ok-btn",onClick:()=>{Sa()},children:"Got It"})})]})}),Da&&a.jsx("div",{className:"modal-overlay",children:a.jsxs("div",{className:"deboard-modal",children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("div",{className:"header-content",children:a.jsx("h2",{className:"modal-title",children:"Initiate Deboarding Process"})}),a.jsx("button",{className:"close-button",onClick:()=>{Mi()},children:a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),a.jsxs("div",{className:"modal-content",children:[a.jsx("p",{className:"instruction-text",children:"Select upcoming successor from available unallocated users:"}),a.jsxs("div",{className:"successor-selection-group",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"input-label",children:"Successor Selection"}),a.jsxs("div",{className:"successor-dropdown-wrapper",children:[a.jsxs("select",{className:"successor-dropdown",value:U,onChange:S=>{console.log("e.target.value : ",S.target.value),Re(S.target.value)},children:[a.jsx("option",{value:"",children:"Choose a successor..."}),Mt.filter(S=>{if(console.log("av ::: ",S),S.isAllocated||S.hasPlannedAllocation)return!1;const Z=ht?.OSCA_ID?2:1;if(S.user_type!==Z)return!1;let Ae=[];return S.isAllocated||S.hasPlannedAllocation?!1:(Ae.push(S),Ae.length>0)}).map(S=>a.jsxs("option",{value:S.UHA_ID,children:[S.first_name," ",S.last_name,"  ",S.duty_level||"Level-1","  Ex-Factory Staff"]},S.UHA_ID))]}),a.jsx("div",{className:"dropdown-arrow",children:a.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),U&&a.jsxs("div",{className:"date-selection-group",children:[a.jsxs("div",{className:"date-row",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"date-label",children:"Expected Date of Deboarding"}),a.jsx("input",{type:"date",className:"date-input",value:je,min:new Date().toISOString().split("T")[0],onChange:S=>{P(S.target.value)}})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"date-label",children:"Successor's Expected Onboarding"}),a.jsx("input",{type:"date",className:"date-input",value:ya,min:new Date().toISOString().split("T")[0],onChange:S=>{Yn(S.target.value)}})]})]}),ya&&je&&new Date(ya)<new Date(je)&&a.jsx("div",{className:"validation-warning",children:" Successor onboarding should typically be on or after deboarding date"})]})]}),a.jsxs("div",{className:"deboarding-info-box",children:[a.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M12 16V12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M12 8H12.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),a.jsx("span",{children:"Only previously deboarded crew members (crew_status = 2) matching the position requirements are shown"})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{className:"secondary-button",onClick:()=>ca(!1),children:"Cancel Process"}),a.jsxs("button",{className:"primary-button",onClick:()=>{U?Gn():(ca(!1),Qa(!0))},children:[a.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M20 6L9 17L4 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),U?"Confirm Deboarding":"Plan Job Distribution"]})]})]})}),Vn&&a.jsx("div",{className:"modern-modal-overlay",children:a.jsxs("div",{className:"modern-user-modal",children:[a.jsxs("div",{className:"modern-modal-header",children:[a.jsxs("div",{className:"modern-header-content",children:[a.jsxs("div",{className:"modern-title-section",children:[a.jsx("div",{className:"modern-modal-icon",children:a.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z",stroke:"currentColor",strokeWidth:"2"})]})}),a.jsxs("div",{className:"modern-title-text",children:[a.jsx("h2",{className:"modern-modal-title",children:"Add Team Members"}),a.jsx("p",{className:"modern-modal-subtitle",children:"Add one or multiple users to your organization"})]})]}),a.jsx("button",{className:"modern-close-button",onClick:()=>{Ya(!1),X(!1),j("")},children:a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),a.jsx("div",{className:"user-tabs-container",children:a.jsxs("div",{className:"user-tabs-scroll",children:[Ne.map((S,Z)=>a.jsxs("button",{className:`user-tab ${Y===Z?"active":""}`,onClick:()=>w(Z),children:[a.jsx("span",{className:"tab-avatar",children:S.first_name?S.first_name.charAt(0).toUpperCase():"U"}),a.jsx("span",{className:"tab-name",children:S.first_name&&S.last_name?`${S.first_name} ${S.last_name}`:`User ${Z+1}`}),Ne.length>1&&a.jsx("button",{className:"tab-remove",onClick:Ae=>{Ae.stopPropagation(),st(Z)},children:a.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]},S.id)),a.jsxs("button",{className:"user-tab add-tab",onClick:me,children:[a.jsx("span",{className:"tab-avatar",children:"+"}),a.jsx("span",{className:"tab-name",children:"Add New"})]})]})})]}),a.jsxs("div",{className:"modern-modal-content",children:[a.jsx("div",{className:"user-type-section",children:a.jsxs("div",{className:"form-section-card",children:[a.jsxs("div",{className:"card-header",children:[a.jsx("div",{className:"card-icon"}),a.jsx("h4",{className:"card-title",children:"User Type & Allocation"})]}),a.jsxs("div",{className:"user-type-options",children:[a.jsx("div",{className:"user-type-option",children:a.jsxs("label",{className:"user-type-label",children:[a.jsx("input",{type:"radio",name:"userType",value:"fresh",checked:!B,onChange:()=>X(!1),className:"radio-input"}),a.jsxs("div",{className:"option-content",children:[a.jsx("span",{className:"option-title",children:"Fresh User"}),a.jsx("span",{className:"option-description",children:"User is new and not currently allocated to any ship/office"}),a.jsxs("div",{className:"option-details",children:[a.jsx("span",{className:"detail-item",children:" Added to system only"}),a.jsx("span",{className:"detail-item",children:" Can be allocated later"}),a.jsx("span",{className:"detail-item",children:' Shows in "Available Users" list'})]})]})]})}),a.jsx("div",{className:"user-type-option",children:a.jsxs("label",{className:"user-type-label",children:[a.jsx("input",{type:"radio",name:"userType",value:"existing",checked:B,onChange:()=>X(!0),className:"radio-input"}),a.jsxs("div",{className:"option-content",children:[a.jsx("span",{className:"option-title",children:"Existing Ship User"}),a.jsx("span",{className:"option-description",children:"User is already working on a ship but not in the system"}),a.jsxs("div",{className:"option-details",children:[a.jsx("span",{className:"detail-item",children:" Added to system"}),a.jsx("span",{className:"detail-item",children:" Automatically allocated to ship"}),a.jsx("span",{className:"detail-item",children:" Past boarding dates allowed"})]})]})]})})]}),B&&a.jsxs("div",{className:"allocation-form",children:[a.jsx("div",{className:"form-divider",children:a.jsx("span",{children:"Ship Allocation Details"})}),a.jsxs("div",{className:"modern-form-grid",children:[a.jsxs("div",{className:"modern-form-group",children:[a.jsx("label",{className:"modern-form-label required",children:"Ship"}),a.jsxs("select",{className:"modern-form-input",value:R,onChange:S=>$(S.target.value),required:!0,children:[a.jsx("option",{value:"",children:"Select Location"}),o.map(S=>a.jsx("option",{value:S.SHA_ID,children:S.ship_name},S.SHA_ID))]})]}),a.jsxs("div",{className:"modern-form-group",children:[a.jsx("label",{className:"modern-form-label required",children:"Department"}),a.jsxs("select",{className:"modern-form-input",value:J,onChange:S=>ie(S.target.value),disabled:!R,required:!0,children:[a.jsx("option",{value:"",children:"Select Department"}),f.filter(S=>R==="office"?S.ship_id===null:S.ship_id===R).map(S=>a.jsx("option",{value:S.DEPT_ID,children:S.dept_name},S.DEPT_ID))]})]}),a.jsxs("div",{className:"modern-form-group",children:[a.jsx("label",{className:"modern-form-label required",children:"Designation"}),a.jsxs("select",{className:"modern-form-input",value:te,onChange:S=>we(S.target.value),disabled:!J,required:!0,children:[a.jsx("option",{value:"",children:"Select Designation"}),i.filter(S=>S.DEPT_ID===J).map(S=>a.jsx("option",{value:S.DSGH_ID,children:S.desg_name},S.DSGH_ID))]})]}),a.jsxs("div",{className:"modern-form-group",children:[a.jsx("label",{className:"modern-form-label required",children:"Actual Boarding Date"}),a.jsx("input",{type:"date",className:"modern-form-input",value:fe,onChange:S=>j(S.target.value),max:new Date().toISOString().split("T")[0],required:!0}),a.jsx("p",{className:"helper-text",children:"Enter the actual date when the user joined the ship (past dates allowed)"})]}),a.jsxs("div",{className:"modern-form-group full-width",children:[a.jsx("label",{className:"modern-form-label",children:"Duty Location"}),a.jsx("input",{type:"text",className:"modern-form-input",value:It,onChange:S=>On(S.target.value),placeholder:"Enter duty location or port"})]}),a.jsxs("div",{className:"modern-form-group",children:[a.jsx("label",{className:"modern-form-label",children:"Expected Deboarding Date"}),a.jsx("input",{type:"date",className:"modern-form-input",value:je,onChange:S=>P(S.target.value),min:fe||new Date().toISOString().split("T")[0]})]})]})]})]})}),a.jsx("form",{className:"modern-user-form",onSubmit:Ot,children:a.jsxs("div",{className:"user-form-section",children:[a.jsxs("div",{className:"section-header",children:[a.jsxs("h3",{className:"modern-section-title",children:["User ",Y+1," Details",Ne[Y].first_name&&Ne[Y].last_name&&a.jsxs("span",{className:"user-name-badge",children:[Ne[Y].first_name," ",Ne[Y].last_name]})]}),a.jsx("div",{className:"form-progress",children:a.jsxs("span",{className:"progress-text",children:[Y+1," of ",Ne.length]})})]}),a.jsxs("div",{className:"form-section-card",children:[a.jsxs("div",{className:"card-header",children:[a.jsx("div",{className:"card-icon",children:""}),a.jsx("h4",{className:"card-title",children:"Personal Information"})]}),a.jsxs("div",{className:"modern-form-grid",children:[a.jsxs("div",{className:"modern-form-group",children:[a.jsx("label",{className:"modern-form-label required",children:"First Name"}),a.jsx("input",{type:"text",className:"modern-form-input",value:Ne[Y].first_name,onChange:S=>it(Y,"first_name",S.target.value),placeholder:"Enter first name",required:!0})]}),a.jsxs("div",{className:"modern-form-group",children:[a.jsx("label",{className:"modern-form-label required",children:"Last Name"}),a.jsx("input",{type:"text",className:"modern-form-input",value:Ne[Y].last_name,onChange:S=>it(Y,"last_name",S.target.value),placeholder:"Enter last name",required:!0})]}),a.jsxs("div",{className:"modern-form-group",children:[a.jsx("label",{className:"modern-form-label",children:"Middle Name"}),a.jsx("input",{type:"text",className:"modern-form-input",value:Ne[Y].middle_name,onChange:S=>it(Y,"middle_name",S.target.value),placeholder:"Enter middle name"})]}),a.jsxs("div",{className:"modern-form-group",children:[a.jsx("label",{className:"modern-form-label",children:"Gender"}),a.jsxs("div",{className:"modern-select-wrapper",children:[a.jsxs("select",{className:"modern-form-input",value:Ne[Y].gender,onChange:S=>it(Y,"gender",S.target.value),children:[a.jsx("option",{value:"",children:"Select gender"}),a.jsx("option",{value:"male",children:"Male"}),a.jsx("option",{value:"female",children:"Female"}),a.jsx("option",{value:"other",children:"Other"})]}),a.jsx("div",{className:"select-arrow",children:""})]})]})]})]}),a.jsxs("div",{className:"form-section-card",children:[a.jsxs("div",{className:"card-header",children:[a.jsx("div",{className:"card-icon",children:""}),a.jsx("h4",{className:"card-title",children:"Contact Information"})]}),a.jsxs("div",{className:"modern-form-grid",children:[a.jsxs("div",{className:"modern-form-group",children:[a.jsx("label",{className:"modern-form-label required",children:"Mobile Number"}),a.jsxs("div",{className:"modern-phone-input",children:[a.jsxs("select",{className:"country-code-select",value:Ne[Y].country_code||"+91",onChange:S=>it(Y,"country_code",S.target.value),children:[a.jsx("option",{value:"+91",children:" +91"}),a.jsx("option",{value:"+1",children:" +1"}),a.jsx("option",{value:"+44",children:" +44"}),a.jsx("option",{value:"+61",children:" +61"}),a.jsx("option",{value:"+971",children:" +971"}),a.jsx("option",{value:"+81",children:" +81"}),a.jsx("option",{value:"+49",children:" +49"})]}),a.jsx("input",{type:"tel",className:`modern-form-input ${Ne[Y].mobile_no&&!_t(Ne[Y].mobile_no)?"invalid":""}`,value:Ne[Y].mobile_no,onChange:S=>it(Y,"mobile_no",S.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"10-digit mobile number",maxLength:"10",required:!0})]}),Ne[Y].mobile_no&&!_t(Ne[Y].mobile_no)&&a.jsxs("div",{className:"validation-message",children:[a.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"#ef4444",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Please enter a valid 10-digit mobile number"]})]}),a.jsxs("div",{className:"modern-form-group",children:[a.jsx("label",{className:"modern-form-label required",children:"User Type"}),a.jsxs("div",{className:"modern-select-wrapper",children:[a.jsxs("select",{className:"modern-form-input",value:Ne[Y].user_type,onChange:S=>it(Y,"user_type",S.target.value),required:!0,children:[a.jsx("option",{value:"",children:"Select type"}),a.jsx("option",{value:"1",children:" Crew Member"}),a.jsx("option",{value:"2",children:" Office Staff"})]}),a.jsx("div",{className:"select-arrow",children:""})]})]}),a.jsxs("div",{className:"modern-form-group full-width",children:[a.jsx("label",{className:"modern-form-label required",children:"Email Address"}),a.jsx("input",{type:"email",className:"modern-form-input",value:Ne[Y].user_email,onChange:S=>it(Y,"user_email",S.target.value),placeholder:"Enter email address",required:!0})]})]})]}),a.jsxs("div",{className:"form-section-card",children:[a.jsxs("div",{className:"card-header",children:[a.jsx("div",{className:"card-icon",children:""}),a.jsx("h4",{className:"card-title",children:"Employment Details"})]}),a.jsxs("div",{className:"modern-form-grid",children:[a.jsxs("div",{className:"modern-form-group",children:[a.jsx("label",{className:"modern-form-label",children:"Account Status"}),a.jsxs("div",{className:"status-toggle-modern",children:[a.jsxs("button",{type:"button",className:`status-option ${Ne[Y].user_status===1?"active":""}`,onClick:()=>it(Y,"user_status",1),children:[a.jsx("span",{className:"status-indicator active"}),"Active"]}),a.jsxs("button",{type:"button",className:`status-option ${Ne[Y].user_status===0?"active":""}`,onClick:()=>it(Y,"user_status",0),children:[a.jsx("span",{className:"status-indicator inactive"}),"Inactive"]})]})]}),a.jsxs("div",{className:"modern-form-group",children:[a.jsx("label",{className:"modern-form-label",children:"Date of Joining"}),a.jsx("input",{type:"date",className:"modern-form-input",value:Ne[Y].date_of_joining,onChange:S=>it(Y,"date_of_joining",S.target.value)})]})]})]})]})})]}),a.jsxs("div",{className:"modern-modal-footer",children:[a.jsx("div",{className:"footer-left",children:a.jsxs("span",{className:"users-count",children:[Ne.length," user",Ne.length!==1?"s":""," ready to add",B&&" and allocate to ship"]})}),a.jsxs("div",{className:"footer-right",children:[a.jsx("button",{type:"button",className:"modern-btn secondary",onClick:()=>{Ya(!1),X(!1),j("")},children:"Cancel"}),a.jsxs("button",{type:"button",className:"modern-btn primary",onClick:Ot,disabled:B&&(!R||!J||!te||!fe),children:[a.jsx("span",{className:"btn-icon",children:""}),B?"Add & Allocate":"Add"," ",Ne.length," User",Ne.length!==1?"s":""]})]})]})]})}),dn&&a.jsx("div",{id:"show-deaboarding-users-active-jobs-with-job-assign-to-different-users-main-container",children:a.jsx("div",{id:"show-deaboarding-users-active-jobs-with-job-assign-to-different-users-content-container",children:a.jsxs("div",{className:"active-jobs-distribution-modal",children:[a.jsxs("div",{className:"distribution-modal-header",children:[a.jsx("h2",{children:"Job Distribution Plan - No Successor"}),a.jsx("p",{children:U?`Distributing jobs from ${Qe[ht?.user_id]?.first_name} to ${Qe[U]?.first_name}`:`Distributing ${Ma()} active jobs from ${Qe[ht?.user_id]?.first_name} to available crew members`}),a.jsx("button",{className:"close-modal-btn",onClick:()=>Qa(!1),children:""})]}),a.jsxs("div",{className:"scrollable-content",children:[a.jsxs("div",{className:"user-info-section",children:[a.jsxs("div",{className:"user-info-card",children:[a.jsx("h3",{children:"User Being Deboarded"}),a.jsxs("div",{className:"user-details-grid",children:[a.jsxs("div",{className:"user-detail",children:[a.jsx("span",{className:"label",children:"Name:"}),a.jsxs("span",{className:"value",children:[Qe[ht?.user_id]?.first_name||"N/A",Qe[ht?.user_id]?.last_name||""]})]}),a.jsxs("div",{className:"user-detail",children:[a.jsx("span",{className:"label",children:"Designation:"}),a.jsx("span",{className:"value",children:i.find(S=>S.DSGH_ID===ht?.desg_id)?.desg_name||"N/A"})]}),a.jsxs("div",{className:"user-detail",children:[a.jsx("span",{className:"label",children:"Department:"}),a.jsx("span",{className:"value",children:f.find(S=>S.DEPT_ID===ht?.dept_id)?.dept_name||"N/A"})]}),a.jsxs("div",{className:"user-detail",children:[a.jsx("span",{className:"label",children:"Total Active Jobs:"}),a.jsx("span",{className:"value badge",children:Ma()})]})]})]}),!U&&a.jsxs("div",{className:"user-info-card warning-info",children:[a.jsx("h3",{children:" No Successor Selected"}),a.jsxs("div",{className:"user-details-grid",children:[a.jsxs("div",{className:"user-detail full-width",children:[a.jsx("span",{className:"label",children:"Distribution Mode:"}),a.jsx("span",{className:"value",children:"Jobs will be distributed to available crew members"})]}),a.jsxs("div",{className:"user-detail full-width",children:[a.jsx("span",{className:"label",children:"Note:"}),a.jsx("span",{className:"value",children:"Some jobs may be paused if no suitable crew members are available"})]})]})]})]}),a.jsxs("p",{className:"info-note",children:[" ",a.jsx("strong",{children:"Note:"})," If you do not select any crew member for one or more jobs, those jobs will be automatically handed over to the ",a.jsx("strong",{children:"secondary person"}),"."]}),a.jsxs("div",{className:"active-jobs-list-section",children:[a.jsx("h3",{children:"Active Jobs Assignment"}),a.jsx("div",{className:"jobs-table-container",children:a.jsxs("table",{className:"jobs-distribution-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Job ID"}),a.jsx("th",{children:"Job Name"}),a.jsx("th",{children:"Priority"}),a.jsx("th",{children:"Due Date"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Assigned To"}),a.jsx("th",{children:"Assignment Control"})]})}),a.jsx("tbody",{children:Kt()})]})})]})]}),a.jsxs("div",{className:"distribution-actions",children:[a.jsxs("div",{className:"action-buttons",children:[a.jsx("button",{className:"btn-secondary",onClick:()=>{Qa(!1),U||ca(!0)},children:U?"Cancel":"Back to Successor Selection"}),a.jsx("button",{className:"btn-primary",onClick:Ft,children:U?"Confirm Deboarding & Distribute Jobs":"Confirm Deboarding & Execute Distribution"})]}),a.jsx("div",{className:"action-note",children:a.jsx("p",{children:U?" Job distribution will be executed automatically upon confirmation":" Jobs will be distributed to selected crew members upon confirmation"})})]})]})})})]})},dj=u.lazy(()=>hl(()=>import("./Dashboard-DR-lC-B4.js"),__vite__mapDeps([0,1]))),uj=u.lazy(()=>hl(()=>import("./NotFound-BZ2PJ04c.js"),__vite__mapDeps([2,3]))),fj=u.lazy(()=>hl(()=>import("./JTH_form-DEhoqox1.js"),__vite__mapDeps([4,5]))),hj=u.lazy(()=>hl(()=>import("./JCD_creation_form-C1z4VLaM.js"),__vite__mapDeps([6,7]))),mj=u.lazy(()=>hl(()=>import("./Component_meter_reinitializ-CksVhJ4w.js"),__vite__mapDeps([8,9]))),pj=u.lazy(()=>hl(()=>import("./DepartmentDesignation-orL7_Y19.js"),__vite__mapDeps([10,11]))),gj=()=>{const{user:i}=u.useContext($a),{profiles:r}=u.useContext(ai),{shipsList:d}=u.useContext(ss),[o,f]=u.useState(null),[h,p]=u.useState([]),[y,x]=u.useState([]),[_,b]=u.useState([]),[C,k]=u.useState([]),[H,D]=u.useState([]),[T,L]=u.useState([]),R=($,J)=>{const te=($.profile_ids?.split(",")||[]).map(ue=>r?.find(je=>je.PROFILE_ID===ue)).filter(Boolean);if(!te.length)return;const ge=te[0].process_ids?.split(",").filter(ue=>ue.includes(J))||[];switch(J){case"MLC":p(ge);break;case"SHA":x(ge);break;case"rhnm":b(ge);break;case"JTH":k(ge);break;case"JSCA":D(ge);break;case"CMR":L(ge);break}};return u.useEffect(()=>{(async()=>{i&&["MLC","SHA","rhnm","JTH","JSCA","CMR"].forEach(J=>R(i,J))})()},[i,r]),a.jsx(u.Suspense,{fallback:a.jsx(Pg,{}),children:a.jsxs(yy,{children:[a.jsx(ea,{path:"/",element:a.jsx(zn,{to:"/login"})}),a.jsx(ea,{path:"/login",element:a.jsx(Jb,{})}),a.jsx(ea,{path:"/SignUp",element:a.jsx(Bb,{})}),i?a.jsxs(a.Fragment,{children:[a.jsx(ea,{path:"/home",element:a.jsx(dj,{})}),a.jsx(ea,{path:"/department-designation",element:a.jsx(pj,{})}),C.includes("P_JTH_0001")&&a.jsx(ea,{path:"/JTH_form",element:a.jsx(fj,{})}),a.jsx(ea,{path:"/JCD_form",element:a.jsx(sj,{}),children:a.jsx(ea,{index:!0,element:a.jsx(hj,{})})}),h.includes("P_MLC_0001")&&a.jsx(ea,{path:"/MovementLogPage",element:a.jsx(Yb,{})}),i.emp_type===2&&y.includes("P_SHA_0001")&&a.jsx(ea,{path:"/ShipsManagement",element:a.jsx(Gb,{})}),_.includes("P_rhnm_0001")&&a.jsx(ea,{path:"/RH-NM",element:a.jsx(Zb,{})}),H.includes("P_JSCA_0001")&&a.jsx(ea,{path:"/jcd-ship-combination",element:a.jsx(u0,{})}),a.jsx(ea,{path:"/comp-meter-reinitializer",element:a.jsx(mj,{})}),a.jsx(ea,{path:"/user-allotment",element:a.jsx(cj,{})})]}):a.jsxs(a.Fragment,{children:[a.jsx(ea,{path:"/home",element:a.jsx(zn,{to:"/login"})}),a.jsx(ea,{path:"/JTH_form",element:a.jsx(zn,{to:"/login"})}),a.jsx(ea,{path:"/JCD_form",element:a.jsx(zn,{to:"/login"})}),a.jsx(ea,{path:"/MovementLogPage",element:a.jsx(zn,{to:"/login"})}),a.jsx(ea,{path:"/ShipsManagement",element:a.jsx(zn,{to:"/login"})}),a.jsx(ea,{path:"/RH-NM",element:a.jsx(zn,{to:"/login"})}),a.jsx(ea,{path:"/jcd-ship-combination",element:a.jsx(zn,{to:"/login"})}),a.jsx(ea,{path:"/comp-meter-reinitializer",element:a.jsx(zn,{to:"/login"})}),a.jsx(ea,{path:"/user-allotment",element:a.jsx(zn,{to:"/login"})}),a.jsx(ea,{path:"/department-designation",element:a.jsx(zn,{to:"/login"})})]}),a.jsx(ea,{path:"*",element:a.jsx(uj,{})})]})})},_j=()=>{const i=_l(),{user:r}=u.useContext($a),{profiles:d}=u.useContext(ai),{shipsList:o}=u.useContext(ss),{designationList:f}=u.useContext(vl),[h,p]=u.useState(null),[y,x]=u.useState(null),[_,b]=u.useState({MLC:{formIDs:[],processIDs:[]},SHA:{formIDs:[],processIDs:[]},JCD:{formIDs:[],processIDs:[]},RHNM:{formIDs:[],processIDs:[]},JSCA:{formIDs:[],processIDs:[]},JTH:{formIDs:[],processIDs:[]},CMR:{formIDs:[],processIDs:[]}}),C=()=>i("/home");return u.useEffect(()=>{if(r&&f){const k=f.find(H=>H.DSGH_ID==r.emp_desg);x(k?.desg_name||null)}},[r,d]),a.jsx("header",{className:"navbar-corporate",children:a.jsxs("nav",{className:"navbar-corporate__container",children:[a.jsxs("div",{className:"navbar-corporate__brand",onClick:C,children:[a.jsx("img",{src:Lg,alt:"Uday ERP Logo",className:"navbar-corporate__logo"}),a.jsxs("h2",{className:"navbar-corporate__title",children:[r?.emp_name,y&&a.jsxs("span",{className:"navbar-corporate__designation",children:["(",y,")"]})]})]}),a.jsxs("div",{className:"navbar-corporate__menu",children:[a.jsxs(qn,{className:"navbar-corporate__link",to:"/home",children:[a.jsx("span",{className:"navbar-corporate__link-icon",children:""}),"Dashboard"]}),d?.filter(k=>r?.profile_ids?.includes(k.PROFILE_ID))[0]?.process_ids?.includes("P_JTH_0001")&&a.jsxs(qn,{className:"navbar-corporate__link",to:"/JTH_form",children:[a.jsx("span",{className:"navbar-corporate__link-icon"}),"Job Types"]}),d?.filter(k=>r?.profile_ids?.includes(k.PROFILE_ID))[0]?.process_ids?.includes("P_JCD_0007")&&a.jsxs(qn,{className:"navbar-corporate__link",to:"/JCD_form",children:[a.jsx("span",{className:"navbar-corporate__link-icon"}),"JCD"]}),d?.filter(k=>r?.profile_ids?.includes(k.PROFILE_ID))[0]?.process_ids?.includes("P_MLC_0001")&&a.jsxs(qn,{className:"navbar-corporate__link",to:"/MovementLogPage",children:[a.jsx("span",{className:"navbar-corporate__link-icon"}),"Movement Log Config"]}),d?.filter(k=>r?.profile_ids?.includes(k.PROFILE_ID))[0]?.process_ids?.includes("P_SHA_0001")&&a.jsxs(qn,{className:"navbar-corporate__link",to:"/ShipsManagement",children:[a.jsx("span",{className:"navbar-corporate__link-icon"}),"Location Management"]}),console.log("access.RHNM.processIDs : ",_.RHNM.processIDs),d?.filter(k=>r?.profile_ids?.includes(k.PROFILE_ID))[0]?.process_ids?.includes("P_rhnm_0001")&&a.jsxs(qn,{className:"navbar-corporate__link",to:"/RH-NM",children:[a.jsx("span",{className:"navbar-corporate__link-icon"}),"R.H / N.M."]}),d?.filter(k=>r?.profile_ids?.includes(k.PROFILE_ID))[0]?.process_ids?.includes("P_JSCA_0001")&&a.jsxs(qn,{className:"navbar-corporate__link",to:"/jcd-ship-combination",children:[a.jsx("span",{className:"navbar-corporate__link-icon"}),"JCD-Location Link"]}),d?.filter(k=>r?.profile_ids?.includes(k.PROFILE_ID))[0]?.process_ids?.includes("P_CMR_0001")&&a.jsxs(qn,{className:"navbar-corporate__link",to:"/comp-meter-reinitializer",children:[a.jsx("span",{className:"navbar-corporate__link-icon"}),"Comp. Meter Re-Initiate"]}),d?.filter(k=>r?.profile_ids?.includes(k.PROFILE_ID))[0]?.process_ids?.includes("P_UAT_0001")&&a.jsxs(qn,{className:"navbar-corporate__link",to:"/user-allotment",children:[a.jsx("span",{className:"navbar-corporate__link-icon"}),"User Allotment"]}),a.jsxs(qn,{className:"navbar-corporate__link",to:"/department-designation",children:[a.jsx("span",{className:"navbar-corporate__link-icon"}),"Department & Designation"]})]})]})})},xj=()=>{const{user:i}=u.useContext($a);return a.jsxs(Py,{basename:"/pms",children:[i&&a.jsx(_j,{}),a.jsx(gj,{}),a.jsx(nj,{position:"top-right",autoClose:3e3,style:{zIndex:999999999}})]})},yj=u.createContext(),vj=({children:i})=>{const[r,d]=u.useState([]),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await qe.get(`${o}getAllExecutedJobs`);d(h.data)}catch(h){console.error("Failed to fetch executed Jobs :",h)}};return u.useEffect(()=>{f()},[]),a.jsx(yj.Provider,{value:{executedJobList:r,refreshExecutedJobs:f},children:i})},bj=u.createContext(),jj=({children:i})=>{const[r,d]=u.useState(!1),[o,f]=u.useState(!1),[h,p]=u.useState(!1),[y,x]=u.useState(!1),[_,b]=u.useState(!1);return a.jsx(bj.Provider,{value:{setIsNewJCDClicked:d,setIsViewJCDClicked:f,setIsActiveJobsClicked:p,setIsCompletedJobsClicked:x,setIsUpcomingJobsClicked:b,isNewJCDClicked:r,isViewJCDClicked:o,isActiveJobsClicked:h,isCompletedJobsClicked:y,isUpcomingJobsClicked:_},children:i})},Sj=u.createContext(),Nj=({children:i})=>{const[r,d]=u.useState(null),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await qe.get(`${o}getAllShipsHealthList`);d(h.data)}catch(h){console.error("Failed to fetch All ships health list :",h)}};return u.useEffect(()=>{f()},[]),a.jsx(Sj.Provider,{value:{shipsHealthList:r,refreshShipsHealthList:f},children:i})},Cj=u.createContext(),Dj=({children:i})=>{const[r,d]=u.useState(!1);u.useEffect(()=>{const f=localStorage.getItem("theme"),h=window.matchMedia("(prefers-color-scheme: dark)").matches,p=f==="dark"||!f&&h;d(p),p&&document.documentElement.classList.add("dark")},[]);const o=()=>{d(f=>{const h=!f;return h?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",h?"dark":"light"),h})};return a.jsx(Cj.Provider,{value:{isDarkMode:r,toggleTheme:o},children:i})},Aj=u.createContext(),wj=({children:i})=>{const[r,d]=u.useState([]),o="https://udayerp.com/pms/server/api/",f=async()=>{try{const h=await qe.get(`${o}getAllFailedJobs`);d(h.data)}catch(h){console.error("Failed to fetch Failed Jobs :",h)}};return u.useEffect(()=>{f()},[]),a.jsx(Aj.Provider,{value:{failedJobsList:r,refreshFailedJobsList:f},children:i})};Dx.createRoot(document.getElementById("root")).render(a.jsx(Lb,{children:a.jsx(zb,{children:a.jsx(wb,{children:a.jsx(f0,{children:a.jsx(Pb,{children:a.jsx(qb,{children:a.jsx(_0,{children:a.jsx($b,{children:a.jsx(vj,{children:a.jsx(Qb,{children:a.jsx(jj,{children:a.jsx(Fb,{children:a.jsx(Vb,{children:a.jsx(Nj,{children:a.jsx(Dj,{children:a.jsx(Xb,{children:a.jsx(h0,{children:a.jsx(m0,{children:a.jsx(p0,{children:a.jsx(g0,{children:a.jsx(b0,{children:a.jsx(Ub,{children:a.jsx(lj,{children:a.jsx(oj,{children:a.jsx(Rb,{children:a.jsx(kb,{children:a.jsx(Hb,{children:a.jsx(wj,{children:a.jsx(xj,{})})})})})})})})})})})})})})})})})})})})})})})})})})})})}));export{_c as C,vl as D,yj as E,Gj as F,rf as J,Jg as M,Ei as O,ai as P,Ej as R,ss as S,qg as T,$a as U,u as a,Fu as b,Di as c,mc as d,gc as e,Aj as f,Yp as g,pc as h,zg as i,Bg as j,Ti as k,a as l,qe as m,lf as n,Ug as o,Eb as p,jr as q,Sx as r,of as s};
